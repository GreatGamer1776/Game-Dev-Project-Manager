(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tp={exports:{}},Fa={},np={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qi=Symbol.for("react.element"),sx=Symbol.for("react.portal"),ix=Symbol.for("react.fragment"),ox=Symbol.for("react.strict_mode"),ax=Symbol.for("react.profiler"),lx=Symbol.for("react.provider"),cx=Symbol.for("react.context"),ux=Symbol.for("react.forward_ref"),dx=Symbol.for("react.suspense"),fx=Symbol.for("react.memo"),hx=Symbol.for("react.lazy"),Md=Symbol.iterator;function px(e){return e===null||typeof e!="object"?null:(e=Md&&e[Md]||e["@@iterator"],typeof e=="function"?e:null)}var rp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sp=Object.assign,ip={};function Ws(e,t,n){this.props=e,this.context=t,this.refs=ip,this.updater=n||rp}Ws.prototype.isReactComponent={};Ws.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ws.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function op(){}op.prototype=Ws.prototype;function hu(e,t,n){this.props=e,this.context=t,this.refs=ip,this.updater=n||rp}var pu=hu.prototype=new op;pu.constructor=hu;sp(pu,Ws.prototype);pu.isPureReactComponent=!0;var Ad=Array.isArray,ap=Object.prototype.hasOwnProperty,mu={current:null},lp={key:!0,ref:!0,__self:!0,__source:!0};function cp(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ap.call(t,r)&&!lp.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Qi,type:e,key:i,ref:o,props:s,_owner:mu.current}}function mx(e,t){return{$$typeof:Qi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qi}function gx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Pd=/\/+/g;function ml(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gx(""+e.key):t.toString(36)}function $o(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Qi:case sx:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ml(o,0):r,Ad(s)?(n="",e!=null&&(n=e.replace(Pd,"$&/")+"/"),$o(s,t,n,"",function(u){return u})):s!=null&&(gu(s)&&(s=mx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Pd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ad(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+ml(i,a);o+=$o(i,t,n,c,s)}else if(c=px(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+ml(i,a++),o+=$o(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function co(e,t,n){if(e==null)return e;var r=[],s=0;return $o(e,r,"","",function(i){return t.call(n,i,s++)}),r}function xx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rt={current:null},Fo={transition:null},yx={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:Fo,ReactCurrentOwner:mu};function up(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:co,forEach:function(e,t,n){co(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return co(e,function(){t++}),t},toArray:function(e){return co(e,function(t){return t})||[]},only:function(e){if(!gu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ye.Component=Ws;Ye.Fragment=ix;Ye.Profiler=ax;Ye.PureComponent=hu;Ye.StrictMode=ox;Ye.Suspense=dx;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yx;Ye.act=up;Ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=mu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)ap.call(t,c)&&!lp.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Qi,type:e.type,key:s,ref:i,props:r,_owner:o}};Ye.createContext=function(e){return e={$$typeof:cx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lx,_context:e},e.Consumer=e};Ye.createElement=cp;Ye.createFactory=function(e){var t=cp.bind(null,e);return t.type=e,t};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(e){return{$$typeof:ux,render:e}};Ye.isValidElement=gu;Ye.lazy=function(e){return{$$typeof:hx,_payload:{_status:-1,_result:e},_init:xx}};Ye.memo=function(e,t){return{$$typeof:fx,type:e,compare:t===void 0?null:t}};Ye.startTransition=function(e){var t=Fo.transition;Fo.transition={};try{e()}finally{Fo.transition=t}};Ye.unstable_act=up;Ye.useCallback=function(e,t){return Rt.current.useCallback(e,t)};Ye.useContext=function(e){return Rt.current.useContext(e)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(e){return Rt.current.useDeferredValue(e)};Ye.useEffect=function(e,t){return Rt.current.useEffect(e,t)};Ye.useId=function(){return Rt.current.useId()};Ye.useImperativeHandle=function(e,t,n){return Rt.current.useImperativeHandle(e,t,n)};Ye.useInsertionEffect=function(e,t){return Rt.current.useInsertionEffect(e,t)};Ye.useLayoutEffect=function(e,t){return Rt.current.useLayoutEffect(e,t)};Ye.useMemo=function(e,t){return Rt.current.useMemo(e,t)};Ye.useReducer=function(e,t,n){return Rt.current.useReducer(e,t,n)};Ye.useRef=function(e){return Rt.current.useRef(e)};Ye.useState=function(e){return Rt.current.useState(e)};Ye.useSyncExternalStore=function(e,t,n){return Rt.current.useSyncExternalStore(e,t,n)};Ye.useTransition=function(){return Rt.current.useTransition()};Ye.version="18.3.1";np.exports=Ye;var C=np.exports;const ae=fu(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx=C,wx=Symbol.for("react.element"),bx=Symbol.for("react.fragment"),kx=Object.prototype.hasOwnProperty,Nx=vx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sx={key:!0,ref:!0,__self:!0,__source:!0};function dp(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)kx.call(t,r)&&!Sx.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:wx,type:e,key:i,ref:o,props:s,_owner:Nx.current}}Fa.Fragment=bx;Fa.jsx=dp;Fa.jsxs=dp;tp.exports=Fa;var l=tp.exports,Jl={},fp={exports:{}},en={},hp={exports:{}},pp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,I){var Y=G.length;G.push(I);e:for(;0<Y;){var A=Y-1>>>1,P=G[A];if(0<s(P,I))G[A]=I,G[Y]=P,Y=A;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var I=G[0],Y=G.pop();if(Y!==I){G[0]=Y;e:for(var A=0,P=G.length,le=P>>>1;A<le;){var ne=2*(A+1)-1,J=G[ne],ve=ne+1,Ce=G[ve];if(0>s(J,Y))ve<P&&0>s(Ce,J)?(G[A]=Ce,G[ve]=Y,A=ve):(G[A]=J,G[ne]=Y,A=ne);else if(ve<P&&0>s(Ce,Y))G[A]=Ce,G[ve]=Y,A=ve;else break e}}return I}function s(G,I){var Y=G.sortIndex-I.sortIndex;return Y!==0?Y:G.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,m=null,x=3,h=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(G){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=G)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function N(G){if(y=!1,k(G),!v)if(n(c)!==null)v=!0,W(E);else{var I=n(u);I!==null&&H(N,I.startTime-G)}}function E(G,I){v=!1,y&&(y=!1,f(L),L=-1),h=!0;var Y=x;try{for(k(I),m=n(c);m!==null&&(!(m.expirationTime>I)||G&&!q());){var A=m.callback;if(typeof A=="function"){m.callback=null,x=m.priorityLevel;var P=A(m.expirationTime<=I);I=e.unstable_now(),typeof P=="function"?m.callback=P:m===n(c)&&r(c),k(I)}else r(c);m=n(c)}if(m!==null)var le=!0;else{var ne=n(u);ne!==null&&H(N,ne.startTime-I),le=!1}return le}finally{m=null,x=Y,h=!1}}var D=!1,T=null,L=-1,M=5,F=-1;function q(){return!(e.unstable_now()-F<M)}function z(){if(T!==null){var G=e.unstable_now();F=G;var I=!0;try{I=T(!0,G)}finally{I?$():(D=!1,T=null)}}else D=!1}var $;if(typeof g=="function")$=function(){g(z)};else if(typeof MessageChannel<"u"){var p=new MessageChannel,R=p.port2;p.port1.onmessage=z,$=function(){R.postMessage(null)}}else $=function(){b(z,0)};function W(G){T=G,D||(D=!0,$())}function H(G,I){L=b(function(){G(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,W(E))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(G){switch(x){case 1:case 2:case 3:var I=3;break;default:I=x}var Y=x;x=I;try{return G()}finally{x=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,I){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Y=x;x=G;try{return I()}finally{x=Y}},e.unstable_scheduleCallback=function(G,I,Y){var A=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?A+Y:A):Y=A,G){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Y+P,G={id:d++,callback:I,priorityLevel:G,startTime:Y,expirationTime:P,sortIndex:-1},Y>A?(G.sortIndex=Y,t(u,G),n(c)===null&&G===n(u)&&(y?(f(L),L=-1):y=!0,H(N,Y-A))):(G.sortIndex=P,t(c,G),v||h||(v=!0,W(E))),G},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(G){var I=x;return function(){var Y=x;x=I;try{return G.apply(this,arguments)}finally{x=Y}}}})(pp);hp.exports=pp;var _x=hp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx=C,Qt=_x;function ze(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mp=new Set,Si={};function qr(e,t){As(e,t),As(e+"Capture",t)}function As(e,t){for(Si[e]=t,e=0;e<t.length;e++)mp.add(t[e])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=Object.prototype.hasOwnProperty,Ex=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rd={},Od={};function jx(e){return ec.call(Od,e)?!0:ec.call(Rd,e)?!1:Ex.test(e)?Od[e]=!0:(Rd[e]=!0,!1)}function Cx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dx(e,t,n,r){if(t===null||typeof t>"u"||Cx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ot(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new Ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new Ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new Ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new Ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new Ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new Ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new Ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new Ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new Ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var xu=/[\-:]([a-z])/g;function yu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xu,yu);Et[t]=new Ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xu,yu);Et[t]=new Ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xu,yu);Et[t]=new Ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new Ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new Ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function vu(e,t,n,r){var s=Et.hasOwnProperty(t)?Et[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dx(t,n,s,r)&&(n=null),r||s===null?jx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jn=zx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uo=Symbol.for("react.element"),us=Symbol.for("react.portal"),ds=Symbol.for("react.fragment"),wu=Symbol.for("react.strict_mode"),tc=Symbol.for("react.profiler"),gp=Symbol.for("react.provider"),xp=Symbol.for("react.context"),bu=Symbol.for("react.forward_ref"),nc=Symbol.for("react.suspense"),rc=Symbol.for("react.suspense_list"),ku=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),yp=Symbol.for("react.offscreen"),Ld=Symbol.iterator;function Ks(e){return e===null||typeof e!="object"?null:(e=Ld&&e[Ld]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Object.assign,gl;function li(e){if(gl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gl=t&&t[1]||""}return`
`+gl+e}var xl=!1;function yl(e,t){if(!e||xl)return"";xl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{xl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?li(e):""}function Tx(e){switch(e.tag){case 5:return li(e.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 2:case 15:return e=yl(e.type,!1),e;case 11:return e=yl(e.type.render,!1),e;case 1:return e=yl(e.type,!0),e;default:return""}}function sc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ds:return"Fragment";case us:return"Portal";case tc:return"Profiler";case wu:return"StrictMode";case nc:return"Suspense";case rc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xp:return(e.displayName||"Context")+".Consumer";case gp:return(e._context.displayName||"Context")+".Provider";case bu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ku:return t=e.displayName||null,t!==null?t:sc(e.type)||"Memo";case ir:t=e._payload,e=e._init;try{return sc(e(t))}catch{}}return null}function Ix(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sc(t);case 8:return t===wu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mx(e){var t=vp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fo(e){e._valueTracker||(e._valueTracker=Mx(e))}function wp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function sa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ic(e,t){var n=t.checked;return ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $d(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bp(e,t){t=t.checked,t!=null&&vu(e,"checked",t,!1)}function oc(e,t){bp(e,t);var n=Nr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ac(e,t.type,n):t.hasOwnProperty("defaultValue")&&ac(e,t.type,Nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ac(e,t,n){(t!=="number"||sa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ci=Array.isArray;function Ns(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function lc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ze(91));return ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ze(92));if(ci(n)){if(1<n.length)throw Error(ze(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nr(n)}}function kp(e,t){var n=Nr(t.value),r=Nr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ud(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Np(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Np(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ho,Sp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ho=ho||document.createElement("div"),ho.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ho.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _i(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ax=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(e){Ax.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mi[t]=mi[e]})});function _p(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||mi.hasOwnProperty(e)&&mi[e]?(""+t).trim():t+"px"}function zp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=_p(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Px=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uc(e,t){if(t){if(Px[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ze(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ze(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ze(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ze(62))}}function dc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fc=null;function Nu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hc=null,Ss=null,_s=null;function Hd(e){if(e=to(e)){if(typeof hc!="function")throw Error(ze(280));var t=e.stateNode;t&&(t=Wa(t),hc(e.stateNode,e.type,t))}}function Ep(e){Ss?_s?_s.push(e):_s=[e]:Ss=e}function jp(){if(Ss){var e=Ss,t=_s;if(_s=Ss=null,Hd(e),t)for(e=0;e<t.length;e++)Hd(t[e])}}function Cp(e,t){return e(t)}function Dp(){}var vl=!1;function Tp(e,t,n){if(vl)return e(t,n);vl=!0;try{return Cp(e,t,n)}finally{vl=!1,(Ss!==null||_s!==null)&&(Dp(),jp())}}function zi(e,t){var n=e.stateNode;if(n===null)return null;var r=Wa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ze(231,t,typeof n));return n}var pc=!1;if(Gn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){pc=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{pc=!1}function Rx(e,t,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var gi=!1,ia=null,oa=!1,mc=null,Ox={onError:function(e){gi=!0,ia=e}};function Lx(e,t,n,r,s,i,o,a,c){gi=!1,ia=null,Rx.apply(Ox,arguments)}function $x(e,t,n,r,s,i,o,a,c){if(Lx.apply(this,arguments),gi){if(gi){var u=ia;gi=!1,ia=null}else throw Error(ze(198));oa||(oa=!0,mc=u)}}function Qr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ip(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vd(e){if(Qr(e)!==e)throw Error(ze(188))}function Fx(e){var t=e.alternate;if(!t){if(t=Qr(e),t===null)throw Error(ze(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Vd(s),e;if(i===r)return Vd(s),t;i=i.sibling}throw Error(ze(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?e:t}function Mp(e){return e=Fx(e),e!==null?Ap(e):null}function Ap(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ap(e);if(t!==null)return t;e=e.sibling}return null}var Pp=Qt.unstable_scheduleCallback,Wd=Qt.unstable_cancelCallback,Bx=Qt.unstable_shouldYield,Ux=Qt.unstable_requestPaint,xt=Qt.unstable_now,Hx=Qt.unstable_getCurrentPriorityLevel,Su=Qt.unstable_ImmediatePriority,Rp=Qt.unstable_UserBlockingPriority,aa=Qt.unstable_NormalPriority,Vx=Qt.unstable_LowPriority,Op=Qt.unstable_IdlePriority,Ba=null,Tn=null;function Wx(e){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Ba,e,void 0,(e.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:Yx,Zx=Math.log,Gx=Math.LN2;function Yx(e){return e>>>=0,e===0?32:31-(Zx(e)/Gx|0)|0}var po=64,mo=4194304;function ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function la(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ui(a):(i&=o,i!==0&&(r=ui(i)))}else o=n&~s,o!==0?r=ui(o):i!==0&&(r=ui(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bn(t),s=1<<n,r|=e[n],t&=~s;return r}function Kx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-bn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=Kx(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function gc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lp(){var e=po;return po<<=1,!(po&4194240)&&(po=64),e}function wl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ji(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bn(t),e[t]=n}function qx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-bn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function _u(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var et=0;function $p(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fp,zu,Bp,Up,Hp,xc=!1,go=[],pr=null,mr=null,gr=null,Ei=new Map,ji=new Map,cr=[],Qx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zd(e,t){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Ei.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(t.pointerId)}}function qs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=to(t),t!==null&&zu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Jx(e,t,n,r,s){switch(t){case"focusin":return pr=qs(pr,e,t,n,r,s),!0;case"dragenter":return mr=qs(mr,e,t,n,r,s),!0;case"mouseover":return gr=qs(gr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ei.set(i,qs(Ei.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ji.set(i,qs(ji.get(i)||null,e,t,n,r,s)),!0}return!1}function Vp(e){var t=Pr(e.target);if(t!==null){var n=Qr(t);if(n!==null){if(t=n.tag,t===13){if(t=Ip(n),t!==null){e.blockedOn=t,Hp(e.priority,function(){Bp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fc=r,n.target.dispatchEvent(r),fc=null}else return t=to(n),t!==null&&zu(t),e.blockedOn=n,!1;t.shift()}return!0}function Gd(e,t,n){Bo(e)&&n.delete(t)}function ey(){xc=!1,pr!==null&&Bo(pr)&&(pr=null),mr!==null&&Bo(mr)&&(mr=null),gr!==null&&Bo(gr)&&(gr=null),Ei.forEach(Gd),ji.forEach(Gd)}function Qs(e,t){e.blockedOn===t&&(e.blockedOn=null,xc||(xc=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,ey)))}function Ci(e){function t(s){return Qs(s,e)}if(0<go.length){Qs(go[0],e);for(var n=1;n<go.length;n++){var r=go[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pr!==null&&Qs(pr,e),mr!==null&&Qs(mr,e),gr!==null&&Qs(gr,e),Ei.forEach(t),ji.forEach(t),n=0;n<cr.length;n++)r=cr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cr.length&&(n=cr[0],n.blockedOn===null);)Vp(n),n.blockedOn===null&&cr.shift()}var zs=Jn.ReactCurrentBatchConfig,ca=!0;function ty(e,t,n,r){var s=et,i=zs.transition;zs.transition=null;try{et=1,Eu(e,t,n,r)}finally{et=s,zs.transition=i}}function ny(e,t,n,r){var s=et,i=zs.transition;zs.transition=null;try{et=4,Eu(e,t,n,r)}finally{et=s,zs.transition=i}}function Eu(e,t,n,r){if(ca){var s=yc(e,t,n,r);if(s===null)Dl(e,t,r,ua,n),Zd(e,r);else if(Jx(s,e,t,n,r))r.stopPropagation();else if(Zd(e,r),t&4&&-1<Qx.indexOf(e)){for(;s!==null;){var i=to(s);if(i!==null&&Fp(i),i=yc(e,t,n,r),i===null&&Dl(e,t,r,ua,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Dl(e,t,r,null,n)}}var ua=null;function yc(e,t,n,r){if(ua=null,e=Nu(r),e=Pr(e),e!==null)if(t=Qr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ip(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ua=e,null}function Wp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hx()){case Su:return 1;case Rp:return 4;case aa:case Vx:return 16;case Op:return 536870912;default:return 16}default:return 16}}var fr=null,ju=null,Uo=null;function Zp(){if(Uo)return Uo;var e,t=ju,n=t.length,r,s="value"in fr?fr.value:fr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Uo=s.slice(e,1<r?1-r:void 0)}function Ho(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xo(){return!0}function Yd(){return!1}function tn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xo:Yd,this.isPropagationStopped=Yd,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xo)},persist:function(){},isPersistent:xo}),t}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=tn(Zs),eo=ht({},Zs,{view:0,detail:0}),ry=tn(eo),bl,kl,Js,Ua=ht({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Js&&(Js&&e.type==="mousemove"?(bl=e.screenX-Js.screenX,kl=e.screenY-Js.screenY):kl=bl=0,Js=e),bl)},movementY:function(e){return"movementY"in e?e.movementY:kl}}),Kd=tn(Ua),sy=ht({},Ua,{dataTransfer:0}),iy=tn(sy),oy=ht({},eo,{relatedTarget:0}),Nl=tn(oy),ay=ht({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),ly=tn(ay),cy=ht({},Zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uy=tn(cy),dy=ht({},Zs,{data:0}),Xd=tn(dy),fy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},py={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function my(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=py[e])?!!t[e]:!1}function Du(){return my}var gy=ht({},eo,{key:function(e){if(e.key){var t=fy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Du,charCode:function(e){return e.type==="keypress"?Ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xy=tn(gy),yy=ht({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qd=tn(yy),vy=ht({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Du}),wy=tn(vy),by=ht({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ky=tn(by),Ny=ht({},Ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sy=tn(Ny),_y=[9,13,27,32],Tu=Gn&&"CompositionEvent"in window,xi=null;Gn&&"documentMode"in document&&(xi=document.documentMode);var zy=Gn&&"TextEvent"in window&&!xi,Gp=Gn&&(!Tu||xi&&8<xi&&11>=xi),Qd=" ",Jd=!1;function Yp(e,t){switch(e){case"keyup":return _y.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fs=!1;function Ey(e,t){switch(e){case"compositionend":return Kp(t);case"keypress":return t.which!==32?null:(Jd=!0,Qd);case"textInput":return e=t.data,e===Qd&&Jd?null:e;default:return null}}function jy(e,t){if(fs)return e==="compositionend"||!Tu&&Yp(e,t)?(e=Zp(),Uo=ju=fr=null,fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gp&&t.locale!=="ko"?null:t.data;default:return null}}var Cy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ef(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cy[e.type]:t==="textarea"}function Xp(e,t,n,r){Ep(r),t=da(t,"onChange"),0<t.length&&(n=new Cu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yi=null,Di=null;function Dy(e){a0(e,0)}function Ha(e){var t=ms(e);if(wp(t))return e}function Ty(e,t){if(e==="change")return t}var qp=!1;if(Gn){var Sl;if(Gn){var _l="oninput"in document;if(!_l){var tf=document.createElement("div");tf.setAttribute("oninput","return;"),_l=typeof tf.oninput=="function"}Sl=_l}else Sl=!1;qp=Sl&&(!document.documentMode||9<document.documentMode)}function nf(){yi&&(yi.detachEvent("onpropertychange",Qp),Di=yi=null)}function Qp(e){if(e.propertyName==="value"&&Ha(Di)){var t=[];Xp(t,Di,e,Nu(e)),Tp(Dy,t)}}function Iy(e,t,n){e==="focusin"?(nf(),yi=t,Di=n,yi.attachEvent("onpropertychange",Qp)):e==="focusout"&&nf()}function My(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ha(Di)}function Ay(e,t){if(e==="click")return Ha(t)}function Py(e,t){if(e==="input"||e==="change")return Ha(t)}function Ry(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nn=typeof Object.is=="function"?Object.is:Ry;function Ti(e,t){if(Nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ec.call(t,s)||!Nn(e[s],t[s]))return!1}return!0}function rf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sf(e,t){var n=rf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rf(n)}}function Jp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function e0(){for(var e=window,t=sa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sa(e.document)}return t}function Iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Oy(e){var t=e0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jp(n.ownerDocument.documentElement,n)){if(r!==null&&Iu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=sf(n,i);var o=sf(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ly=Gn&&"documentMode"in document&&11>=document.documentMode,hs=null,vc=null,vi=null,wc=!1;function of(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wc||hs==null||hs!==sa(r)||(r=hs,"selectionStart"in r&&Iu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vi&&Ti(vi,r)||(vi=r,r=da(vc,"onSelect"),0<r.length&&(t=new Cu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hs)))}function yo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ps={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},zl={},t0={};Gn&&(t0=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Va(e){if(zl[e])return zl[e];if(!ps[e])return e;var t=ps[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in t0)return zl[e]=t[n];return e}var n0=Va("animationend"),r0=Va("animationiteration"),s0=Va("animationstart"),i0=Va("transitionend"),o0=new Map,af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(e,t){o0.set(e,t),qr(t,[e])}for(var El=0;El<af.length;El++){var jl=af[El],$y=jl.toLowerCase(),Fy=jl[0].toUpperCase()+jl.slice(1);zr($y,"on"+Fy)}zr(n0,"onAnimationEnd");zr(r0,"onAnimationIteration");zr(s0,"onAnimationStart");zr("dblclick","onDoubleClick");zr("focusin","onFocus");zr("focusout","onBlur");zr(i0,"onTransitionEnd");As("onMouseEnter",["mouseout","mouseover"]);As("onMouseLeave",["mouseout","mouseover"]);As("onPointerEnter",["pointerout","pointerover"]);As("onPointerLeave",["pointerout","pointerover"]);qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),By=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function lf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$x(r,t,void 0,e),e.currentTarget=null}function a0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;lf(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;lf(s,a,u),i=c}}}if(oa)throw e=mc,oa=!1,mc=null,e}function ot(e,t){var n=t[_c];n===void 0&&(n=t[_c]=new Set);var r=e+"__bubble";n.has(r)||(l0(t,e,2,!1),n.add(r))}function Cl(e,t,n){var r=0;t&&(r|=4),l0(n,e,r,t)}var vo="_reactListening"+Math.random().toString(36).slice(2);function Ii(e){if(!e[vo]){e[vo]=!0,mp.forEach(function(n){n!=="selectionchange"&&(By.has(n)||Cl(n,!1,e),Cl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vo]||(t[vo]=!0,Cl("selectionchange",!1,t))}}function l0(e,t,n,r){switch(Wp(t)){case 1:var s=ty;break;case 4:s=ny;break;default:s=Eu}n=s.bind(null,t,n,e),s=void 0,!pc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Dl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Pr(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Tp(function(){var u=i,d=Nu(n),m=[];e:{var x=o0.get(e);if(x!==void 0){var h=Cu,v=e;switch(e){case"keypress":if(Ho(n)===0)break e;case"keydown":case"keyup":h=xy;break;case"focusin":v="focus",h=Nl;break;case"focusout":v="blur",h=Nl;break;case"beforeblur":case"afterblur":h=Nl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=iy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=wy;break;case n0:case r0:case s0:h=ly;break;case i0:h=ky;break;case"scroll":h=ry;break;case"wheel":h=Sy;break;case"copy":case"cut":case"paste":h=uy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=qd}var y=(t&4)!==0,b=!y&&e==="scroll",f=y?x!==null?x+"Capture":null:x;y=[];for(var g=u,k;g!==null;){k=g;var N=k.stateNode;if(k.tag===5&&N!==null&&(k=N,f!==null&&(N=zi(g,f),N!=null&&y.push(Mi(g,N,k)))),b)break;g=g.return}0<y.length&&(x=new h(x,v,null,n,d),m.push({event:x,listeners:y}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",x&&n!==fc&&(v=n.relatedTarget||n.fromElement)&&(Pr(v)||v[Yn]))break e;if((h||x)&&(x=d.window===d?d:(x=d.ownerDocument)?x.defaultView||x.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?Pr(v):null,v!==null&&(b=Qr(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(y=Kd,N="onMouseLeave",f="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=qd,N="onPointerLeave",f="onPointerEnter",g="pointer"),b=h==null?x:ms(h),k=v==null?x:ms(v),x=new y(N,g+"leave",h,n,d),x.target=b,x.relatedTarget=k,N=null,Pr(d)===u&&(y=new y(f,g+"enter",v,n,d),y.target=k,y.relatedTarget=b,N=y),b=N,h&&v)t:{for(y=h,f=v,g=0,k=y;k;k=ns(k))g++;for(k=0,N=f;N;N=ns(N))k++;for(;0<g-k;)y=ns(y),g--;for(;0<k-g;)f=ns(f),k--;for(;g--;){if(y===f||f!==null&&y===f.alternate)break t;y=ns(y),f=ns(f)}y=null}else y=null;h!==null&&cf(m,x,h,y,!1),v!==null&&b!==null&&cf(m,b,v,y,!0)}}e:{if(x=u?ms(u):window,h=x.nodeName&&x.nodeName.toLowerCase(),h==="select"||h==="input"&&x.type==="file")var E=Ty;else if(ef(x))if(qp)E=Py;else{E=My;var D=Iy}else(h=x.nodeName)&&h.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(E=Ay);if(E&&(E=E(e,u))){Xp(m,E,n,d);break e}D&&D(e,x,u),e==="focusout"&&(D=x._wrapperState)&&D.controlled&&x.type==="number"&&ac(x,"number",x.value)}switch(D=u?ms(u):window,e){case"focusin":(ef(D)||D.contentEditable==="true")&&(hs=D,vc=u,vi=null);break;case"focusout":vi=vc=hs=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,of(m,n,d);break;case"selectionchange":if(Ly)break;case"keydown":case"keyup":of(m,n,d)}var T;if(Tu)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else fs?Yp(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Gp&&n.locale!=="ko"&&(fs||L!=="onCompositionStart"?L==="onCompositionEnd"&&fs&&(T=Zp()):(fr=d,ju="value"in fr?fr.value:fr.textContent,fs=!0)),D=da(u,L),0<D.length&&(L=new Xd(L,e,null,n,d),m.push({event:L,listeners:D}),T?L.data=T:(T=Kp(n),T!==null&&(L.data=T)))),(T=zy?Ey(e,n):jy(e,n))&&(u=da(u,"onBeforeInput"),0<u.length&&(d=new Xd("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:u}),d.data=T))}a0(m,t)})}function Mi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function da(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zi(e,n),i!=null&&r.unshift(Mi(e,i,s)),i=zi(e,t),i!=null&&r.push(Mi(e,i,s))),e=e.return}return r}function ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cf(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=zi(n,i),c!=null&&o.unshift(Mi(n,c,a))):s||(c=zi(n,i),c!=null&&o.push(Mi(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Uy=/\r\n?/g,Hy=/\u0000|\uFFFD/g;function uf(e){return(typeof e=="string"?e:""+e).replace(Uy,`
`).replace(Hy,"")}function wo(e,t,n){if(t=uf(t),uf(e)!==t&&n)throw Error(ze(425))}function fa(){}var bc=null,kc=null;function Nc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sc=typeof setTimeout=="function"?setTimeout:void 0,Vy=typeof clearTimeout=="function"?clearTimeout:void 0,df=typeof Promise=="function"?Promise:void 0,Wy=typeof queueMicrotask=="function"?queueMicrotask:typeof df<"u"?function(e){return df.resolve(null).then(e).catch(Zy)}:Sc;function Zy(e){setTimeout(function(){throw e})}function Tl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ci(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ci(t)}function xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ff(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Gs,Ai="__reactProps$"+Gs,Yn="__reactContainer$"+Gs,_c="__reactEvents$"+Gs,Gy="__reactListeners$"+Gs,Yy="__reactHandles$"+Gs;function Pr(e){var t=e[Dn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yn]||n[Dn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ff(e);e!==null;){if(n=e[Dn])return n;e=ff(e)}return t}e=n,n=e.parentNode}return null}function to(e){return e=e[Dn]||e[Yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ms(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ze(33))}function Wa(e){return e[Ai]||null}var zc=[],gs=-1;function Er(e){return{current:e}}function at(e){0>gs||(e.current=zc[gs],zc[gs]=null,gs--)}function rt(e,t){gs++,zc[gs]=e.current,e.current=t}var Sr={},Mt=Er(Sr),Ht=Er(!1),Vr=Sr;function Ps(e,t){var n=e.type.contextTypes;if(!n)return Sr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vt(e){return e=e.childContextTypes,e!=null}function ha(){at(Ht),at(Mt)}function hf(e,t,n){if(Mt.current!==Sr)throw Error(ze(168));rt(Mt,t),rt(Ht,n)}function c0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ze(108,Ix(e)||"Unknown",s));return ht({},n,r)}function pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sr,Vr=Mt.current,rt(Mt,e),rt(Ht,Ht.current),!0}function pf(e,t,n){var r=e.stateNode;if(!r)throw Error(ze(169));n?(e=c0(e,t,Vr),r.__reactInternalMemoizedMergedChildContext=e,at(Ht),at(Mt),rt(Mt,e)):at(Ht),rt(Ht,n)}var $n=null,Za=!1,Il=!1;function u0(e){$n===null?$n=[e]:$n.push(e)}function Ky(e){Za=!0,u0(e)}function jr(){if(!Il&&$n!==null){Il=!0;var e=0,t=et;try{var n=$n;for(et=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$n=null,Za=!1}catch(s){throw $n!==null&&($n=$n.slice(e+1)),Pp(Su,jr),s}finally{et=t,Il=!1}}return null}var xs=[],ys=0,ma=null,ga=0,rn=[],sn=0,Wr=null,Fn=1,Bn="";function Dr(e,t){xs[ys++]=ga,xs[ys++]=ma,ma=e,ga=t}function d0(e,t,n){rn[sn++]=Fn,rn[sn++]=Bn,rn[sn++]=Wr,Wr=e;var r=Fn;e=Bn;var s=32-bn(r)-1;r&=~(1<<s),n+=1;var i=32-bn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Fn=1<<32-bn(t)+s|n<<s|r,Bn=i+e}else Fn=1<<i|n<<s|r,Bn=e}function Mu(e){e.return!==null&&(Dr(e,1),d0(e,1,0))}function Au(e){for(;e===ma;)ma=xs[--ys],xs[ys]=null,ga=xs[--ys],xs[ys]=null;for(;e===Wr;)Wr=rn[--sn],rn[sn]=null,Bn=rn[--sn],rn[sn]=null,Fn=rn[--sn],rn[sn]=null}var qt=null,Xt=null,lt=!1,vn=null;function f0(e,t){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qt=e,Xt=xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qt=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wr!==null?{id:Fn,overflow:Bn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qt=e,Xt=null,!0):!1;default:return!1}}function Ec(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jc(e){if(lt){var t=Xt;if(t){var n=t;if(!mf(e,t)){if(Ec(e))throw Error(ze(418));t=xr(n.nextSibling);var r=qt;t&&mf(e,t)?f0(r,n):(e.flags=e.flags&-4097|2,lt=!1,qt=e)}}else{if(Ec(e))throw Error(ze(418));e.flags=e.flags&-4097|2,lt=!1,qt=e}}}function gf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qt=e}function bo(e){if(e!==qt)return!1;if(!lt)return gf(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nc(e.type,e.memoizedProps)),t&&(t=Xt)){if(Ec(e))throw h0(),Error(ze(418));for(;t;)f0(e,t),t=xr(t.nextSibling)}if(gf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ze(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xt=xr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=qt?xr(e.stateNode.nextSibling):null;return!0}function h0(){for(var e=Xt;e;)e=xr(e.nextSibling)}function Rs(){Xt=qt=null,lt=!1}function Pu(e){vn===null?vn=[e]:vn.push(e)}var Xy=Jn.ReactCurrentBatchConfig;function ei(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,e))}return e}function ko(e,t){throw e=Object.prototype.toString.call(t),Error(ze(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xf(e){var t=e._init;return t(e._payload)}function p0(e){function t(f,g){if(e){var k=f.deletions;k===null?(f.deletions=[g],f.flags|=16):k.push(g)}}function n(f,g){if(!e)return null;for(;g!==null;)t(f,g),g=g.sibling;return null}function r(f,g){for(f=new Map;g!==null;)g.key!==null?f.set(g.key,g):f.set(g.index,g),g=g.sibling;return f}function s(f,g){return f=br(f,g),f.index=0,f.sibling=null,f}function i(f,g,k){return f.index=k,e?(k=f.alternate,k!==null?(k=k.index,k<g?(f.flags|=2,g):k):(f.flags|=2,g)):(f.flags|=1048576,g)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,g,k,N){return g===null||g.tag!==6?(g=$l(k,f.mode,N),g.return=f,g):(g=s(g,k),g.return=f,g)}function c(f,g,k,N){var E=k.type;return E===ds?d(f,g,k.props.children,N,k.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ir&&xf(E)===g.type)?(N=s(g,k.props),N.ref=ei(f,g,k),N.return=f,N):(N=Xo(k.type,k.key,k.props,null,f.mode,N),N.ref=ei(f,g,k),N.return=f,N)}function u(f,g,k,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==k.containerInfo||g.stateNode.implementation!==k.implementation?(g=Fl(k,f.mode,N),g.return=f,g):(g=s(g,k.children||[]),g.return=f,g)}function d(f,g,k,N,E){return g===null||g.tag!==7?(g=Br(k,f.mode,N,E),g.return=f,g):(g=s(g,k),g.return=f,g)}function m(f,g,k){if(typeof g=="string"&&g!==""||typeof g=="number")return g=$l(""+g,f.mode,k),g.return=f,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case uo:return k=Xo(g.type,g.key,g.props,null,f.mode,k),k.ref=ei(f,null,g),k.return=f,k;case us:return g=Fl(g,f.mode,k),g.return=f,g;case ir:var N=g._init;return m(f,N(g._payload),k)}if(ci(g)||Ks(g))return g=Br(g,f.mode,k,null),g.return=f,g;ko(f,g)}return null}function x(f,g,k,N){var E=g!==null?g.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return E!==null?null:a(f,g,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case uo:return k.key===E?c(f,g,k,N):null;case us:return k.key===E?u(f,g,k,N):null;case ir:return E=k._init,x(f,g,E(k._payload),N)}if(ci(k)||Ks(k))return E!==null?null:d(f,g,k,N,null);ko(f,k)}return null}function h(f,g,k,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return f=f.get(k)||null,a(g,f,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case uo:return f=f.get(N.key===null?k:N.key)||null,c(g,f,N,E);case us:return f=f.get(N.key===null?k:N.key)||null,u(g,f,N,E);case ir:var D=N._init;return h(f,g,k,D(N._payload),E)}if(ci(N)||Ks(N))return f=f.get(k)||null,d(g,f,N,E,null);ko(g,N)}return null}function v(f,g,k,N){for(var E=null,D=null,T=g,L=g=0,M=null;T!==null&&L<k.length;L++){T.index>L?(M=T,T=null):M=T.sibling;var F=x(f,T,k[L],N);if(F===null){T===null&&(T=M);break}e&&T&&F.alternate===null&&t(f,T),g=i(F,g,L),D===null?E=F:D.sibling=F,D=F,T=M}if(L===k.length)return n(f,T),lt&&Dr(f,L),E;if(T===null){for(;L<k.length;L++)T=m(f,k[L],N),T!==null&&(g=i(T,g,L),D===null?E=T:D.sibling=T,D=T);return lt&&Dr(f,L),E}for(T=r(f,T);L<k.length;L++)M=h(T,f,L,k[L],N),M!==null&&(e&&M.alternate!==null&&T.delete(M.key===null?L:M.key),g=i(M,g,L),D===null?E=M:D.sibling=M,D=M);return e&&T.forEach(function(q){return t(f,q)}),lt&&Dr(f,L),E}function y(f,g,k,N){var E=Ks(k);if(typeof E!="function")throw Error(ze(150));if(k=E.call(k),k==null)throw Error(ze(151));for(var D=E=null,T=g,L=g=0,M=null,F=k.next();T!==null&&!F.done;L++,F=k.next()){T.index>L?(M=T,T=null):M=T.sibling;var q=x(f,T,F.value,N);if(q===null){T===null&&(T=M);break}e&&T&&q.alternate===null&&t(f,T),g=i(q,g,L),D===null?E=q:D.sibling=q,D=q,T=M}if(F.done)return n(f,T),lt&&Dr(f,L),E;if(T===null){for(;!F.done;L++,F=k.next())F=m(f,F.value,N),F!==null&&(g=i(F,g,L),D===null?E=F:D.sibling=F,D=F);return lt&&Dr(f,L),E}for(T=r(f,T);!F.done;L++,F=k.next())F=h(T,f,L,F.value,N),F!==null&&(e&&F.alternate!==null&&T.delete(F.key===null?L:F.key),g=i(F,g,L),D===null?E=F:D.sibling=F,D=F);return e&&T.forEach(function(z){return t(f,z)}),lt&&Dr(f,L),E}function b(f,g,k,N){if(typeof k=="object"&&k!==null&&k.type===ds&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case uo:e:{for(var E=k.key,D=g;D!==null;){if(D.key===E){if(E=k.type,E===ds){if(D.tag===7){n(f,D.sibling),g=s(D,k.props.children),g.return=f,f=g;break e}}else if(D.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ir&&xf(E)===D.type){n(f,D.sibling),g=s(D,k.props),g.ref=ei(f,D,k),g.return=f,f=g;break e}n(f,D);break}else t(f,D);D=D.sibling}k.type===ds?(g=Br(k.props.children,f.mode,N,k.key),g.return=f,f=g):(N=Xo(k.type,k.key,k.props,null,f.mode,N),N.ref=ei(f,g,k),N.return=f,f=N)}return o(f);case us:e:{for(D=k.key;g!==null;){if(g.key===D)if(g.tag===4&&g.stateNode.containerInfo===k.containerInfo&&g.stateNode.implementation===k.implementation){n(f,g.sibling),g=s(g,k.children||[]),g.return=f,f=g;break e}else{n(f,g);break}else t(f,g);g=g.sibling}g=Fl(k,f.mode,N),g.return=f,f=g}return o(f);case ir:return D=k._init,b(f,g,D(k._payload),N)}if(ci(k))return v(f,g,k,N);if(Ks(k))return y(f,g,k,N);ko(f,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,g!==null&&g.tag===6?(n(f,g.sibling),g=s(g,k),g.return=f,f=g):(n(f,g),g=$l(k,f.mode,N),g.return=f,f=g),o(f)):n(f,g)}return b}var Os=p0(!0),m0=p0(!1),xa=Er(null),ya=null,vs=null,Ru=null;function Ou(){Ru=vs=ya=null}function Lu(e){var t=xa.current;at(xa),e._currentValue=t}function Cc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){ya=e,Ru=vs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bt=!0),e.firstContext=null)}function dn(e){var t=e._currentValue;if(Ru!==e)if(e={context:e,memoizedValue:t,next:null},vs===null){if(ya===null)throw Error(ze(308));vs=e,ya.dependencies={lanes:0,firstContext:e}}else vs=vs.next=e;return t}var Rr=null;function $u(e){Rr===null?Rr=[e]:Rr.push(e)}function g0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,$u(t)):(n.next=s.next,s.next=n),t.interleaved=n,Kn(e,r)}function Kn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var or=!1;function Fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Kn(e,n)}return s=r.interleaved,s===null?(t.next=t,$u(r)):(t.next=s.next,s.next=t),r.interleaved=t,Kn(e,n)}function Vo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_u(e,n)}}function yf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function va(e,t,n,r){var s=e.updateQueue;or=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,d=u=c=null,a=i;do{var x=a.lane,h=a.eventTime;if((r&x)===x){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,y=a;switch(x=t,h=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){m=v.call(h,m,x);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,x=typeof v=="function"?v.call(h,m,x):v,x==null)break e;m=ht({},m,x);break e;case 2:or=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,x=s.effects,x===null?s.effects=[a]:x.push(a))}else h={eventTime:h,lane:x,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=h,c=m):d=d.next=h,o|=x;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;x=a,a=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(!0);if(d===null&&(c=m),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Gr|=o,e.lanes=o,e.memoizedState=m}}function vf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ze(191,s));s.call(r)}}}var no={},In=Er(no),Pi=Er(no),Ri=Er(no);function Or(e){if(e===no)throw Error(ze(174));return e}function Bu(e,t){switch(rt(Ri,t),rt(Pi,e),rt(In,no),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cc(t,e)}at(In),rt(In,t)}function Ls(){at(In),at(Pi),at(Ri)}function y0(e){Or(Ri.current);var t=Or(In.current),n=cc(t,e.type);t!==n&&(rt(Pi,e),rt(In,n))}function Uu(e){Pi.current===e&&(at(In),at(Pi))}var dt=Er(0);function wa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ml=[];function Hu(){for(var e=0;e<Ml.length;e++)Ml[e]._workInProgressVersionPrimary=null;Ml.length=0}var Wo=Jn.ReactCurrentDispatcher,Al=Jn.ReactCurrentBatchConfig,Zr=0,ft=null,vt=null,kt=null,ba=!1,wi=!1,Oi=0,qy=0;function Ct(){throw Error(ze(321))}function Vu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nn(e[n],t[n]))return!1;return!0}function Wu(e,t,n,r,s,i){if(Zr=i,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wo.current=e===null||e.memoizedState===null?t1:n1,e=n(r,s),wi){i=0;do{if(wi=!1,Oi=0,25<=i)throw Error(ze(301));i+=1,kt=vt=null,t.updateQueue=null,Wo.current=r1,e=n(r,s)}while(wi)}if(Wo.current=ka,t=vt!==null&&vt.next!==null,Zr=0,kt=vt=ft=null,ba=!1,t)throw Error(ze(300));return e}function Zu(){var e=Oi!==0;return Oi=0,e}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ft.memoizedState=kt=e:kt=kt.next=e,kt}function fn(){if(vt===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=kt===null?ft.memoizedState:kt.next;if(t!==null)kt=t,vt=e;else{if(e===null)throw Error(ze(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},kt===null?ft.memoizedState=kt=e:kt=kt.next=e}return kt}function Li(e,t){return typeof t=="function"?t(e):t}function Pl(e){var t=fn(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=vt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((Zr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=m,o=r):c=c.next=m,ft.lanes|=d,Gr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Nn(r,t.memoizedState)||(Bt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ft.lanes|=i,Gr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rl(e){var t=fn(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Nn(i,t.memoizedState)||(Bt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function v0(){}function w0(e,t){var n=ft,r=fn(),s=t(),i=!Nn(r.memoizedState,s);if(i&&(r.memoizedState=s,Bt=!0),r=r.queue,Gu(N0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,$i(9,k0.bind(null,n,r,s,t),void 0,null),Nt===null)throw Error(ze(349));Zr&30||b0(n,t,s)}return s}function b0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function k0(e,t,n,r){t.value=n,t.getSnapshot=r,S0(t)&&_0(e)}function N0(e,t,n){return n(function(){S0(t)&&_0(e)})}function S0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nn(e,n)}catch{return!0}}function _0(e){var t=Kn(e,1);t!==null&&kn(t,e,1,-1)}function wf(e){var t=Cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},t.queue=e,e=e.dispatch=e1.bind(null,ft,e),[t.memoizedState,e]}function $i(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function z0(){return fn().memoizedState}function Zo(e,t,n,r){var s=Cn();ft.flags|=e,s.memoizedState=$i(1|t,n,void 0,r===void 0?null:r)}function Ga(e,t,n,r){var s=fn();r=r===void 0?null:r;var i=void 0;if(vt!==null){var o=vt.memoizedState;if(i=o.destroy,r!==null&&Vu(r,o.deps)){s.memoizedState=$i(t,n,i,r);return}}ft.flags|=e,s.memoizedState=$i(1|t,n,i,r)}function bf(e,t){return Zo(8390656,8,e,t)}function Gu(e,t){return Ga(2048,8,e,t)}function E0(e,t){return Ga(4,2,e,t)}function j0(e,t){return Ga(4,4,e,t)}function C0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function D0(e,t,n){return n=n!=null?n.concat([e]):null,Ga(4,4,C0.bind(null,t,e),n)}function Yu(){}function T0(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function I0(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function M0(e,t,n){return Zr&21?(Nn(n,t)||(n=Lp(),ft.lanes|=n,Gr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bt=!0),e.memoizedState=n)}function Qy(e,t){var n=et;et=n!==0&&4>n?n:4,e(!0);var r=Al.transition;Al.transition={};try{e(!1),t()}finally{et=n,Al.transition=r}}function A0(){return fn().memoizedState}function Jy(e,t,n){var r=wr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},P0(e))R0(t,n);else if(n=g0(e,t,n,r),n!==null){var s=Pt();kn(n,e,r,s),O0(n,t,r)}}function e1(e,t,n){var r=wr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(P0(e))R0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Nn(a,o)){var c=t.interleaved;c===null?(s.next=s,$u(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=g0(e,t,s,r),n!==null&&(s=Pt(),kn(n,e,r,s),O0(n,t,r))}}function P0(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function R0(e,t){wi=ba=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function O0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_u(e,n)}}var ka={readContext:dn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},t1={readContext:dn,useCallback:function(e,t){return Cn().memoizedState=[e,t===void 0?null:t],e},useContext:dn,useEffect:bf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zo(4194308,4,C0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zo(4,2,e,t)},useMemo:function(e,t){var n=Cn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jy.bind(null,ft,e),[r.memoizedState,e]},useRef:function(e){var t=Cn();return e={current:e},t.memoizedState=e},useState:wf,useDebugValue:Yu,useDeferredValue:function(e){return Cn().memoizedState=e},useTransition:function(){var e=wf(!1),t=e[0];return e=Qy.bind(null,e[1]),Cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ft,s=Cn();if(lt){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=t(),Nt===null)throw Error(ze(349));Zr&30||b0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,bf(N0.bind(null,r,i,e),[e]),r.flags|=2048,$i(9,k0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Cn(),t=Nt.identifierPrefix;if(lt){var n=Bn,r=Fn;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Oi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},n1={readContext:dn,useCallback:T0,useContext:dn,useEffect:Gu,useImperativeHandle:D0,useInsertionEffect:E0,useLayoutEffect:j0,useMemo:I0,useReducer:Pl,useRef:z0,useState:function(){return Pl(Li)},useDebugValue:Yu,useDeferredValue:function(e){var t=fn();return M0(t,vt.memoizedState,e)},useTransition:function(){var e=Pl(Li)[0],t=fn().memoizedState;return[e,t]},useMutableSource:v0,useSyncExternalStore:w0,useId:A0,unstable_isNewReconciler:!1},r1={readContext:dn,useCallback:T0,useContext:dn,useEffect:Gu,useImperativeHandle:D0,useInsertionEffect:E0,useLayoutEffect:j0,useMemo:I0,useReducer:Rl,useRef:z0,useState:function(){return Rl(Li)},useDebugValue:Yu,useDeferredValue:function(e){var t=fn();return vt===null?t.memoizedState=e:M0(t,vt.memoizedState,e)},useTransition:function(){var e=Rl(Li)[0],t=fn().memoizedState;return[e,t]},useMutableSource:v0,useSyncExternalStore:w0,useId:A0,unstable_isNewReconciler:!1};function gn(e,t){if(e&&e.defaultProps){t=ht({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Dc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ya={isMounted:function(e){return(e=e._reactInternals)?Qr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pt(),s=wr(e),i=Hn(r,s);i.payload=t,n!=null&&(i.callback=n),t=yr(e,i,s),t!==null&&(kn(t,e,s,r),Vo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pt(),s=wr(e),i=Hn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=yr(e,i,s),t!==null&&(kn(t,e,s,r),Vo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pt(),r=wr(e),s=Hn(n,r);s.tag=2,t!=null&&(s.callback=t),t=yr(e,s,r),t!==null&&(kn(t,e,r,n),Vo(t,e,r))}};function kf(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ti(n,r)||!Ti(s,i):!0}function L0(e,t,n){var r=!1,s=Sr,i=t.contextType;return typeof i=="object"&&i!==null?i=dn(i):(s=Vt(t)?Vr:Mt.current,r=t.contextTypes,i=(r=r!=null)?Ps(e,s):Sr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ya,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Nf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ya.enqueueReplaceState(t,t.state,null)}function Tc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Fu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=dn(i):(i=Vt(t)?Vr:Mt.current,s.context=Ps(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Dc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ya.enqueueReplaceState(s,s.state,null),va(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function $s(e,t){try{var n="",r=t;do n+=Tx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ol(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ic(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var s1=typeof WeakMap=="function"?WeakMap:Map;function $0(e,t,n){n=Hn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Sa||(Sa=!0,Uc=r),Ic(e,t)},n}function F0(e,t,n){n=Hn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ic(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ic(e,t),typeof r!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Sf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new s1;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=y1.bind(null,e,t,n),t.then(e,e))}function _f(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zf(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Hn(-1,1),t.tag=2,yr(n,t,1))),n.lanes|=1),e)}var i1=Jn.ReactCurrentOwner,Bt=!1;function At(e,t,n,r){t.child=e===null?m0(t,null,n,r):Os(t,e.child,n,r)}function Ef(e,t,n,r,s){n=n.render;var i=t.ref;return Es(t,s),r=Wu(e,t,n,r,i,s),n=Zu(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Xn(e,t,s)):(lt&&n&&Mu(t),t.flags|=1,At(e,t,r,s),t.child)}function jf(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!nd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,B0(e,t,i,r,s)):(e=Xo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ti,n(o,r)&&e.ref===t.ref)return Xn(e,t,s)}return t.flags|=1,e=br(i,r),e.ref=t.ref,e.return=t,t.child=e}function B0(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ti(i,r)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Bt=!0);else return t.lanes=e.lanes,Xn(e,t,s)}return Mc(e,t,n,r,s)}function U0(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(bs,Kt),Kt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rt(bs,Kt),Kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,rt(bs,Kt),Kt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,rt(bs,Kt),Kt|=r;return At(e,t,s,n),t.child}function H0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Mc(e,t,n,r,s){var i=Vt(n)?Vr:Mt.current;return i=Ps(t,i),Es(t,s),n=Wu(e,t,n,r,i,s),r=Zu(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Xn(e,t,s)):(lt&&r&&Mu(t),t.flags|=1,At(e,t,n,s),t.child)}function Cf(e,t,n,r,s){if(Vt(n)){var i=!0;pa(t)}else i=!1;if(Es(t,s),t.stateNode===null)Go(e,t),L0(t,n,r),Tc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=dn(u):(u=Vt(n)?Vr:Mt.current,u=Ps(t,u));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Nf(t,o,r,u),or=!1;var x=t.memoizedState;o.state=x,va(t,r,o,s),c=t.memoizedState,a!==r||x!==c||Ht.current||or?(typeof d=="function"&&(Dc(t,n,d,r),c=t.memoizedState),(a=or||kf(t,n,a,r,x,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,x0(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:gn(t.type,a),o.props=u,m=t.pendingProps,x=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=dn(c):(c=Vt(n)?Vr:Mt.current,c=Ps(t,c));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||x!==c)&&Nf(t,o,r,c),or=!1,x=t.memoizedState,o.state=x,va(t,r,o,s);var v=t.memoizedState;a!==m||x!==v||Ht.current||or?(typeof h=="function"&&(Dc(t,n,h,r),v=t.memoizedState),(u=or||kf(t,n,u,r,x,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return Ac(e,t,n,r,i,s)}function Ac(e,t,n,r,s,i){H0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&pf(t,n,!1),Xn(e,t,i);r=t.stateNode,i1.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Os(t,e.child,null,i),t.child=Os(t,null,a,i)):At(e,t,a,i),t.memoizedState=r.state,s&&pf(t,n,!0),t.child}function V0(e){var t=e.stateNode;t.pendingContext?hf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hf(e,t.context,!1),Bu(e,t.containerInfo)}function Df(e,t,n,r,s){return Rs(),Pu(s),t.flags|=256,At(e,t,n,r),t.child}var Pc={dehydrated:null,treeContext:null,retryLane:0};function Rc(e){return{baseLanes:e,cachePool:null,transitions:null}}function W0(e,t,n){var r=t.pendingProps,s=dt.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),rt(dt,s&1),e===null)return jc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qa(o,r,0,null),e=Br(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Rc(n),t.memoizedState=Pc,e):Ku(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return o1(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=br(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=br(a,i):(i=Br(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Rc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Pc,r}return i=e.child,e=i.sibling,r=br(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ku(e,t){return t=qa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function No(e,t,n,r){return r!==null&&Pu(r),Os(t,e.child,null,n),e=Ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function o1(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ol(Error(ze(422))),No(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=qa({mode:"visible",children:r.children},s,0,null),i=Br(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Os(t,e.child,null,o),t.child.memoizedState=Rc(o),t.memoizedState=Pc,i);if(!(t.mode&1))return No(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ze(419)),r=Ol(i,r,void 0),No(e,t,o,r)}if(a=(o&e.childLanes)!==0,Bt||a){if(r=Nt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Kn(e,s),kn(r,e,s,-1))}return td(),r=Ol(Error(ze(421))),No(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=v1.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Xt=xr(s.nextSibling),qt=t,lt=!0,vn=null,e!==null&&(rn[sn++]=Fn,rn[sn++]=Bn,rn[sn++]=Wr,Fn=e.id,Bn=e.overflow,Wr=t),t=Ku(t,r.children),t.flags|=4096,t)}function Tf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cc(e.return,t,n)}function Ll(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Z0(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(At(e,t,r.children,n),r=dt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tf(e,n,t);else if(e.tag===19)Tf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rt(dt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&wa(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ll(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wa(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ll(t,!0,n,null,i);break;case"together":Ll(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ze(153));if(t.child!==null){for(e=t.child,n=br(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=br(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function a1(e,t,n){switch(t.tag){case 3:V0(t),Rs();break;case 5:y0(t);break;case 1:Vt(t.type)&&pa(t);break;case 4:Bu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;rt(xa,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(rt(dt,dt.current&1),t.flags|=128,null):n&t.child.childLanes?W0(e,t,n):(rt(dt,dt.current&1),e=Xn(e,t,n),e!==null?e.sibling:null);rt(dt,dt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Z0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),rt(dt,dt.current),r)break;return null;case 22:case 23:return t.lanes=0,U0(e,t,n)}return Xn(e,t,n)}var G0,Oc,Y0,K0;G0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Oc=function(){};Y0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Or(In.current);var i=null;switch(n){case"input":s=ic(e,s),r=ic(e,r),i=[];break;case"select":s=ht({},s,{value:void 0}),r=ht({},r,{value:void 0}),i=[];break;case"textarea":s=lc(e,s),r=lc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fa)}uc(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Si.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Si.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ot("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};K0=function(e,t,n,r){n!==r&&(t.flags|=4)};function ti(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function l1(e,t,n){var r=t.pendingProps;switch(Au(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(t),null;case 1:return Vt(t.type)&&ha(),Dt(t),null;case 3:return r=t.stateNode,Ls(),at(Ht),at(Mt),Hu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vn!==null&&(Wc(vn),vn=null))),Oc(e,t),Dt(t),null;case 5:Uu(t);var s=Or(Ri.current);if(n=t.type,e!==null&&t.stateNode!=null)Y0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ze(166));return Dt(t),null}if(e=Or(In.current),bo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Dn]=t,r[Ai]=i,e=(t.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(s=0;s<di.length;s++)ot(di[s],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":$d(r,i),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ot("invalid",r);break;case"textarea":Bd(r,i),ot("invalid",r)}uc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&wo(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&wo(r.textContent,a,e),s=["children",""+a]):Si.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ot("scroll",r)}switch(n){case"input":fo(r),Fd(r,i,!0);break;case"textarea":fo(r),Ud(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=fa)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Np(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Dn]=t,e[Ai]=r,G0(e,t,!1,!1),t.stateNode=e;e:{switch(o=dc(n,r),n){case"dialog":ot("cancel",e),ot("close",e),s=r;break;case"iframe":case"object":case"embed":ot("load",e),s=r;break;case"video":case"audio":for(s=0;s<di.length;s++)ot(di[s],e);s=r;break;case"source":ot("error",e),s=r;break;case"img":case"image":case"link":ot("error",e),ot("load",e),s=r;break;case"details":ot("toggle",e),s=r;break;case"input":$d(e,r),s=ic(e,r),ot("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ht({},r,{value:void 0}),ot("invalid",e);break;case"textarea":Bd(e,r),s=lc(e,r),ot("invalid",e);break;default:s=r}uc(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?zp(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Sp(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&_i(e,c):typeof c=="number"&&_i(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Si.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ot("scroll",e):c!=null&&vu(e,i,c,o))}switch(n){case"input":fo(e),Fd(e,r,!1);break;case"textarea":fo(e),Ud(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ns(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ns(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=fa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dt(t),null;case 6:if(e&&t.stateNode!=null)K0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ze(166));if(n=Or(Ri.current),Or(In.current),bo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Dn]=t,(i=r.nodeValue!==n)&&(e=qt,e!==null))switch(e.tag){case 3:wo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dn]=t,t.stateNode=r}return Dt(t),null;case 13:if(at(dt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&Xt!==null&&t.mode&1&&!(t.flags&128))h0(),Rs(),t.flags|=98560,i=!1;else if(i=bo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ze(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ze(317));i[Dn]=t}else Rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dt(t),i=!1}else vn!==null&&(Wc(vn),vn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||dt.current&1?wt===0&&(wt=3):td())),t.updateQueue!==null&&(t.flags|=4),Dt(t),null);case 4:return Ls(),Oc(e,t),e===null&&Ii(t.stateNode.containerInfo),Dt(t),null;case 10:return Lu(t.type._context),Dt(t),null;case 17:return Vt(t.type)&&ha(),Dt(t),null;case 19:if(at(dt),i=t.memoizedState,i===null)return Dt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ti(i,!1);else{if(wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wa(e),o!==null){for(t.flags|=128,ti(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rt(dt,dt.current&1|2),t.child}e=e.sibling}i.tail!==null&&xt()>Fs&&(t.flags|=128,r=!0,ti(i,!1),t.lanes=4194304)}else{if(!r)if(e=wa(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ti(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lt)return Dt(t),null}else 2*xt()-i.renderingStartTime>Fs&&n!==1073741824&&(t.flags|=128,r=!0,ti(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xt(),t.sibling=null,n=dt.current,rt(dt,r?n&1|2:n&1),t):(Dt(t),null);case 22:case 23:return ed(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Kt&1073741824&&(Dt(t),t.subtreeFlags&6&&(t.flags|=8192)):Dt(t),null;case 24:return null;case 25:return null}throw Error(ze(156,t.tag))}function c1(e,t){switch(Au(t),t.tag){case 1:return Vt(t.type)&&ha(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ls(),at(Ht),at(Mt),Hu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uu(t),null;case 13:if(at(dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ze(340));Rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return at(dt),null;case 4:return Ls(),null;case 10:return Lu(t.type._context),null;case 22:case 23:return ed(),null;case 24:return null;default:return null}}var So=!1,Tt=!1,u1=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function ws(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(e,t,r)}else n.current=null}function Lc(e,t,n){try{n()}catch(r){pt(e,t,r)}}var If=!1;function d1(e,t){if(bc=ca,e=e0(),Iu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,m=e,x=null;t:for(;;){for(var h;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(h=m.firstChild)!==null;)x=m,m=h;for(;;){if(m===e)break t;if(x===n&&++u===s&&(a=o),x===i&&++d===r&&(c=o),(h=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=h}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(kc={focusedElem:e,selectionRange:n},ca=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,f=t.stateNode,g=f.getSnapshotBeforeUpdate(t.elementType===t.type?y:gn(t.type,y),b);f.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(N){pt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return v=If,If=!1,v}function bi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Lc(t,n,i)}s=s.next}while(s!==r)}}function Ka(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $c(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function X0(e){var t=e.alternate;t!==null&&(e.alternate=null,X0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dn],delete t[Ai],delete t[_c],delete t[Gy],delete t[Yy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function q0(e){return e.tag===5||e.tag===3||e.tag===4}function Mf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||q0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fa));else if(r!==4&&(e=e.child,e!==null))for(Fc(e,t,n),e=e.sibling;e!==null;)Fc(e,t,n),e=e.sibling}function Bc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Bc(e,t,n),e=e.sibling;e!==null;)Bc(e,t,n),e=e.sibling}var St=null,xn=!1;function er(e,t,n){for(n=n.child;n!==null;)Q0(e,t,n),n=n.sibling}function Q0(e,t,n){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Ba,n)}catch{}switch(n.tag){case 5:Tt||ws(n,t);case 6:var r=St,s=xn;St=null,er(e,t,n),St=r,xn=s,St!==null&&(xn?(e=St,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(xn?(e=St,n=n.stateNode,e.nodeType===8?Tl(e.parentNode,n):e.nodeType===1&&Tl(e,n),Ci(e)):Tl(St,n.stateNode));break;case 4:r=St,s=xn,St=n.stateNode.containerInfo,xn=!0,er(e,t,n),St=r,xn=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Lc(n,t,o),s=s.next}while(s!==r)}er(e,t,n);break;case 1:if(!Tt&&(ws(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pt(n,t,a)}er(e,t,n);break;case 21:er(e,t,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,er(e,t,n),Tt=r):er(e,t,n);break;default:er(e,t,n)}}function Af(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new u1),t.forEach(function(r){var s=w1.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function hn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,xn=!1;break e;case 3:St=a.stateNode.containerInfo,xn=!0;break e;case 4:St=a.stateNode.containerInfo,xn=!0;break e}a=a.return}if(St===null)throw Error(ze(160));Q0(i,o,s),St=null,xn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){pt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)J0(t,e),t=t.sibling}function J0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hn(t,e),En(e),r&4){try{bi(3,e,e.return),Ka(3,e)}catch(y){pt(e,e.return,y)}try{bi(5,e,e.return)}catch(y){pt(e,e.return,y)}}break;case 1:hn(t,e),En(e),r&512&&n!==null&&ws(n,n.return);break;case 5:if(hn(t,e),En(e),r&512&&n!==null&&ws(n,n.return),e.flags&32){var s=e.stateNode;try{_i(s,"")}catch(y){pt(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&bp(s,i),dc(a,o);var u=dc(a,i);for(o=0;o<c.length;o+=2){var d=c[o],m=c[o+1];d==="style"?zp(s,m):d==="dangerouslySetInnerHTML"?Sp(s,m):d==="children"?_i(s,m):vu(s,d,m,u)}switch(a){case"input":oc(s,i);break;case"textarea":kp(s,i);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Ns(s,!!i.multiple,h,!1):x!==!!i.multiple&&(i.defaultValue!=null?Ns(s,!!i.multiple,i.defaultValue,!0):Ns(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ai]=i}catch(y){pt(e,e.return,y)}}break;case 6:if(hn(t,e),En(e),r&4){if(e.stateNode===null)throw Error(ze(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){pt(e,e.return,y)}}break;case 3:if(hn(t,e),En(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ci(t.containerInfo)}catch(y){pt(e,e.return,y)}break;case 4:hn(t,e),En(e);break;case 13:hn(t,e),En(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Qu=xt())),r&4&&Af(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Tt=(u=Tt)||d,hn(t,e),Tt=u):hn(t,e),En(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Oe=e,d=e.child;d!==null;){for(m=Oe=d;Oe!==null;){switch(x=Oe,h=x.child,x.tag){case 0:case 11:case 14:case 15:bi(4,x,x.return);break;case 1:ws(x,x.return);var v=x.stateNode;if(typeof v.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){pt(r,n,y)}}break;case 5:ws(x,x.return);break;case 22:if(x.memoizedState!==null){Rf(m);continue}}h!==null?(h.return=x,Oe=h):Rf(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=_p("display",o))}catch(y){pt(e,e.return,y)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(y){pt(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:hn(t,e),En(e),r&4&&Af(e);break;case 21:break;default:hn(t,e),En(e)}}function En(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(q0(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_i(s,""),r.flags&=-33);var i=Mf(e);Bc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Mf(e);Fc(e,a,o);break;default:throw Error(ze(161))}}catch(c){pt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function f1(e,t,n){Oe=e,em(e)}function em(e,t,n){for(var r=(e.mode&1)!==0;Oe!==null;){var s=Oe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||So;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Tt;a=So;var u=Tt;if(So=o,(Tt=c)&&!u)for(Oe=s;Oe!==null;)o=Oe,c=o.child,o.tag===22&&o.memoizedState!==null?Of(s):c!==null?(c.return=o,Oe=c):Of(s);for(;i!==null;)Oe=i,em(i),i=i.sibling;Oe=s,So=a,Tt=u}Pf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Oe=i):Pf(e)}}function Pf(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||Ka(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:gn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&vf(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vf(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Ci(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}Tt||t.flags&512&&$c(t)}catch(x){pt(t,t.return,x)}}if(t===e){Oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function Rf(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function Of(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ka(4,t)}catch(c){pt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){pt(t,s,c)}}var i=t.return;try{$c(t)}catch(c){pt(t,i,c)}break;case 5:var o=t.return;try{$c(t)}catch(c){pt(t,o,c)}}}catch(c){pt(t,t.return,c)}if(t===e){Oe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Oe=a;break}Oe=t.return}}var h1=Math.ceil,Na=Jn.ReactCurrentDispatcher,Xu=Jn.ReactCurrentOwner,cn=Jn.ReactCurrentBatchConfig,Qe=0,Nt=null,yt=null,zt=0,Kt=0,bs=Er(0),wt=0,Fi=null,Gr=0,Xa=0,qu=0,ki=null,Ft=null,Qu=0,Fs=1/0,Ln=null,Sa=!1,Uc=null,vr=null,_o=!1,hr=null,_a=0,Ni=0,Hc=null,Yo=-1,Ko=0;function Pt(){return Qe&6?xt():Yo!==-1?Yo:Yo=xt()}function wr(e){return e.mode&1?Qe&2&&zt!==0?zt&-zt:Xy.transition!==null?(Ko===0&&(Ko=Lp()),Ko):(e=et,e!==0||(e=window.event,e=e===void 0?16:Wp(e.type)),e):1}function kn(e,t,n,r){if(50<Ni)throw Ni=0,Hc=null,Error(ze(185));Ji(e,n,r),(!(Qe&2)||e!==Nt)&&(e===Nt&&(!(Qe&2)&&(Xa|=n),wt===4&&ur(e,zt)),Wt(e,r),n===1&&Qe===0&&!(t.mode&1)&&(Fs=xt()+500,Za&&jr()))}function Wt(e,t){var n=e.callbackNode;Xx(e,t);var r=la(e,e===Nt?zt:0);if(r===0)n!==null&&Wd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wd(n),t===1)e.tag===0?Ky(Lf.bind(null,e)):u0(Lf.bind(null,e)),Wy(function(){!(Qe&6)&&jr()}),n=null;else{switch($p(r)){case 1:n=Su;break;case 4:n=Rp;break;case 16:n=aa;break;case 536870912:n=Op;break;default:n=aa}n=lm(n,tm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tm(e,t){if(Yo=-1,Ko=0,Qe&6)throw Error(ze(327));var n=e.callbackNode;if(js()&&e.callbackNode!==n)return null;var r=la(e,e===Nt?zt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=za(e,r);else{t=r;var s=Qe;Qe|=2;var i=rm();(Nt!==e||zt!==t)&&(Ln=null,Fs=xt()+500,Fr(e,t));do try{g1();break}catch(a){nm(e,a)}while(!0);Ou(),Na.current=i,Qe=s,yt!==null?t=0:(Nt=null,zt=0,t=wt)}if(t!==0){if(t===2&&(s=gc(e),s!==0&&(r=s,t=Vc(e,s))),t===1)throw n=Fi,Fr(e,0),ur(e,r),Wt(e,xt()),n;if(t===6)ur(e,r);else{if(s=e.current.alternate,!(r&30)&&!p1(s)&&(t=za(e,r),t===2&&(i=gc(e),i!==0&&(r=i,t=Vc(e,i))),t===1))throw n=Fi,Fr(e,0),ur(e,r),Wt(e,xt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ze(345));case 2:Tr(e,Ft,Ln);break;case 3:if(ur(e,r),(r&130023424)===r&&(t=Qu+500-xt(),10<t)){if(la(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Pt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Sc(Tr.bind(null,e,Ft,Ln),t);break}Tr(e,Ft,Ln);break;case 4:if(ur(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-bn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*h1(r/1960))-r,10<r){e.timeoutHandle=Sc(Tr.bind(null,e,Ft,Ln),r);break}Tr(e,Ft,Ln);break;case 5:Tr(e,Ft,Ln);break;default:throw Error(ze(329))}}}return Wt(e,xt()),e.callbackNode===n?tm.bind(null,e):null}function Vc(e,t){var n=ki;return e.current.memoizedState.isDehydrated&&(Fr(e,t).flags|=256),e=za(e,t),e!==2&&(t=Ft,Ft=n,t!==null&&Wc(t)),e}function Wc(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function p1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~qu,t&=~Xa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bn(t),r=1<<n;e[n]=-1,t&=~r}}function Lf(e){if(Qe&6)throw Error(ze(327));js();var t=la(e,0);if(!(t&1))return Wt(e,xt()),null;var n=za(e,t);if(e.tag!==0&&n===2){var r=gc(e);r!==0&&(t=r,n=Vc(e,r))}if(n===1)throw n=Fi,Fr(e,0),ur(e,t),Wt(e,xt()),n;if(n===6)throw Error(ze(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tr(e,Ft,Ln),Wt(e,xt()),null}function Ju(e,t){var n=Qe;Qe|=1;try{return e(t)}finally{Qe=n,Qe===0&&(Fs=xt()+500,Za&&jr())}}function Yr(e){hr!==null&&hr.tag===0&&!(Qe&6)&&js();var t=Qe;Qe|=1;var n=cn.transition,r=et;try{if(cn.transition=null,et=1,e)return e()}finally{et=r,cn.transition=n,Qe=t,!(Qe&6)&&jr()}}function ed(){Kt=bs.current,at(bs)}function Fr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Vy(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(Au(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ha();break;case 3:Ls(),at(Ht),at(Mt),Hu();break;case 5:Uu(r);break;case 4:Ls();break;case 13:at(dt);break;case 19:at(dt);break;case 10:Lu(r.type._context);break;case 22:case 23:ed()}n=n.return}if(Nt=e,yt=e=br(e.current,null),zt=Kt=t,wt=0,Fi=null,qu=Xa=Gr=0,Ft=ki=null,Rr!==null){for(t=0;t<Rr.length;t++)if(n=Rr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Rr=null}return e}function nm(e,t){do{var n=yt;try{if(Ou(),Wo.current=ka,ba){for(var r=ft.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ba=!1}if(Zr=0,kt=vt=ft=null,wi=!1,Oi=0,Xu.current=null,n===null||n.return===null){wt=1,Fi=t,yt=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=zt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var x=d.alternate;x?(d.updateQueue=x.updateQueue,d.memoizedState=x.memoizedState,d.lanes=x.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=_f(o);if(h!==null){h.flags&=-257,zf(h,o,a,i,t),h.mode&1&&Sf(i,u,t),t=h,c=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){Sf(i,u,t),td();break e}c=Error(ze(426))}}else if(lt&&a.mode&1){var b=_f(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),zf(b,o,a,i,t),Pu($s(c,a));break e}}i=c=$s(c,a),wt!==4&&(wt=2),ki===null?ki=[i]:ki.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=$0(i,c,t);yf(i,f);break e;case 1:a=c;var g=i.type,k=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(vr===null||!vr.has(k)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=F0(i,a,t);yf(i,N);break e}}i=i.return}while(i!==null)}im(n)}catch(E){t=E,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function rm(){var e=Na.current;return Na.current=ka,e===null?ka:e}function td(){(wt===0||wt===3||wt===2)&&(wt=4),Nt===null||!(Gr&268435455)&&!(Xa&268435455)||ur(Nt,zt)}function za(e,t){var n=Qe;Qe|=2;var r=rm();(Nt!==e||zt!==t)&&(Ln=null,Fr(e,t));do try{m1();break}catch(s){nm(e,s)}while(!0);if(Ou(),Qe=n,Na.current=r,yt!==null)throw Error(ze(261));return Nt=null,zt=0,wt}function m1(){for(;yt!==null;)sm(yt)}function g1(){for(;yt!==null&&!Bx();)sm(yt)}function sm(e){var t=am(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?im(e):yt=t,Xu.current=null}function im(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=c1(n,t),n!==null){n.flags&=32767,yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wt=6,yt=null;return}}else if(n=l1(n,t,Kt),n!==null){yt=n;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);wt===0&&(wt=5)}function Tr(e,t,n){var r=et,s=cn.transition;try{cn.transition=null,et=1,x1(e,t,n,r)}finally{cn.transition=s,et=r}return null}function x1(e,t,n,r){do js();while(hr!==null);if(Qe&6)throw Error(ze(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ze(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(qx(e,i),e===Nt&&(yt=Nt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_o||(_o=!0,lm(aa,function(){return js(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=cn.transition,cn.transition=null;var o=et;et=1;var a=Qe;Qe|=4,Xu.current=null,d1(e,n),J0(n,e),Oy(kc),ca=!!bc,kc=bc=null,e.current=n,f1(n),Ux(),Qe=a,et=o,cn.transition=i}else e.current=n;if(_o&&(_o=!1,hr=e,_a=s),i=e.pendingLanes,i===0&&(vr=null),Wx(n.stateNode),Wt(e,xt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Sa)throw Sa=!1,e=Uc,Uc=null,e;return _a&1&&e.tag!==0&&js(),i=e.pendingLanes,i&1?e===Hc?Ni++:(Ni=0,Hc=e):Ni=0,jr(),null}function js(){if(hr!==null){var e=$p(_a),t=cn.transition,n=et;try{if(cn.transition=null,et=16>e?16:e,hr===null)var r=!1;else{if(e=hr,hr=null,_a=0,Qe&6)throw Error(ze(331));var s=Qe;for(Qe|=4,Oe=e.current;Oe!==null;){var i=Oe,o=i.child;if(Oe.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Oe=u;Oe!==null;){var d=Oe;switch(d.tag){case 0:case 11:case 15:bi(8,d,i)}var m=d.child;if(m!==null)m.return=d,Oe=m;else for(;Oe!==null;){d=Oe;var x=d.sibling,h=d.return;if(X0(d),d===u){Oe=null;break}if(x!==null){x.return=h,Oe=x;break}Oe=h}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Oe=o;else e:for(;Oe!==null;){if(i=Oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bi(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,Oe=f;break e}Oe=i.return}}var g=e.current;for(Oe=g;Oe!==null;){o=Oe;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,Oe=k;else e:for(o=g;Oe!==null;){if(a=Oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ka(9,a)}}catch(E){pt(a,a.return,E)}if(a===o){Oe=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Oe=N;break e}Oe=a.return}}if(Qe=s,jr(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Ba,e)}catch{}r=!0}return r}finally{et=n,cn.transition=t}}return!1}function $f(e,t,n){t=$s(n,t),t=$0(e,t,1),e=yr(e,t,1),t=Pt(),e!==null&&(Ji(e,1,t),Wt(e,t))}function pt(e,t,n){if(e.tag===3)$f(e,e,n);else for(;t!==null;){if(t.tag===3){$f(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vr===null||!vr.has(r))){e=$s(n,e),e=F0(t,e,1),t=yr(t,e,1),e=Pt(),t!==null&&(Ji(t,1,e),Wt(t,e));break}}t=t.return}}function y1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Pt(),e.pingedLanes|=e.suspendedLanes&n,Nt===e&&(zt&n)===n&&(wt===4||wt===3&&(zt&130023424)===zt&&500>xt()-Qu?Fr(e,0):qu|=n),Wt(e,t)}function om(e,t){t===0&&(e.mode&1?(t=mo,mo<<=1,!(mo&130023424)&&(mo=4194304)):t=1);var n=Pt();e=Kn(e,t),e!==null&&(Ji(e,t,n),Wt(e,n))}function v1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),om(e,n)}function w1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(t),om(e,n)}var am;am=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ht.current)Bt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Bt=!1,a1(e,t,n);Bt=!!(e.flags&131072)}else Bt=!1,lt&&t.flags&1048576&&d0(t,ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Go(e,t),e=t.pendingProps;var s=Ps(t,Mt.current);Es(t,n),s=Wu(null,t,r,e,s,n);var i=Zu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vt(r)?(i=!0,pa(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fu(t),s.updater=Ya,t.stateNode=s,s._reactInternals=t,Tc(t,r,e,n),t=Ac(null,t,r,!0,i,n)):(t.tag=0,lt&&i&&Mu(t),At(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=k1(r),e=gn(r,e),s){case 0:t=Mc(null,t,r,e,n);break e;case 1:t=Cf(null,t,r,e,n);break e;case 11:t=Ef(null,t,r,e,n);break e;case 14:t=jf(null,t,r,gn(r.type,e),n);break e}throw Error(ze(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gn(r,s),Mc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gn(r,s),Cf(e,t,r,s,n);case 3:e:{if(V0(t),e===null)throw Error(ze(387));r=t.pendingProps,i=t.memoizedState,s=i.element,x0(e,t),va(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=$s(Error(ze(423)),t),t=Df(e,t,r,n,s);break e}else if(r!==s){s=$s(Error(ze(424)),t),t=Df(e,t,r,n,s);break e}else for(Xt=xr(t.stateNode.containerInfo.firstChild),qt=t,lt=!0,vn=null,n=m0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rs(),r===s){t=Xn(e,t,n);break e}At(e,t,r,n)}t=t.child}return t;case 5:return y0(t),e===null&&jc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Nc(r,s)?o=null:i!==null&&Nc(r,i)&&(t.flags|=32),H0(e,t),At(e,t,o,n),t.child;case 6:return e===null&&jc(t),null;case 13:return W0(e,t,n);case 4:return Bu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Os(t,null,r,n):At(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gn(r,s),Ef(e,t,r,s,n);case 7:return At(e,t,t.pendingProps,n),t.child;case 8:return At(e,t,t.pendingProps.children,n),t.child;case 12:return At(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,rt(xa,r._currentValue),r._currentValue=o,i!==null)if(Nn(i.value,o)){if(i.children===s.children&&!Ht.current){t=Xn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Hn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Cc(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ze(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}At(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Es(t,n),s=dn(s),r=r(s),t.flags|=1,At(e,t,r,n),t.child;case 14:return r=t.type,s=gn(r,t.pendingProps),s=gn(r.type,s),jf(e,t,r,s,n);case 15:return B0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gn(r,s),Go(e,t),t.tag=1,Vt(r)?(e=!0,pa(t)):e=!1,Es(t,n),L0(t,r,s),Tc(t,r,s,n),Ac(null,t,r,!0,e,n);case 19:return Z0(e,t,n);case 22:return U0(e,t,n)}throw Error(ze(156,t.tag))};function lm(e,t){return Pp(e,t)}function b1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,n,r){return new b1(e,t,n,r)}function nd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function k1(e){if(typeof e=="function")return nd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bu)return 11;if(e===ku)return 14}return 2}function br(e,t){var n=e.alternate;return n===null?(n=an(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")nd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ds:return Br(n.children,s,i,t);case wu:o=8,s|=8;break;case tc:return e=an(12,n,t,s|2),e.elementType=tc,e.lanes=i,e;case nc:return e=an(13,n,t,s),e.elementType=nc,e.lanes=i,e;case rc:return e=an(19,n,t,s),e.elementType=rc,e.lanes=i,e;case yp:return qa(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gp:o=10;break e;case xp:o=9;break e;case bu:o=11;break e;case ku:o=14;break e;case ir:o=16,r=null;break e}throw Error(ze(130,e==null?e:typeof e,""))}return t=an(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Br(e,t,n,r){return e=an(7,e,r,t),e.lanes=n,e}function qa(e,t,n,r){return e=an(22,e,r,t),e.elementType=yp,e.lanes=n,e.stateNode={isHidden:!1},e}function $l(e,t,n){return e=an(6,e,null,t),e.lanes=n,e}function Fl(e,t,n){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function N1(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rd(e,t,n,r,s,i,o,a,c){return e=new N1(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=an(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fu(i),e}function S1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:us,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cm(e){if(!e)return Sr;e=e._reactInternals;e:{if(Qr(e)!==e||e.tag!==1)throw Error(ze(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ze(171))}if(e.tag===1){var n=e.type;if(Vt(n))return c0(e,n,t)}return t}function um(e,t,n,r,s,i,o,a,c){return e=rd(n,r,!0,e,s,i,o,a,c),e.context=cm(null),n=e.current,r=Pt(),s=wr(n),i=Hn(r,s),i.callback=t??null,yr(n,i,s),e.current.lanes=s,Ji(e,s,r),Wt(e,r),e}function Qa(e,t,n,r){var s=t.current,i=Pt(),o=wr(s);return n=cm(n),t.context===null?t.context=n:t.pendingContext=n,t=Hn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=yr(s,t,o),e!==null&&(kn(e,s,o,i),Vo(e,s,o)),o}function Ea(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ff(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sd(e,t){Ff(e,t),(e=e.alternate)&&Ff(e,t)}function _1(){return null}var dm=typeof reportError=="function"?reportError:function(e){console.error(e)};function id(e){this._internalRoot=e}Ja.prototype.render=id.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ze(409));Qa(e,t,null,null)};Ja.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yr(function(){Qa(null,e,null,null)}),t[Yn]=null}};function Ja(e){this._internalRoot=e}Ja.prototype.unstable_scheduleHydration=function(e){if(e){var t=Up();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cr.length&&t!==0&&t<cr[n].priority;n++);cr.splice(n,0,e),n===0&&Vp(e)}};function od(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function el(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bf(){}function z1(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ea(o);i.call(u)}}var o=um(t,r,e,0,null,!1,!1,"",Bf);return e._reactRootContainer=o,e[Yn]=o.current,Ii(e.nodeType===8?e.parentNode:e),Yr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Ea(c);a.call(u)}}var c=rd(e,0,!1,null,null,!1,!1,"",Bf);return e._reactRootContainer=c,e[Yn]=c.current,Ii(e.nodeType===8?e.parentNode:e),Yr(function(){Qa(t,c,n,r)}),c}function tl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Ea(o);a.call(c)}}Qa(t,o,e,s)}else o=z1(n,t,e,s,r);return Ea(o)}Fp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ui(t.pendingLanes);n!==0&&(_u(t,n|1),Wt(t,xt()),!(Qe&6)&&(Fs=xt()+500,jr()))}break;case 13:Yr(function(){var r=Kn(e,1);if(r!==null){var s=Pt();kn(r,e,1,s)}}),sd(e,1)}};zu=function(e){if(e.tag===13){var t=Kn(e,134217728);if(t!==null){var n=Pt();kn(t,e,134217728,n)}sd(e,134217728)}};Bp=function(e){if(e.tag===13){var t=wr(e),n=Kn(e,t);if(n!==null){var r=Pt();kn(n,e,t,r)}sd(e,t)}};Up=function(){return et};Hp=function(e,t){var n=et;try{return et=e,t()}finally{et=n}};hc=function(e,t,n){switch(t){case"input":if(oc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Wa(r);if(!s)throw Error(ze(90));wp(r),oc(r,s)}}}break;case"textarea":kp(e,n);break;case"select":t=n.value,t!=null&&Ns(e,!!n.multiple,t,!1)}};Cp=Ju;Dp=Yr;var E1={usingClientEntryPoint:!1,Events:[to,ms,Wa,Ep,jp,Ju]},ni={findFiberByHostInstance:Pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j1={bundleType:ni.bundleType,version:ni.version,rendererPackageName:ni.rendererPackageName,rendererConfig:ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mp(e),e===null?null:e.stateNode},findFiberByHostInstance:ni.findFiberByHostInstance||_1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zo.isDisabled&&zo.supportsFiber)try{Ba=zo.inject(j1),Tn=zo}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E1;en.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!od(t))throw Error(ze(200));return S1(e,t,null,n)};en.createRoot=function(e,t){if(!od(e))throw Error(ze(299));var n=!1,r="",s=dm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=rd(e,1,!1,null,null,n,!1,r,s),e[Yn]=t.current,Ii(e.nodeType===8?e.parentNode:e),new id(t)};en.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ze(188)):(e=Object.keys(e).join(","),Error(ze(268,e)));return e=Mp(t),e=e===null?null:e.stateNode,e};en.flushSync=function(e){return Yr(e)};en.hydrate=function(e,t,n){if(!el(t))throw Error(ze(200));return tl(null,e,t,!0,n)};en.hydrateRoot=function(e,t,n){if(!od(e))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=dm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=um(t,null,e,1,n??null,s,!1,i,o),e[Yn]=t.current,Ii(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ja(t)};en.render=function(e,t,n){if(!el(t))throw Error(ze(200));return tl(null,e,t,!1,n)};en.unmountComponentAtNode=function(e){if(!el(e))throw Error(ze(40));return e._reactRootContainer?(Yr(function(){tl(null,null,e,!1,function(){e._reactRootContainer=null,e[Yn]=null})}),!0):!1};en.unstable_batchedUpdates=Ju;en.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!el(n))throw Error(ze(200));if(e==null||e._reactInternals===void 0)throw Error(ze(38));return tl(e,t,n,!1,r)};en.version="18.3.1-next-f1338f8080-20240426";function fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fm)}catch(e){console.error(e)}}fm(),fp.exports=en;var C1=fp.exports,Uf=C1;Jl.createRoot=Uf.createRoot,Jl.hydrateRoot=Uf.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),De=(e,t)=>{const n=C.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:c,...u},d)=>C.createElement("svg",{ref:d,...D1,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${T1(e)}`,a].join(" "),...u},[...t.map(([m,x])=>C.createElement(m,x)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=De("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=De("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=De("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=De("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=De("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=De("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=De("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=De("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=De("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=De("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=De("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=De("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=De("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=De("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=De("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=De("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=De("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=De("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=De("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=De("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=De("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=De("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=De("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=De("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=De("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=De("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=De("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=De("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=De("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=De("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=De("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=De("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=De("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=De("Import",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=De("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=De("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=De("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=De("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=De("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=De("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=De("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=De("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=De("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=De("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=De("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=De("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=De("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=De("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=De("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=De("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=De("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=De("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=De("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=De("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=De("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=De("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=De("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=De("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=De("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=De("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=De("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=De("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=De("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Eo(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ym={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,i){function o(u,d){if(!s[u]){if(!r[u]){var m=typeof Eo=="function"&&Eo;if(!d&&m)return m(u,!0);if(a)return a(u,!0);var x=new Error("Cannot find module '"+u+"'");throw x.code="MODULE_NOT_FOUND",x}var h=s[u]={exports:{}};r[u][0].call(h.exports,function(v){var y=r[u][1][v];return o(y||v)},h,h.exports,n,r,s,i)}return s[u].exports}for(var a=typeof Eo=="function"&&Eo,c=0;c<i.length;c++)o(i[c]);return o}({1:[function(n,r,s){var i=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(c){for(var u,d,m,x,h,v,y,b=[],f=0,g=c.length,k=g,N=i.getTypeOf(c)!=="string";f<c.length;)k=g-f,m=N?(u=c[f++],d=f<g?c[f++]:0,f<g?c[f++]:0):(u=c.charCodeAt(f++),d=f<g?c.charCodeAt(f++):0,f<g?c.charCodeAt(f++):0),x=u>>2,h=(3&u)<<4|d>>4,v=1<k?(15&d)<<2|m>>6:64,y=2<k?63&m:64,b.push(a.charAt(x)+a.charAt(h)+a.charAt(v)+a.charAt(y));return b.join("")},s.decode=function(c){var u,d,m,x,h,v,y=0,b=0,f="data:";if(c.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var g,k=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===a.charAt(64)&&k--,c.charAt(c.length-2)===a.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=o.uint8array?new Uint8Array(0|k):new Array(0|k);y<c.length;)u=a.indexOf(c.charAt(y++))<<2|(x=a.indexOf(c.charAt(y++)))>>4,d=(15&x)<<4|(h=a.indexOf(c.charAt(y++)))>>2,m=(3&h)<<6|(v=a.indexOf(c.charAt(y++))),g[b++]=u,h!==64&&(g[b++]=d),v!==64&&(g[b++]=m);return g}},{"./support":30,"./utils":32}],2:[function(n,r,s){var i=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(d,m,x,h,v){this.compressedSize=d,this.uncompressedSize=m,this.crc32=x,this.compression=h,this.compressedContent=v}u.prototype={getContentWorker:function(){var d=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),m=this;return d.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,m,x){return d.pipe(new a).pipe(new c("uncompressedSize")).pipe(m.compressWorker(x)).pipe(new c("compressedSize")).withStreamInfo("compression",m)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var i=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var i=n("./utils"),o=function(){for(var a,c=[],u=0;u<256;u++){a=u;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;c[u]=a}return c}();r.exports=function(a,c){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(u,d,m,x){var h=o,v=x+m;u^=-1;for(var y=x;y<v;y++)u=u>>>8^h[255&(u^d[y])];return-1^u}(0|c,a,a.length,0):function(u,d,m,x){var h=o,v=x+m;u^=-1;for(var y=x;y<v;y++)u=u>>>8^h[255&(u^d.charCodeAt(y))];return-1^u}(0|c,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),c=n("./stream/GenericWorker"),u=i?"uint8array":"array";function d(m,x){c.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=x,this.meta={}}s.magic="\b\0",a.inherits(d,c),d.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,m.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(x){m.push({data:x,meta:m.meta})}},s.compressWorker=function(m){return new d("Deflate",m)},s.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function i(h,v){var y,b="";for(y=0;y<v;y++)b+=String.fromCharCode(255&h),h>>>=8;return b}function o(h,v,y,b,f,g){var k,N,E=h.file,D=h.compression,T=g!==u.utf8encode,L=a.transformTo("string",g(E.name)),M=a.transformTo("string",u.utf8encode(E.name)),F=E.comment,q=a.transformTo("string",g(F)),z=a.transformTo("string",u.utf8encode(F)),$=M.length!==E.name.length,p=z.length!==F.length,R="",W="",H="",G=E.dir,I=E.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};v&&!y||(Y.crc32=h.crc32,Y.compressedSize=h.compressedSize,Y.uncompressedSize=h.uncompressedSize);var A=0;v&&(A|=8),T||!$&&!p||(A|=2048);var P=0,le=0;G&&(P|=16),f==="UNIX"?(le=798,P|=function(J,ve){var Ce=J;return J||(Ce=ve?16893:33204),(65535&Ce)<<16}(E.unixPermissions,G)):(le=20,P|=function(J){return 63&(J||0)}(E.dosPermissions)),k=I.getUTCHours(),k<<=6,k|=I.getUTCMinutes(),k<<=5,k|=I.getUTCSeconds()/2,N=I.getUTCFullYear()-1980,N<<=4,N|=I.getUTCMonth()+1,N<<=5,N|=I.getUTCDate(),$&&(W=i(1,1)+i(d(L),4)+M,R+="up"+i(W.length,2)+W),p&&(H=i(1,1)+i(d(q),4)+z,R+="uc"+i(H.length,2)+H);var ne="";return ne+=`
\0`,ne+=i(A,2),ne+=D.magic,ne+=i(k,2),ne+=i(N,2),ne+=i(Y.crc32,4),ne+=i(Y.compressedSize,4),ne+=i(Y.uncompressedSize,4),ne+=i(L.length,2),ne+=i(R.length,2),{fileRecord:m.LOCAL_FILE_HEADER+ne+L+R,dirRecord:m.CENTRAL_FILE_HEADER+i(le,2)+ne+i(q.length,2)+"\0\0\0\0"+i(P,4)+i(b,4)+L+R+q}}var a=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),d=n("../crc32"),m=n("../signature");function x(h,v,y,b){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=y,this.encodeFileName=b,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(x,c),x.prototype.push=function(h){var v=h.meta.percent||0,y=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,c.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:y?(v+100*(y-b-1))/y:100}}))},x.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var v=this.streamFiles&&!h.file.dir;if(v){var y=o(h,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(h){this.accumulate=!1;var v=this.streamFiles&&!h.file.dir,y=o(h,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),v)this.push({data:function(b){return m.DATA_DESCRIPTOR+i(b.crc32,4)+i(b.compressedSize,4)+i(b.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var h=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var y=this.bytesWritten-h,b=function(f,g,k,N,E){var D=a.transformTo("string",E(N));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(f,2)+i(f,2)+i(g,4)+i(k,4)+i(D.length,2)+D}(this.dirRecords.length,y,h,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(h){this._sources.push(h);var v=this;return h.on("data",function(y){v.processChunk(y)}),h.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),h.on("error",function(y){v.error(y)}),this},x.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(h){var v=this._sources;if(!c.prototype.error.call(this,h))return!1;for(var y=0;y<v.length;y++)try{v[y].error(h)}catch{}return!0},x.prototype.lock=function(){c.prototype.lock.call(this);for(var h=this._sources,v=0;v<h.length;v++)h[v].lock()},r.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var i=n("../compressions"),o=n("./ZipFileWorker");s.generateWorker=function(a,c,u){var d=new o(c.streamFiles,u,c.platform,c.encodeFileName),m=0;try{a.forEach(function(x,h){m++;var v=function(g,k){var N=g||k,E=i[N];if(!E)throw new Error(N+" is not a valid compression method !");return E}(h.options.compression,c.compression),y=h.options.compressionOptions||c.compressionOptions||{},b=h.dir,f=h.date;h._compressWorker(v,y).withStreamInfo("file",{name:x,dir:b,date:f,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(d)}),d.entriesCount=m}catch(x){d.error(x)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(o,a){return new i().loadAsync(o,a)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var i=n("./utils"),o=n("./external"),a=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function m(x){return new o.Promise(function(h,v){var y=x.decompressed.getContentWorker().pipe(new u);y.on("error",function(b){v(b)}).on("end",function(){y.streamInfo.crc32!==x.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(x,h){var v=this;return h=i.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),d.isNode&&d.isStream(x)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",x,!0,h.optimizedBinaryString,h.base64).then(function(y){var b=new c(h);return b.load(y),b}).then(function(y){var b=[o.Promise.resolve(y)],f=y.files;if(h.checkCRC32)for(var g=0;g<f.length;g++)b.push(m(f[g]));return o.Promise.all(b)}).then(function(y){for(var b=y.shift(),f=b.files,g=0;g<f.length;g++){var k=f[g],N=k.fileNameStr,E=i.resolve(k.fileNameStr);v.file(E,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:h.createFolders}),k.dir||(v.file(E).unsafeOriginalName=N)}return b.zipComment.length&&(v.comment=b.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var i=n("../utils"),o=n("../stream/GenericWorker");function a(c,u){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(a,o),a.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var i=n("readable-stream").Readable;function o(a,c,u){i.call(this,c),this._helper=a;var d=this;a.on("data",function(m,x){d.push(m)||d._helper.pause(),u&&u(x)}).on("error",function(m){d.emit("error",m)}).on("end",function(){d.push(null)})}n("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,s){function i(E,D,T){var L,M=a.getTypeOf(D),F=a.extend(T||{},d);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(E=f(E)),F.createFolders&&(L=b(E))&&g.call(this,L,!0);var q=M==="string"&&F.binary===!1&&F.base64===!1;T&&T.binary!==void 0||(F.binary=!q),(D instanceof m&&D.uncompressedSize===0||F.dir||!D||D.length===0)&&(F.base64=!1,F.binary=!0,D="",F.compression="STORE",M="string");var z=null;z=D instanceof m||D instanceof c?D:v.isNode&&v.isStream(D)?new y(E,D):a.prepareContent(E,D,F.binary,F.optimizedBinaryString,F.base64);var $=new x(E,z,F);this.files[E]=$}var o=n("./utf8"),a=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),d=n("./defaults"),m=n("./compressedObject"),x=n("./zipObject"),h=n("./generate"),v=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),b=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var D=E.lastIndexOf("/");return 0<D?E.substring(0,D):""},f=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},g=function(E,D){return D=D!==void 0?D:d.createFolders,E=f(E),this.files[E]||i.call(this,E,null,{dir:!0,createFolders:D}),this.files[E]};function k(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var D,T,L;for(D in this.files)L=this.files[D],(T=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&E(T,L)},filter:function(E){var D=[];return this.forEach(function(T,L){E(T,L)&&D.push(L)}),D},file:function(E,D,T){if(arguments.length!==1)return E=this.root+E,i.call(this,E,D,T),this;if(k(E)){var L=E;return this.filter(function(F,q){return!q.dir&&L.test(F)})}var M=this.files[this.root+E];return M&&!M.dir?M:null},folder:function(E){if(!E)return this;if(k(E))return this.filter(function(M,F){return F.dir&&E.test(M)});var D=this.root+E,T=g.call(this,D),L=this.clone();return L.root=T.name,L},remove:function(E){E=this.root+E;var D=this.files[E];if(D||(E.slice(-1)!=="/"&&(E+="/"),D=this.files[E]),D&&!D.dir)delete this.files[E];else for(var T=this.filter(function(M,F){return F.name.slice(0,E.length)===E}),L=0;L<T.length;L++)delete this.files[T[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var D,T={};try{if((T=a.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");a.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var L=T.comment||this.comment||"";D=h.generateWorker(this,T,L)}catch(M){(D=new c("error")).error(M)}return new u(D,T.type||"string",T.mimeType)},generateAsync:function(E,D){return this.generateInternalStream(E).accumulate(D)},generateNodeStream:function(E,D){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(D)}};r.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a);for(var c=0;c<this.data.length;c++)a[c]=255&a[c]}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var c=a.charCodeAt(0),u=a.charCodeAt(1),d=a.charCodeAt(2),m=a.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===c&&this.data[x+1]===u&&this.data[x+2]===d&&this.data[x+3]===m)return x-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var c=a.charCodeAt(0),u=a.charCodeAt(1),d=a.charCodeAt(2),m=a.charCodeAt(3),x=this.readData(4);return c===x[0]&&u===x[1]&&d===x[2]&&m===x[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var i=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var c,u=0;for(this.checkOffset(a),c=this.index+a-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=a,u},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,s){var i=n("./Uint8ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var i=n("./ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var i=n("../utils"),o=n("../support"),a=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(m){var x=i.getTypeOf(m);return i.checkSupport(x),x!=="string"||o.uint8array?x==="nodebuffer"?new u(m):o.uint8array?new d(i.transformTo("uint8array",m)):new a(i.transformTo("array",m)):new c(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var i=n("./GenericWorker"),o=n("../utils");function a(c){i.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(a,i),a.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var i=n("./GenericWorker"),o=n("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,i),a.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(a,o),a.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}o.prototype.processChunk.call(this,c)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(c){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=i.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}i.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(c){a.processChunk(c)}),o.on("end",function(){a.end()}),o.on("error",function(c){a.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=i},{}],29:[function(n,r,s){var i=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),c=n("../base64"),u=n("../support"),d=n("../external"),m=null;if(u.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(v,y){return new d.Promise(function(b,f){var g=[],k=v._internalType,N=v._outputType,E=v._mimeType;v.on("data",function(D,T){g.push(D),y&&y(T)}).on("error",function(D){g=[],f(D)}).on("end",function(){try{var D=function(T,L,M){switch(T){case"blob":return i.newBlob(i.transformTo("arraybuffer",L),M);case"base64":return c.encode(L);default:return i.transformTo(T,L)}}(N,function(T,L){var M,F=0,q=null,z=0;for(M=0;M<L.length;M++)z+=L[M].length;switch(T){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(q=new Uint8Array(z),M=0;M<L.length;M++)q.set(L[M],F),F+=L[M].length;return q;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+T+"'")}}(k,g),E);b(D)}catch(T){f(T)}g=[]}).resume()})}function h(v,y,b){var f=y;switch(y){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=y,this._mimeType=b,i.checkSupport(f),this._worker=v.pipe(new o(f)),v.lock()}catch(g){this._worker=new a("error"),this._worker.error(g)}}h.prototype={accumulate:function(v){return x(this,v)},on:function(v,y){var b=this;return v==="data"?this._worker.on(v,function(f){y.call(b,f.data,f.meta)}):this._worker.on(v,function(){i.delay(y,arguments,b)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var i=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function m(){c.call(this,"utf-8 decode"),this.leftOver=null}function x(){c.call(this,"utf-8 encode")}s.utf8encode=function(h){return o.nodebuffer?a.newBufferFrom(h,"utf-8"):function(v){var y,b,f,g,k,N=v.length,E=0;for(g=0;g<N;g++)(64512&(b=v.charCodeAt(g)))==55296&&g+1<N&&(64512&(f=v.charCodeAt(g+1)))==56320&&(b=65536+(b-55296<<10)+(f-56320),g++),E+=b<128?1:b<2048?2:b<65536?3:4;for(y=o.uint8array?new Uint8Array(E):new Array(E),g=k=0;k<E;g++)(64512&(b=v.charCodeAt(g)))==55296&&g+1<N&&(64512&(f=v.charCodeAt(g+1)))==56320&&(b=65536+(b-55296<<10)+(f-56320),g++),b<128?y[k++]=b:(b<2048?y[k++]=192|b>>>6:(b<65536?y[k++]=224|b>>>12:(y[k++]=240|b>>>18,y[k++]=128|b>>>12&63),y[k++]=128|b>>>6&63),y[k++]=128|63&b);return y}(h)},s.utf8decode=function(h){return o.nodebuffer?i.transformTo("nodebuffer",h).toString("utf-8"):function(v){var y,b,f,g,k=v.length,N=new Array(2*k);for(y=b=0;y<k;)if((f=v[y++])<128)N[b++]=f;else if(4<(g=u[f]))N[b++]=65533,y+=g-1;else{for(f&=g===2?31:g===3?15:7;1<g&&y<k;)f=f<<6|63&v[y++],g--;1<g?N[b++]=65533:f<65536?N[b++]=f:(f-=65536,N[b++]=55296|f>>10&1023,N[b++]=56320|1023&f)}return N.length!==b&&(N.subarray?N=N.subarray(0,b):N.length=b),i.applyFromCharCode(N)}(h=i.transformTo(o.uint8array?"uint8array":"array",h))},i.inherits(m,c),m.prototype.processChunk=function(h){var v=i.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=v;(v=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),v.set(y,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var b=function(g,k){var N;for((k=k||g.length)>g.length&&(k=g.length),N=k-1;0<=N&&(192&g[N])==128;)N--;return N<0||N===0?k:N+u[g[N]]>k?N:k}(v),f=v;b!==v.length&&(o.uint8array?(f=v.subarray(0,b),this.leftOver=v.subarray(b,v.length)):(f=v.slice(0,b),this.leftOver=v.slice(b,v.length))),this.push({data:s.utf8decode(f),meta:h.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=m,i.inherits(x,c),x.prototype.processChunk=function(h){this.push({data:s.utf8encode(h.data),meta:h.meta})},s.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var i=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),c=n("./external");function u(y){return y}function d(y,b){for(var f=0;f<y.length;++f)b[f]=255&y.charCodeAt(f);return b}n("setimmediate"),s.newBlob=function(y,b){s.checkSupport("blob");try{return new Blob([y],{type:b})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(y),f.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(y,b,f){var g=[],k=0,N=y.length;if(N<=f)return String.fromCharCode.apply(null,y);for(;k<N;)b==="array"||b==="nodebuffer"?g.push(String.fromCharCode.apply(null,y.slice(k,Math.min(k+f,N)))):g.push(String.fromCharCode.apply(null,y.subarray(k,Math.min(k+f,N)))),k+=f;return g.join("")},stringifyByChar:function(y){for(var b="",f=0;f<y.length;f++)b+=String.fromCharCode(y[f]);return b},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function x(y){var b=65536,f=s.getTypeOf(y),g=!0;if(f==="uint8array"?g=m.applyCanBeUsed.uint8array:f==="nodebuffer"&&(g=m.applyCanBeUsed.nodebuffer),g)for(;1<b;)try{return m.stringifyByChunk(y,f,b)}catch{b=Math.floor(b/2)}return m.stringifyByChar(y)}function h(y,b){for(var f=0;f<y.length;f++)b[f]=y[f];return b}s.applyFromCharCode=x;var v={};v.string={string:u,array:function(y){return d(y,new Array(y.length))},arraybuffer:function(y){return v.string.uint8array(y).buffer},uint8array:function(y){return d(y,new Uint8Array(y.length))},nodebuffer:function(y){return d(y,a.allocBuffer(y.length))}},v.array={string:x,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},v.arraybuffer={string:function(y){return x(new Uint8Array(y))},array:function(y){return h(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},v.uint8array={string:x,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return a.newBufferFrom(y)}},v.nodebuffer={string:x,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return v.nodebuffer.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:u},s.transformTo=function(y,b){if(b=b||"",!y)return b;s.checkSupport(y);var f=s.getTypeOf(b);return v[f][y](b)},s.resolve=function(y){for(var b=y.split("/"),f=[],g=0;g<b.length;g++){var k=b[g];k==="."||k===""&&g!==0&&g!==b.length-1||(k===".."?f.pop():f.push(k))}return f.join("/")},s.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(y)?"nodebuffer":i.uint8array&&y instanceof Uint8Array?"uint8array":i.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(y){if(!i[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(y){var b,f,g="";for(f=0;f<(y||"").length;f++)g+="\\x"+((b=y.charCodeAt(f))<16?"0":"")+b.toString(16).toUpperCase();return g},s.delay=function(y,b,f){setImmediate(function(){y.apply(f||null,b||[])})},s.inherits=function(y,b){function f(){}f.prototype=b.prototype,y.prototype=new f},s.extend=function(){var y,b,f={};for(y=0;y<arguments.length;y++)for(b in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],b)&&f[b]===void 0&&(f[b]=arguments[y][b]);return f},s.prepareContent=function(y,b,f,g,k){return c.Promise.resolve(b).then(function(N){return i.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new c.Promise(function(E,D){var T=new FileReader;T.onload=function(L){E(L.target.result)},T.onerror=function(L){D(L.target.error)},T.readAsArrayBuffer(N)}):N}).then(function(N){var E=s.getTypeOf(N);return E?(E==="arraybuffer"?N=s.transformTo("uint8array",N):E==="string"&&(k?N=o.decode(N):f&&g!==!0&&(N=function(D){return d(D,i.uint8array?new Uint8Array(D.length):new Array(D.length))}(N))),N):c.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),c=n("./zipEntry"),u=n("./support");function d(m){this.files=[],this.loadOptions=m}d.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(x)+", expected "+o.pretty(m)+")")}},isSignature:function(m,x){var h=this.reader.index;this.reader.setIndex(m);var v=this.reader.readString(4)===x;return this.reader.setIndex(h),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),x=u.uint8array?"uint8array":"array",h=o.transformTo(x,m);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,x,h,v=this.zip64EndOfCentralSize-44;0<v;)m=this.reader.readInt(2),x=this.reader.readInt(4),h=this.reader.readData(x),this.zip64ExtensibleData[m]={id:m,length:x,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,x;for(m=0;m<this.files.length;m++)x=this.files[m],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(m=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var x=m;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var v=x-h;if(0<v)this.isSignature(x,a.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(m){this.reader=i(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),d=n("./compressions"),m=n("./support");function x(h,v){this.options=h,this.loadOptions=v}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var v,y;if(h.skip(22),this.fileNameLength=h.readInt(2),y=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(b){for(var f in d)if(Object.prototype.hasOwnProperty.call(d,f)&&d[f].magic===b)return d[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,v,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var v=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(v),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var v,y,b,f=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<f;)v=h.readInt(2),y=h.readInt(2),b=h.readData(y),this.extraFields[v]={id:v,length:y,value:b};h.setIndex(f)},handleUTF8:function(){var h=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var y=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var f=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var v=i(h.value);return v.readInt(1)!==1||c(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var v=i(h.value);return v.readInt(1)!==1||c(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(h.length-5))}return null}},r.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function i(v,y,b){this.name=v,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=y,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),d=n("./stream/GenericWorker");i.prototype={internalStream:function(v){var y=null,b="string";try{if(!v)throw new Error("No output type specified.");var f=(b=v.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),y=this._decompressWorker();var g=!this._dataBinary;g&&!f&&(y=y.pipe(new c.Utf8EncodeWorker)),!g&&f&&(y=y.pipe(new c.Utf8DecodeWorker))}catch(k){(y=new d("error")).error(k)}return new o(y,b,"")},async:function(v,y){return this.internalStream(v).accumulate(y)},nodeStream:function(v,y){return this.internalStream(v||"nodebuffer").toNodejsStream(y)},_compressWorker:function(v,y){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(b,v,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new a(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<m.length;h++)i.prototype[m[h]]=x;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(i){var o,a,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var u=0,d=new c(v),m=i.document.createTextNode("");d.observe(m,{characterData:!0}),o=function(){m.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var y=i.document.createElement("script");y.onreadystatechange=function(){v(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},i.document.documentElement.appendChild(y)}:function(){setTimeout(v,0)};else{var x=new i.MessageChannel;x.port1.onmessage=v,o=function(){x.port2.postMessage(0)}}var h=[];function v(){var y,b;a=!0;for(var f=h.length;f;){for(b=h,h=[],y=-1;++y<f;)b[y]();f=h.length}a=!1}r.exports=function(y){h.push(y)!==1||a||o()}}).call(this,typeof lo<"u"?lo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var i=n("immediate");function o(){}var a={},c=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function m(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,f!==o&&y(this,f)}function x(f,g,k){this.promise=f,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function h(f,g,k){i(function(){var N;try{N=g(k)}catch(E){return a.reject(f,E)}N===f?a.reject(f,new TypeError("Cannot resolve promise with itself")):a.resolve(f,N)})}function v(f){var g=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof g=="function")return function(){g.apply(f,arguments)}}function y(f,g){var k=!1;function N(T){k||(k=!0,a.reject(f,T))}function E(T){k||(k=!0,a.resolve(f,T))}var D=b(function(){g(E,N)});D.status==="error"&&N(D.value)}function b(f,g){var k={};try{k.value=f(g),k.status="success"}catch(N){k.status="error",k.value=N}return k}(r.exports=m).prototype.finally=function(f){if(typeof f!="function")return this;var g=this.constructor;return this.then(function(k){return g.resolve(f()).then(function(){return k})},function(k){return g.resolve(f()).then(function(){throw k})})},m.prototype.catch=function(f){return this.then(null,f)},m.prototype.then=function(f,g){if(typeof f!="function"&&this.state===u||typeof g!="function"&&this.state===c)return this;var k=new this.constructor(o);return this.state!==d?h(k,this.state===u?f:g,this.outcome):this.queue.push(new x(k,f,g)),k},x.prototype.callFulfilled=function(f){a.resolve(this.promise,f)},x.prototype.otherCallFulfilled=function(f){h(this.promise,this.onFulfilled,f)},x.prototype.callRejected=function(f){a.reject(this.promise,f)},x.prototype.otherCallRejected=function(f){h(this.promise,this.onRejected,f)},a.resolve=function(f,g){var k=b(v,g);if(k.status==="error")return a.reject(f,k.value);var N=k.value;if(N)y(f,N);else{f.state=u,f.outcome=g;for(var E=-1,D=f.queue.length;++E<D;)f.queue[E].callFulfilled(g)}return f},a.reject=function(f,g){f.state=c,f.outcome=g;for(var k=-1,N=f.queue.length;++k<N;)f.queue[k].callRejected(g);return f},m.resolve=function(f){return f instanceof this?f:a.resolve(new this(o),f)},m.reject=function(f){var g=new this(o);return a.reject(g,f)},m.all=function(f){var g=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=f.length,N=!1;if(!k)return this.resolve([]);for(var E=new Array(k),D=0,T=-1,L=new this(o);++T<k;)M(f[T],T);return L;function M(F,q){g.resolve(F).then(function(z){E[q]=z,++D!==k||N||(N=!0,a.resolve(L,E))},function(z){N||(N=!0,a.reject(L,z))})}},m.race=function(f){var g=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=f.length,N=!1;if(!k)return this.resolve([]);for(var E=-1,D=new this(o);++E<k;)T=f[E],g.resolve(T).then(function(L){N||(N=!0,a.resolve(D,L))},function(L){N||(N=!0,a.reject(D,L))});var T;return D}},{immediate:36}],38:[function(n,r,s){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var i=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=Object.prototype.toString,m=0,x=-1,h=0,v=8;function y(f){if(!(this instanceof y))return new y(f);this.options=o.assign({level:x,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},f||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var k=i.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(k!==m)throw new Error(c[k]);if(g.header&&i.deflateSetHeader(this.strm,g.header),g.dictionary){var N;if(N=typeof g.dictionary=="string"?a.string2buf(g.dictionary):d.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(k=i.deflateSetDictionary(this.strm,N))!==m)throw new Error(c[k]);this._dict_set=!0}}function b(f,g){var k=new y(g);if(k.push(f,!0),k.err)throw k.msg||c[k.err];return k.result}y.prototype.push=function(f,g){var k,N,E=this.strm,D=this.options.chunkSize;if(this.ended)return!1;N=g===~~g?g:g===!0?4:0,typeof f=="string"?E.input=a.string2buf(f):d.call(f)==="[object ArrayBuffer]"?E.input=new Uint8Array(f):E.input=f,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(D),E.next_out=0,E.avail_out=D),(k=i.deflate(E,N))!==1&&k!==m)return this.onEnd(k),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||N!==4&&N!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(E.output,E.next_out))):this.onData(o.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&k!==1);return N===4?(k=i.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===m):N!==2||(this.onEnd(m),!(E.avail_out=0))},y.prototype.onData=function(f){this.chunks.push(f)},y.prototype.onEnd=function(f){f===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},s.Deflate=y,s.deflate=b,s.deflateRaw=function(f,g){return(g=g||{}).raw=!0,b(f,g)},s.gzip=function(f,g){return(g=g||{}).gzip=!0,b(f,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var i=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),d=n("./zlib/zstream"),m=n("./zlib/gzheader"),x=Object.prototype.toString;function h(y){if(!(this instanceof h))return new h(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||y&&y.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var f=i.inflateInit2(this.strm,b.windowBits);if(f!==c.Z_OK)throw new Error(u[f]);this.header=new m,i.inflateGetHeader(this.strm,this.header)}function v(y,b){var f=new h(b);if(f.push(y,!0),f.err)throw f.msg||u[f.err];return f.result}h.prototype.push=function(y,b){var f,g,k,N,E,D,T=this.strm,L=this.options.chunkSize,M=this.options.dictionary,F=!1;if(this.ended)return!1;g=b===~~b?b:b===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof y=="string"?T.input=a.binstring2buf(y):x.call(y)==="[object ArrayBuffer]"?T.input=new Uint8Array(y):T.input=y,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new o.Buf8(L),T.next_out=0,T.avail_out=L),(f=i.inflate(T,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&M&&(D=typeof M=="string"?a.string2buf(M):x.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,f=i.inflateSetDictionary(this.strm,D)),f===c.Z_BUF_ERROR&&F===!0&&(f=c.Z_OK,F=!1),f!==c.Z_STREAM_END&&f!==c.Z_OK)return this.onEnd(f),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&f!==c.Z_STREAM_END&&(T.avail_in!==0||g!==c.Z_FINISH&&g!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=a.utf8border(T.output,T.next_out),N=T.next_out-k,E=a.buf2string(T.output,k),T.next_out=N,T.avail_out=L-N,N&&o.arraySet(T.output,T.output,k,N,0),this.onData(E)):this.onData(o.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(F=!0)}while((0<T.avail_in||T.avail_out===0)&&f!==c.Z_STREAM_END);return f===c.Z_STREAM_END&&(g=c.Z_FINISH),g===c.Z_FINISH?(f=i.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===c.Z_OK):g!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(T.avail_out=0))},h.prototype.onData=function(y){this.chunks.push(y)},h.prototype.onEnd=function(y){y===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},s.Inflate=h,s.inflate=v,s.inflateRaw=function(y,b){return(b=b||{}).raw=!0,v(y,b)},s.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var m in d)d.hasOwnProperty(m)&&(c[m]=d[m])}}return c},s.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var o={arraySet:function(c,u,d,m,x){if(u.subarray&&c.subarray)c.set(u.subarray(d,d+m),x);else for(var h=0;h<m;h++)c[x+h]=u[d+h]},flattenChunks:function(c){var u,d,m,x,h,v;for(u=m=0,d=c.length;u<d;u++)m+=c[u].length;for(v=new Uint8Array(m),u=x=0,d=c.length;u<d;u++)h=c[u],v.set(h,x),x+=h.length;return v}},a={arraySet:function(c,u,d,m,x){for(var h=0;h<m;h++)c[x+h]=u[d+h]},flattenChunks:function(c){return[].concat.apply([],c)}};s.setTyped=function(c){c?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(n,r,s){var i=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var c=new i.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(m,x){if(x<65537&&(m.subarray&&a||!m.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(m,x));for(var h="",v=0;v<x;v++)h+=String.fromCharCode(m[v]);return h}c[254]=c[254]=1,s.string2buf=function(m){var x,h,v,y,b,f=m.length,g=0;for(y=0;y<f;y++)(64512&(h=m.charCodeAt(y)))==55296&&y+1<f&&(64512&(v=m.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),y++),g+=h<128?1:h<2048?2:h<65536?3:4;for(x=new i.Buf8(g),y=b=0;b<g;y++)(64512&(h=m.charCodeAt(y)))==55296&&y+1<f&&(64512&(v=m.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),y++),h<128?x[b++]=h:(h<2048?x[b++]=192|h>>>6:(h<65536?x[b++]=224|h>>>12:(x[b++]=240|h>>>18,x[b++]=128|h>>>12&63),x[b++]=128|h>>>6&63),x[b++]=128|63&h);return x},s.buf2binstring=function(m){return d(m,m.length)},s.binstring2buf=function(m){for(var x=new i.Buf8(m.length),h=0,v=x.length;h<v;h++)x[h]=m.charCodeAt(h);return x},s.buf2string=function(m,x){var h,v,y,b,f=x||m.length,g=new Array(2*f);for(h=v=0;h<f;)if((y=m[h++])<128)g[v++]=y;else if(4<(b=c[y]))g[v++]=65533,h+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&h<f;)y=y<<6|63&m[h++],b--;1<b?g[v++]=65533:y<65536?g[v++]=y:(y-=65536,g[v++]=55296|y>>10&1023,g[v++]=56320|1023&y)}return d(g,v)},s.utf8border=function(m,x){var h;for((x=x||m.length)>m.length&&(x=m.length),h=x-1;0<=h&&(192&m[h])==128;)h--;return h<0||h===0?x:h+c[m[h]]>x?h:x}},{"./common":41}],43:[function(n,r,s){r.exports=function(i,o,a,c){for(var u=65535&i|0,d=i>>>16&65535|0,m=0;a!==0;){for(a-=m=2e3<a?2e3:a;d=d+(u=u+o[c++]|0)|0,--m;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var i=function(){for(var o,a=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[c]=o}return a}();r.exports=function(o,a,c,u){var d=i,m=u+c;o^=-1;for(var x=u;x<m;x++)o=o>>>8^d[255&(o^a[x])];return-1^o}},{}],46:[function(n,r,s){var i,o=n("../utils/common"),a=n("./trees"),c=n("./adler32"),u=n("./crc32"),d=n("./messages"),m=0,x=4,h=0,v=-2,y=-1,b=4,f=2,g=8,k=9,N=286,E=30,D=19,T=2*N+1,L=15,M=3,F=258,q=F+M+1,z=42,$=113,p=1,R=2,W=3,H=4;function G(w,ee){return w.msg=d[ee],ee}function I(w){return(w<<1)-(4<w?9:0)}function Y(w){for(var ee=w.length;0<=--ee;)w[ee]=0}function A(w){var ee=w.state,Q=ee.pending;Q>w.avail_out&&(Q=w.avail_out),Q!==0&&(o.arraySet(w.output,ee.pending_buf,ee.pending_out,Q,w.next_out),w.next_out+=Q,ee.pending_out+=Q,w.total_out+=Q,w.avail_out-=Q,ee.pending-=Q,ee.pending===0&&(ee.pending_out=0))}function P(w,ee){a._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,ee),w.block_start=w.strstart,A(w.strm)}function le(w,ee){w.pending_buf[w.pending++]=ee}function ne(w,ee){w.pending_buf[w.pending++]=ee>>>8&255,w.pending_buf[w.pending++]=255&ee}function J(w,ee){var Q,S,_=w.max_chain_length,O=w.strstart,U=w.prev_length,oe=w.nice_match,X=w.strstart>w.w_size-q?w.strstart-(w.w_size-q):0,me=w.window,be=w.w_mask,ge=w.prev,Ae=w.strstart+F,Be=me[O+U-1],Re=me[O+U];w.prev_length>=w.good_match&&(_>>=2),oe>w.lookahead&&(oe=w.lookahead);do if(me[(Q=ee)+U]===Re&&me[Q+U-1]===Be&&me[Q]===me[O]&&me[++Q]===me[O+1]){O+=2,Q++;do;while(me[++O]===me[++Q]&&me[++O]===me[++Q]&&me[++O]===me[++Q]&&me[++O]===me[++Q]&&me[++O]===me[++Q]&&me[++O]===me[++Q]&&me[++O]===me[++Q]&&me[++O]===me[++Q]&&O<Ae);if(S=F-(Ae-O),O=Ae-F,U<S){if(w.match_start=ee,oe<=(U=S))break;Be=me[O+U-1],Re=me[O+U]}}while((ee=ge[ee&be])>X&&--_!=0);return U<=w.lookahead?U:w.lookahead}function ve(w){var ee,Q,S,_,O,U,oe,X,me,be,ge=w.w_size;do{if(_=w.window_size-w.lookahead-w.strstart,w.strstart>=ge+(ge-q)){for(o.arraySet(w.window,w.window,ge,ge,0),w.match_start-=ge,w.strstart-=ge,w.block_start-=ge,ee=Q=w.hash_size;S=w.head[--ee],w.head[ee]=ge<=S?S-ge:0,--Q;);for(ee=Q=ge;S=w.prev[--ee],w.prev[ee]=ge<=S?S-ge:0,--Q;);_+=ge}if(w.strm.avail_in===0)break;if(U=w.strm,oe=w.window,X=w.strstart+w.lookahead,me=_,be=void 0,be=U.avail_in,me<be&&(be=me),Q=be===0?0:(U.avail_in-=be,o.arraySet(oe,U.input,U.next_in,be,X),U.state.wrap===1?U.adler=c(U.adler,oe,be,X):U.state.wrap===2&&(U.adler=u(U.adler,oe,be,X)),U.next_in+=be,U.total_in+=be,be),w.lookahead+=Q,w.lookahead+w.insert>=M)for(O=w.strstart-w.insert,w.ins_h=w.window[O],w.ins_h=(w.ins_h<<w.hash_shift^w.window[O+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[O+M-1])&w.hash_mask,w.prev[O&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=O,O++,w.insert--,!(w.lookahead+w.insert<M)););}while(w.lookahead<q&&w.strm.avail_in!==0)}function Ce(w,ee){for(var Q,S;;){if(w.lookahead<q){if(ve(w),w.lookahead<q&&ee===m)return p;if(w.lookahead===0)break}if(Q=0,w.lookahead>=M&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+M-1])&w.hash_mask,Q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),Q!==0&&w.strstart-Q<=w.w_size-q&&(w.match_length=J(w,Q)),w.match_length>=M)if(S=a._tr_tally(w,w.strstart-w.match_start,w.match_length-M),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=M){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+M-1])&w.hash_mask,Q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else S=a._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(S&&(P(w,!1),w.strm.avail_out===0))return p}return w.insert=w.strstart<M-1?w.strstart:M-1,ee===x?(P(w,!0),w.strm.avail_out===0?W:H):w.last_lit&&(P(w,!1),w.strm.avail_out===0)?p:R}function Ee(w,ee){for(var Q,S,_;;){if(w.lookahead<q){if(ve(w),w.lookahead<q&&ee===m)return p;if(w.lookahead===0)break}if(Q=0,w.lookahead>=M&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+M-1])&w.hash_mask,Q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=M-1,Q!==0&&w.prev_length<w.max_lazy_match&&w.strstart-Q<=w.w_size-q&&(w.match_length=J(w,Q),w.match_length<=5&&(w.strategy===1||w.match_length===M&&4096<w.strstart-w.match_start)&&(w.match_length=M-1)),w.prev_length>=M&&w.match_length<=w.prev_length){for(_=w.strstart+w.lookahead-M,S=a._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-M),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=_&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+M-1])&w.hash_mask,Q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=M-1,w.strstart++,S&&(P(w,!1),w.strm.avail_out===0))return p}else if(w.match_available){if((S=a._tr_tally(w,0,w.window[w.strstart-1]))&&P(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return p}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(S=a._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<M-1?w.strstart:M-1,ee===x?(P(w,!0),w.strm.avail_out===0?W:H):w.last_lit&&(P(w,!1),w.strm.avail_out===0)?p:R}function je(w,ee,Q,S,_){this.good_length=w,this.max_lazy=ee,this.nice_length=Q,this.max_chain=S,this.func=_}function re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*T),this.dyn_dtree=new o.Buf16(2*(2*E+1)),this.bl_tree=new o.Buf16(2*(2*D+1)),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(L+1),this.heap=new o.Buf16(2*N+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*N+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function he(w){var ee;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=f,(ee=w.state).pending=0,ee.pending_out=0,ee.wrap<0&&(ee.wrap=-ee.wrap),ee.status=ee.wrap?z:$,w.adler=ee.wrap===2?0:1,ee.last_flush=m,a._tr_init(ee),h):G(w,v)}function te(w){var ee=he(w);return ee===h&&function(Q){Q.window_size=2*Q.w_size,Y(Q.head),Q.max_lazy_match=i[Q.level].max_lazy,Q.good_match=i[Q.level].good_length,Q.nice_match=i[Q.level].nice_length,Q.max_chain_length=i[Q.level].max_chain,Q.strstart=0,Q.block_start=0,Q.lookahead=0,Q.insert=0,Q.match_length=Q.prev_length=M-1,Q.match_available=0,Q.ins_h=0}(w.state),ee}function ye(w,ee,Q,S,_,O){if(!w)return v;var U=1;if(ee===y&&(ee=6),S<0?(U=0,S=-S):15<S&&(U=2,S-=16),_<1||k<_||Q!==g||S<8||15<S||ee<0||9<ee||O<0||b<O)return G(w,v);S===8&&(S=9);var oe=new re;return(w.state=oe).strm=w,oe.wrap=U,oe.gzhead=null,oe.w_bits=S,oe.w_size=1<<oe.w_bits,oe.w_mask=oe.w_size-1,oe.hash_bits=_+7,oe.hash_size=1<<oe.hash_bits,oe.hash_mask=oe.hash_size-1,oe.hash_shift=~~((oe.hash_bits+M-1)/M),oe.window=new o.Buf8(2*oe.w_size),oe.head=new o.Buf16(oe.hash_size),oe.prev=new o.Buf16(oe.w_size),oe.lit_bufsize=1<<_+6,oe.pending_buf_size=4*oe.lit_bufsize,oe.pending_buf=new o.Buf8(oe.pending_buf_size),oe.d_buf=1*oe.lit_bufsize,oe.l_buf=3*oe.lit_bufsize,oe.level=ee,oe.strategy=O,oe.method=Q,te(w)}i=[new je(0,0,0,0,function(w,ee){var Q=65535;for(Q>w.pending_buf_size-5&&(Q=w.pending_buf_size-5);;){if(w.lookahead<=1){if(ve(w),w.lookahead===0&&ee===m)return p;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var S=w.block_start+Q;if((w.strstart===0||w.strstart>=S)&&(w.lookahead=w.strstart-S,w.strstart=S,P(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-q&&(P(w,!1),w.strm.avail_out===0))return p}return w.insert=0,ee===x?(P(w,!0),w.strm.avail_out===0?W:H):(w.strstart>w.block_start&&(P(w,!1),w.strm.avail_out),p)}),new je(4,4,8,4,Ce),new je(4,5,16,8,Ce),new je(4,6,32,32,Ce),new je(4,4,16,16,Ee),new je(8,16,32,32,Ee),new je(8,16,128,128,Ee),new je(8,32,128,256,Ee),new je(32,128,258,1024,Ee),new je(32,258,258,4096,Ee)],s.deflateInit=function(w,ee){return ye(w,ee,g,15,8,0)},s.deflateInit2=ye,s.deflateReset=te,s.deflateResetKeep=he,s.deflateSetHeader=function(w,ee){return w&&w.state?w.state.wrap!==2?v:(w.state.gzhead=ee,h):v},s.deflate=function(w,ee){var Q,S,_,O;if(!w||!w.state||5<ee||ee<0)return w?G(w,v):v;if(S=w.state,!w.output||!w.input&&w.avail_in!==0||S.status===666&&ee!==x)return G(w,w.avail_out===0?-5:v);if(S.strm=w,Q=S.last_flush,S.last_flush=ee,S.status===z)if(S.wrap===2)w.adler=0,le(S,31),le(S,139),le(S,8),S.gzhead?(le(S,(S.gzhead.text?1:0)+(S.gzhead.hcrc?2:0)+(S.gzhead.extra?4:0)+(S.gzhead.name?8:0)+(S.gzhead.comment?16:0)),le(S,255&S.gzhead.time),le(S,S.gzhead.time>>8&255),le(S,S.gzhead.time>>16&255),le(S,S.gzhead.time>>24&255),le(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),le(S,255&S.gzhead.os),S.gzhead.extra&&S.gzhead.extra.length&&(le(S,255&S.gzhead.extra.length),le(S,S.gzhead.extra.length>>8&255)),S.gzhead.hcrc&&(w.adler=u(w.adler,S.pending_buf,S.pending,0)),S.gzindex=0,S.status=69):(le(S,0),le(S,0),le(S,0),le(S,0),le(S,0),le(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),le(S,3),S.status=$);else{var U=g+(S.w_bits-8<<4)<<8;U|=(2<=S.strategy||S.level<2?0:S.level<6?1:S.level===6?2:3)<<6,S.strstart!==0&&(U|=32),U+=31-U%31,S.status=$,ne(S,U),S.strstart!==0&&(ne(S,w.adler>>>16),ne(S,65535&w.adler)),w.adler=1}if(S.status===69)if(S.gzhead.extra){for(_=S.pending;S.gzindex<(65535&S.gzhead.extra.length)&&(S.pending!==S.pending_buf_size||(S.gzhead.hcrc&&S.pending>_&&(w.adler=u(w.adler,S.pending_buf,S.pending-_,_)),A(w),_=S.pending,S.pending!==S.pending_buf_size));)le(S,255&S.gzhead.extra[S.gzindex]),S.gzindex++;S.gzhead.hcrc&&S.pending>_&&(w.adler=u(w.adler,S.pending_buf,S.pending-_,_)),S.gzindex===S.gzhead.extra.length&&(S.gzindex=0,S.status=73)}else S.status=73;if(S.status===73)if(S.gzhead.name){_=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>_&&(w.adler=u(w.adler,S.pending_buf,S.pending-_,_)),A(w),_=S.pending,S.pending===S.pending_buf_size)){O=1;break}O=S.gzindex<S.gzhead.name.length?255&S.gzhead.name.charCodeAt(S.gzindex++):0,le(S,O)}while(O!==0);S.gzhead.hcrc&&S.pending>_&&(w.adler=u(w.adler,S.pending_buf,S.pending-_,_)),O===0&&(S.gzindex=0,S.status=91)}else S.status=91;if(S.status===91)if(S.gzhead.comment){_=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>_&&(w.adler=u(w.adler,S.pending_buf,S.pending-_,_)),A(w),_=S.pending,S.pending===S.pending_buf_size)){O=1;break}O=S.gzindex<S.gzhead.comment.length?255&S.gzhead.comment.charCodeAt(S.gzindex++):0,le(S,O)}while(O!==0);S.gzhead.hcrc&&S.pending>_&&(w.adler=u(w.adler,S.pending_buf,S.pending-_,_)),O===0&&(S.status=103)}else S.status=103;if(S.status===103&&(S.gzhead.hcrc?(S.pending+2>S.pending_buf_size&&A(w),S.pending+2<=S.pending_buf_size&&(le(S,255&w.adler),le(S,w.adler>>8&255),w.adler=0,S.status=$)):S.status=$),S.pending!==0){if(A(w),w.avail_out===0)return S.last_flush=-1,h}else if(w.avail_in===0&&I(ee)<=I(Q)&&ee!==x)return G(w,-5);if(S.status===666&&w.avail_in!==0)return G(w,-5);if(w.avail_in!==0||S.lookahead!==0||ee!==m&&S.status!==666){var oe=S.strategy===2?function(X,me){for(var be;;){if(X.lookahead===0&&(ve(X),X.lookahead===0)){if(me===m)return p;break}if(X.match_length=0,be=a._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++,be&&(P(X,!1),X.strm.avail_out===0))return p}return X.insert=0,me===x?(P(X,!0),X.strm.avail_out===0?W:H):X.last_lit&&(P(X,!1),X.strm.avail_out===0)?p:R}(S,ee):S.strategy===3?function(X,me){for(var be,ge,Ae,Be,Re=X.window;;){if(X.lookahead<=F){if(ve(X),X.lookahead<=F&&me===m)return p;if(X.lookahead===0)break}if(X.match_length=0,X.lookahead>=M&&0<X.strstart&&(ge=Re[Ae=X.strstart-1])===Re[++Ae]&&ge===Re[++Ae]&&ge===Re[++Ae]){Be=X.strstart+F;do;while(ge===Re[++Ae]&&ge===Re[++Ae]&&ge===Re[++Ae]&&ge===Re[++Ae]&&ge===Re[++Ae]&&ge===Re[++Ae]&&ge===Re[++Ae]&&ge===Re[++Ae]&&Ae<Be);X.match_length=F-(Be-Ae),X.match_length>X.lookahead&&(X.match_length=X.lookahead)}if(X.match_length>=M?(be=a._tr_tally(X,1,X.match_length-M),X.lookahead-=X.match_length,X.strstart+=X.match_length,X.match_length=0):(be=a._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++),be&&(P(X,!1),X.strm.avail_out===0))return p}return X.insert=0,me===x?(P(X,!0),X.strm.avail_out===0?W:H):X.last_lit&&(P(X,!1),X.strm.avail_out===0)?p:R}(S,ee):i[S.level].func(S,ee);if(oe!==W&&oe!==H||(S.status=666),oe===p||oe===W)return w.avail_out===0&&(S.last_flush=-1),h;if(oe===R&&(ee===1?a._tr_align(S):ee!==5&&(a._tr_stored_block(S,0,0,!1),ee===3&&(Y(S.head),S.lookahead===0&&(S.strstart=0,S.block_start=0,S.insert=0))),A(w),w.avail_out===0))return S.last_flush=-1,h}return ee!==x?h:S.wrap<=0?1:(S.wrap===2?(le(S,255&w.adler),le(S,w.adler>>8&255),le(S,w.adler>>16&255),le(S,w.adler>>24&255),le(S,255&w.total_in),le(S,w.total_in>>8&255),le(S,w.total_in>>16&255),le(S,w.total_in>>24&255)):(ne(S,w.adler>>>16),ne(S,65535&w.adler)),A(w),0<S.wrap&&(S.wrap=-S.wrap),S.pending!==0?h:1)},s.deflateEnd=function(w){var ee;return w&&w.state?(ee=w.state.status)!==z&&ee!==69&&ee!==73&&ee!==91&&ee!==103&&ee!==$&&ee!==666?G(w,v):(w.state=null,ee===$?G(w,-3):h):v},s.deflateSetDictionary=function(w,ee){var Q,S,_,O,U,oe,X,me,be=ee.length;if(!w||!w.state||(O=(Q=w.state).wrap)===2||O===1&&Q.status!==z||Q.lookahead)return v;for(O===1&&(w.adler=c(w.adler,ee,be,0)),Q.wrap=0,be>=Q.w_size&&(O===0&&(Y(Q.head),Q.strstart=0,Q.block_start=0,Q.insert=0),me=new o.Buf8(Q.w_size),o.arraySet(me,ee,be-Q.w_size,Q.w_size,0),ee=me,be=Q.w_size),U=w.avail_in,oe=w.next_in,X=w.input,w.avail_in=be,w.next_in=0,w.input=ee,ve(Q);Q.lookahead>=M;){for(S=Q.strstart,_=Q.lookahead-(M-1);Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[S+M-1])&Q.hash_mask,Q.prev[S&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=S,S++,--_;);Q.strstart=S,Q.lookahead=M-1,ve(Q)}return Q.strstart+=Q.lookahead,Q.block_start=Q.strstart,Q.insert=Q.lookahead,Q.lookahead=0,Q.match_length=Q.prev_length=M-1,Q.match_available=0,w.next_in=oe,w.input=X,w.avail_in=U,Q.wrap=O,h},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(i,o){var a,c,u,d,m,x,h,v,y,b,f,g,k,N,E,D,T,L,M,F,q,z,$,p,R;a=i.state,c=i.next_in,p=i.input,u=c+(i.avail_in-5),d=i.next_out,R=i.output,m=d-(o-i.avail_out),x=d+(i.avail_out-257),h=a.dmax,v=a.wsize,y=a.whave,b=a.wnext,f=a.window,g=a.hold,k=a.bits,N=a.lencode,E=a.distcode,D=(1<<a.lenbits)-1,T=(1<<a.distbits)-1;e:do{k<15&&(g+=p[c++]<<k,k+=8,g+=p[c++]<<k,k+=8),L=N[g&D];t:for(;;){if(g>>>=M=L>>>24,k-=M,(M=L>>>16&255)===0)R[d++]=65535&L;else{if(!(16&M)){if(!(64&M)){L=N[(65535&L)+(g&(1<<M)-1)];continue t}if(32&M){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}F=65535&L,(M&=15)&&(k<M&&(g+=p[c++]<<k,k+=8),F+=g&(1<<M)-1,g>>>=M,k-=M),k<15&&(g+=p[c++]<<k,k+=8,g+=p[c++]<<k,k+=8),L=E[g&T];n:for(;;){if(g>>>=M=L>>>24,k-=M,!(16&(M=L>>>16&255))){if(!(64&M)){L=E[(65535&L)+(g&(1<<M)-1)];continue n}i.msg="invalid distance code",a.mode=30;break e}if(q=65535&L,k<(M&=15)&&(g+=p[c++]<<k,(k+=8)<M&&(g+=p[c++]<<k,k+=8)),h<(q+=g&(1<<M)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(g>>>=M,k-=M,(M=d-m)<q){if(y<(M=q-M)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if($=f,(z=0)===b){if(z+=v-M,M<F){for(F-=M;R[d++]=f[z++],--M;);z=d-q,$=R}}else if(b<M){if(z+=v+b-M,(M-=b)<F){for(F-=M;R[d++]=f[z++],--M;);if(z=0,b<F){for(F-=M=b;R[d++]=f[z++],--M;);z=d-q,$=R}}}else if(z+=b-M,M<F){for(F-=M;R[d++]=f[z++],--M;);z=d-q,$=R}for(;2<F;)R[d++]=$[z++],R[d++]=$[z++],R[d++]=$[z++],F-=3;F&&(R[d++]=$[z++],1<F&&(R[d++]=$[z++]))}else{for(z=d-q;R[d++]=R[z++],R[d++]=R[z++],R[d++]=R[z++],2<(F-=3););F&&(R[d++]=R[z++],1<F&&(R[d++]=R[z++]))}break}}break}}while(c<u&&d<x);c-=F=k>>3,g&=(1<<(k-=F<<3))-1,i.next_in=c,i.next_out=d,i.avail_in=c<u?u-c+5:5-(c-u),i.avail_out=d<x?x-d+257:257-(d-x),a.hold=g,a.bits=k}},{}],49:[function(n,r,s){var i=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),d=1,m=2,x=0,h=-2,v=1,y=852,b=592;function f(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(z){var $;return z&&z.state?($=z.state,z.total_in=z.total_out=$.total=0,z.msg="",$.wrap&&(z.adler=1&$.wrap),$.mode=v,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new i.Buf32(y),$.distcode=$.distdyn=new i.Buf32(b),$.sane=1,$.back=-1,x):h}function N(z){var $;return z&&z.state?(($=z.state).wsize=0,$.whave=0,$.wnext=0,k(z)):h}function E(z,$){var p,R;return z&&z.state?(R=z.state,$<0?(p=0,$=-$):(p=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?h:(R.window!==null&&R.wbits!==$&&(R.window=null),R.wrap=p,R.wbits=$,N(z))):h}function D(z,$){var p,R;return z?(R=new g,(z.state=R).window=null,(p=E(z,$))!==x&&(z.state=null),p):h}var T,L,M=!0;function F(z){if(M){var $;for(T=new i.Buf32(512),L=new i.Buf32(32),$=0;$<144;)z.lens[$++]=8;for(;$<256;)z.lens[$++]=9;for(;$<280;)z.lens[$++]=7;for(;$<288;)z.lens[$++]=8;for(u(d,z.lens,0,288,T,0,z.work,{bits:9}),$=0;$<32;)z.lens[$++]=5;u(m,z.lens,0,32,L,0,z.work,{bits:5}),M=!1}z.lencode=T,z.lenbits=9,z.distcode=L,z.distbits=5}function q(z,$,p,R){var W,H=z.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new i.Buf8(H.wsize)),R>=H.wsize?(i.arraySet(H.window,$,p-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(R<(W=H.wsize-H.wnext)&&(W=R),i.arraySet(H.window,$,p-R,W,H.wnext),(R-=W)?(i.arraySet(H.window,$,p-R,R,0),H.wnext=R,H.whave=H.wsize):(H.wnext+=W,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=W))),0}s.inflateReset=N,s.inflateReset2=E,s.inflateResetKeep=k,s.inflateInit=function(z){return D(z,15)},s.inflateInit2=D,s.inflate=function(z,$){var p,R,W,H,G,I,Y,A,P,le,ne,J,ve,Ce,Ee,je,re,he,te,ye,w,ee,Q,S,_=0,O=new i.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return h;(p=z.state).mode===12&&(p.mode=13),G=z.next_out,W=z.output,Y=z.avail_out,H=z.next_in,R=z.input,I=z.avail_in,A=p.hold,P=p.bits,le=I,ne=Y,ee=x;e:for(;;)switch(p.mode){case v:if(p.wrap===0){p.mode=13;break}for(;P<16;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}if(2&p.wrap&&A===35615){O[p.check=0]=255&A,O[1]=A>>>8&255,p.check=a(p.check,O,2,0),P=A=0,p.mode=2;break}if(p.flags=0,p.head&&(p.head.done=!1),!(1&p.wrap)||(((255&A)<<8)+(A>>8))%31){z.msg="incorrect header check",p.mode=30;break}if((15&A)!=8){z.msg="unknown compression method",p.mode=30;break}if(P-=4,w=8+(15&(A>>>=4)),p.wbits===0)p.wbits=w;else if(w>p.wbits){z.msg="invalid window size",p.mode=30;break}p.dmax=1<<w,z.adler=p.check=1,p.mode=512&A?10:12,P=A=0;break;case 2:for(;P<16;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}if(p.flags=A,(255&p.flags)!=8){z.msg="unknown compression method",p.mode=30;break}if(57344&p.flags){z.msg="unknown header flags set",p.mode=30;break}p.head&&(p.head.text=A>>8&1),512&p.flags&&(O[0]=255&A,O[1]=A>>>8&255,p.check=a(p.check,O,2,0)),P=A=0,p.mode=3;case 3:for(;P<32;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}p.head&&(p.head.time=A),512&p.flags&&(O[0]=255&A,O[1]=A>>>8&255,O[2]=A>>>16&255,O[3]=A>>>24&255,p.check=a(p.check,O,4,0)),P=A=0,p.mode=4;case 4:for(;P<16;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}p.head&&(p.head.xflags=255&A,p.head.os=A>>8),512&p.flags&&(O[0]=255&A,O[1]=A>>>8&255,p.check=a(p.check,O,2,0)),P=A=0,p.mode=5;case 5:if(1024&p.flags){for(;P<16;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}p.length=A,p.head&&(p.head.extra_len=A),512&p.flags&&(O[0]=255&A,O[1]=A>>>8&255,p.check=a(p.check,O,2,0)),P=A=0}else p.head&&(p.head.extra=null);p.mode=6;case 6:if(1024&p.flags&&(I<(J=p.length)&&(J=I),J&&(p.head&&(w=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Array(p.head.extra_len)),i.arraySet(p.head.extra,R,H,J,w)),512&p.flags&&(p.check=a(p.check,R,J,H)),I-=J,H+=J,p.length-=J),p.length))break e;p.length=0,p.mode=7;case 7:if(2048&p.flags){if(I===0)break e;for(J=0;w=R[H+J++],p.head&&w&&p.length<65536&&(p.head.name+=String.fromCharCode(w)),w&&J<I;);if(512&p.flags&&(p.check=a(p.check,R,J,H)),I-=J,H+=J,w)break e}else p.head&&(p.head.name=null);p.length=0,p.mode=8;case 8:if(4096&p.flags){if(I===0)break e;for(J=0;w=R[H+J++],p.head&&w&&p.length<65536&&(p.head.comment+=String.fromCharCode(w)),w&&J<I;);if(512&p.flags&&(p.check=a(p.check,R,J,H)),I-=J,H+=J,w)break e}else p.head&&(p.head.comment=null);p.mode=9;case 9:if(512&p.flags){for(;P<16;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}if(A!==(65535&p.check)){z.msg="header crc mismatch",p.mode=30;break}P=A=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),z.adler=p.check=0,p.mode=12;break;case 10:for(;P<32;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}z.adler=p.check=f(A),P=A=0,p.mode=11;case 11:if(p.havedict===0)return z.next_out=G,z.avail_out=Y,z.next_in=H,z.avail_in=I,p.hold=A,p.bits=P,2;z.adler=p.check=1,p.mode=12;case 12:if($===5||$===6)break e;case 13:if(p.last){A>>>=7&P,P-=7&P,p.mode=27;break}for(;P<3;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}switch(p.last=1&A,P-=1,3&(A>>>=1)){case 0:p.mode=14;break;case 1:if(F(p),p.mode=20,$!==6)break;A>>>=2,P-=2;break e;case 2:p.mode=17;break;case 3:z.msg="invalid block type",p.mode=30}A>>>=2,P-=2;break;case 14:for(A>>>=7&P,P-=7&P;P<32;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}if((65535&A)!=(A>>>16^65535)){z.msg="invalid stored block lengths",p.mode=30;break}if(p.length=65535&A,P=A=0,p.mode=15,$===6)break e;case 15:p.mode=16;case 16:if(J=p.length){if(I<J&&(J=I),Y<J&&(J=Y),J===0)break e;i.arraySet(W,R,H,J,G),I-=J,H+=J,Y-=J,G+=J,p.length-=J;break}p.mode=12;break;case 17:for(;P<14;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}if(p.nlen=257+(31&A),A>>>=5,P-=5,p.ndist=1+(31&A),A>>>=5,P-=5,p.ncode=4+(15&A),A>>>=4,P-=4,286<p.nlen||30<p.ndist){z.msg="too many length or distance symbols",p.mode=30;break}p.have=0,p.mode=18;case 18:for(;p.have<p.ncode;){for(;P<3;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}p.lens[U[p.have++]]=7&A,A>>>=3,P-=3}for(;p.have<19;)p.lens[U[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,Q={bits:p.lenbits},ee=u(0,p.lens,0,19,p.lencode,0,p.work,Q),p.lenbits=Q.bits,ee){z.msg="invalid code lengths set",p.mode=30;break}p.have=0,p.mode=19;case 19:for(;p.have<p.nlen+p.ndist;){for(;je=(_=p.lencode[A&(1<<p.lenbits)-1])>>>16&255,re=65535&_,!((Ee=_>>>24)<=P);){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}if(re<16)A>>>=Ee,P-=Ee,p.lens[p.have++]=re;else{if(re===16){for(S=Ee+2;P<S;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}if(A>>>=Ee,P-=Ee,p.have===0){z.msg="invalid bit length repeat",p.mode=30;break}w=p.lens[p.have-1],J=3+(3&A),A>>>=2,P-=2}else if(re===17){for(S=Ee+3;P<S;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}P-=Ee,w=0,J=3+(7&(A>>>=Ee)),A>>>=3,P-=3}else{for(S=Ee+7;P<S;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}P-=Ee,w=0,J=11+(127&(A>>>=Ee)),A>>>=7,P-=7}if(p.have+J>p.nlen+p.ndist){z.msg="invalid bit length repeat",p.mode=30;break}for(;J--;)p.lens[p.have++]=w}}if(p.mode===30)break;if(p.lens[256]===0){z.msg="invalid code -- missing end-of-block",p.mode=30;break}if(p.lenbits=9,Q={bits:p.lenbits},ee=u(d,p.lens,0,p.nlen,p.lencode,0,p.work,Q),p.lenbits=Q.bits,ee){z.msg="invalid literal/lengths set",p.mode=30;break}if(p.distbits=6,p.distcode=p.distdyn,Q={bits:p.distbits},ee=u(m,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,Q),p.distbits=Q.bits,ee){z.msg="invalid distances set",p.mode=30;break}if(p.mode=20,$===6)break e;case 20:p.mode=21;case 21:if(6<=I&&258<=Y){z.next_out=G,z.avail_out=Y,z.next_in=H,z.avail_in=I,p.hold=A,p.bits=P,c(z,ne),G=z.next_out,W=z.output,Y=z.avail_out,H=z.next_in,R=z.input,I=z.avail_in,A=p.hold,P=p.bits,p.mode===12&&(p.back=-1);break}for(p.back=0;je=(_=p.lencode[A&(1<<p.lenbits)-1])>>>16&255,re=65535&_,!((Ee=_>>>24)<=P);){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}if(je&&!(240&je)){for(he=Ee,te=je,ye=re;je=(_=p.lencode[ye+((A&(1<<he+te)-1)>>he)])>>>16&255,re=65535&_,!(he+(Ee=_>>>24)<=P);){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}A>>>=he,P-=he,p.back+=he}if(A>>>=Ee,P-=Ee,p.back+=Ee,p.length=re,je===0){p.mode=26;break}if(32&je){p.back=-1,p.mode=12;break}if(64&je){z.msg="invalid literal/length code",p.mode=30;break}p.extra=15&je,p.mode=22;case 22:if(p.extra){for(S=p.extra;P<S;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}p.length+=A&(1<<p.extra)-1,A>>>=p.extra,P-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=23;case 23:for(;je=(_=p.distcode[A&(1<<p.distbits)-1])>>>16&255,re=65535&_,!((Ee=_>>>24)<=P);){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}if(!(240&je)){for(he=Ee,te=je,ye=re;je=(_=p.distcode[ye+((A&(1<<he+te)-1)>>he)])>>>16&255,re=65535&_,!(he+(Ee=_>>>24)<=P);){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}A>>>=he,P-=he,p.back+=he}if(A>>>=Ee,P-=Ee,p.back+=Ee,64&je){z.msg="invalid distance code",p.mode=30;break}p.offset=re,p.extra=15&je,p.mode=24;case 24:if(p.extra){for(S=p.extra;P<S;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}p.offset+=A&(1<<p.extra)-1,A>>>=p.extra,P-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){z.msg="invalid distance too far back",p.mode=30;break}p.mode=25;case 25:if(Y===0)break e;if(J=ne-Y,p.offset>J){if((J=p.offset-J)>p.whave&&p.sane){z.msg="invalid distance too far back",p.mode=30;break}ve=J>p.wnext?(J-=p.wnext,p.wsize-J):p.wnext-J,J>p.length&&(J=p.length),Ce=p.window}else Ce=W,ve=G-p.offset,J=p.length;for(Y<J&&(J=Y),Y-=J,p.length-=J;W[G++]=Ce[ve++],--J;);p.length===0&&(p.mode=21);break;case 26:if(Y===0)break e;W[G++]=p.length,Y--,p.mode=21;break;case 27:if(p.wrap){for(;P<32;){if(I===0)break e;I--,A|=R[H++]<<P,P+=8}if(ne-=Y,z.total_out+=ne,p.total+=ne,ne&&(z.adler=p.check=p.flags?a(p.check,W,ne,G-ne):o(p.check,W,ne,G-ne)),ne=Y,(p.flags?A:f(A))!==p.check){z.msg="incorrect data check",p.mode=30;break}P=A=0}p.mode=28;case 28:if(p.wrap&&p.flags){for(;P<32;){if(I===0)break e;I--,A+=R[H++]<<P,P+=8}if(A!==(4294967295&p.total)){z.msg="incorrect length check",p.mode=30;break}P=A=0}p.mode=29;case 29:ee=1;break e;case 30:ee=-3;break e;case 31:return-4;case 32:default:return h}return z.next_out=G,z.avail_out=Y,z.next_in=H,z.avail_in=I,p.hold=A,p.bits=P,(p.wsize||ne!==z.avail_out&&p.mode<30&&(p.mode<27||$!==4))&&q(z,z.output,z.next_out,ne-z.avail_out)?(p.mode=31,-4):(le-=z.avail_in,ne-=z.avail_out,z.total_in+=le,z.total_out+=ne,p.total+=ne,p.wrap&&ne&&(z.adler=p.check=p.flags?a(p.check,W,ne,z.next_out-ne):o(p.check,W,ne,z.next_out-ne)),z.data_type=p.bits+(p.last?64:0)+(p.mode===12?128:0)+(p.mode===20||p.mode===15?256:0),(le==0&&ne===0||$===4)&&ee===x&&(ee=-5),ee)},s.inflateEnd=function(z){if(!z||!z.state)return h;var $=z.state;return $.window&&($.window=null),z.state=null,x},s.inflateGetHeader=function(z,$){var p;return z&&z.state&&2&(p=z.state).wrap?((p.head=$).done=!1,x):h},s.inflateSetDictionary=function(z,$){var p,R=$.length;return z&&z.state?(p=z.state).wrap!==0&&p.mode!==11?h:p.mode===11&&o(1,$,R,0)!==p.check?-3:q(z,$,R,R)?(p.mode=31,-4):(p.havedict=1,x):h},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var i=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,m,x,h,v,y,b,f){var g,k,N,E,D,T,L,M,F,q=f.bits,z=0,$=0,p=0,R=0,W=0,H=0,G=0,I=0,Y=0,A=0,P=null,le=0,ne=new i.Buf16(16),J=new i.Buf16(16),ve=null,Ce=0;for(z=0;z<=15;z++)ne[z]=0;for($=0;$<h;$++)ne[m[x+$]]++;for(W=q,R=15;1<=R&&ne[R]===0;R--);if(R<W&&(W=R),R===0)return v[y++]=20971520,v[y++]=20971520,f.bits=1,0;for(p=1;p<R&&ne[p]===0;p++);for(W<p&&(W=p),z=I=1;z<=15;z++)if(I<<=1,(I-=ne[z])<0)return-1;if(0<I&&(d===0||R!==1))return-1;for(J[1]=0,z=1;z<15;z++)J[z+1]=J[z]+ne[z];for($=0;$<h;$++)m[x+$]!==0&&(b[J[m[x+$]]++]=$);if(T=d===0?(P=ve=b,19):d===1?(P=o,le-=257,ve=a,Ce-=257,256):(P=c,ve=u,-1),z=p,D=y,G=$=A=0,N=-1,E=(Y=1<<(H=W))-1,d===1&&852<Y||d===2&&592<Y)return 1;for(;;){for(L=z-G,F=b[$]<T?(M=0,b[$]):b[$]>T?(M=ve[Ce+b[$]],P[le+b[$]]):(M=96,0),g=1<<z-G,p=k=1<<H;v[D+(A>>G)+(k-=g)]=L<<24|M<<16|F|0,k!==0;);for(g=1<<z-1;A&g;)g>>=1;if(g!==0?(A&=g-1,A+=g):A=0,$++,--ne[z]==0){if(z===R)break;z=m[x+b[$]]}if(W<z&&(A&E)!==N){for(G===0&&(G=W),D+=p,I=1<<(H=z-G);H+G<R&&!((I-=ne[H+G])<=0);)H++,I<<=1;if(Y+=1<<H,d===1&&852<Y||d===2&&592<Y)return 1;v[N=A&E]=W<<24|H<<16|D-y|0}}return A!==0&&(v[D+A]=z-G<<24|64<<16|0),f.bits=W,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var i=n("../utils/common"),o=0,a=1;function c(_){for(var O=_.length;0<=--O;)_[O]=0}var u=0,d=29,m=256,x=m+1+d,h=30,v=19,y=2*x+1,b=15,f=16,g=7,k=256,N=16,E=17,D=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(x+2));c(q);var z=new Array(2*h);c(z);var $=new Array(512);c($);var p=new Array(256);c(p);var R=new Array(d);c(R);var W,H,G,I=new Array(h);function Y(_,O,U,oe,X){this.static_tree=_,this.extra_bits=O,this.extra_base=U,this.elems=oe,this.max_length=X,this.has_stree=_&&_.length}function A(_,O){this.dyn_tree=_,this.max_code=0,this.stat_desc=O}function P(_){return _<256?$[_]:$[256+(_>>>7)]}function le(_,O){_.pending_buf[_.pending++]=255&O,_.pending_buf[_.pending++]=O>>>8&255}function ne(_,O,U){_.bi_valid>f-U?(_.bi_buf|=O<<_.bi_valid&65535,le(_,_.bi_buf),_.bi_buf=O>>f-_.bi_valid,_.bi_valid+=U-f):(_.bi_buf|=O<<_.bi_valid&65535,_.bi_valid+=U)}function J(_,O,U){ne(_,U[2*O],U[2*O+1])}function ve(_,O){for(var U=0;U|=1&_,_>>>=1,U<<=1,0<--O;);return U>>>1}function Ce(_,O,U){var oe,X,me=new Array(b+1),be=0;for(oe=1;oe<=b;oe++)me[oe]=be=be+U[oe-1]<<1;for(X=0;X<=O;X++){var ge=_[2*X+1];ge!==0&&(_[2*X]=ve(me[ge]++,ge))}}function Ee(_){var O;for(O=0;O<x;O++)_.dyn_ltree[2*O]=0;for(O=0;O<h;O++)_.dyn_dtree[2*O]=0;for(O=0;O<v;O++)_.bl_tree[2*O]=0;_.dyn_ltree[2*k]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function je(_){8<_.bi_valid?le(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function re(_,O,U,oe){var X=2*O,me=2*U;return _[X]<_[me]||_[X]===_[me]&&oe[O]<=oe[U]}function he(_,O,U){for(var oe=_.heap[U],X=U<<1;X<=_.heap_len&&(X<_.heap_len&&re(O,_.heap[X+1],_.heap[X],_.depth)&&X++,!re(O,oe,_.heap[X],_.depth));)_.heap[U]=_.heap[X],U=X,X<<=1;_.heap[U]=oe}function te(_,O,U){var oe,X,me,be,ge=0;if(_.last_lit!==0)for(;oe=_.pending_buf[_.d_buf+2*ge]<<8|_.pending_buf[_.d_buf+2*ge+1],X=_.pending_buf[_.l_buf+ge],ge++,oe===0?J(_,X,O):(J(_,(me=p[X])+m+1,O),(be=T[me])!==0&&ne(_,X-=R[me],be),J(_,me=P(--oe),U),(be=L[me])!==0&&ne(_,oe-=I[me],be)),ge<_.last_lit;);J(_,k,O)}function ye(_,O){var U,oe,X,me=O.dyn_tree,be=O.stat_desc.static_tree,ge=O.stat_desc.has_stree,Ae=O.stat_desc.elems,Be=-1;for(_.heap_len=0,_.heap_max=y,U=0;U<Ae;U++)me[2*U]!==0?(_.heap[++_.heap_len]=Be=U,_.depth[U]=0):me[2*U+1]=0;for(;_.heap_len<2;)me[2*(X=_.heap[++_.heap_len]=Be<2?++Be:0)]=1,_.depth[X]=0,_.opt_len--,ge&&(_.static_len-=be[2*X+1]);for(O.max_code=Be,U=_.heap_len>>1;1<=U;U--)he(_,me,U);for(X=Ae;U=_.heap[1],_.heap[1]=_.heap[_.heap_len--],he(_,me,1),oe=_.heap[1],_.heap[--_.heap_max]=U,_.heap[--_.heap_max]=oe,me[2*X]=me[2*U]+me[2*oe],_.depth[X]=(_.depth[U]>=_.depth[oe]?_.depth[U]:_.depth[oe])+1,me[2*U+1]=me[2*oe+1]=X,_.heap[1]=X++,he(_,me,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function(Re,Je){var ct,Z,ue,xe,Ie,Ve,Ze=Je.dyn_tree,Fe=Je.max_code,Ke=Je.stat_desc.static_tree,K=Je.stat_desc.has_stree,se=Je.stat_desc.extra_bits,de=Je.stat_desc.extra_base,fe=Je.stat_desc.max_length,we=0;for(xe=0;xe<=b;xe++)Re.bl_count[xe]=0;for(Ze[2*Re.heap[Re.heap_max]+1]=0,ct=Re.heap_max+1;ct<y;ct++)fe<(xe=Ze[2*Ze[2*(Z=Re.heap[ct])+1]+1]+1)&&(xe=fe,we++),Ze[2*Z+1]=xe,Fe<Z||(Re.bl_count[xe]++,Ie=0,de<=Z&&(Ie=se[Z-de]),Ve=Ze[2*Z],Re.opt_len+=Ve*(xe+Ie),K&&(Re.static_len+=Ve*(Ke[2*Z+1]+Ie)));if(we!==0){do{for(xe=fe-1;Re.bl_count[xe]===0;)xe--;Re.bl_count[xe]--,Re.bl_count[xe+1]+=2,Re.bl_count[fe]--,we-=2}while(0<we);for(xe=fe;xe!==0;xe--)for(Z=Re.bl_count[xe];Z!==0;)Fe<(ue=Re.heap[--ct])||(Ze[2*ue+1]!==xe&&(Re.opt_len+=(xe-Ze[2*ue+1])*Ze[2*ue],Ze[2*ue+1]=xe),Z--)}}(_,O),Ce(me,Be,_.bl_count)}function w(_,O,U){var oe,X,me=-1,be=O[1],ge=0,Ae=7,Be=4;for(be===0&&(Ae=138,Be=3),O[2*(U+1)+1]=65535,oe=0;oe<=U;oe++)X=be,be=O[2*(oe+1)+1],++ge<Ae&&X===be||(ge<Be?_.bl_tree[2*X]+=ge:X!==0?(X!==me&&_.bl_tree[2*X]++,_.bl_tree[2*N]++):ge<=10?_.bl_tree[2*E]++:_.bl_tree[2*D]++,me=X,Be=(ge=0)===be?(Ae=138,3):X===be?(Ae=6,3):(Ae=7,4))}function ee(_,O,U){var oe,X,me=-1,be=O[1],ge=0,Ae=7,Be=4;for(be===0&&(Ae=138,Be=3),oe=0;oe<=U;oe++)if(X=be,be=O[2*(oe+1)+1],!(++ge<Ae&&X===be)){if(ge<Be)for(;J(_,X,_.bl_tree),--ge!=0;);else X!==0?(X!==me&&(J(_,X,_.bl_tree),ge--),J(_,N,_.bl_tree),ne(_,ge-3,2)):ge<=10?(J(_,E,_.bl_tree),ne(_,ge-3,3)):(J(_,D,_.bl_tree),ne(_,ge-11,7));me=X,Be=(ge=0)===be?(Ae=138,3):X===be?(Ae=6,3):(Ae=7,4)}}c(I);var Q=!1;function S(_,O,U,oe){ne(_,(u<<1)+(oe?1:0),3),function(X,me,be,ge){je(X),le(X,be),le(X,~be),i.arraySet(X.pending_buf,X.window,me,be,X.pending),X.pending+=be}(_,O,U)}s._tr_init=function(_){Q||(function(){var O,U,oe,X,me,be=new Array(b+1);for(X=oe=0;X<d-1;X++)for(R[X]=oe,O=0;O<1<<T[X];O++)p[oe++]=X;for(p[oe-1]=X,X=me=0;X<16;X++)for(I[X]=me,O=0;O<1<<L[X];O++)$[me++]=X;for(me>>=7;X<h;X++)for(I[X]=me<<7,O=0;O<1<<L[X]-7;O++)$[256+me++]=X;for(U=0;U<=b;U++)be[U]=0;for(O=0;O<=143;)q[2*O+1]=8,O++,be[8]++;for(;O<=255;)q[2*O+1]=9,O++,be[9]++;for(;O<=279;)q[2*O+1]=7,O++,be[7]++;for(;O<=287;)q[2*O+1]=8,O++,be[8]++;for(Ce(q,x+1,be),O=0;O<h;O++)z[2*O+1]=5,z[2*O]=ve(O,5);W=new Y(q,T,m+1,x,b),H=new Y(z,L,0,h,b),G=new Y(new Array(0),M,0,v,g)}(),Q=!0),_.l_desc=new A(_.dyn_ltree,W),_.d_desc=new A(_.dyn_dtree,H),_.bl_desc=new A(_.bl_tree,G),_.bi_buf=0,_.bi_valid=0,Ee(_)},s._tr_stored_block=S,s._tr_flush_block=function(_,O,U,oe){var X,me,be=0;0<_.level?(_.strm.data_type===2&&(_.strm.data_type=function(ge){var Ae,Be=4093624447;for(Ae=0;Ae<=31;Ae++,Be>>>=1)if(1&Be&&ge.dyn_ltree[2*Ae]!==0)return o;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return a;for(Ae=32;Ae<m;Ae++)if(ge.dyn_ltree[2*Ae]!==0)return a;return o}(_)),ye(_,_.l_desc),ye(_,_.d_desc),be=function(ge){var Ae;for(w(ge,ge.dyn_ltree,ge.l_desc.max_code),w(ge,ge.dyn_dtree,ge.d_desc.max_code),ye(ge,ge.bl_desc),Ae=v-1;3<=Ae&&ge.bl_tree[2*F[Ae]+1]===0;Ae--);return ge.opt_len+=3*(Ae+1)+5+5+4,Ae}(_),X=_.opt_len+3+7>>>3,(me=_.static_len+3+7>>>3)<=X&&(X=me)):X=me=U+5,U+4<=X&&O!==-1?S(_,O,U,oe):_.strategy===4||me===X?(ne(_,2+(oe?1:0),3),te(_,q,z)):(ne(_,4+(oe?1:0),3),function(ge,Ae,Be,Re){var Je;for(ne(ge,Ae-257,5),ne(ge,Be-1,5),ne(ge,Re-4,4),Je=0;Je<Re;Je++)ne(ge,ge.bl_tree[2*F[Je]+1],3);ee(ge,ge.dyn_ltree,Ae-1),ee(ge,ge.dyn_dtree,Be-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,be+1),te(_,_.dyn_ltree,_.dyn_dtree)),Ee(_),oe&&je(_)},s._tr_tally=function(_,O,U){return _.pending_buf[_.d_buf+2*_.last_lit]=O>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&O,_.pending_buf[_.l_buf+_.last_lit]=255&U,_.last_lit++,O===0?_.dyn_ltree[2*U]++:(_.matches++,O--,_.dyn_ltree[2*(p[U]+m+1)]++,_.dyn_dtree[2*P(O)]++),_.last_lit===_.lit_bufsize-1},s._tr_align=function(_){ne(_,2,3),J(_,k,q),function(O){O.bi_valid===16?(le(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)}(_)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(i){(function(o,a){if(!o.setImmediate){var c,u,d,m,x=1,h={},v=!1,y=o.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(o);b=b&&b.setTimeout?b:o,c={}.toString.call(o.process)==="[object process]"?function(N){process.nextTick(function(){g(N)})}:function(){if(o.postMessage&&!o.importScripts){var N=!0,E=o.onmessage;return o.onmessage=function(){N=!1},o.postMessage("","*"),o.onmessage=E,N}}()?(m="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",k,!1):o.attachEvent("onmessage",k),function(N){o.postMessage(m+N,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(N){g(N.data)},function(N){d.port2.postMessage(N)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(N){var E=y.createElement("script");E.onreadystatechange=function(){g(N),E.onreadystatechange=null,u.removeChild(E),E=null},u.appendChild(E)}):function(N){setTimeout(g,0,N)},b.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var E=new Array(arguments.length-1),D=0;D<E.length;D++)E[D]=arguments[D+1];var T={callback:N,args:E};return h[x]=T,c(x),x++},b.clearImmediate=f}function f(N){delete h[N]}function g(N){if(v)setTimeout(g,0,N);else{var E=h[N];if(E){v=!0;try{(function(D){var T=D.callback,L=D.args;switch(L.length){case 0:T();break;case 1:T(L[0]);break;case 2:T(L[0],L[1]);break;case 3:T(L[0],L[1],L[2]);break;default:T.apply(a,L)}})(E)}finally{f(N),v=!1}}}}function k(N){N.source===o&&typeof N.data=="string"&&N.data.indexOf(m)===0&&g(+N.data.slice(m.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof lo<"u"?lo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(ym);var kv=ym.exports;const Nv=fu(kv),Sv=({projects:e,onSelectProject:t,onCreateProject:n,onUpdateProject:r,onExportProject:s,onDeleteProject:i,onImportFolder:o})=>{const[a,c]=C.useState(!1),[u,d]=C.useState(""),[m,x]=C.useState(""),[h,v]=C.useState("Software"),[y,b]=C.useState(!1),[f,g]=C.useState(null),[k,N]=C.useState(""),[E,D]=C.useState(""),T=z=>{z.preventDefault();const $=u.trim();$&&(n($,h,m.trim()),c(!1),d(""),x(""))},L=()=>{b(!1),g(null),N(""),D("")},M=z=>{g(z.id),N(z.name),D(z.description||""),b(!0)},F=z=>{if(z.preventDefault(),!f)return;const $=k.trim();$&&(r(f,{name:$,description:E.trim()}),L())},q=z=>{switch(z){case"Game":return l.jsx(Y1,{className:"w-6 h-6 text-purple-400"});case"Web":return l.jsx(K1,{className:"w-6 h-6 text-blue-400"});default:return l.jsx(pm,{className:"w-6 h-6 text-emerald-400"})}};return l.jsxs("div",{className:"p-8 max-w-7xl mx-auto w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:"Projects"}),l.jsx("p",{className:"text-zinc-400 mt-2",children:"Manage your development plans, specs, and architectures."})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-zinc-800 text-zinc-200 px-5 py-2.5 rounded-lg font-semibold hover:bg-zinc-700 transition-colors border border-zinc-700",children:[l.jsx(tv,{className:"w-5 h-5"}),"Import Local Folder"]}),l.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-white text-zinc-950 px-5 py-2.5 rounded-lg font-semibold hover:bg-zinc-200 transition-colors shadow-lg shadow-white/5",children:[l.jsx(Wn,{className:"w-5 h-5"}),"New Project"]})]})]}),e.length===0?l.jsxs("div",{className:"text-center py-20 border border-dashed border-zinc-800 rounded-2xl bg-zinc-900/30",children:[l.jsx(Z1,{className:"w-16 h-16 text-zinc-700 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-medium text-zinc-300",children:"No projects yet"}),l.jsx("p",{className:"text-zinc-500 mt-2 max-w-sm mx-auto",children:"Start planning by creating a new project or importing an existing folder."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(z=>l.jsxs("div",{className:"group relative bg-zinc-900 border border-zinc-800 rounded-xl p-6 hover:border-zinc-600 transition-all hover:shadow-xl hover:shadow-black/50 overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"cursor-pointer flex-1 relative z-10",onClick:()=>t(z.id),children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:"p-3 bg-zinc-950 rounded-lg inline-block border border-zinc-800 group-hover:border-zinc-700 transition-colors",children:q(z.type)}),z.isLocal&&l.jsxs("div",{className:"flex items-center gap-1 bg-blue-500/10 border border-blue-500/20 px-2 py-1 rounded text-[10px] text-blue-400 font-bold uppercase tracking-wider",children:[l.jsx(X1,{className:"w-3 h-3"}),"Local"]})]}),l.jsx("h3",{className:"text-xl font-semibold text-zinc-100 mb-2 group-hover:text-blue-400 transition-colors",children:z.name}),l.jsx("p",{className:"text-zinc-400 text-sm line-clamp-2 mb-4 h-10",children:z.description||"No description yet."}),l.jsxs("div",{className:"text-xs text-zinc-500 mb-4",children:[z.files.length," files"]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-zinc-800 mt-auto relative z-20",children:[l.jsxs("div",{className:"flex items-center text-xs text-zinc-500",children:[l.jsx(B1,{className:"w-3.5 h-3.5 mr-1.5"}),new Date(z.lastModified).toLocaleDateString()]}),l.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:$=>{$.preventDefault(),$.stopPropagation(),M(z)},className:"p-2 hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-amber-300 transition-colors",title:"Edit Project",children:l.jsx(Bi,{className:"w-4 h-4"})}),l.jsx("button",{onClick:$=>{$.preventDefault(),$.stopPropagation(),s(z)},className:"p-2 hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-blue-400 transition-colors",title:"Export JSON",children:l.jsx(ud,{className:"w-4 h-4"})}),l.jsx("button",{onClick:$=>{$.preventDefault(),$.stopPropagation(),i(z.id)},className:"p-2 hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-red-400 transition-colors",title:z.isLocal?"Remove from List":"Delete Permanently",children:l.jsx(It,{className:"w-4 h-4"})})]})]})]},z.id))}),a&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-md p-6 shadow-2xl",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Create New Project"}),l.jsxs("form",{onSubmit:T,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Project Name"}),l.jsx("input",{autoFocus:!0,type:"text",required:!0,value:u,onChange:z=>d(z.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all",placeholder:"e.g., Space Explorer RPG"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Type"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Software","Game","Web"].map(z=>l.jsx("button",{type:"button",onClick:()=>v(z),className:`py-2 px-3 rounded-lg text-sm font-medium border transition-all ${h===z?"bg-blue-600/10 border-blue-600 text-blue-400":"bg-zinc-950 border-zinc-800 text-zinc-400 hover:bg-zinc-800"}`,children:z},z))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Short Description"}),l.jsx("textarea",{value:m,onChange:z=>x(z.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all resize-none",placeholder:"A short summary shown on the dashboard.",rows:3,maxLength:200})]}),l.jsxs("div",{className:"flex gap-3 mt-8 pt-4 border-t border-zinc-800",children:[l.jsx("button",{type:"button",onClick:()=>{c(!1),d(""),x("")},className:"flex-1 px-4 py-2 rounded-lg text-zinc-300 hover:bg-zinc-800 transition-colors text-sm font-medium",children:"Cancel"}),l.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Create"})]})]})]})}),y&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-md p-6 shadow-2xl",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Edit Project"}),l.jsxs("form",{onSubmit:F,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Project Name"}),l.jsx("input",{autoFocus:!0,type:"text",required:!0,value:k,onChange:z=>N(z.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Short Description"}),l.jsx("textarea",{value:E,onChange:z=>D(z.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all resize-none",rows:3,maxLength:200})]}),l.jsxs("div",{className:"flex gap-3 mt-8 pt-4 border-t border-zinc-800",children:[l.jsx("button",{type:"button",onClick:L,className:"flex-1 px-4 py-2 rounded-lg text-zinc-300 hover:bg-zinc-800 transition-colors text-sm font-medium",children:"Cancel"}),l.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Save"})]})]})]})})]})};function jt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=jt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var vm={exports:{}},wm={},bm={exports:{}},km={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs=C;function _v(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zv=typeof Object.is=="function"?Object.is:_v,Ev=Bs.useState,jv=Bs.useEffect,Cv=Bs.useLayoutEffect,Dv=Bs.useDebugValue;function Tv(e,t){var n=t(),r=Ev({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return Cv(function(){s.value=n,s.getSnapshot=t,Ul(s)&&i({inst:s})},[e,n,t]),jv(function(){return Ul(s)&&i({inst:s}),e(function(){Ul(s)&&i({inst:s})})},[e]),Dv(n),n}function Ul(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zv(e,n)}catch{return!0}}function Iv(e,t){return t()}var Mv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Iv:Tv;km.useSyncExternalStore=Bs.useSyncExternalStore!==void 0?Bs.useSyncExternalStore:Mv;bm.exports=km;var Av=bm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=C,Pv=Av;function Rv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ov=typeof Object.is=="function"?Object.is:Rv,Lv=Pv.useSyncExternalStore,$v=il.useRef,Fv=il.useEffect,Bv=il.useMemo,Uv=il.useDebugValue;wm.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=$v(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Bv(function(){function c(h){if(!u){if(u=!0,d=h,h=r(h),s!==void 0&&o.hasValue){var v=o.value;if(s(v,h))return m=v}return m=h}if(v=m,Ov(d,h))return v;var y=r(h);return s!==void 0&&s(v,y)?(d=h,v):(d=h,m=y)}var u=!1,d,m,x=n===void 0?null:n;return[function(){return c(t())},x===null?void 0:function(){return c(x())}]},[t,n,r,s]);var a=Lv(e,i[0],i[1]);return Fv(function(){o.hasValue=!0,o.value=a},[a]),Uv(a),a};vm.exports=wm;var Hv=vm.exports;const Vv=fu(Hv),Wv={},Gf=e=>{let t;const n=new Set,r=(d,m)=>{const x=typeof d=="function"?d(t):d;if(!Object.is(x,t)){const h=t;t=m??(typeof x!="object"||x===null)?x:Object.assign({},t,x),n.forEach(v=>v(t,h))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Wv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},Zv=e=>e?Gf(e):Gf,{useDebugValue:Gv}=ae,{useSyncExternalStoreWithSelector:Yv}=Vv,Kv=e=>e;function Nm(e,t=Kv,n){const r=Yv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Gv(r),r}const Yf=(e,t)=>{const n=Zv(e),r=(s,i=t)=>Nm(n,s,i);return Object.assign(r,n),r},Xv=(e,t)=>e?Yf(e,t):Yf;function Zt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var qv={value:()=>{}};function ol(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Qo(n)}function Qo(e){this._=e}function Qv(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Qo.prototype=ol.prototype={constructor:Qo,on:function(e,t){var n=this._,r=Qv(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=Jv(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=Kf(n[s],e.name,t);else if(t==null)for(s in n)n[s]=Kf(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Qo(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function Jv(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function Kf(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=qv,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Yc="http://www.w3.org/1999/xhtml";const Xf={svg:"http://www.w3.org/2000/svg",xhtml:Yc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function al(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Xf.hasOwnProperty(t)?{space:Xf[t],local:e}:e}function ew(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Yc&&t.documentElement.namespaceURI===Yc?t.createElement(e):t.createElementNS(n,e)}}function tw(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Sm(e){var t=al(e);return(t.local?tw:ew)(t)}function nw(){}function md(e){return e==null?nw:function(){return this.querySelector(e)}}function rw(e){typeof e!="function"&&(e=md(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=new Array(o),c,u,d=0;d<o;++d)(c=i[d])&&(u=e.call(c,c.__data__,d,i))&&("__data__"in c&&(u.__data__=c.__data__),a[d]=u);return new Jt(r,this._parents)}function sw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function iw(){return[]}function _m(e){return e==null?iw:function(){return this.querySelectorAll(e)}}function ow(e){return function(){return sw(e.apply(this,arguments))}}function aw(e){typeof e=="function"?e=ow(e):e=_m(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],a=o.length,c,u=0;u<a;++u)(c=o[u])&&(r.push(e.call(c,c.__data__,u,o)),s.push(c));return new Jt(r,s)}function zm(e){return function(){return this.matches(e)}}function Em(e){return function(t){return t.matches(e)}}var lw=Array.prototype.find;function cw(e){return function(){return lw.call(this.children,e)}}function uw(){return this.firstElementChild}function dw(e){return this.select(e==null?uw:cw(typeof e=="function"?e:Em(e)))}var fw=Array.prototype.filter;function hw(){return Array.from(this.children)}function pw(e){return function(){return fw.call(this.children,e)}}function mw(e){return this.selectAll(e==null?hw:pw(typeof e=="function"?e:Em(e)))}function gw(e){typeof e!="function"&&(e=zm(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],c,u=0;u<o;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&a.push(c);return new Jt(r,this._parents)}function jm(e){return new Array(e.length)}function xw(){return new Jt(this._enter||this._groups.map(jm),this._parents)}function Da(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Da.prototype={constructor:Da,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function yw(e){return function(){return e}}function vw(e,t,n,r,s,i){for(var o=0,a,c=t.length,u=i.length;o<u;++o)(a=t[o])?(a.__data__=i[o],r[o]=a):n[o]=new Da(e,i[o]);for(;o<c;++o)(a=t[o])&&(s[o]=a)}function ww(e,t,n,r,s,i,o){var a,c,u=new Map,d=t.length,m=i.length,x=new Array(d),h;for(a=0;a<d;++a)(c=t[a])&&(x[a]=h=o.call(c,c.__data__,a,t)+"",u.has(h)?s[a]=c:u.set(h,c));for(a=0;a<m;++a)h=o.call(e,i[a],a,i)+"",(c=u.get(h))?(r[a]=c,c.__data__=i[a],u.delete(h)):n[a]=new Da(e,i[a]);for(a=0;a<d;++a)(c=t[a])&&u.get(x[a])===c&&(s[a]=c)}function bw(e){return e.__data__}function kw(e,t){if(!arguments.length)return Array.from(this,bw);var n=t?ww:vw,r=this._parents,s=this._groups;typeof e!="function"&&(e=yw(e));for(var i=s.length,o=new Array(i),a=new Array(i),c=new Array(i),u=0;u<i;++u){var d=r[u],m=s[u],x=m.length,h=Nw(e.call(d,d&&d.__data__,u,r)),v=h.length,y=a[u]=new Array(v),b=o[u]=new Array(v),f=c[u]=new Array(x);n(d,m,y,b,f,h,t);for(var g=0,k=0,N,E;g<v;++g)if(N=y[g]){for(g>=k&&(k=g+1);!(E=b[k])&&++k<v;);N._next=E||null}}return o=new Jt(o,r),o._enter=a,o._exit=c,o}function Nw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Sw(){return new Jt(this._exit||this._groups.map(jm),this._parents)}function _w(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function zw(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),a=new Array(s),c=0;c<o;++c)for(var u=n[c],d=r[c],m=u.length,x=a[c]=new Array(m),h,v=0;v<m;++v)(h=u[v]||d[v])&&(x[v]=h);for(;c<s;++c)a[c]=n[c];return new Jt(a,this._parents)}function Ew(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function jw(e){e||(e=Cw);function t(m,x){return m&&x?e(m.__data__,x.__data__):!m-!x}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],a=o.length,c=s[i]=new Array(a),u,d=0;d<a;++d)(u=o[d])&&(c[d]=u);c.sort(t)}return new Jt(s,this._parents).order()}function Cw(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Dw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Tw(){return Array.from(this)}function Iw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function Mw(){let e=0;for(const t of this)++e;return e}function Aw(){return!this.node()}function Pw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,a;i<o;++i)(a=s[i])&&e.call(a,a.__data__,i,s);return this}function Rw(e){return function(){this.removeAttribute(e)}}function Ow(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Lw(e,t){return function(){this.setAttribute(e,t)}}function $w(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Fw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Bw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Uw(e,t){var n=al(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Ow:Rw:typeof t=="function"?n.local?Bw:Fw:n.local?$w:Lw)(n,t))}function Cm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Hw(e){return function(){this.style.removeProperty(e)}}function Vw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ww(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Zw(e,t,n){return arguments.length>1?this.each((t==null?Hw:typeof t=="function"?Ww:Vw)(e,t,n??"")):Us(this.node(),e)}function Us(e,t){return e.style.getPropertyValue(t)||Cm(e).getComputedStyle(e,null).getPropertyValue(t)}function Gw(e){return function(){delete this[e]}}function Yw(e,t){return function(){this[e]=t}}function Kw(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Xw(e,t){return arguments.length>1?this.each((t==null?Gw:typeof t=="function"?Kw:Yw)(e,t)):this.node()[e]}function Dm(e){return e.trim().split(/^|\s+/)}function gd(e){return e.classList||new Tm(e)}function Tm(e){this._node=e,this._names=Dm(e.getAttribute("class")||"")}Tm.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Im(e,t){for(var n=gd(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function Mm(e,t){for(var n=gd(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function qw(e){return function(){Im(this,e)}}function Qw(e){return function(){Mm(this,e)}}function Jw(e,t){return function(){(t.apply(this,arguments)?Im:Mm)(this,e)}}function e2(e,t){var n=Dm(e+"");if(arguments.length<2){for(var r=gd(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Jw:t?qw:Qw)(n,t))}function t2(){this.textContent=""}function n2(e){return function(){this.textContent=e}}function r2(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function s2(e){return arguments.length?this.each(e==null?t2:(typeof e=="function"?r2:n2)(e)):this.node().textContent}function i2(){this.innerHTML=""}function o2(e){return function(){this.innerHTML=e}}function a2(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function l2(e){return arguments.length?this.each(e==null?i2:(typeof e=="function"?a2:o2)(e)):this.node().innerHTML}function c2(){this.nextSibling&&this.parentNode.appendChild(this)}function u2(){return this.each(c2)}function d2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function f2(){return this.each(d2)}function h2(e){var t=typeof e=="function"?e:Sm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function p2(){return null}function m2(e,t){var n=typeof e=="function"?e:Sm(e),r=t==null?p2:typeof t=="function"?t:md(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function g2(){var e=this.parentNode;e&&e.removeChild(this)}function x2(){return this.each(g2)}function y2(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function v2(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function w2(e){return this.select(e?v2:y2)}function b2(e){return arguments.length?this.property("__data__",e):this.node().__data__}function k2(e){return function(t){e.call(this,t,this.__data__)}}function N2(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function S2(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function _2(e,t,n){return function(){var r=this.__on,s,i=k2(t);if(r){for(var o=0,a=r.length;o<a;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function z2(e,t,n){var r=N2(e+""),s,i=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,d;c<u;++c)for(s=0,d=a[c];s<i;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(a=t?_2:S2,s=0;s<i;++s)this.each(a(r[s],t,n));return this}function Am(e,t,n){var r=Cm(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function E2(e,t){return function(){return Am(this,e,t)}}function j2(e,t){return function(){return Am(this,e,t.apply(this,arguments))}}function C2(e,t){return this.each((typeof t=="function"?j2:E2)(e,t))}function*D2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var Pm=[null];function Jt(e,t){this._groups=e,this._parents=t}function so(){return new Jt([[document.documentElement]],Pm)}function T2(){return this}Jt.prototype=so.prototype={constructor:Jt,select:rw,selectAll:aw,selectChild:dw,selectChildren:mw,filter:gw,data:kw,enter:xw,exit:Sw,join:_w,merge:zw,selection:T2,order:Ew,sort:jw,call:Dw,nodes:Tw,node:Iw,size:Mw,empty:Aw,each:Pw,attr:Uw,style:Zw,property:Xw,classed:e2,text:s2,html:l2,raise:u2,lower:f2,append:h2,insert:m2,remove:x2,clone:w2,datum:b2,on:z2,dispatch:C2,[Symbol.iterator]:D2};function on(e){return typeof e=="string"?new Jt([[document.querySelector(e)]],[document.documentElement]):new Jt([[e]],Pm)}function I2(e){let t;for(;t=e.sourceEvent;)e=t;return e}function yn(e,t){if(e=I2(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const M2={passive:!1},Ui={capture:!0,passive:!1};function Hl(e){e.stopImmediatePropagation()}function Ds(e){e.preventDefault(),e.stopImmediatePropagation()}function Rm(e){var t=e.document.documentElement,n=on(e).on("dragstart.drag",Ds,Ui);"onselectstart"in t?n.on("selectstart.drag",Ds,Ui):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Om(e,t){var n=e.document.documentElement,r=on(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ds,Ui),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const jo=e=>()=>e;function Kc(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:o,y:a,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Kc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function A2(e){return!e.ctrlKey&&!e.button}function P2(){return this.parentNode}function R2(e,t){return t??{x:e.x,y:e.y}}function O2(){return navigator.maxTouchPoints||"ontouchstart"in this}function L2(){var e=A2,t=P2,n=R2,r=O2,s={},i=ol("start","drag","end"),o=0,a,c,u,d,m=0;function x(N){N.on("mousedown.drag",h).filter(r).on("touchstart.drag",b).on("touchmove.drag",f,M2).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(N,E){if(!(d||!e.call(this,N,E))){var D=k(this,t.call(this,N,E),N,E,"mouse");D&&(on(N.view).on("mousemove.drag",v,Ui).on("mouseup.drag",y,Ui),Rm(N.view),Hl(N),u=!1,a=N.clientX,c=N.clientY,D("start",N))}}function v(N){if(Ds(N),!u){var E=N.clientX-a,D=N.clientY-c;u=E*E+D*D>m}s.mouse("drag",N)}function y(N){on(N.view).on("mousemove.drag mouseup.drag",null),Om(N.view,u),Ds(N),s.mouse("end",N)}function b(N,E){if(e.call(this,N,E)){var D=N.changedTouches,T=t.call(this,N,E),L=D.length,M,F;for(M=0;M<L;++M)(F=k(this,T,N,E,D[M].identifier,D[M]))&&(Hl(N),F("start",N,D[M]))}}function f(N){var E=N.changedTouches,D=E.length,T,L;for(T=0;T<D;++T)(L=s[E[T].identifier])&&(Ds(N),L("drag",N,E[T]))}function g(N){var E=N.changedTouches,D=E.length,T,L;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),T=0;T<D;++T)(L=s[E[T].identifier])&&(Hl(N),L("end",N,E[T]))}function k(N,E,D,T,L,M){var F=i.copy(),q=yn(M||D,E),z,$,p;if((p=n.call(N,new Kc("beforestart",{sourceEvent:D,target:x,identifier:L,active:o,x:q[0],y:q[1],dx:0,dy:0,dispatch:F}),T))!=null)return z=p.x-q[0]||0,$=p.y-q[1]||0,function R(W,H,G){var I=q,Y;switch(W){case"start":s[L]=R,Y=o++;break;case"end":delete s[L],--o;case"drag":q=yn(G||H,E),Y=o;break}F.call(W,N,new Kc(W,{sourceEvent:H,subject:p,target:x,identifier:L,active:Y,x:q[0]+z,y:q[1]+$,dx:q[0]-I[0],dy:q[1]-I[1],dispatch:F}),T)}}return x.filter=function(N){return arguments.length?(e=typeof N=="function"?N:jo(!!N),x):e},x.container=function(N){return arguments.length?(t=typeof N=="function"?N:jo(N),x):t},x.subject=function(N){return arguments.length?(n=typeof N=="function"?N:jo(N),x):n},x.touchable=function(N){return arguments.length?(r=typeof N=="function"?N:jo(!!N),x):r},x.on=function(){var N=i.on.apply(i,arguments);return N===i?x:N},x.clickDistance=function(N){return arguments.length?(m=(N=+N)*N,x):Math.sqrt(m)},x}function xd(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Lm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function io(){}var Hi=.7,Ta=1/Hi,Ts="\\s*([+-]?\\d+)\\s*",Vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",An="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$2=/^#([0-9a-f]{3,8})$/,F2=new RegExp(`^rgb\\(${Ts},${Ts},${Ts}\\)$`),B2=new RegExp(`^rgb\\(${An},${An},${An}\\)$`),U2=new RegExp(`^rgba\\(${Ts},${Ts},${Ts},${Vi}\\)$`),H2=new RegExp(`^rgba\\(${An},${An},${An},${Vi}\\)$`),V2=new RegExp(`^hsl\\(${Vi},${An},${An}\\)$`),W2=new RegExp(`^hsla\\(${Vi},${An},${An},${Vi}\\)$`),qf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xd(io,Wi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Qf,formatHex:Qf,formatHex8:Z2,formatHsl:G2,formatRgb:Jf,toString:Jf});function Qf(){return this.rgb().formatHex()}function Z2(){return this.rgb().formatHex8()}function G2(){return $m(this).formatHsl()}function Jf(){return this.rgb().formatRgb()}function Wi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$2.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?eh(t):n===3?new Ut(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Co(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Co(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=F2.exec(e))?new Ut(t[1],t[2],t[3],1):(t=B2.exec(e))?new Ut(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=U2.exec(e))?Co(t[1],t[2],t[3],t[4]):(t=H2.exec(e))?Co(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=V2.exec(e))?rh(t[1],t[2]/100,t[3]/100,1):(t=W2.exec(e))?rh(t[1],t[2]/100,t[3]/100,t[4]):qf.hasOwnProperty(e)?eh(qf[e]):e==="transparent"?new Ut(NaN,NaN,NaN,0):null}function eh(e){return new Ut(e>>16&255,e>>8&255,e&255,1)}function Co(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ut(e,t,n,r)}function Y2(e){return e instanceof io||(e=Wi(e)),e?(e=e.rgb(),new Ut(e.r,e.g,e.b,e.opacity)):new Ut}function Xc(e,t,n,r){return arguments.length===1?Y2(e):new Ut(e,t,n,r??1)}function Ut(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}xd(Ut,Xc,Lm(io,{brighter(e){return e=e==null?Ta:Math.pow(Ta,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hi:Math.pow(Hi,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ut(Ur(this.r),Ur(this.g),Ur(this.b),Ia(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:th,formatHex:th,formatHex8:K2,formatRgb:nh,toString:nh}));function th(){return`#${Lr(this.r)}${Lr(this.g)}${Lr(this.b)}`}function K2(){return`#${Lr(this.r)}${Lr(this.g)}${Lr(this.b)}${Lr((isNaN(this.opacity)?1:this.opacity)*255)}`}function nh(){const e=Ia(this.opacity);return`${e===1?"rgb(":"rgba("}${Ur(this.r)}, ${Ur(this.g)}, ${Ur(this.b)}${e===1?")":`, ${e})`}`}function Ia(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ur(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lr(e){return e=Ur(e),(e<16?"0":"")+e.toString(16)}function rh(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new wn(e,t,n,r)}function $m(e){if(e instanceof wn)return new wn(e.h,e.s,e.l,e.opacity);if(e instanceof io||(e=Wi(e)),!e)return new wn;if(e instanceof wn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,a=i-s,c=(i+s)/2;return a?(t===i?o=(n-r)/a+(n<r)*6:n===i?o=(r-t)/a+2:o=(t-n)/a+4,a/=c<.5?i+s:2-i-s,o*=60):a=c>0&&c<1?0:o,new wn(o,a,c,e.opacity)}function X2(e,t,n,r){return arguments.length===1?$m(e):new wn(e,t,n,r??1)}function wn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}xd(wn,X2,Lm(io,{brighter(e){return e=e==null?Ta:Math.pow(Ta,e),new wn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hi:Math.pow(Hi,e),new wn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Ut(Vl(e>=240?e-240:e+120,s,r),Vl(e,s,r),Vl(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new wn(sh(this.h),Do(this.s),Do(this.l),Ia(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ia(this.opacity);return`${e===1?"hsl(":"hsla("}${sh(this.h)}, ${Do(this.s)*100}%, ${Do(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sh(e){return e=(e||0)%360,e<0?e+360:e}function Do(e){return Math.max(0,Math.min(1,e||0))}function Vl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Fm=e=>()=>e;function q2(e,t){return function(n){return e+n*t}}function Q2(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function J2(e){return(e=+e)==1?Bm:function(t,n){return n-t?Q2(t,n,e):Fm(isNaN(t)?n:t)}}function Bm(e,t){var n=t-e;return n?q2(e,n):Fm(isNaN(e)?t:e)}const ih=function e(t){var n=J2(t);function r(s,i){var o=n((s=Xc(s)).r,(i=Xc(i)).r),a=n(s.g,i.g),c=n(s.b,i.b),u=Bm(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=a(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function ar(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var qc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wl=new RegExp(qc.source,"g");function eb(e){return function(){return e}}function tb(e){return function(t){return e(t)+""}}function nb(e,t){var n=qc.lastIndex=Wl.lastIndex=0,r,s,i,o=-1,a=[],c=[];for(e=e+"",t=t+"";(r=qc.exec(e))&&(s=Wl.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,c.push({i:o,x:ar(r,s)})),n=Wl.lastIndex;return n<t.length&&(i=t.slice(n),a[o]?a[o]+=i:a[++o]=i),a.length<2?c[0]?tb(c[0].x):eb(t):(t=c.length,function(u){for(var d=0,m;d<t;++d)a[(m=c[d]).i]=m.x(u);return a.join("")})}var oh=180/Math.PI,Qc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Um(e,t,n,r,s,i){var o,a,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*oh,skewX:Math.atan(c)*oh,scaleX:o,scaleY:a}}var To;function rb(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Qc:Um(t.a,t.b,t.c,t.d,t.e,t.f)}function sb(e){return e==null||(To||(To=document.createElementNS("http://www.w3.org/2000/svg","g")),To.setAttribute("transform",e),!(e=To.transform.baseVal.consolidate()))?Qc:(e=e.matrix,Um(e.a,e.b,e.c,e.d,e.e,e.f))}function Hm(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function i(u,d,m,x,h,v){if(u!==m||d!==x){var y=h.push("translate(",null,t,null,n);v.push({i:y-4,x:ar(u,m)},{i:y-2,x:ar(d,x)})}else(m||x)&&h.push("translate("+m+t+x+n)}function o(u,d,m,x){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),x.push({i:m.push(s(m)+"rotate(",null,r)-2,x:ar(u,d)})):d&&m.push(s(m)+"rotate("+d+r)}function a(u,d,m,x){u!==d?x.push({i:m.push(s(m)+"skewX(",null,r)-2,x:ar(u,d)}):d&&m.push(s(m)+"skewX("+d+r)}function c(u,d,m,x,h,v){if(u!==m||d!==x){var y=h.push(s(h)+"scale(",null,",",null,")");v.push({i:y-4,x:ar(u,m)},{i:y-2,x:ar(d,x)})}else(m!==1||x!==1)&&h.push(s(h)+"scale("+m+","+x+")")}return function(u,d){var m=[],x=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,m,x),o(u.rotate,d.rotate,m,x),a(u.skewX,d.skewX,m,x),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,m,x),u=d=null,function(h){for(var v=-1,y=x.length,b;++v<y;)m[(b=x[v]).i]=b.x(h);return m.join("")}}}var ib=Hm(rb,"px, ","px)","deg)"),ob=Hm(sb,", ",")",")"),ab=1e-12;function ah(e){return((e=Math.exp(e))+1/e)/2}function lb(e){return((e=Math.exp(e))-1/e)/2}function cb(e){return((e=Math.exp(2*e))-1)/(e+1)}const ub=function e(t,n,r){function s(i,o){var a=i[0],c=i[1],u=i[2],d=o[0],m=o[1],x=o[2],h=d-a,v=m-c,y=h*h+v*v,b,f;if(y<ab)f=Math.log(x/u)/t,b=function(T){return[a+T*h,c+T*v,u*Math.exp(t*T*f)]};else{var g=Math.sqrt(y),k=(x*x-u*u+r*y)/(2*u*n*g),N=(x*x-u*u-r*y)/(2*x*n*g),E=Math.log(Math.sqrt(k*k+1)-k),D=Math.log(Math.sqrt(N*N+1)-N);f=(D-E)/t,b=function(T){var L=T*f,M=ah(E),F=u/(n*g)*(M*cb(t*L+E)-lb(E));return[a+F*h,c+F*v,u*M/ah(t*L+E)]}}return b.duration=f*1e3*t/Math.SQRT2,b}return s.rho=function(i){var o=Math.max(.001,+i),a=o*o,c=a*a;return e(o,a,c)},s}(Math.SQRT2,2,4);var Hs=0,fi=0,ri=0,Vm=1e3,Ma,hi,Aa=0,Xr=0,ll=0,Zi=typeof performance=="object"&&performance.now?performance:Date,Wm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yd(){return Xr||(Wm(db),Xr=Zi.now()+ll)}function db(){Xr=0}function Pa(){this._call=this._time=this._next=null}Pa.prototype=Zm.prototype={constructor:Pa,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?yd():+n)+(t==null?0:+t),!this._next&&hi!==this&&(hi?hi._next=this:Ma=this,hi=this),this._call=e,this._time=n,Jc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jc())}};function Zm(e,t,n){var r=new Pa;return r.restart(e,t,n),r}function fb(){yd(),++Hs;for(var e=Ma,t;e;)(t=Xr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Hs}function lh(){Xr=(Aa=Zi.now())+ll,Hs=fi=0;try{fb()}finally{Hs=0,pb(),Xr=0}}function hb(){var e=Zi.now(),t=e-Aa;t>Vm&&(ll-=t,Aa=e)}function pb(){for(var e,t=Ma,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ma=n);hi=e,Jc(r)}function Jc(e){if(!Hs){fi&&(fi=clearTimeout(fi));var t=e-Xr;t>24?(e<1/0&&(fi=setTimeout(lh,e-Zi.now()-ll)),ri&&(ri=clearInterval(ri))):(ri||(Aa=Zi.now(),ri=setInterval(hb,Vm)),Hs=1,Wm(lh))}}function ch(e,t,n){var r=new Pa;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var mb=ol("start","end","cancel","interrupt"),gb=[],Gm=0,uh=1,eu=2,Jo=3,dh=4,tu=5,ea=6;function cl(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;xb(e,n,{name:t,index:r,group:s,on:mb,tween:gb,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Gm})}function vd(e,t){var n=Sn(e,t);if(n.state>Gm)throw new Error("too late; already scheduled");return n}function Pn(e,t){var n=Sn(e,t);if(n.state>Jo)throw new Error("too late; already running");return n}function Sn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function xb(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=Zm(i,0,n.time);function i(u){n.state=uh,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,m,x,h;if(n.state!==uh)return c();for(d in r)if(h=r[d],h.name===n.name){if(h.state===Jo)return ch(o);h.state===dh?(h.state=ea,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[d]):+d<t&&(h.state=ea,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[d])}if(ch(function(){n.state===Jo&&(n.state=dh,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=eu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===eu){for(n.state=Jo,s=new Array(x=n.tween.length),d=0,m=-1;d<x;++d)(h=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++m]=h);s.length=m+1}}function a(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=tu,1),m=-1,x=s.length;++m<x;)s[m].call(e,d);n.state===tu&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=ea,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function ta(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>eu&&r.state<tu,r.state=ea,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function yb(e){return this.each(function(){ta(this,e)})}function vb(e,t){var n,r;return function(){var s=Pn(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function wb(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=Pn(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var a={name:t,value:n},c=0,u=s.length;c<u;++c)if(s[c].name===t){s[c]=a;break}c===u&&s.push(a)}i.tween=s}}function bb(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Sn(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?vb:wb)(n,e,t))}function wd(e,t,n){var r=e._id;return e.each(function(){var s=Pn(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Sn(s,r).value[t]}}function Ym(e,t){var n;return(typeof t=="number"?ar:t instanceof Wi?ih:(n=Wi(t))?(t=n,ih):nb)(e,t)}function kb(e){return function(){this.removeAttribute(e)}}function Nb(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Sb(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function _b(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function zb(e,t,n){var r,s,i;return function(){var o,a=n(this),c;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=a+"",o===c?null:o===r&&c===s?i:(s=c,i=t(r=o,a)))}}function Eb(e,t,n){var r,s,i;return function(){var o,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=a+"",o===c?null:o===r&&c===s?i:(s=c,i=t(r=o,a)))}}function jb(e,t){var n=al(e),r=n==="transform"?ob:Ym;return this.attrTween(e,typeof t=="function"?(n.local?Eb:zb)(n,r,wd(this,"attr."+e,t)):t==null?(n.local?Nb:kb)(n):(n.local?_b:Sb)(n,r,t))}function Cb(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Db(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Tb(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Db(e,i)),n}return s._value=t,s}function Ib(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Cb(e,i)),n}return s._value=t,s}function Mb(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=al(e);return this.tween(n,(r.local?Tb:Ib)(r,t))}function Ab(e,t){return function(){vd(this,e).delay=+t.apply(this,arguments)}}function Pb(e,t){return t=+t,function(){vd(this,e).delay=t}}function Rb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ab:Pb)(t,e)):Sn(this.node(),t).delay}function Ob(e,t){return function(){Pn(this,e).duration=+t.apply(this,arguments)}}function Lb(e,t){return t=+t,function(){Pn(this,e).duration=t}}function $b(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ob:Lb)(t,e)):Sn(this.node(),t).duration}function Fb(e,t){if(typeof t!="function")throw new Error;return function(){Pn(this,e).ease=t}}function Bb(e){var t=this._id;return arguments.length?this.each(Fb(t,e)):Sn(this.node(),t).ease}function Ub(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Pn(this,e).ease=n}}function Hb(e){if(typeof e!="function")throw new Error;return this.each(Ub(this._id,e))}function Vb(e){typeof e!="function"&&(e=zm(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],c,u=0;u<o;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&a.push(c);return new qn(r,this._parents,this._name,this._id)}function Wb(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),a=0;a<i;++a)for(var c=t[a],u=n[a],d=c.length,m=o[a]=new Array(d),x,h=0;h<d;++h)(x=c[h]||u[h])&&(m[h]=x);for(;a<r;++a)o[a]=t[a];return new qn(o,this._parents,this._name,this._id)}function Zb(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Gb(e,t,n){var r,s,i=Zb(t)?vd:Pn;return function(){var o=i(this,e),a=o.on;a!==r&&(s=(r=a).copy()).on(t,n),o.on=s}}function Yb(e,t){var n=this._id;return arguments.length<2?Sn(this.node(),n).on.on(e):this.each(Gb(n,e,t))}function Kb(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Xb(){return this.on("end.remove",Kb(this._id))}function qb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=md(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var a=r[o],c=a.length,u=i[o]=new Array(c),d,m,x=0;x<c;++x)(d=a[x])&&(m=e.call(d,d.__data__,x,a))&&("__data__"in d&&(m.__data__=d.__data__),u[x]=m,cl(u[x],t,n,x,u,Sn(d,n)));return new qn(i,this._parents,t,n)}function Qb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_m(e));for(var r=this._groups,s=r.length,i=[],o=[],a=0;a<s;++a)for(var c=r[a],u=c.length,d,m=0;m<u;++m)if(d=c[m]){for(var x=e.call(d,d.__data__,m,c),h,v=Sn(d,n),y=0,b=x.length;y<b;++y)(h=x[y])&&cl(h,t,n,y,x,v);i.push(x),o.push(d)}return new qn(i,o,t,n)}var Jb=so.prototype.constructor;function ek(){return new Jb(this._groups,this._parents)}function tk(e,t){var n,r,s;return function(){var i=Us(this,e),o=(this.style.removeProperty(e),Us(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function Km(e){return function(){this.style.removeProperty(e)}}function nk(e,t,n){var r,s=n+"",i;return function(){var o=Us(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function rk(e,t,n){var r,s,i;return function(){var o=Us(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),Us(this,e))),o===c?null:o===r&&c===s?i:(s=c,i=t(r=o,a))}}function sk(e,t){var n,r,s,i="style."+t,o="end."+i,a;return function(){var c=Pn(this,e),u=c.on,d=c.value[i]==null?a||(a=Km(t)):void 0;(u!==n||s!==d)&&(r=(n=u).copy()).on(o,s=d),c.on=r}}function ik(e,t,n){var r=(e+="")=="transform"?ib:Ym;return t==null?this.styleTween(e,tk(e,r)).on("end.style."+e,Km(e)):typeof t=="function"?this.styleTween(e,rk(e,r,wd(this,"style."+e,t))).each(sk(this._id,e)):this.styleTween(e,nk(e,r,t),n).on("end.style."+e,null)}function ok(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ak(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&ok(e,o,n)),r}return i._value=t,i}function lk(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ak(e,t,n??""))}function ck(e){return function(){this.textContent=e}}function uk(e){return function(){var t=e(this);this.textContent=t??""}}function dk(e){return this.tween("text",typeof e=="function"?uk(wd(this,"text",e)):ck(e==null?"":e+""))}function fk(e){return function(t){this.textContent=e.call(this,t)}}function hk(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&fk(s)),t}return r._value=e,r}function pk(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,hk(e))}function mk(){for(var e=this._name,t=this._id,n=Xm(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,c,u=0;u<a;++u)if(c=o[u]){var d=Sn(c,t);cl(c,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new qn(r,this._parents,e,n)}function gk(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var a={value:o},c={value:function(){--s===0&&i()}};n.each(function(){var u=Pn(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),u.on=t}),s===0&&i()})}var xk=0;function qn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Xm(){return++xk}var On=so.prototype;qn.prototype={constructor:qn,select:qb,selectAll:Qb,selectChild:On.selectChild,selectChildren:On.selectChildren,filter:Vb,merge:Wb,selection:ek,transition:mk,call:On.call,nodes:On.nodes,node:On.node,size:On.size,empty:On.empty,each:On.each,on:Yb,attr:jb,attrTween:Mb,style:ik,styleTween:lk,text:dk,textTween:pk,remove:Xb,tween:bb,delay:Rb,duration:$b,ease:Bb,easeVarying:Hb,end:gk,[Symbol.iterator]:On[Symbol.iterator]};function yk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var vk={time:null,delay:0,duration:250,ease:yk};function wk(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function bk(e){var t,n;e instanceof qn?(t=e._id,e=e._name):(t=Xm(),(n=vk).time=yd(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,c,u=0;u<a;++u)(c=o[u])&&cl(c,e,t,u,o,n||wk(c,t));return new qn(r,this._parents,e,t)}so.prototype.interrupt=yb;so.prototype.transition=bk;const Io=e=>()=>e;function kk(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Un(e,t,n){this.k=e,this.x=t,this.y=n}Un.prototype={constructor:Un,scale:function(e){return e===1?this:new Un(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Un(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zn=new Un(1,0,0);Un.prototype;function Zl(e){e.stopImmediatePropagation()}function si(e){e.preventDefault(),e.stopImmediatePropagation()}function Nk(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Sk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function fh(){return this.__zoom||Zn}function _k(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function zk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ek(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function qm(){var e=Nk,t=Sk,n=Ek,r=_k,s=zk,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,c=ub,u=ol("start","zoom","end"),d,m,x,h=500,v=150,y=0,b=10;function f(p){p.property("__zoom",fh).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",F).filter(s).on("touchstart.zoom",q).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}f.transform=function(p,R,W,H){var G=p.selection?p.selection():p;G.property("__zoom",fh),p!==G?E(p,R,W,H):G.interrupt().each(function(){D(this,arguments).event(H).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},f.scaleBy=function(p,R,W,H){f.scaleTo(p,function(){var G=this.__zoom.k,I=typeof R=="function"?R.apply(this,arguments):R;return G*I},W,H)},f.scaleTo=function(p,R,W,H){f.transform(p,function(){var G=t.apply(this,arguments),I=this.__zoom,Y=W==null?N(G):typeof W=="function"?W.apply(this,arguments):W,A=I.invert(Y),P=typeof R=="function"?R.apply(this,arguments):R;return n(k(g(I,P),Y,A),G,o)},W,H)},f.translateBy=function(p,R,W,H){f.transform(p,function(){return n(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof W=="function"?W.apply(this,arguments):W),t.apply(this,arguments),o)},null,H)},f.translateTo=function(p,R,W,H,G){f.transform(p,function(){var I=t.apply(this,arguments),Y=this.__zoom,A=H==null?N(I):typeof H=="function"?H.apply(this,arguments):H;return n(Zn.translate(A[0],A[1]).scale(Y.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof W=="function"?-W.apply(this,arguments):-W),I,o)},H,G)};function g(p,R){return R=Math.max(i[0],Math.min(i[1],R)),R===p.k?p:new Un(R,p.x,p.y)}function k(p,R,W){var H=R[0]-W[0]*p.k,G=R[1]-W[1]*p.k;return H===p.x&&G===p.y?p:new Un(p.k,H,G)}function N(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function E(p,R,W,H){p.on("start.zoom",function(){D(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(H).end()}).tween("zoom",function(){var G=this,I=arguments,Y=D(G,I).event(H),A=t.apply(G,I),P=W==null?N(A):typeof W=="function"?W.apply(G,I):W,le=Math.max(A[1][0]-A[0][0],A[1][1]-A[0][1]),ne=G.__zoom,J=typeof R=="function"?R.apply(G,I):R,ve=c(ne.invert(P).concat(le/ne.k),J.invert(P).concat(le/J.k));return function(Ce){if(Ce===1)Ce=J;else{var Ee=ve(Ce),je=le/Ee[2];Ce=new Un(je,P[0]-Ee[0]*je,P[1]-Ee[1]*je)}Y.zoom(null,Ce)}})}function D(p,R,W){return!W&&p.__zooming||new T(p,R)}function T(p,R){this.that=p,this.args=R,this.active=0,this.sourceEvent=null,this.extent=t.apply(p,R),this.taps=0}T.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,R){return this.mouse&&p!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var R=on(this.that).datum();u.call(p,this.that,new kk(p,{sourceEvent:this.sourceEvent,target:f,transform:this.that.__zoom,dispatch:u}),R)}};function L(p,...R){if(!e.apply(this,arguments))return;var W=D(this,R).event(p),H=this.__zoom,G=Math.max(i[0],Math.min(i[1],H.k*Math.pow(2,r.apply(this,arguments)))),I=yn(p);if(W.wheel)(W.mouse[0][0]!==I[0]||W.mouse[0][1]!==I[1])&&(W.mouse[1]=H.invert(W.mouse[0]=I)),clearTimeout(W.wheel);else{if(H.k===G)return;W.mouse=[I,H.invert(I)],ta(this),W.start()}si(p),W.wheel=setTimeout(Y,v),W.zoom("mouse",n(k(g(H,G),W.mouse[0],W.mouse[1]),W.extent,o));function Y(){W.wheel=null,W.end()}}function M(p,...R){if(x||!e.apply(this,arguments))return;var W=p.currentTarget,H=D(this,R,!0).event(p),G=on(p.view).on("mousemove.zoom",P,!0).on("mouseup.zoom",le,!0),I=yn(p,W),Y=p.clientX,A=p.clientY;Rm(p.view),Zl(p),H.mouse=[I,this.__zoom.invert(I)],ta(this),H.start();function P(ne){if(si(ne),!H.moved){var J=ne.clientX-Y,ve=ne.clientY-A;H.moved=J*J+ve*ve>y}H.event(ne).zoom("mouse",n(k(H.that.__zoom,H.mouse[0]=yn(ne,W),H.mouse[1]),H.extent,o))}function le(ne){G.on("mousemove.zoom mouseup.zoom",null),Om(ne.view,H.moved),si(ne),H.event(ne).end()}}function F(p,...R){if(e.apply(this,arguments)){var W=this.__zoom,H=yn(p.changedTouches?p.changedTouches[0]:p,this),G=W.invert(H),I=W.k*(p.shiftKey?.5:2),Y=n(k(g(W,I),H,G),t.apply(this,R),o);si(p),a>0?on(this).transition().duration(a).call(E,Y,H,p):on(this).call(f.transform,Y,H,p)}}function q(p,...R){if(e.apply(this,arguments)){var W=p.touches,H=W.length,G=D(this,R,p.changedTouches.length===H).event(p),I,Y,A,P;for(Zl(p),Y=0;Y<H;++Y)A=W[Y],P=yn(A,this),P=[P,this.__zoom.invert(P),A.identifier],G.touch0?!G.touch1&&G.touch0[2]!==P[2]&&(G.touch1=P,G.taps=0):(G.touch0=P,I=!0,G.taps=1+!!d);d&&(d=clearTimeout(d)),I&&(G.taps<2&&(m=P[0],d=setTimeout(function(){d=null},h)),ta(this),G.start())}}function z(p,...R){if(this.__zooming){var W=D(this,R).event(p),H=p.changedTouches,G=H.length,I,Y,A,P;for(si(p),I=0;I<G;++I)Y=H[I],A=yn(Y,this),W.touch0&&W.touch0[2]===Y.identifier?W.touch0[0]=A:W.touch1&&W.touch1[2]===Y.identifier&&(W.touch1[0]=A);if(Y=W.that.__zoom,W.touch1){var le=W.touch0[0],ne=W.touch0[1],J=W.touch1[0],ve=W.touch1[1],Ce=(Ce=J[0]-le[0])*Ce+(Ce=J[1]-le[1])*Ce,Ee=(Ee=ve[0]-ne[0])*Ee+(Ee=ve[1]-ne[1])*Ee;Y=g(Y,Math.sqrt(Ce/Ee)),A=[(le[0]+J[0])/2,(le[1]+J[1])/2],P=[(ne[0]+ve[0])/2,(ne[1]+ve[1])/2]}else if(W.touch0)A=W.touch0[0],P=W.touch0[1];else return;W.zoom("touch",n(k(Y,A,P),W.extent,o))}}function $(p,...R){if(this.__zooming){var W=D(this,R).event(p),H=p.changedTouches,G=H.length,I,Y;for(Zl(p),x&&clearTimeout(x),x=setTimeout(function(){x=null},h),I=0;I<G;++I)Y=H[I],W.touch0&&W.touch0[2]===Y.identifier?delete W.touch0:W.touch1&&W.touch1[2]===Y.identifier&&delete W.touch1;if(W.touch1&&!W.touch0&&(W.touch0=W.touch1,delete W.touch1),W.touch0)W.touch0[1]=this.__zoom.invert(W.touch0[0]);else if(W.end(),W.taps===2&&(Y=yn(Y,this),Math.hypot(m[0]-Y[0],m[1]-Y[1])<b)){var A=on(this).on("dblclick.zoom");A&&A.apply(this,arguments)}}}return f.wheelDelta=function(p){return arguments.length?(r=typeof p=="function"?p:Io(+p),f):r},f.filter=function(p){return arguments.length?(e=typeof p=="function"?p:Io(!!p),f):e},f.touchable=function(p){return arguments.length?(s=typeof p=="function"?p:Io(!!p),f):s},f.extent=function(p){return arguments.length?(t=typeof p=="function"?p:Io([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),f):t},f.scaleExtent=function(p){return arguments.length?(i[0]=+p[0],i[1]=+p[1],f):[i[0],i[1]]},f.translateExtent=function(p){return arguments.length?(o[0][0]=+p[0][0],o[1][0]=+p[1][0],o[0][1]=+p[0][1],o[1][1]=+p[1][1],f):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},f.constrain=function(p){return arguments.length?(n=p,f):n},f.duration=function(p){return arguments.length?(a=+p,f):a},f.interpolate=function(p){return arguments.length?(c=p,f):c},f.on=function(){var p=u.on.apply(u,arguments);return p===u?f:p},f.clickDistance=function(p){return arguments.length?(y=(p=+p)*p,f):Math.sqrt(y)},f.tapDistance=function(p){return arguments.length?(b=+p,f):b},f}const ul=C.createContext(null),jk=ul.Provider,Qn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Qm=Qn.error001();function st(e,t){const n=C.useContext(ul);if(n===null)throw new Error(Qm);return Nm(n,e,t)}const bt=()=>{const e=C.useContext(ul);if(e===null)throw new Error(Qm);return C.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Ck=e=>e.userSelectionActive?"none":"all";function bd({position:e,children:t,className:n,style:r,...s}){const i=st(Ck),o=`${e}`.split("-");return ae.createElement("div",{className:jt(["react-flow__panel",n,...o]),style:{...r,pointerEvents:i},...s},t)}function Dk({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:ae.createElement(bd,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ae.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Tk=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:c,className:u,...d})=>{const m=C.useRef(null),[x,h]=C.useState({x:0,y:0,width:0,height:0}),v=jt(["react-flow__edge-textwrapper",u]);return C.useEffect(()=>{if(m.current){const y=m.current.getBBox();h({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:ae.createElement("g",{transform:`translate(${e-x.width/2} ${t-x.height/2})`,className:v,visibility:x.width?"visible":"hidden",...d},s&&ae.createElement("rect",{width:x.width+2*o[0],x:-o[0],y:-o[1],height:x.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),ae.createElement("text",{className:"react-flow__edge-text",y:x.height/2,dy:"0.3em",ref:m,style:r},n),c)};var Ik=C.memo(Tk);const kd=e=>({width:e.offsetWidth,height:e.offsetHeight}),Vs=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Nd=(e={x:0,y:0},t)=>({x:Vs(e.x,t[0][0],t[1][0]),y:Vs(e.y,t[0][1],t[1][1])}),hh=(e,t,n)=>e<t?Vs(Math.abs(e-t),1,50)/50:e>n?-Vs(Math.abs(e-n),1,50)/50:0,Jm=(e,t)=>{const n=hh(e.x,35,t.width-35)*20,r=hh(e.y,35,t.height-35)*20;return[n,r]},eg=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},tg=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Gi=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),ng=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),ph=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Mk=(e,t)=>ng(tg(Gi(e),Gi(t))),nu=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Ak=e=>ln(e.width)&&ln(e.height)&&ln(e.x)&&ln(e.y),ln=e=>!isNaN(e)&&isFinite(e),mt=Symbol.for("internals"),rg=["Enter"," ","Escape"],Pk=(e,t)=>{},Rk=e=>"nativeEvent"in e;function ru(e){var s,i;const t=Rk(e)?e.nativeEvent:e,n=((i=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const sg=e=>"clientX"in e,kr=(e,t)=>{var i,o;const n=sg(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},Ra=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},oo=({id:e,path:t,labelX:n,labelY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:x,interactionWidth:h=20})=>ae.createElement(ae.Fragment,null,ae.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:m,markerStart:x}),h&&ae.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),s&&ln(n)&&ln(r)?ae.createElement(Ik,{x:n,y:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u}):null);oo.displayName="BaseEdge";function ii(e,t,n){return n===void 0?n:r=>{const s=t().edges.find(i=>i.id===e);s&&n(r,{...s})}}function ig({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[i,a,s,o]}function og({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:a}){const c=e*.125+s*.375+o*.375+n*.125,u=t*.125+i*.375+a*.375+r*.125,d=Math.abs(c-e),m=Math.abs(u-t);return[c,u,d,m]}var _r;(function(e){e.Strict="strict",e.Loose="loose"})(_r||(_r={}));var $r;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})($r||($r={}));var Yi;(function(e){e.Partial="partial",e.Full="full"})(Yi||(Yi={}));var dr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(dr||(dr={}));var Ki;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ki||(Ki={}));var Me;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Me||(Me={}));function mh({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===Me.Left||e===Me.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function ag({sourceX:e,sourceY:t,sourcePosition:n=Me.Bottom,targetX:r,targetY:s,targetPosition:i=Me.Top}){const[o,a]=mh({pos:n,x1:e,y1:t,x2:r,y2:s}),[c,u]=mh({pos:i,x1:r,y1:s,x2:e,y2:t}),[d,m,x,h]=og({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:a,targetControlX:c,targetControlY:u});return[`M${e},${t} C${o},${a} ${c},${u} ${r},${s}`,d,m,x,h]}const Sd=C.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=Me.Bottom,targetPosition:i=Me.Top,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:x,markerEnd:h,markerStart:v,interactionWidth:y})=>{const[b,f,g]=ag({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i});return ae.createElement(oo,{path:b,labelX:f,labelY:g,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:x,markerEnd:h,markerStart:v,interactionWidth:y})});Sd.displayName="SimpleBezierEdge";const gh={[Me.Left]:{x:-1,y:0},[Me.Right]:{x:1,y:0},[Me.Top]:{x:0,y:-1},[Me.Bottom]:{x:0,y:1}},Ok=({source:e,sourcePosition:t=Me.Bottom,target:n})=>t===Me.Left||t===Me.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},xh=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Lk({source:e,sourcePosition:t=Me.Bottom,target:n,targetPosition:r=Me.Top,center:s,offset:i}){const o=gh[t],a=gh[r],c={x:e.x+o.x*i,y:e.y+o.y*i},u={x:n.x+a.x*i,y:n.y+a.y*i},d=Ok({source:c,sourcePosition:t,target:u}),m=d.x!==0?"x":"y",x=d[m];let h=[],v,y;const b={x:0,y:0},f={x:0,y:0},[g,k,N,E]=ig({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[m]*a[m]===-1){v=s.x??g,y=s.y??k;const T=[{x:v,y:c.y},{x:v,y:u.y}],L=[{x:c.x,y},{x:u.x,y}];o[m]===x?h=m==="x"?T:L:h=m==="x"?L:T}else{const T=[{x:c.x,y:u.y}],L=[{x:u.x,y:c.y}];if(m==="x"?h=o.x===x?L:T:h=o.y===x?T:L,t===r){const $=Math.abs(e[m]-n[m]);if($<=i){const p=Math.min(i-1,i-$);o[m]===x?b[m]=(c[m]>e[m]?-1:1)*p:f[m]=(u[m]>n[m]?-1:1)*p}}if(t!==r){const $=m==="x"?"y":"x",p=o[m]===a[$],R=c[$]>u[$],W=c[$]<u[$];(o[m]===1&&(!p&&R||p&&W)||o[m]!==1&&(!p&&W||p&&R))&&(h=m==="x"?T:L)}const M={x:c.x+b.x,y:c.y+b.y},F={x:u.x+f.x,y:u.y+f.y},q=Math.max(Math.abs(M.x-h[0].x),Math.abs(F.x-h[0].x)),z=Math.max(Math.abs(M.y-h[0].y),Math.abs(F.y-h[0].y));q>=z?(v=(M.x+F.x)/2,y=h[0].y):(v=h[0].x,y=(M.y+F.y)/2)}return[[e,{x:c.x+b.x,y:c.y+b.y},...h,{x:u.x+f.x,y:u.y+f.y},n],v,y,N,E]}function $k(e,t,n,r){const s=Math.min(xh(e,t)/2,xh(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+s*u},${o}Q ${i},${o} ${i},${o+s*d}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${o+s*c}Q ${i},${o} ${i+s*a},${o}`}function su({sourceX:e,sourceY:t,sourcePosition:n=Me.Bottom,targetX:r,targetY:s,targetPosition:i=Me.Top,borderRadius:o=5,centerX:a,centerY:c,offset:u=20}){const[d,m,x,h,v]=Lk({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:a,y:c},offset:u});return[d.reduce((b,f,g)=>{let k="";return g>0&&g<d.length-1?k=$k(d[g-1],f,d[g+1],o):k=`${g===0?"M":"L"}${f.x} ${f.y}`,b+=k,b},""),m,x,h,v]}const dl=C.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:m=Me.Bottom,targetPosition:x=Me.Top,markerEnd:h,markerStart:v,pathOptions:y,interactionWidth:b})=>{const[f,g,k]=su({sourceX:e,sourceY:t,sourcePosition:m,targetX:n,targetY:r,targetPosition:x,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return ae.createElement(oo,{path:f,labelX:g,labelY:k,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:v,interactionWidth:b})});dl.displayName="SmoothStepEdge";const _d=C.memo(e=>{var t;return ae.createElement(dl,{...e,pathOptions:C.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});_d.displayName="StepEdge";function Fk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,o,a]=ig({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,o,a]}const zd=C.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:x,interactionWidth:h})=>{const[v,y,b]=Fk({sourceX:e,sourceY:t,targetX:n,targetY:r});return ae.createElement(oo,{path:v,labelX:y,labelY:b,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:x,interactionWidth:h})});zd.displayName="StraightEdge";function Mo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function yh({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case Me.Left:return[t-Mo(t-r,i),n];case Me.Right:return[t+Mo(r-t,i),n];case Me.Top:return[t,n-Mo(n-s,i)];case Me.Bottom:return[t,n+Mo(s-n,i)]}}function lg({sourceX:e,sourceY:t,sourcePosition:n=Me.Bottom,targetX:r,targetY:s,targetPosition:i=Me.Top,curvature:o=.25}){const[a,c]=yh({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[u,d]=yh({pos:i,x1:r,y1:s,x2:e,y2:t,c:o}),[m,x,h,v]=og({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${a},${c} ${u},${d} ${r},${s}`,m,x,h,v]}const Oa=C.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=Me.Bottom,targetPosition:i=Me.Top,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:x,markerEnd:h,markerStart:v,pathOptions:y,interactionWidth:b})=>{const[f,g,k]=lg({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i,curvature:y==null?void 0:y.curvature});return ae.createElement(oo,{path:f,labelX:g,labelY:k,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:x,markerEnd:h,markerStart:v,interactionWidth:b})});Oa.displayName="BezierEdge";const Ed=C.createContext(null),Bk=Ed.Provider;Ed.Consumer;const Uk=()=>C.useContext(Ed),Hk=e=>"id"in e&&"source"in e&&"target"in e,Vk=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,iu=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,Wk=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),cg=(e,t)=>{if(!e.source||!e.target)return t;let n;return Hk(e)?n={...e}:n={...e,id:Vk(e)},Wk(n,t)?t:t.concat(n)},ou=({x:e,y:t},[n,r,s],i,[o,a])=>{const c={x:(e-n)/s,y:(t-r)/s};return i?{x:o*Math.round(c.x/o),y:a*Math.round(c.y/a)}:c},ug=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r}),Hr=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],s={x:e.position.x-n,y:e.position.y-r};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:s}},fl=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const{x:i,y:o}=Hr(s,t).positionAbsolute;return tg(r,Gi({x:i,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ng(n)},dg=(e,t,[n,r,s]=[0,0,1],i=!1,o=!1,a=[0,0])=>{const c={x:(t.x-n)/s,y:(t.y-r)/s,width:t.width/s,height:t.height/s},u=[];return e.forEach(d=>{const{width:m,height:x,selectable:h=!0,hidden:v=!1}=d;if(o&&!h||v)return!1;const{positionAbsolute:y}=Hr(d,a),b={x:y.x,y:y.y,width:m||0,height:x||0},f=nu(c,b),g=typeof m>"u"||typeof x>"u"||m===null||x===null,k=i&&f>0,N=(m||0)*(x||0);(g||k||f>=N||d.dragging)&&u.push(d)}),u},fg=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},hg=(e,t,n,r,s,i=.1)=>{const o=t/(e.width*(1+i)),a=n/(e.height*(1+i)),c=Math.min(o,a),u=Vs(c,r,s),d=e.x+e.width/2,m=e.y+e.height/2,x=t/2-d*u,h=n/2-m*u;return{x,y:h,zoom:u}},Ir=(e,t=0)=>e.transition().duration(t);function vh(e,t,n,r){return(t[n]||[]).reduce((s,i)=>{var o,a;return`${e.id}-${i.id}-${n}`!==r&&s.push({id:i.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+i.y+i.height/2}),s},[])}function Zk(e,t,n,r,s,i){const{x:o,y:a}=kr(e),u=t.elementsFromPoint(o,a).find(v=>v.classList.contains("react-flow__handle"));if(u){const v=u.getAttribute("data-nodeid");if(v){const y=jd(void 0,u),b=u.getAttribute("data-handleid"),f=i({nodeId:v,id:b,type:y});if(f){const g=s.find(k=>k.nodeId===v&&k.type===y&&k.id===b);return{handle:{id:b,type:y,nodeId:v,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:f}}}}let d=[],m=1/0;if(s.forEach(v=>{const y=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(y<=r){const b=i(v);y<=m&&(y<m?d=[{handle:v,validHandleResult:b}]:y===m&&d.push({handle:v,validHandleResult:b}),m=y)}}),!d.length)return{handle:null,validHandleResult:pg()};if(d.length===1)return d[0];const x=d.some(({validHandleResult:v})=>v.isValid),h=d.some(({handle:v})=>v.type==="target");return d.find(({handle:v,validHandleResult:y})=>h?v.type==="target":x?y.isValid:!0)||d[0]}const Gk={source:null,target:null,sourceHandle:null,targetHandle:null},pg=()=>({handleDomNode:null,isValid:!1,connection:Gk,endHandle:null});function mg(e,t,n,r,s,i,o){const a=s==="target",c=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...pg(),handleDomNode:c};if(c){const d=jd(void 0,c),m=c.getAttribute("data-nodeid"),x=c.getAttribute("data-handleid"),h=c.classList.contains("connectable"),v=c.classList.contains("connectableend"),y={source:a?m:n,sourceHandle:a?x:r,target:a?n:m,targetHandle:a?r:x};u.connection=y,h&&v&&(t===_r.Strict?a&&d==="source"||!a&&d==="target":m!==n||x!==r)&&(u.endHandle={nodeId:m,handleId:x,type:d},u.isValid=i(y))}return u}function Yk({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((s,i)=>{if(i[mt]){const{handleBounds:o}=i[mt];let a=[],c=[];o&&(a=vh(i,o,"source",`${t}-${n}-${r}`),c=vh(i,o,"target",`${t}-${n}-${r}`)),s.push(...a,...c)}return s},[])}function jd(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Gl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Kk(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function gg({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:s,getState:i,setState:o,isValidConnection:a,edgeUpdaterType:c,onReconnectEnd:u}){const d=eg(e.target),{connectionMode:m,domNode:x,autoPanOnConnect:h,connectionRadius:v,onConnectStart:y,panBy:b,getNodes:f,cancelConnection:g}=i();let k=0,N;const{x:E,y:D}=kr(e),T=d==null?void 0:d.elementFromPoint(E,D),L=jd(c,T),M=x==null?void 0:x.getBoundingClientRect();if(!M||!L)return;let F,q=kr(e,M),z=!1,$=null,p=!1,R=null;const W=Yk({nodes:f(),nodeId:n,handleId:t,handleType:L}),H=()=>{if(!h)return;const[Y,A]=Jm(q,M);b({x:Y,y:A}),k=requestAnimationFrame(H)};o({connectionPosition:q,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:L,connectionStartHandle:{nodeId:n,handleId:t,type:L},connectionEndHandle:null}),y==null||y(e,{nodeId:n,handleId:t,handleType:L});function G(Y){const{transform:A}=i();q=kr(Y,M);const{handle:P,validHandleResult:le}=Zk(Y,d,ou(q,A,!1,[1,1]),v,W,ne=>mg(ne,m,n,t,s?"target":"source",a,d));if(N=P,z||(H(),z=!0),R=le.handleDomNode,$=le.connection,p=le.isValid,o({connectionPosition:N&&p?ug({x:N.x,y:N.y},A):q,connectionStatus:Kk(!!N,p),connectionEndHandle:le.endHandle}),!N&&!p&&!R)return Gl(F);$.source!==$.target&&R&&(Gl(F),F=R,R.classList.add("connecting","react-flow__handle-connecting"),R.classList.toggle("valid",p),R.classList.toggle("react-flow__handle-valid",p))}function I(Y){var A,P;(N||R)&&$&&p&&(r==null||r($)),(P=(A=i()).onConnectEnd)==null||P.call(A,Y),c&&(u==null||u(Y)),Gl(F),g(),cancelAnimationFrame(k),z=!1,p=!1,$=null,R=null,d.removeEventListener("mousemove",G),d.removeEventListener("mouseup",I),d.removeEventListener("touchmove",G),d.removeEventListener("touchend",I)}d.addEventListener("mousemove",G),d.addEventListener("mouseup",I),d.addEventListener("touchmove",G),d.addEventListener("touchend",I)}const wh=()=>!0,Xk=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),qk=(e,t,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:o}=r;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},xg=C.forwardRef(({type:e="source",position:t=Me.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:a,children:c,className:u,onMouseDown:d,onTouchStart:m,...x},h)=>{var M,F;const v=o||null,y=e==="target",b=bt(),f=Uk(),{connectOnClick:g,noPanClassName:k}=st(Xk,Zt),{connecting:N,clickConnecting:E}=st(qk(f,v,e),Zt);f||(F=(M=b.getState()).onError)==null||F.call(M,"010",Qn.error010());const D=q=>{const{defaultEdgeOptions:z,onConnect:$,hasDefaultEdges:p}=b.getState(),R={...z,...q};if(p){const{edges:W,setEdges:H}=b.getState();H(cg(R,W))}$==null||$(R),a==null||a(R)},T=q=>{if(!f)return;const z=sg(q);s&&(z&&q.button===0||!z)&&gg({event:q,handleId:v,nodeId:f,onConnect:D,isTarget:y,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||wh}),z?d==null||d(q):m==null||m(q)},L=q=>{const{onClickConnectStart:z,onClickConnectEnd:$,connectionClickStartHandle:p,connectionMode:R,isValidConnection:W}=b.getState();if(!f||!p&&!s)return;if(!p){z==null||z(q,{nodeId:f,handleId:v,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:f,type:e,handleId:v}});return}const H=eg(q.target),G=n||W||wh,{connection:I,isValid:Y}=mg({nodeId:f,id:v,type:e},R,p.nodeId,p.handleId||null,p.type,G,H);Y&&D(I),$==null||$(q),b.setState({connectionClickStartHandle:null})};return ae.createElement("div",{"data-handleid":v,"data-nodeid":f,"data-handlepos":t,"data-id":`${f}-${v}-${e}`,className:jt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",k,u,{source:!y,target:y,connectable:r,connectablestart:s,connectableend:i,connecting:E,connectionindicator:r&&(s&&!N||i&&N)}]),onMouseDown:T,onTouchStart:T,onClick:g?L:void 0,ref:h,...x},c)});xg.displayName="Handle";var tt=C.memo(xg);const yg=({data:e,isConnectable:t,targetPosition:n=Me.Top,sourcePosition:r=Me.Bottom})=>ae.createElement(ae.Fragment,null,ae.createElement(tt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,ae.createElement(tt,{type:"source",position:r,isConnectable:t}));yg.displayName="DefaultNode";var au=C.memo(yg);const vg=({data:e,isConnectable:t,sourcePosition:n=Me.Bottom})=>ae.createElement(ae.Fragment,null,e==null?void 0:e.label,ae.createElement(tt,{type:"source",position:n,isConnectable:t}));vg.displayName="InputNode";var wg=C.memo(vg);const bg=({data:e,isConnectable:t,targetPosition:n=Me.Top})=>ae.createElement(ae.Fragment,null,ae.createElement(tt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);bg.displayName="OutputNode";var kg=C.memo(bg);const Cd=()=>null;Cd.displayName="GroupNode";const Qk=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Ao=e=>e.id;function Jk(e,t){return Zt(e.selectedNodes.map(Ao),t.selectedNodes.map(Ao))&&Zt(e.selectedEdges.map(Ao),t.selectedEdges.map(Ao))}const Ng=C.memo(({onSelectionChange:e})=>{const t=bt(),{selectedNodes:n,selectedEdges:r}=st(Qk,Jk);return C.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChange.forEach(i=>i(s))},[n,r,e]),null});Ng.displayName="SelectionListener";const eN=e=>!!e.onSelectionChange;function tN({onSelectionChange:e}){const t=st(eN);return e||t?ae.createElement(Ng,{onSelectionChange:e}):null}const nN=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function rs(e,t){C.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Ge(e,t,n){C.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const rN=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:i,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:m,edgesFocusable:x,edgesUpdatable:h,elevateNodesOnSelect:v,minZoom:y,maxZoom:b,nodeExtent:f,onNodesChange:g,onEdgesChange:k,elementsSelectable:N,connectionMode:E,snapGrid:D,snapToGrid:T,translateExtent:L,connectOnClick:M,defaultEdgeOptions:F,fitView:q,fitViewOptions:z,onNodesDelete:$,onEdgesDelete:p,onNodeDrag:R,onNodeDragStart:W,onNodeDragStop:H,onSelectionDrag:G,onSelectionDragStart:I,onSelectionDragStop:Y,noPanClassName:A,nodeOrigin:P,rfId:le,autoPanOnConnect:ne,autoPanOnNodeDrag:J,onError:ve,connectionRadius:Ce,isValidConnection:Ee,nodeDragThreshold:je})=>{const{setNodes:re,setEdges:he,setDefaultNodesAndEdges:te,setMinZoom:ye,setMaxZoom:w,setTranslateExtent:ee,setNodeExtent:Q,reset:S}=st(nN,Zt),_=bt();return C.useEffect(()=>{const O=r==null?void 0:r.map(U=>({...U,...F}));return te(n,O),()=>{S()}},[]),Ge("defaultEdgeOptions",F,_.setState),Ge("connectionMode",E,_.setState),Ge("onConnect",s,_.setState),Ge("onConnectStart",i,_.setState),Ge("onConnectEnd",o,_.setState),Ge("onClickConnectStart",a,_.setState),Ge("onClickConnectEnd",c,_.setState),Ge("nodesDraggable",u,_.setState),Ge("nodesConnectable",d,_.setState),Ge("nodesFocusable",m,_.setState),Ge("edgesFocusable",x,_.setState),Ge("edgesUpdatable",h,_.setState),Ge("elementsSelectable",N,_.setState),Ge("elevateNodesOnSelect",v,_.setState),Ge("snapToGrid",T,_.setState),Ge("snapGrid",D,_.setState),Ge("onNodesChange",g,_.setState),Ge("onEdgesChange",k,_.setState),Ge("connectOnClick",M,_.setState),Ge("fitViewOnInit",q,_.setState),Ge("fitViewOnInitOptions",z,_.setState),Ge("onNodesDelete",$,_.setState),Ge("onEdgesDelete",p,_.setState),Ge("onNodeDrag",R,_.setState),Ge("onNodeDragStart",W,_.setState),Ge("onNodeDragStop",H,_.setState),Ge("onSelectionDrag",G,_.setState),Ge("onSelectionDragStart",I,_.setState),Ge("onSelectionDragStop",Y,_.setState),Ge("noPanClassName",A,_.setState),Ge("nodeOrigin",P,_.setState),Ge("rfId",le,_.setState),Ge("autoPanOnConnect",ne,_.setState),Ge("autoPanOnNodeDrag",J,_.setState),Ge("onError",ve,_.setState),Ge("connectionRadius",Ce,_.setState),Ge("isValidConnection",Ee,_.setState),Ge("nodeDragThreshold",je,_.setState),rs(e,re),rs(t,he),rs(y,ye),rs(b,w),rs(L,ee),rs(f,Q),null},bh={display:"none"},sN={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Sg="react-flow__node-desc",_g="react-flow__edge-desc",iN="react-flow__aria-live",oN=e=>e.ariaLiveMessage;function aN({rfId:e}){const t=st(oN);return ae.createElement("div",{id:`${iN}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:sN},t)}function lN({rfId:e,disableKeyboardA11y:t}){return ae.createElement(ae.Fragment,null,ae.createElement("div",{id:`${Sg}-${e}`,style:bh},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ae.createElement("div",{id:`${_g}-${e}`,style:bh},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&ae.createElement(aN,{rfId:e}))}var Xi=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=C.useState(!1),s=C.useRef(!1),i=C.useRef(new Set([])),[o,a]=C.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.split("+")),d=u.reduce((m,x)=>m.concat(...x),[]);return[u,d]}return[[],[]]},[e]);return C.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=h=>{if(s.current=h.ctrlKey||h.metaKey||h.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&ru(h))return!1;const y=Nh(h.code,a);i.current.add(h[y]),kh(o,i.current,!1)&&(h.preventDefault(),r(!0))},m=h=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&ru(h))return!1;const y=Nh(h.code,a);kh(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(h[y]),h.key==="Meta"&&i.current.clear(),s.current=!1},x=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",m),window.addEventListener("blur",x),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",m),window.removeEventListener("blur",x)}}},[e,r]),n};function kh(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function Nh(e,t){return t.includes(e)?"code":"key"}function zg(e,t,n,r){var a,c;const s=e.parentNode||e.parentId;if(!s)return n;const i=t.get(s),o=Hr(i,r);return zg(i,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=i[mt])==null?void 0:a.z)??0)>(n.z??0)?((c=i[mt])==null?void 0:c.z)??0:n.z??0},r)}function Eg(e,t,n){e.forEach(r=>{var i;const s=r.parentNode||r.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:o,y:a,z:c}=zg(r,e,{...r.position,z:((i=r[mt])==null?void 0:i.z)??0},t);r.positionAbsolute={x:o,y:a},r[mt].z=c,n!=null&&n[r.id]&&(r[mt].isParent=!0)}})}function Yl(e,t,n,r){const s=new Map,i={},o=r?1e3:0;return e.forEach(a=>{var h;const c=(ln(a.zIndex)?a.zIndex:0)+(a.selected?o:0),u=t.get(a.id),d={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},m=a.parentNode||a.parentId;m&&(i[m]=!0);const x=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(d,mt,{enumerable:!1,value:{handleBounds:x||(h=u==null?void 0:u[mt])==null?void 0:h.handleBounds,z:c}}),s.set(a.id,d)}),Eg(s,n,i),s}function jg(e,t={}){const{getNodes:n,width:r,height:s,minZoom:i,maxZoom:o,d3Zoom:a,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:m}=e(),x=t.initial&&!u&&d;if(a&&c&&(x||!t.initial)){const v=n().filter(b=>{var g;const f=t.includeHiddenNodes?b.width&&b.height:!b.hidden;return(g=t.nodes)!=null&&g.length?f&&t.nodes.some(k=>k.id===b.id):f}),y=v.every(b=>b.width&&b.height);if(v.length>0&&y){const b=fl(v,m),{x:f,y:g,zoom:k}=hg(b,r,s,t.minZoom??i,t.maxZoom??o,t.padding??.1),N=Zn.translate(f,g).scale(k);return typeof t.duration=="number"&&t.duration>0?a.transform(Ir(c,t.duration),N):a.transform(c,N),!0}}return!1}function cN(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[mt]:r[mt],selected:n.selected})}),new Map(t)}function uN(e,t){return t.map(n=>{const r=e.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Po({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:s,edges:i,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:cN(e,s)}),o==null||o(e)),t!=null&&t.length&&(u&&r({edges:uN(t,i)}),a==null||a(t))}const ss=()=>{},dN={zoomIn:ss,zoomOut:ss,zoomTo:ss,getZoom:()=>1,setViewport:ss,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:ss,fitBounds:ss,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},fN=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),hN=()=>{const e=bt(),{d3Zoom:t,d3Selection:n}=st(fN,Zt);return C.useMemo(()=>n&&t?{zoomIn:s=>t.scaleBy(Ir(n,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(Ir(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>t.scaleTo(Ir(n,i==null?void 0:i.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,i)=>{const[o,a,c]=e.getState().transform,u=Zn.translate(s.x??o,s.y??a).scale(s.zoom??c);t.transform(Ir(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[s,i,o]=e.getState().transform;return{x:s,y:i,zoom:o}},fitView:s=>jg(e.getState,s),setCenter:(s,i,o)=>{const{width:a,height:c,maxZoom:u}=e.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,m=a/2-s*d,x=c/2-i*d,h=Zn.translate(m,x).scale(d);t.transform(Ir(n,o==null?void 0:o.duration),h)},fitBounds:(s,i)=>{const{width:o,height:a,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:m,zoom:x}=hg(s,o,a,c,u,(i==null?void 0:i.padding)??.1),h=Zn.translate(d,m).scale(x);t.transform(Ir(n,i==null?void 0:i.duration),h)},project:s=>{const{transform:i,snapToGrid:o,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),ou(s,i,o,a)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:o,snapGrid:a,domNode:c}=e.getState();if(!c)return s;const{x:u,y:d}=c.getBoundingClientRect(),m={x:s.x-u,y:s.y-d};return ou(m,i,o,a)},flowToScreenPosition:s=>{const{transform:i,domNode:o}=e.getState();if(!o)return s;const{x:a,y:c}=o.getBoundingClientRect(),u=ug(s,i);return{x:u.x+a,y:u.y+c}},viewportInitialized:!0}:dN,[t,n])};function hl(){const e=hN(),t=bt(),n=C.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),r=C.useCallback(y=>t.getState().nodeInternals.get(y),[]),s=C.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(b=>({...b}))},[]),i=C.useCallback(y=>{const{edges:b=[]}=t.getState();return b.find(f=>f.id===y)},[]),o=C.useCallback(y=>{const{getNodes:b,setNodes:f,hasDefaultNodes:g,onNodesChange:k}=t.getState(),N=b(),E=typeof y=="function"?y(N):y;if(g)f(E);else if(k){const D=E.length===0?N.map(T=>({type:"remove",id:T.id})):E.map(T=>({item:T,type:"reset"}));k(D)}},[]),a=C.useCallback(y=>{const{edges:b=[],setEdges:f,hasDefaultEdges:g,onEdgesChange:k}=t.getState(),N=typeof y=="function"?y(b):y;if(g)f(N);else if(k){const E=N.length===0?b.map(D=>({type:"remove",id:D.id})):N.map(D=>({item:D,type:"reset"}));k(E)}},[]),c=C.useCallback(y=>{const b=Array.isArray(y)?y:[y],{getNodes:f,setNodes:g,hasDefaultNodes:k,onNodesChange:N}=t.getState();if(k){const D=[...f(),...b];g(D)}else if(N){const E=b.map(D=>({item:D,type:"add"}));N(E)}},[]),u=C.useCallback(y=>{const b=Array.isArray(y)?y:[y],{edges:f=[],setEdges:g,hasDefaultEdges:k,onEdgesChange:N}=t.getState();if(k)g([...f,...b]);else if(N){const E=b.map(D=>({item:D,type:"add"}));N(E)}},[]),d=C.useCallback(()=>{const{getNodes:y,edges:b=[],transform:f}=t.getState(),[g,k,N]=f;return{nodes:y().map(E=>({...E})),edges:b.map(E=>({...E})),viewport:{x:g,y:k,zoom:N}}},[]),m=C.useCallback(({nodes:y,edges:b})=>{const{nodeInternals:f,getNodes:g,edges:k,hasDefaultNodes:N,hasDefaultEdges:E,onNodesDelete:D,onEdgesDelete:T,onNodesChange:L,onEdgesChange:M}=t.getState(),F=(y||[]).map(R=>R.id),q=(b||[]).map(R=>R.id),z=g().reduce((R,W)=>{const H=W.parentNode||W.parentId,G=!F.includes(W.id)&&H&&R.find(Y=>Y.id===H);return(typeof W.deletable=="boolean"?W.deletable:!0)&&(F.includes(W.id)||G)&&R.push(W),R},[]),$=k.filter(R=>typeof R.deletable=="boolean"?R.deletable:!0),p=$.filter(R=>q.includes(R.id));if(z||p){const R=fg(z,$),W=[...p,...R],H=W.reduce((G,I)=>(G.includes(I.id)||G.push(I.id),G),[]);if((E||N)&&(E&&t.setState({edges:k.filter(G=>!H.includes(G.id))}),N&&(z.forEach(G=>{f.delete(G.id)}),t.setState({nodeInternals:new Map(f)}))),H.length>0&&(T==null||T(W),M&&M(H.map(G=>({id:G,type:"remove"})))),z.length>0&&(D==null||D(z),L)){const G=z.map(I=>({id:I.id,type:"remove"}));L(G)}}},[]),x=C.useCallback(y=>{const b=Ak(y),f=b?null:t.getState().nodeInternals.get(y.id);return!b&&!f?[null,null,b]:[b?y:ph(f),f,b]},[]),h=C.useCallback((y,b=!0,f)=>{const[g,k,N]=x(y);return g?(f||t.getState().getNodes()).filter(E=>{if(!N&&(E.id===k.id||!E.positionAbsolute))return!1;const D=ph(E),T=nu(D,g);return b&&T>0||T>=g.width*g.height}):[]},[]),v=C.useCallback((y,b,f=!0)=>{const[g]=x(y);if(!g)return!1;const k=nu(g,b);return f&&k>0||k>=g.width*g.height},[]);return C.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:s,getEdge:i,setNodes:o,setEdges:a,addNodes:c,addEdges:u,toObject:d,deleteElements:m,getIntersectingNodes:h,isNodeIntersecting:v}),[e,n,r,s,i,o,a,c,u,d,m,h,v])}const pN={actInsideInputWithModifier:!1};var mN=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=bt(),{deleteElements:r}=hl(),s=Xi(e,pN),i=Xi(t);C.useEffect(()=>{if(s){const{edges:o,getNodes:a}=n.getState(),c=a().filter(d=>d.selected),u=o.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[s]),C.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function gN(e){const t=bt();C.useEffect(()=>{let n;const r=()=>{var i,o;if(!e.current)return;const s=kd(e.current);(s.height===0||s.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",Qn.error004())),t.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Dd={position:"absolute",width:"100%",height:"100%",top:0,left:0},xN=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ro=e=>({x:e.x,y:e.y,zoom:e.k}),is=(e,t)=>e.target.closest(`.${t}`),Sh=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),_h=e=>{const t=e.ctrlKey&&Ra()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},yN=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),vN=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:c=$r.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:m=!0,defaultViewport:x,translateExtent:h,minZoom:v,maxZoom:y,zoomActivationKeyCode:b,preventScrolling:f=!0,children:g,noWheelClassName:k,noPanClassName:N})=>{const E=C.useRef(),D=bt(),T=C.useRef(!1),L=C.useRef(!1),M=C.useRef(null),F=C.useRef({x:0,y:0,zoom:0}),{d3Zoom:q,d3Selection:z,d3ZoomHandler:$,userSelectionActive:p}=st(yN,Zt),R=Xi(b),W=C.useRef(0),H=C.useRef(!1),G=C.useRef();return gN(M),C.useEffect(()=>{if(M.current){const I=M.current.getBoundingClientRect(),Y=qm().scaleExtent([v,y]).translateExtent(h),A=on(M.current).call(Y),P=Zn.translate(x.x,x.y).scale(Vs(x.zoom,v,y)),le=[[0,0],[I.width,I.height]],ne=Y.constrain()(P,le,h);Y.transform(A,ne),Y.wheelDelta(_h),D.setState({d3Zoom:Y,d3Selection:A,d3ZoomHandler:A.on("wheel.zoom"),transform:[ne.x,ne.y,ne.k],domNode:M.current.closest(".react-flow")})}},[]),C.useEffect(()=>{z&&q&&(o&&!R&&!p?z.on("wheel.zoom",I=>{if(is(I,k))return!1;I.preventDefault(),I.stopImmediatePropagation();const Y=z.property("__zoom").k||1;if(I.ctrlKey&&i){const Ee=yn(I),je=_h(I),re=Y*Math.pow(2,je);q.scaleTo(z,re,Ee,I);return}const A=I.deltaMode===1?20:1;let P=c===$r.Vertical?0:I.deltaX*A,le=c===$r.Horizontal?0:I.deltaY*A;!Ra()&&I.shiftKey&&c!==$r.Vertical&&(P=I.deltaY*A,le=0),q.translateBy(z,-(P/Y)*a,-(le/Y)*a,{internal:!0});const ne=Ro(z.property("__zoom")),{onViewportChangeStart:J,onViewportChange:ve,onViewportChangeEnd:Ce}=D.getState();clearTimeout(G.current),H.current||(H.current=!0,t==null||t(I,ne),J==null||J(ne)),H.current&&(e==null||e(I,ne),ve==null||ve(ne),G.current=setTimeout(()=>{n==null||n(I,ne),Ce==null||Ce(ne),H.current=!1},150))},{passive:!1}):typeof $<"u"&&z.on("wheel.zoom",function(I,Y){if(!f&&I.type==="wheel"&&!I.ctrlKey||is(I,k))return null;I.preventDefault(),$.call(this,I,Y)},{passive:!1}))},[p,o,c,z,q,$,R,i,f,k,t,e,n]),C.useEffect(()=>{q&&q.on("start",I=>{var P,le;if(!I.sourceEvent||I.sourceEvent.internal)return null;W.current=(P=I.sourceEvent)==null?void 0:P.button;const{onViewportChangeStart:Y}=D.getState(),A=Ro(I.transform);T.current=!0,F.current=A,((le=I.sourceEvent)==null?void 0:le.type)==="mousedown"&&D.setState({paneDragging:!0}),Y==null||Y(A),t==null||t(I.sourceEvent,A)})},[q,t]),C.useEffect(()=>{q&&(p&&!T.current?q.on("zoom",null):p||q.on("zoom",I=>{var A;const{onViewportChange:Y}=D.getState();if(D.setState({transform:[I.transform.x,I.transform.y,I.transform.k]}),L.current=!!(r&&Sh(m,W.current??0)),(e||Y)&&!((A=I.sourceEvent)!=null&&A.internal)){const P=Ro(I.transform);Y==null||Y(P),e==null||e(I.sourceEvent,P)}}))},[p,q,e,m,r]),C.useEffect(()=>{q&&q.on("end",I=>{if(!I.sourceEvent||I.sourceEvent.internal)return null;const{onViewportChangeEnd:Y}=D.getState();if(T.current=!1,D.setState({paneDragging:!1}),r&&Sh(m,W.current??0)&&!L.current&&r(I.sourceEvent),L.current=!1,(n||Y)&&xN(F.current,I.transform)){const A=Ro(I.transform);F.current=A,clearTimeout(E.current),E.current=setTimeout(()=>{Y==null||Y(A),n==null||n(I.sourceEvent,A)},o?150:0)}})},[q,o,m,n,r]),C.useEffect(()=>{q&&q.filter(I=>{const Y=R||s,A=i&&I.ctrlKey;if((m===!0||Array.isArray(m)&&m.includes(1))&&I.button===1&&I.type==="mousedown"&&(is(I,"react-flow__node")||is(I,"react-flow__edge")))return!0;if(!m&&!Y&&!o&&!u&&!i||p||!u&&I.type==="dblclick"||is(I,k)&&I.type==="wheel"||is(I,N)&&(I.type!=="wheel"||o&&I.type==="wheel"&&!R)||!i&&I.ctrlKey&&I.type==="wheel"||!Y&&!o&&!A&&I.type==="wheel"||!m&&(I.type==="mousedown"||I.type==="touchstart")||Array.isArray(m)&&!m.includes(I.button)&&I.type==="mousedown")return!1;const P=Array.isArray(m)&&m.includes(I.button)||!I.button||I.button<=1;return(!I.ctrlKey||I.type==="wheel")&&P})},[p,q,s,i,o,u,m,d,R]),ae.createElement("div",{className:"react-flow__renderer",ref:M,style:Dd},g)},wN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function bN(){const{userSelectionActive:e,userSelectionRect:t}=st(wN,Zt);return e&&t?ae.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function zh(e,t){const n=t.parentNode||t.parentId,r=e.find(s=>s.id===n);if(r){const s=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(s>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),i>0&&(r.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Cg(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,s)=>{const i=e.filter(a=>a.id===s.id);if(i.length===0)return r.push(s),r;const o={...s};for(const a of i)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&zh(r,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&zh(r,o);break}case"remove":return r}return r.push(o),r},n)}function Dg(e,t){return Cg(e,t)}function kN(e,t){return Cg(e,t)}const lr=(e,t)=>({id:e,type:"select",selected:t});function ks(e,t){return e.reduce((n,r)=>{const s=t.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(lr(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(lr(r.id,!1))),n},[])}const Kl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},NN=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Tg=C.memo(({isSelecting:e,selectionMode:t=Yi.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:m})=>{const x=C.useRef(null),h=bt(),v=C.useRef(0),y=C.useRef(0),b=C.useRef(),{userSelectionActive:f,elementsSelectable:g,dragging:k}=st(NN,Zt),N=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,y.current=0},E=$=>{i==null||i($),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},D=$=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){$.preventDefault();return}o==null||o($)},T=a?$=>a($):void 0,L=$=>{const{resetSelectedElements:p,domNode:R}=h.getState();if(b.current=R==null?void 0:R.getBoundingClientRect(),!g||!e||$.button!==0||$.target!==x.current||!b.current)return;const{x:W,y:H}=kr($,b.current);p(),h.setState({userSelectionRect:{width:0,height:0,startX:W,startY:H,x:W,y:H}}),r==null||r($)},M=$=>{const{userSelectionRect:p,nodeInternals:R,edges:W,transform:H,onNodesChange:G,onEdgesChange:I,nodeOrigin:Y,getNodes:A}=h.getState();if(!e||!b.current||!p)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const P=kr($,b.current),le=p.startX??0,ne=p.startY??0,J={...p,x:P.x<le?P.x:le,y:P.y<ne?P.y:ne,width:Math.abs(P.x-le),height:Math.abs(P.y-ne)},ve=A(),Ce=dg(R,J,H,t===Yi.Partial,!0,Y),Ee=fg(Ce,W).map(re=>re.id),je=Ce.map(re=>re.id);if(v.current!==je.length){v.current=je.length;const re=ks(ve,je);re.length&&(G==null||G(re))}if(y.current!==Ee.length){y.current=Ee.length;const re=ks(W,Ee);re.length&&(I==null||I(re))}h.setState({userSelectionRect:J})},F=$=>{if($.button!==0)return;const{userSelectionRect:p}=h.getState();!f&&p&&$.target===x.current&&(E==null||E($)),h.setState({nodesSelectionActive:v.current>0}),N(),s==null||s($)},q=$=>{f&&(h.setState({nodesSelectionActive:v.current>0}),s==null||s($)),N()},z=g&&(e||f);return ae.createElement("div",{className:jt(["react-flow__pane",{dragging:k,selection:e}]),onClick:z?void 0:Kl(E,x),onContextMenu:Kl(D,x),onWheel:Kl(T,x),onMouseEnter:z?void 0:c,onMouseDown:z?L:void 0,onMouseMove:z?M:u,onMouseUp:z?F:void 0,onMouseLeave:z?q:d,ref:x,style:Dd},m,ae.createElement(bN,null))});Tg.displayName="Pane";function Ig(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:Ig(r,t):!1}function Eh(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function SN(e,t,n,r){return Array.from(e.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!Ig(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var i,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function _N(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Mg(e,t,n,r,s=[0,0],i){const o=_N(e,e.extent||r);let a=o;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const m=n.get(c),{x,y:h}=Hr(m,s).positionAbsolute;a=m&&ln(x)&&ln(h)&&ln(m.width)&&ln(m.height)?[[x+e.width*s[0],h+e.height*s[1]],[x+m.width-e.width+e.width*s[0],h+m.height-e.height+e.height*s[1]]]:a}else i==null||i("005",Qn.error005()),a=o;else if(e.extent&&c&&e.extent!=="parent"){const m=n.get(c),{x,y:h}=Hr(m,s).positionAbsolute;a=[[e.extent[0][0]+x,e.extent[0][1]+h],[e.extent[1][0]+x,e.extent[1][1]+h]]}let u={x:0,y:0};if(c){const m=n.get(c);u=Hr(m,s).positionAbsolute}const d=a&&a!=="parent"?Nd(t,a):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Xl({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?r.find(s=>s.id===e):r[0],r]}const jh=(e,t,n,r)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const i=Array.from(s),o=t.getBoundingClientRect(),a={x:o.width*r[0],y:o.height*r[1]};return i.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-o.left-a.x)/n,y:(u.top-o.top-a.y)/n,...kd(c)}})};function oi(e,t,n){return n===void 0?n:r=>{const s=t().nodeInternals.get(e);s&&n(r,{...s})}}function lu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:a,onError:c}=t.getState(),u=a.get(e);if(!u){c==null||c("012",Qn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function zN(){const e=bt();return C.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:i}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,c={x:(o-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:i?s[0]*Math.round(c.x/s[0]):c.x,ySnapped:i?s[1]*Math.round(c.y/s[1]):c.y,...c}},[])}function ql(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Ag({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,selectNodesOnDrag:o}){const a=bt(),[c,u]=C.useState(!1),d=C.useRef([]),m=C.useRef({x:null,y:null}),x=C.useRef(0),h=C.useRef(null),v=C.useRef({x:0,y:0}),y=C.useRef(null),b=C.useRef(!1),f=C.useRef(!1),g=C.useRef(!1),k=zN();return C.useEffect(()=>{if(e!=null&&e.current){const N=on(e.current),E=({x:L,y:M})=>{const{nodeInternals:F,onNodeDrag:q,onSelectionDrag:z,updateNodePositions:$,nodeExtent:p,snapGrid:R,snapToGrid:W,nodeOrigin:H,onError:G}=a.getState();m.current={x:L,y:M};let I=!1,Y={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&p){const P=fl(d.current,H);Y=Gi(P)}if(d.current=d.current.map(P=>{const le={x:L-P.distance.x,y:M-P.distance.y};W&&(le.x=R[0]*Math.round(le.x/R[0]),le.y=R[1]*Math.round(le.y/R[1]));const ne=[[p[0][0],p[0][1]],[p[1][0],p[1][1]]];d.current.length>1&&p&&!P.extent&&(ne[0][0]=P.positionAbsolute.x-Y.x+p[0][0],ne[1][0]=P.positionAbsolute.x+(P.width??0)-Y.x2+p[1][0],ne[0][1]=P.positionAbsolute.y-Y.y+p[0][1],ne[1][1]=P.positionAbsolute.y+(P.height??0)-Y.y2+p[1][1]);const J=Mg(P,le,F,ne,H,G);return I=I||P.position.x!==J.position.x||P.position.y!==J.position.y,P.position=J.position,P.positionAbsolute=J.positionAbsolute,P}),!I)return;$(d.current,!0,!0),u(!0);const A=s?q:ql(z);if(A&&y.current){const[P,le]=Xl({nodeId:s,dragItems:d.current,nodeInternals:F});A(y.current,P,le)}},D=()=>{if(!h.current)return;const[L,M]=Jm(v.current,h.current);if(L!==0||M!==0){const{transform:F,panBy:q}=a.getState();m.current.x=(m.current.x??0)-L/F[2],m.current.y=(m.current.y??0)-M/F[2],q({x:L,y:M})&&E(m.current)}x.current=requestAnimationFrame(D)},T=L=>{var H;const{nodeInternals:M,multiSelectionActive:F,nodesDraggable:q,unselectNodesAndEdges:z,onNodeDragStart:$,onSelectionDragStart:p}=a.getState();f.current=!0;const R=s?$:ql(p);(!o||!i)&&!F&&s&&((H=M.get(s))!=null&&H.selected||z()),s&&i&&o&&lu({id:s,store:a,nodeRef:e});const W=k(L);if(m.current=W,d.current=SN(M,q,W,s),R&&d.current){const[G,I]=Xl({nodeId:s,dragItems:d.current,nodeInternals:M});R(L.sourceEvent,G,I)}};if(t)N.on(".drag",null);else{const L=L2().on("start",M=>{const{domNode:F,nodeDragThreshold:q}=a.getState();q===0&&T(M),g.current=!1;const z=k(M);m.current=z,h.current=(F==null?void 0:F.getBoundingClientRect())||null,v.current=kr(M.sourceEvent,h.current)}).on("drag",M=>{var $,p;const F=k(M),{autoPanOnNodeDrag:q,nodeDragThreshold:z}=a.getState();if(M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!b.current&&f.current&&q&&(b.current=!0,D()),!f.current){const R=F.xSnapped-((($=m==null?void 0:m.current)==null?void 0:$.x)??0),W=F.ySnapped-(((p=m==null?void 0:m.current)==null?void 0:p.y)??0);Math.sqrt(R*R+W*W)>z&&T(M)}(m.current.x!==F.xSnapped||m.current.y!==F.ySnapped)&&d.current&&f.current&&(y.current=M.sourceEvent,v.current=kr(M.sourceEvent,h.current),E(F))}}).on("end",M=>{if(!(!f.current||g.current)&&(u(!1),b.current=!1,f.current=!1,cancelAnimationFrame(x.current),d.current)){const{updateNodePositions:F,nodeInternals:q,onNodeDragStop:z,onSelectionDragStop:$}=a.getState(),p=s?z:ql($);if(F(d.current,!1,!1),p){const[R,W]=Xl({nodeId:s,dragItems:d.current,nodeInternals:q});p(M.sourceEvent,R,W)}}}).filter(M=>{const F=M.target;return!M.button&&(!n||!Eh(F,`.${n}`,e))&&(!r||Eh(F,r,e))});return N.call(L),()=>{N.on(".drag",null)}}}},[e,t,n,r,i,a,s,o,k]),c}function Pg(){const e=bt();return C.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:i,getNodes:o,snapToGrid:a,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),m=o().filter(g=>g.selected&&(g.draggable||d&&typeof g.draggable>"u")),x=a?c[0]:5,h=a?c[1]:5,v=n.isShiftPressed?4:1,y=n.x*x*v,b=n.y*h*v,f=m.map(g=>{if(g.positionAbsolute){const k={x:g.positionAbsolute.x+y,y:g.positionAbsolute.y+b};a&&(k.x=c[0]*Math.round(k.x/c[0]),k.y=c[1]*Math.round(k.y/c[1]));const{positionAbsolute:N,position:E}=Mg(g,k,r,s,void 0,u);g.position=E,g.positionAbsolute=N}return g});i(f,!0,!1)},[])}const Is={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ai=e=>{const t=({id:n,type:r,data:s,xPos:i,yPos:o,xPosOrigin:a,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:m,onMouseMove:x,onMouseLeave:h,onContextMenu:v,onDoubleClick:y,style:b,className:f,isDraggable:g,isSelectable:k,isConnectable:N,isFocusable:E,selectNodesOnDrag:D,sourcePosition:T,targetPosition:L,hidden:M,resizeObserver:F,dragHandle:q,zIndex:z,isParent:$,noDragClassName:p,noPanClassName:R,initialized:W,disableKeyboardA11y:H,ariaLabel:G,rfId:I,hasHandleBounds:Y})=>{const A=bt(),P=C.useRef(null),le=C.useRef(null),ne=C.useRef(T),J=C.useRef(L),ve=C.useRef(r),Ce=k||g||d||m||x||h,Ee=Pg(),je=oi(n,A.getState,m),re=oi(n,A.getState,x),he=oi(n,A.getState,h),te=oi(n,A.getState,v),ye=oi(n,A.getState,y),w=S=>{const{nodeDragThreshold:_}=A.getState();if(k&&(!D||!g||_>0)&&lu({id:n,store:A,nodeRef:P}),d){const O=A.getState().nodeInternals.get(n);O&&d(S,{...O})}},ee=S=>{if(!ru(S)&&!H)if(rg.includes(S.key)&&k){const _=S.key==="Escape";lu({id:n,store:A,unselect:_,nodeRef:P})}else g&&u&&Object.prototype.hasOwnProperty.call(Is,S.key)&&(A.setState({ariaLiveMessage:`Moved selected node ${S.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),Ee({x:Is[S.key].x,y:Is[S.key].y,isShiftPressed:S.shiftKey}))};C.useEffect(()=>()=>{le.current&&(F==null||F.unobserve(le.current),le.current=null)},[]),C.useEffect(()=>{if(P.current&&!M){const S=P.current;(!W||!Y||le.current!==S)&&(le.current&&(F==null||F.unobserve(le.current)),F==null||F.observe(S),le.current=S)}},[M,W,Y]),C.useEffect(()=>{const S=ve.current!==r,_=ne.current!==T,O=J.current!==L;P.current&&(S||_||O)&&(S&&(ve.current=r),_&&(ne.current=T),O&&(J.current=L),A.getState().updateNodeDimensions([{id:n,nodeElement:P.current,forceUpdate:!0}]))},[n,r,T,L]);const Q=Ag({nodeRef:P,disabled:M||!g,noDragClassName:p,handleSelector:q,nodeId:n,isSelectable:k,selectNodesOnDrag:D});return M?null:ae.createElement("div",{className:jt(["react-flow__node",`react-flow__node-${r}`,{[R]:g},f,{selected:u,selectable:k,parent:$,dragging:Q}]),ref:P,style:{zIndex:z,transform:`translate(${a}px,${c}px)`,pointerEvents:Ce?"all":"none",visibility:W?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:je,onMouseMove:re,onMouseLeave:he,onContextMenu:te,onClick:w,onDoubleClick:ye,onKeyDown:E?ee:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":H?void 0:`${Sg}-${I}`,"aria-label":G},ae.createElement(Bk,{value:n},ae.createElement(e,{id:n,data:s,type:r,xPos:i,yPos:o,selected:u,isConnectable:N,sourcePosition:T,targetPosition:L,dragging:Q,dragHandle:q,zIndex:z})))};return t.displayName="NodeWrapper",C.memo(t)};const EN=e=>{const t=e.getNodes().filter(n=>n.selected);return{...fl(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function jN({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=bt(),{width:s,height:i,x:o,y:a,transformString:c,userSelectionActive:u}=st(EN,Zt),d=Pg(),m=C.useRef(null);if(C.useEffect(()=>{var v;n||(v=m.current)==null||v.focus({preventScroll:!0})},[n]),Ag({nodeRef:m}),u||!s||!i)return null;const x=e?v=>{const y=r.getState().getNodes().filter(b=>b.selected);e(v,y)}:void 0,h=v=>{Object.prototype.hasOwnProperty.call(Is,v.key)&&d({x:Is[v.key].x,y:Is[v.key].y,isShiftPressed:v.shiftKey})};return ae.createElement("div",{className:jt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},ae.createElement("div",{ref:m,className:"react-flow__nodesselection-rect",onContextMenu:x,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:s,height:i,top:a,left:o}}))}var CN=C.memo(jN);const DN=e=>e.nodesSelectionActive,Rg=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:a,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:m,selectionOnDrag:x,selectionMode:h,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:b,panActivationKeyCode:f,zoomActivationKeyCode:g,elementsSelectable:k,zoomOnScroll:N,zoomOnPinch:E,panOnScroll:D,panOnScrollSpeed:T,panOnScrollMode:L,zoomOnDoubleClick:M,panOnDrag:F,defaultViewport:q,translateExtent:z,minZoom:$,maxZoom:p,preventScrolling:R,onSelectionContextMenu:W,noWheelClassName:H,noPanClassName:G,disableKeyboardA11y:I})=>{const Y=st(DN),A=Xi(m),P=Xi(f),le=P||F,ne=P||D,J=A||x&&le!==!0;return mN({deleteKeyCode:a,multiSelectionKeyCode:b}),ae.createElement(vN,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:k,zoomOnScroll:N,zoomOnPinch:E,panOnScroll:ne,panOnScrollSpeed:T,panOnScrollMode:L,zoomOnDoubleClick:M,panOnDrag:!A&&le,defaultViewport:q,translateExtent:z,minZoom:$,maxZoom:p,zoomActivationKeyCode:g,preventScrolling:R,noWheelClassName:H,noPanClassName:G},ae.createElement(Tg,{onSelectionStart:v,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:le,isSelecting:!!J,selectionMode:h},e,Y&&ae.createElement(CN,{onSelectionContextMenu:W,noPanClassName:G,disableKeyboardA11y:I})))};Rg.displayName="FlowRenderer";var TN=C.memo(Rg);function IN(e){return st(C.useCallback(n=>e?dg(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function MN(e){const t={input:ai(e.input||wg),default:ai(e.default||au),output:ai(e.output||kg),group:ai(e.group||Cd)},n={},r=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=ai(e[i]||au),s),n);return{...t,...r}}const AN=({x:e,y:t,width:n,height:r,origin:s})=>!n||!r?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-n*s[0],y:t-r*s[1]},PN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Og=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:i,onError:o}=st(PN,Zt),a=IN(e.onlyRenderVisibleElements),c=C.useRef(),u=C.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(m=>{const x=m.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));i(x)});return c.current=d,d},[]);return C.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),ae.createElement("div",{className:"react-flow__nodes",style:Dd},a.map(d=>{var E,D,T;let m=d.type||"default";e.nodeTypes[m]||(o==null||o("003",Qn.error003(m)),m="default");const x=e.nodeTypes[m]||e.nodeTypes.default,h=!!(d.draggable||t&&typeof d.draggable>"u"),v=!!(d.selectable||s&&typeof d.selectable>"u"),y=!!(d.connectable||n&&typeof d.connectable>"u"),b=!!(d.focusable||r&&typeof d.focusable>"u"),f=e.nodeExtent?Nd(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,g=(f==null?void 0:f.x)??0,k=(f==null?void 0:f.y)??0,N=AN({x:g,y:k,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return ae.createElement(x,{key:d.id,id:d.id,className:d.className,style:d.style,type:m,data:d.data,sourcePosition:d.sourcePosition||Me.Bottom,targetPosition:d.targetPosition||Me.Top,hidden:d.hidden,xPos:g,yPos:k,xPosOrigin:N.x,yPosOrigin:N.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:h,isSelectable:v,isConnectable:y,isFocusable:b,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((E=d[mt])==null?void 0:E.z)??0,isParent:!!((D=d[mt])!=null&&D.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((T=d[mt])!=null&&T.handleBounds)})}))};Og.displayName="NodeRenderer";var RN=C.memo(Og);const ON=(e,t,n)=>n===Me.Left?e-t:n===Me.Right?e+t:e,LN=(e,t,n)=>n===Me.Top?e-t:n===Me.Bottom?e+t:e,Ch="react-flow__edgeupdater",Dh=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:a})=>ae.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:jt([Ch,`${Ch}-${a}`]),cx:ON(t,r,e),cy:LN(n,r,e),r,stroke:"transparent",fill:"transparent"}),$N=()=>!0;var os=e=>{const t=({id:n,className:r,type:s,data:i,onClick:o,onEdgeDoubleClick:a,selected:c,animated:u,label:d,labelStyle:m,labelShowBg:x,labelBgStyle:h,labelBgPadding:v,labelBgBorderRadius:y,style:b,source:f,target:g,sourceX:k,sourceY:N,targetX:E,targetY:D,sourcePosition:T,targetPosition:L,elementsSelectable:M,hidden:F,sourceHandleId:q,targetHandleId:z,onContextMenu:$,onMouseEnter:p,onMouseMove:R,onMouseLeave:W,reconnectRadius:H,onReconnect:G,onReconnectStart:I,onReconnectEnd:Y,markerEnd:A,markerStart:P,rfId:le,ariaLabel:ne,isFocusable:J,isReconnectable:ve,pathOptions:Ce,interactionWidth:Ee,disableKeyboardA11y:je})=>{const re=C.useRef(null),[he,te]=C.useState(!1),[ye,w]=C.useState(!1),ee=bt(),Q=C.useMemo(()=>`url('#${iu(P,le)}')`,[P,le]),S=C.useMemo(()=>`url('#${iu(A,le)}')`,[A,le]);if(F)return null;const _=Z=>{var Fe;const{edges:ue,addSelectedEdges:xe,unselectNodesAndEdges:Ie,multiSelectionActive:Ve}=ee.getState(),Ze=ue.find(Ke=>Ke.id===n);Ze&&(M&&(ee.setState({nodesSelectionActive:!1}),Ze.selected&&Ve?(Ie({nodes:[],edges:[Ze]}),(Fe=re.current)==null||Fe.blur()):xe([n])),o&&o(Z,Ze))},O=ii(n,ee.getState,a),U=ii(n,ee.getState,$),oe=ii(n,ee.getState,p),X=ii(n,ee.getState,R),me=ii(n,ee.getState,W),be=(Z,ue)=>{if(Z.button!==0)return;const{edges:xe,isValidConnection:Ie}=ee.getState(),Ve=ue?g:f,Ze=(ue?z:q)||null,Fe=ue?"target":"source",Ke=Ie||$N,K=ue,se=xe.find(we=>we.id===n);w(!0),I==null||I(Z,se,Fe);const de=we=>{w(!1),Y==null||Y(we,se,Fe)};gg({event:Z,handleId:Ze,nodeId:Ve,onConnect:we=>G==null?void 0:G(se,we),isTarget:K,getState:ee.getState,setState:ee.setState,isValidConnection:Ke,edgeUpdaterType:Fe,onReconnectEnd:de})},ge=Z=>be(Z,!0),Ae=Z=>be(Z,!1),Be=()=>te(!0),Re=()=>te(!1),Je=!M&&!o,ct=Z=>{var ue;if(!je&&rg.includes(Z.key)&&M){const{unselectNodesAndEdges:xe,addSelectedEdges:Ie,edges:Ve}=ee.getState();Z.key==="Escape"?((ue=re.current)==null||ue.blur(),xe({edges:[Ve.find(Fe=>Fe.id===n)]})):Ie([n])}};return ae.createElement("g",{className:jt(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:c,animated:u,inactive:Je,updating:he}]),onClick:_,onDoubleClick:O,onContextMenu:U,onMouseEnter:oe,onMouseMove:X,onMouseLeave:me,onKeyDown:J?ct:void 0,tabIndex:J?0:void 0,role:J?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":ne===null?void 0:ne||`Edge from ${f} to ${g}`,"aria-describedby":J?`${_g}-${le}`:void 0,ref:re},!ye&&ae.createElement(e,{id:n,source:f,target:g,selected:c,animated:u,label:d,labelStyle:m,labelShowBg:x,labelBgStyle:h,labelBgPadding:v,labelBgBorderRadius:y,data:i,style:b,sourceX:k,sourceY:N,targetX:E,targetY:D,sourcePosition:T,targetPosition:L,sourceHandleId:q,targetHandleId:z,markerStart:Q,markerEnd:S,pathOptions:Ce,interactionWidth:Ee}),ve&&ae.createElement(ae.Fragment,null,(ve==="source"||ve===!0)&&ae.createElement(Dh,{position:T,centerX:k,centerY:N,radius:H,onMouseDown:ge,onMouseEnter:Be,onMouseOut:Re,type:"source"}),(ve==="target"||ve===!0)&&ae.createElement(Dh,{position:L,centerX:E,centerY:D,radius:H,onMouseDown:Ae,onMouseEnter:Be,onMouseOut:Re,type:"target"})))};return t.displayName="EdgeWrapper",C.memo(t)};function FN(e){const t={default:os(e.default||Oa),straight:os(e.bezier||zd),step:os(e.step||_d),smoothstep:os(e.step||dl),simplebezier:os(e.simplebezier||Sd)},n={},r=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=os(e[i]||Oa),s),n);return{...t,...r}}function Th(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,s=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case Me.Top:return{x:r+i/2,y:s};case Me.Right:return{x:r+i,y:s+o/2};case Me.Bottom:return{x:r+i/2,y:s+o};case Me.Left:return{x:r,y:s+o/2}}}function Ih(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const BN=(e,t,n,r,s,i)=>{const o=Th(n,e,t),a=Th(i,r,s);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function UN({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:i,width:o,height:a,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+r,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Gi({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:o/c[2],height:a/c[2]}),m=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),x=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(m*x)>0}function Mh(e){var r,s,i,o,a;const t=((r=e==null?void 0:e[mt])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const HN=[{level:0,isMaxLevel:!0,edges:[]}];function VN(e,t,n=!1){let r=-1;const s=e.reduce((o,a)=>{var d,m;const c=ln(a.zIndex);let u=c?a.zIndex:0;if(n){const x=t.get(a.target),h=t.get(a.source),v=a.selected||(x==null?void 0:x.selected)||(h==null?void 0:h.selected),y=Math.max(((d=h==null?void 0:h[mt])==null?void 0:d.z)||0,((m=x==null?void 0:x[mt])==null?void 0:m.z)||0,1e3);u=(c?a.zIndex:0)+(v?y:0)}return o[u]?o[u].push(a):o[u]=[a],r=u>r?u:r,o},{}),i=Object.entries(s).map(([o,a])=>{const c=+o;return{edges:a,level:c,isMaxLevel:c===r}});return i.length===0?HN:i}function WN(e,t,n){const r=st(C.useCallback(s=>e?s.edges.filter(i=>{const o=t.get(i.source),a=t.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&UN({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return VN(r,t,n)}const ZN=({color:e="none",strokeWidth:t=1})=>ae.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),GN=({color:e="none",strokeWidth:t=1})=>ae.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Ah={[Ki.Arrow]:ZN,[Ki.ArrowClosed]:GN};function YN(e){const t=bt();return C.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(Ah,e)?Ah[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",Qn.error009(e)),null)},[e])}const KN=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const c=YN(t);return c?ae.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0"},ae.createElement(c,{color:n,strokeWidth:o})):null},XN=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=iu(o,t);r.includes(a)||(s.push({id:a,color:o.color||e,...o}),r.push(a))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},Lg=({defaultColor:e,rfId:t})=>{const n=st(C.useCallback(XN({defaultColor:e,rfId:t}),[e,t]),(r,s)=>!(r.length!==s.length||r.some((i,o)=>i.id!==s[o].id)));return ae.createElement("defs",null,n.map(r=>ae.createElement(KN,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Lg.displayName="MarkerDefinitions";var qN=C.memo(Lg);const QN=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),$g=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:m,onReconnect:x,onReconnectStart:h,onReconnectEnd:v,reconnectRadius:y,children:b,disableKeyboardA11y:f})=>{const{edgesFocusable:g,edgesUpdatable:k,elementsSelectable:N,width:E,height:D,connectionMode:T,nodeInternals:L,onError:M}=st(QN,Zt),F=WN(t,L,n);return E?ae.createElement(ae.Fragment,null,F.map(({level:q,edges:z,isMaxLevel:$})=>ae.createElement("svg",{key:q,style:{zIndex:q},width:E,height:D,className:"react-flow__edges react-flow__container"},$&&ae.createElement(qN,{defaultColor:e,rfId:r}),ae.createElement("g",null,z.map(p=>{const[R,W,H]=Mh(L.get(p.source)),[G,I,Y]=Mh(L.get(p.target));if(!H||!Y)return null;let A=p.type||"default";s[A]||(M==null||M("011",Qn.error011(A)),A="default");const P=s[A]||s.default,le=T===_r.Strict?I.target:(I.target??[]).concat(I.source??[]),ne=Ih(W.source,p.sourceHandle),J=Ih(le,p.targetHandle),ve=(ne==null?void 0:ne.position)||Me.Bottom,Ce=(J==null?void 0:J.position)||Me.Top,Ee=!!(p.focusable||g&&typeof p.focusable>"u"),je=p.reconnectable||p.updatable,re=typeof x<"u"&&(je||k&&typeof je>"u");if(!ne||!J)return M==null||M("008",Qn.error008(ne,p)),null;const{sourceX:he,sourceY:te,targetX:ye,targetY:w}=BN(R,ne,ve,G,J,Ce);return ae.createElement(P,{key:p.id,id:p.id,className:jt([p.className,i]),type:A,data:p.data,selected:!!p.selected,animated:!!p.animated,hidden:!!p.hidden,label:p.label,labelStyle:p.labelStyle,labelShowBg:p.labelShowBg,labelBgStyle:p.labelBgStyle,labelBgPadding:p.labelBgPadding,labelBgBorderRadius:p.labelBgBorderRadius,style:p.style,source:p.source,target:p.target,sourceHandleId:p.sourceHandle,targetHandleId:p.targetHandle,markerEnd:p.markerEnd,markerStart:p.markerStart,sourceX:he,sourceY:te,targetX:ye,targetY:w,sourcePosition:ve,targetPosition:Ce,elementsSelectable:N,onContextMenu:o,onMouseEnter:a,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:m,onReconnect:x,onReconnectStart:h,onReconnectEnd:v,reconnectRadius:y,rfId:r,ariaLabel:p.ariaLabel,isFocusable:Ee,isReconnectable:re,pathOptions:"pathOptions"in p?p.pathOptions:void 0,interactionWidth:p.interactionWidth,disableKeyboardA11y:f})})))),b):null};$g.displayName="EdgeRenderer";var JN=C.memo($g);const eS=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function tS({children:e}){const t=st(eS);return ae.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function nS(e){const t=hl(),n=C.useRef(!1);C.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const rS={[Me.Left]:Me.Right,[Me.Right]:Me.Left,[Me.Top]:Me.Bottom,[Me.Bottom]:Me.Top},Fg=({nodeId:e,handleType:t,style:n,type:r=dr.Bezier,CustomComponent:s,connectionStatus:i})=>{var D,T,L;const{fromNode:o,handleId:a,toX:c,toY:u,connectionMode:d}=st(C.useCallback(M=>({fromNode:M.nodeInternals.get(e),handleId:M.connectionHandleId,toX:(M.connectionPosition.x-M.transform[0])/M.transform[2],toY:(M.connectionPosition.y-M.transform[1])/M.transform[2],connectionMode:M.connectionMode}),[e]),Zt),m=(D=o==null?void 0:o[mt])==null?void 0:D.handleBounds;let x=m==null?void 0:m[t];if(d===_r.Loose&&(x=x||(m==null?void 0:m[t==="source"?"target":"source"])),!o||!x)return null;const h=a?x.find(M=>M.id===a):x[0],v=h?h.x+h.width/2:(o.width??0)/2,y=h?h.y+h.height/2:o.height??0,b=(((T=o.positionAbsolute)==null?void 0:T.x)??0)+v,f=(((L=o.positionAbsolute)==null?void 0:L.y)??0)+y,g=h==null?void 0:h.position,k=g?rS[g]:null;if(!g||!k)return null;if(s)return ae.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:h,fromX:b,fromY:f,toX:c,toY:u,fromPosition:g,toPosition:k,connectionStatus:i});let N="";const E={sourceX:b,sourceY:f,sourcePosition:g,targetX:c,targetY:u,targetPosition:k};return r===dr.Bezier?[N]=lg(E):r===dr.Step?[N]=su({...E,borderRadius:0}):r===dr.SmoothStep?[N]=su(E):r===dr.SimpleBezier?[N]=ag(E):N=`M${b},${f} ${c},${u}`,ae.createElement("path",{d:N,fill:"none",className:"react-flow__connection-path",style:n})};Fg.displayName="ConnectionLine";const sS=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function iS({containerStyle:e,style:t,type:n,component:r}){const{nodeId:s,handleType:i,nodesConnectable:o,width:a,height:c,connectionStatus:u}=st(sS,Zt);return!(s&&i&&a&&o)?null:ae.createElement("svg",{style:e,width:a,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},ae.createElement("g",{className:jt(["react-flow__connection",u])},ae.createElement(Fg,{nodeId:s,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Ph(e,t){return C.useRef(null),bt(),C.useMemo(()=>t(e),[e])}const Bg=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:i,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:m,onNodeMouseLeave:x,onNodeContextMenu:h,onSelectionContextMenu:v,onSelectionStart:y,onSelectionEnd:b,connectionLineType:f,connectionLineStyle:g,connectionLineComponent:k,connectionLineContainerStyle:N,selectionKeyCode:E,selectionOnDrag:D,selectionMode:T,multiSelectionKeyCode:L,panActivationKeyCode:M,zoomActivationKeyCode:F,deleteKeyCode:q,onlyRenderVisibleElements:z,elementsSelectable:$,selectNodesOnDrag:p,defaultViewport:R,translateExtent:W,minZoom:H,maxZoom:G,preventScrolling:I,defaultMarkerColor:Y,zoomOnScroll:A,zoomOnPinch:P,panOnScroll:le,panOnScrollSpeed:ne,panOnScrollMode:J,zoomOnDoubleClick:ve,panOnDrag:Ce,onPaneClick:Ee,onPaneMouseEnter:je,onPaneMouseMove:re,onPaneMouseLeave:he,onPaneScroll:te,onPaneContextMenu:ye,onEdgeContextMenu:w,onEdgeMouseEnter:ee,onEdgeMouseMove:Q,onEdgeMouseLeave:S,onReconnect:_,onReconnectStart:O,onReconnectEnd:U,reconnectRadius:oe,noDragClassName:X,noWheelClassName:me,noPanClassName:be,elevateEdgesOnSelect:ge,disableKeyboardA11y:Ae,nodeOrigin:Be,nodeExtent:Re,rfId:Je})=>{const ct=Ph(e,MN),Z=Ph(t,FN);return nS(i),ae.createElement(TN,{onPaneClick:Ee,onPaneMouseEnter:je,onPaneMouseMove:re,onPaneMouseLeave:he,onPaneContextMenu:ye,onPaneScroll:te,deleteKeyCode:q,selectionKeyCode:E,selectionOnDrag:D,selectionMode:T,onSelectionStart:y,onSelectionEnd:b,multiSelectionKeyCode:L,panActivationKeyCode:M,zoomActivationKeyCode:F,elementsSelectable:$,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:A,zoomOnPinch:P,zoomOnDoubleClick:ve,panOnScroll:le,panOnScrollSpeed:ne,panOnScrollMode:J,panOnDrag:Ce,defaultViewport:R,translateExtent:W,minZoom:H,maxZoom:G,onSelectionContextMenu:v,preventScrolling:I,noDragClassName:X,noWheelClassName:me,noPanClassName:be,disableKeyboardA11y:Ae},ae.createElement(tS,null,ae.createElement(JN,{edgeTypes:Z,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:z,onEdgeContextMenu:w,onEdgeMouseEnter:ee,onEdgeMouseMove:Q,onEdgeMouseLeave:S,onReconnect:_,onReconnectStart:O,onReconnectEnd:U,reconnectRadius:oe,defaultMarkerColor:Y,noPanClassName:be,elevateEdgesOnSelect:!!ge,disableKeyboardA11y:Ae,rfId:Je},ae.createElement(iS,{style:g,type:f,component:k,containerStyle:N})),ae.createElement("div",{className:"react-flow__edgelabel-renderer"}),ae.createElement(RN,{nodeTypes:ct,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:m,onNodeMouseLeave:x,onNodeContextMenu:h,selectNodesOnDrag:p,onlyRenderVisibleElements:z,noPanClassName:be,noDragClassName:X,disableKeyboardA11y:Ae,nodeOrigin:Be,nodeExtent:Re,rfId:Je})))};Bg.displayName="GraphView";var oS=C.memo(Bg);const cu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],tr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:cu,nodeExtent:cu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:_r.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Pk,isValidConnection:void 0},aS=()=>Xv((e,t)=>({...tr,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:i}=t();e({nodeInternals:Yl(n,r,s,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",i=typeof r<"u",o=s?Yl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:i?r:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const m=window.getComputedStyle(d),{m22:x}=new window.DOMMatrixReadOnly(m.transform),h=n.reduce((y,b)=>{const f=s.get(b.id);if(f!=null&&f.hidden)s.set(f.id,{...f,[mt]:{...f[mt],handleBounds:void 0}});else if(f){const g=kd(b.nodeElement);!!(g.width&&g.height&&(f.width!==g.width||f.height!==g.height||b.forceUpdate))&&(s.set(f.id,{...f,[mt]:{...f[mt],handleBounds:{source:jh(".source",b.nodeElement,x,u),target:jh(".target",b.nodeElement,x,u)}},...g}),y.push({id:f.id,type:"dimensions",dimensions:g}))}return y},[]);Eg(s,u);const v=o||i&&!o&&jg(t,{initial:!0,...a});e({nodeInternals:new Map(s),fitViewOnInitDone:v}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:i}=t(),o=n.map(a=>{const c={id:a.id,type:"position",dragging:s};return r&&(c.positionAbsolute=a.positionAbsolute,c.position=a.position),c});i(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(i){const u=Dg(n,a()),d=Yl(u,s,o,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,a=null;r?o=n.map(c=>lr(c,!0)):(o=ks(i(),n),a=ks(s,[])),Po({changedNodes:o,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,a=null;r?o=n.map(c=>lr(c,!0)):(o=ks(s,n),a=ks(i(),[])),Po({changedNodes:a,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:i}=t(),o=n||i(),a=r||s,c=o.map(d=>(d.selected=!1,lr(d.id,!1))),u=a.map(d=>lr(d.id,!1));Po({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=t();r==null||r.scaleExtent([n,s]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=t();r==null||r.scaleExtent([s,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(a=>a.selected).map(a=>lr(a.id,!1)),o=n.filter(a=>a.selected).map(a=>lr(a.id,!1));Po({changedNodes:i,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(s=>{s.positionAbsolute=Nd(s.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:i,d3Zoom:o,d3Selection:a,translateExtent:c}=t();if(!o||!a||!n.x&&!n.y)return!1;const u=Zn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,i]],m=o==null?void 0:o.constrain()(u,d,c);return o.transform(a,m),r[0]!==m.x||r[1]!==m.y||r[2]!==m.k},cancelConnection:()=>e({connectionNodeId:tr.connectionNodeId,connectionHandleId:tr.connectionHandleId,connectionHandleType:tr.connectionHandleType,connectionStatus:tr.connectionStatus,connectionStartHandle:tr.connectionStartHandle,connectionEndHandle:tr.connectionEndHandle}),reset:()=>e({...tr})}),Object.is),Td=({children:e})=>{const t=C.useRef(null);return t.current||(t.current=aS()),ae.createElement(jk,{value:t.current},e)};Td.displayName="ReactFlowProvider";const Ug=({children:e})=>C.useContext(ul)?ae.createElement(ae.Fragment,null,e):ae.createElement(Td,null,e);Ug.displayName="ReactFlowWrapper";const lS={input:wg,default:au,output:kg,group:Cd},cS={default:Oa,straight:zd,step:_d,smoothstep:dl,simplebezier:Sd},uS=[0,0],dS=[15,15],fS={x:0,y:0,zoom:1},hS={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Hg=C.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i=lS,edgeTypes:o=cS,onNodeClick:a,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:m,onMoveEnd:x,onConnect:h,onConnectStart:v,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:f,onNodeMouseEnter:g,onNodeMouseMove:k,onNodeMouseLeave:N,onNodeContextMenu:E,onNodeDoubleClick:D,onNodeDragStart:T,onNodeDrag:L,onNodeDragStop:M,onNodesDelete:F,onEdgesDelete:q,onSelectionChange:z,onSelectionDragStart:$,onSelectionDrag:p,onSelectionDragStop:R,onSelectionContextMenu:W,onSelectionStart:H,onSelectionEnd:G,connectionMode:I=_r.Strict,connectionLineType:Y=dr.Bezier,connectionLineStyle:A,connectionLineComponent:P,connectionLineContainerStyle:le,deleteKeyCode:ne="Backspace",selectionKeyCode:J="Shift",selectionOnDrag:ve=!1,selectionMode:Ce=Yi.Full,panActivationKeyCode:Ee="Space",multiSelectionKeyCode:je=Ra()?"Meta":"Control",zoomActivationKeyCode:re=Ra()?"Meta":"Control",snapToGrid:he=!1,snapGrid:te=dS,onlyRenderVisibleElements:ye=!1,selectNodesOnDrag:w=!0,nodesDraggable:ee,nodesConnectable:Q,nodesFocusable:S,nodeOrigin:_=uS,edgesFocusable:O,edgesUpdatable:U,elementsSelectable:oe,defaultViewport:X=fS,minZoom:me=.5,maxZoom:be=2,translateExtent:ge=cu,preventScrolling:Ae=!0,nodeExtent:Be,defaultMarkerColor:Re="#b1b1b7",zoomOnScroll:Je=!0,zoomOnPinch:ct=!0,panOnScroll:Z=!1,panOnScrollSpeed:ue=.5,panOnScrollMode:xe=$r.Free,zoomOnDoubleClick:Ie=!0,panOnDrag:Ve=!0,onPaneClick:Ze,onPaneMouseEnter:Fe,onPaneMouseMove:Ke,onPaneMouseLeave:K,onPaneScroll:se,onPaneContextMenu:de,children:fe,onEdgeContextMenu:we,onEdgeDoubleClick:ke,onEdgeMouseEnter:Pe,onEdgeMouseMove:He,onEdgeMouseLeave:B,onEdgeUpdate:j,onEdgeUpdateStart:V,onEdgeUpdateEnd:ie,onReconnect:pe,onReconnectStart:Ne,onReconnectEnd:Ue,reconnectRadius:We=10,edgeUpdaterRadius:$e=10,onNodesChange:it,onEdgesChange:nn,noDragClassName:Rn="nodrag",noWheelClassName:_n="nowheel",noPanClassName:Xe="nopan",fitView:Gt=!1,fitViewOptions:ao,connectOnClick:ce=!0,attributionPosition:Se,proOptions:Te,defaultEdgeOptions:_e,elevateNodesOnSelect:qe=!0,elevateEdgesOnSelect:ut=!1,disableKeyboardA11y:zn=!1,autoPanOnConnect:nt=!0,autoPanOnNodeDrag:Le=!0,connectionRadius:ts=20,isValidConnection:Qg,onError:Jg,style:ex,id:Id,nodeDragThreshold:tx,...nx},rx)=>{const pl=Id||"1";return ae.createElement("div",{...nx,style:{...ex,...hS},ref:rx,className:jt(["react-flow",s]),"data-testid":"rf__wrapper",id:Id},ae.createElement(Ug,null,ae.createElement(oS,{onInit:u,onMove:d,onMoveStart:m,onMoveEnd:x,onNodeClick:a,onEdgeClick:c,onNodeMouseEnter:g,onNodeMouseMove:k,onNodeMouseLeave:N,onNodeContextMenu:E,onNodeDoubleClick:D,nodeTypes:i,edgeTypes:o,connectionLineType:Y,connectionLineStyle:A,connectionLineComponent:P,connectionLineContainerStyle:le,selectionKeyCode:J,selectionOnDrag:ve,selectionMode:Ce,deleteKeyCode:ne,multiSelectionKeyCode:je,panActivationKeyCode:Ee,zoomActivationKeyCode:re,onlyRenderVisibleElements:ye,selectNodesOnDrag:w,defaultViewport:X,translateExtent:ge,minZoom:me,maxZoom:be,preventScrolling:Ae,zoomOnScroll:Je,zoomOnPinch:ct,zoomOnDoubleClick:Ie,panOnScroll:Z,panOnScrollSpeed:ue,panOnScrollMode:xe,panOnDrag:Ve,onPaneClick:Ze,onPaneMouseEnter:Fe,onPaneMouseMove:Ke,onPaneMouseLeave:K,onPaneScroll:se,onPaneContextMenu:de,onSelectionContextMenu:W,onSelectionStart:H,onSelectionEnd:G,onEdgeContextMenu:we,onEdgeDoubleClick:ke,onEdgeMouseEnter:Pe,onEdgeMouseMove:He,onEdgeMouseLeave:B,onReconnect:pe??j,onReconnectStart:Ne??V,onReconnectEnd:Ue??ie,reconnectRadius:We??$e,defaultMarkerColor:Re,noDragClassName:Rn,noWheelClassName:_n,noPanClassName:Xe,elevateEdgesOnSelect:ut,rfId:pl,disableKeyboardA11y:zn,nodeOrigin:_,nodeExtent:Be}),ae.createElement(rN,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:v,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:f,nodesDraggable:ee,nodesConnectable:Q,nodesFocusable:S,edgesFocusable:O,edgesUpdatable:U,elementsSelectable:oe,elevateNodesOnSelect:qe,minZoom:me,maxZoom:be,nodeExtent:Be,onNodesChange:it,onEdgesChange:nn,snapToGrid:he,snapGrid:te,connectionMode:I,translateExtent:ge,connectOnClick:ce,defaultEdgeOptions:_e,fitView:Gt,fitViewOptions:ao,onNodesDelete:F,onEdgesDelete:q,onNodeDragStart:T,onNodeDrag:L,onNodeDragStop:M,onSelectionDrag:p,onSelectionDragStart:$,onSelectionDragStop:R,noPanClassName:Xe,nodeOrigin:_,rfId:pl,autoPanOnConnect:nt,autoPanOnNodeDrag:Le,onError:Jg,connectionRadius:ts,isValidConnection:Qg,nodeDragThreshold:tx}),ae.createElement(tN,{onSelectionChange:z}),fe,ae.createElement(Dk,{proOptions:Te,position:Se}),ae.createElement(lN,{rfId:pl,disableKeyboardA11y:zn})))});Hg.displayName="ReactFlow";function Vg(e){return t=>{const[n,r]=C.useState(t),s=C.useCallback(i=>r(o=>e(i,o)),[]);return[n,r,s]}}const pS=Vg(Dg),mS=Vg(kN);function Wg(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Zg=({id:e,x:t,y:n,width:r,height:s,style:i,color:o,strokeColor:a,strokeWidth:c,className:u,borderRadius:d,shapeRendering:m,onClick:x,selected:h})=>{const{background:v,backgroundColor:y}=i||{},b=o||v||y;return ae.createElement("rect",{className:jt(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:d,ry:d,width:r,height:s,fill:b,stroke:a,strokeWidth:c,shapeRendering:m,onClick:x?f=>x(f,e):void 0})};Zg.displayName="MiniMapNode";var gS=C.memo(Zg);const xS=e=>e.nodeOrigin,yS=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Ql=e=>e instanceof Function?e:()=>e;function vS({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:i=gS,onClick:o}){const a=st(yS,Wg),c=st(xS),u=Ql(t),d=Ql(e),m=Ql(n),x=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return ae.createElement(ae.Fragment,null,a.map(h=>{const{x:v,y}=Hr(h,c).positionAbsolute;return ae.createElement(i,{key:h.id,x:v,y,width:h.width,height:h.height,style:h.style,selected:h.selected,className:m(h),color:u(h),borderRadius:r,strokeColor:d(h),strokeWidth:s,shapeRendering:x,onClick:o,id:h.id})}))}var wS=C.memo(vS);const bS=200,kS=150,NS=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?Mk(fl(t,e.nodeOrigin),n):n,rfId:e.rfId}},SS="react-flow__minimap-desc";function Gg({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:m="bottom-right",onClick:x,onNodeClick:h,pannable:v=!1,zoomable:y=!1,ariaLabel:b="React Flow mini map",inversePan:f=!1,zoomStep:g=10,offsetScale:k=5}){const N=bt(),E=C.useRef(null),{boundingRect:D,viewBB:T,rfId:L}=st(NS,Wg),M=(e==null?void 0:e.width)??bS,F=(e==null?void 0:e.height)??kS,q=D.width/M,z=D.height/F,$=Math.max(q,z),p=$*M,R=$*F,W=k*$,H=D.x-(p-D.width)/2-W,G=D.y-(R-D.height)/2-W,I=p+W*2,Y=R+W*2,A=`${SS}-${L}`,P=C.useRef(0);P.current=$,C.useEffect(()=>{if(E.current){const J=on(E.current),ve=je=>{const{transform:re,d3Selection:he,d3Zoom:te}=N.getState();if(je.sourceEvent.type!=="wheel"||!he||!te)return;const ye=-je.sourceEvent.deltaY*(je.sourceEvent.deltaMode===1?.05:je.sourceEvent.deltaMode?1:.002)*g,w=re[2]*Math.pow(2,ye);te.scaleTo(he,w)},Ce=je=>{const{transform:re,d3Selection:he,d3Zoom:te,translateExtent:ye,width:w,height:ee}=N.getState();if(je.sourceEvent.type!=="mousemove"||!he||!te)return;const Q=P.current*Math.max(1,re[2])*(f?-1:1),S={x:re[0]-je.sourceEvent.movementX*Q,y:re[1]-je.sourceEvent.movementY*Q},_=[[0,0],[w,ee]],O=Zn.translate(S.x,S.y).scale(re[2]),U=te.constrain()(O,_,ye);te.transform(he,U)},Ee=qm().on("zoom",v?Ce:null).on("zoom.wheel",y?ve:null);return J.call(Ee),()=>{J.on("zoom",null)}}},[v,y,f,g]);const le=x?J=>{const ve=yn(J);x(J,{x:ve[0],y:ve[1]})}:void 0,ne=h?(J,ve)=>{const Ce=N.getState().nodeInternals.get(ve);h(J,Ce)}:void 0;return ae.createElement(bd,{position:m,style:e,className:jt(["react-flow__minimap",t]),"data-testid":"rf__minimap"},ae.createElement("svg",{width:M,height:F,viewBox:`${H} ${G} ${I} ${Y}`,role:"img","aria-labelledby":A,ref:E,onClick:le},b&&ae.createElement("title",{id:A},b),ae.createElement(wS,{onClick:ne,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:a}),ae.createElement("path",{className:"react-flow__minimap-mask",d:`M${H-W},${G-W}h${I+W*2}v${Y+W*2}h${-I-W*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fill:c,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}Gg.displayName="MiniMap";var _S=C.memo(Gg);function zS(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}function ES(){return ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ae.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function jS(){return ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ae.createElement("path",{d:"M0 0h32v4.2H0z"}))}function CS(){return ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ae.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function DS(){return ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ae.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function TS(){return ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ae.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const pi=({children:e,className:t,...n})=>ae.createElement("button",{type:"button",className:jt(["react-flow__controls-button",t]),...n},e);pi.displayName="ControlButton";const IS=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Yg=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:a,onInteractiveChange:c,className:u,children:d,position:m="bottom-left"})=>{const x=bt(),[h,v]=C.useState(!1),{isInteractive:y,minZoomReached:b,maxZoomReached:f}=st(IS,zS),{zoomIn:g,zoomOut:k,fitView:N}=hl();if(C.useEffect(()=>{v(!0)},[]),!h)return null;const E=()=>{g(),i==null||i()},D=()=>{k(),o==null||o()},T=()=>{N(s),a==null||a()},L=()=>{x.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),c==null||c(!y)};return ae.createElement(bd,{className:jt(["react-flow__controls",u]),position:m,style:e,"data-testid":"rf__controls"},t&&ae.createElement(ae.Fragment,null,ae.createElement(pi,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:f},ae.createElement(ES,null)),ae.createElement(pi,{onClick:D,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},ae.createElement(jS,null))),n&&ae.createElement(pi,{className:"react-flow__controls-fitview",onClick:T,title:"fit view","aria-label":"fit view"},ae.createElement(CS,null)),r&&ae.createElement(pi,{className:"react-flow__controls-interactive",onClick:L,title:"toggle interactivity","aria-label":"toggle interactivity"},y?ae.createElement(TS,null):ae.createElement(DS,null)),d)};Yg.displayName="Controls";var MS=C.memo(Yg);function AS(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var un;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(un||(un={}));function PS({color:e,dimensions:t,lineWidth:n}){return ae.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function RS({color:e,radius:t}){return ae.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const OS={[un.Dots]:"#91919a",[un.Lines]:"#eee",[un.Cross]:"#e2e2e2"},LS={[un.Dots]:1,[un.Lines]:1,[un.Cross]:6},$S=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Kg({id:e,variant:t=un.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=2,color:o,style:a,className:c}){const u=C.useRef(null),{transform:d,patternId:m}=st($S,AS),x=o||OS[t],h=r||LS[t],v=t===un.Dots,y=t===un.Cross,b=Array.isArray(n)?n:[n,n],f=[b[0]*d[2]||1,b[1]*d[2]||1],g=h*d[2],k=y?[g,g]:f,N=v?[g/i,g/i]:[k[0]/i,k[1]/i];return ae.createElement("svg",{className:jt(["react-flow__background",c]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},ae.createElement("pattern",{id:m+e,x:d[0]%f[0],y:d[1]%f[1],width:f[0],height:f[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`},v?ae.createElement(RS,{color:x,radius:g/i}):ae.createElement(PS,{dimensions:k,color:x,lineWidth:s})),ae.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${m+e})`}))}Kg.displayName="Background";var FS=C.memo(Kg);const gt="w-3 h-3 !bg-zinc-400 border border-zinc-900 z-50 transition-colors hover:!bg-blue-400",BS=({data:e,selected:t})=>l.jsxs("div",{className:`px-6 py-3 rounded-full flex items-center justify-center min-w-[120px] bg-zinc-900 border-2 shadow-sm transition-all ${t?"border-emerald-500 shadow-emerald-500/20":"border-emerald-500/50"}`,children:[l.jsx("div",{className:"text-center text-xs text-white font-semibold",children:e.label}),l.jsx(tt,{type:"target",position:Me.Top,id:"top",className:`${gt} -mt-[2px]`}),l.jsx(tt,{type:"source",position:Me.Bottom,id:"bottom",className:`${gt} -mb-[2px]`}),l.jsx(tt,{type:"source",position:Me.Right,id:"right",className:`${gt} -mr-[2px]`}),l.jsx(tt,{type:"target",position:Me.Left,id:"left",className:`${gt} -ml-[2px]`})]}),US=({data:e,selected:t})=>l.jsxs("div",{className:`px-4 py-4 rounded-lg flex items-center justify-center min-w-[140px] bg-zinc-900 border-2 shadow-sm transition-all ${t?"border-blue-500 shadow-blue-500/20":"border-zinc-600"}`,children:[l.jsx("div",{className:"text-center text-xs text-white font-medium",children:e.label}),l.jsx(tt,{type:"target",position:Me.Top,id:"top",className:`${gt} -mt-[2px]`}),l.jsx(tt,{type:"source",position:Me.Bottom,id:"bottom",className:`${gt} -mb-[2px]`}),l.jsx(tt,{type:"source",position:Me.Right,id:"right",className:`${gt} -mr-[2px]`}),l.jsx(tt,{type:"target",position:Me.Left,id:"left",className:`${gt} -ml-[2px]`})]}),HS=({data:e,selected:t})=>l.jsxs("div",{className:"w-28 h-28 relative flex items-center justify-center",children:[l.jsx("div",{className:`absolute inset-0 transform rotate-45 bg-zinc-900 border-2 transition-all shadow-sm ${t?"border-purple-500 shadow-purple-500/20":"border-purple-500/60"}`}),l.jsx("div",{className:"relative z-10 p-2 text-[10px] text-white font-bold text-center leading-tight max-w-[70%]",children:e.label}),l.jsx(tt,{type:"target",position:Me.Top,id:"top",className:`${gt} -mt-1`}),l.jsx(tt,{type:"source",position:Me.Bottom,id:"bottom",className:`${gt} -mb-1`}),l.jsx(tt,{type:"source",position:Me.Right,id:"right",className:`${gt} -mr-1`}),l.jsx(tt,{type:"source",position:Me.Left,id:"left",className:`${gt} -ml-1`})]}),VS=({data:e,selected:t})=>l.jsxs("div",{className:"relative p-1",children:[l.jsx("div",{className:`px-6 py-3 min-w-[140px] transform -skew-x-12 bg-zinc-900 border-2 transition-all shadow-sm flex items-center justify-center ${t?"border-orange-500 shadow-orange-500/20":"border-orange-500/60"}`,children:l.jsx("div",{className:"transform skew-x-12 text-center text-xs text-white font-medium",children:e.label})}),l.jsx(tt,{type:"target",position:Me.Top,id:"top",className:`${gt} top-0`}),l.jsx(tt,{type:"source",position:Me.Bottom,id:"bottom",className:`${gt} bottom-0`}),l.jsx(tt,{type:"source",position:Me.Right,id:"right",className:`${gt} right-1`}),l.jsx(tt,{type:"target",position:Me.Left,id:"left",className:`${gt} left-1`})]}),WS=({data:e,selected:t})=>l.jsxs("div",{className:`w-24 h-24 relative flex flex-col items-center justify-center bg-zinc-900 border-x-2 border-zinc-500 ${t?"ring-2 ring-blue-500 border-blue-500":""}`,children:[l.jsx("div",{className:"absolute top-0 w-full h-6 bg-zinc-800 border-2 border-zinc-500 rounded-[50%] -mt-3 z-10"}),l.jsx("div",{className:"text-[10px] text-zinc-300 text-center px-1 z-0 mt-2 font-mono",children:e.label}),l.jsx("div",{className:"absolute bottom-0 w-full h-6 bg-zinc-900 border-b-2 border-x-2 border-zinc-500 rounded-[50%] -mb-3 z-0"}),l.jsx(tt,{type:"target",position:Me.Top,id:"top",className:`${gt} -mt-3`}),l.jsx(tt,{type:"source",position:Me.Bottom,id:"bottom",className:`${gt} -mb-3`}),l.jsx(tt,{type:"source",position:Me.Right,id:"right",className:`${gt} -mr-[2px]`}),l.jsx(tt,{type:"target",position:Me.Left,id:"left",className:`${gt} -ml-[2px]`})]}),ZS=({data:e,selected:t})=>l.jsxs("div",{className:"w-32 h-16 relative flex items-center justify-center",children:[l.jsx("div",{className:`absolute inset-0 bg-zinc-900 border-2 transition-all ${t?"border-yellow-500 bg-yellow-500/10":"border-yellow-500/60"}`,style:{clipPath:"polygon(15% 0%, 85% 0%, 100% 50%, 85% 100%, 15% 100%, 0% 50%)"}}),l.jsx("div",{className:"relative z-10 text-[10px] uppercase tracking-wider font-bold text-yellow-500 text-center px-6",children:e.label}),l.jsx(tt,{type:"target",position:Me.Top,id:"top",className:`${gt} -mt-[2px]`}),l.jsx(tt,{type:"source",position:Me.Bottom,id:"bottom",className:`${gt} -mb-[2px]`})]}),GS=({data:e,selected:t})=>l.jsxs("div",{className:`w-40 min-h-[80px] bg-yellow-100/10 border-l-4 border-yellow-400 rounded p-2 flex flex-col relative ${t?"ring-1 ring-yellow-400":""}`,children:[l.jsx("div",{className:"text-[9px] text-yellow-500/80 font-bold uppercase mb-1",children:"Note"}),l.jsx("div",{className:"text-xs text-zinc-300 italic text-left whitespace-pre-wrap",children:e.label}),l.jsx(tt,{type:"target",position:Me.Left,id:"left",className:"w-2 h-2 !bg-yellow-400/50 opacity-0 hover:opacity-100"})]}),YS=({initialContent:e,onSave:t,fileName:n})=>{const r=(e==null?void 0:e.nodes)||[],s=(e==null?void 0:e.edges)||[],[i,o,a]=pS(r),[c,u,d]=mS(s),{deleteElements:m}=hl(),[x,h]=C.useState("saved"),v=C.useRef(JSON.stringify({nodes:r,edges:s}));C.useEffect(()=>{if(JSON.stringify({nodes:i,edges:c})===v.current)return;h("unsaved");const L=setTimeout(()=>y(),2e3);return()=>clearTimeout(L)},[i,c]),C.useEffect(()=>{const T=L=>{(L.ctrlKey||L.metaKey)&&L.key==="s"&&(L.preventDefault(),y())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[i,c]);const y=()=>{h("saving"),t({nodes:i,edges:c}),v.current=JSON.stringify({nodes:i,edges:c}),setTimeout(()=>h("saved"),500)},b=C.useMemo(()=>({terminal:BS,process:US,decision:HS,io:VS,database:WS,event:ZS,note:GS}),[]);ae.useEffect(()=>{o(r),u(s),v.current=JSON.stringify({nodes:r,edges:s})},[r,s,o,u]);const f=C.useCallback(T=>u(L=>cg({...T,animated:!1,type:"smoothstep",style:{stroke:"#a1a1aa",strokeWidth:2},markerEnd:{type:Ki.ArrowClosed,color:"#a1a1aa",width:20,height:20}},L)),[u]),g=(T,L)=>{const M=crypto.randomUUID(),F={x:Math.random()*200+200,y:Math.random()*200+100},q={id:M,position:F,data:{label:L},type:T};o(z=>z.concat(q))},k=()=>{const T=i.filter(M=>M.selected),L=c.filter(M=>M.selected);m({nodes:T,edges:L})},N=(T,L)=>{const M=prompt("Enter text for this node:",L.data.label);M!==null&&o(F=>F.map(q=>q.id===L.id?{...q,data:{...q.data,label:M}}:q))},E=(T,L)=>{const M=prompt("Enter label for this connection (e.g., 'Yes', 'No', 'True'):",L.label||"");M!==null&&u(F=>F.map(q=>q.id===L.id?{...q,label:M,labelStyle:{fill:"#ffffff",fontWeight:700,fontSize:12},labelBgStyle:{fill:"#18181b",fillOpacity:.8},labelBgPadding:[4,4],labelBgBorderRadius:4}:q))},D=({onClick:T,icon:L,label:M,colorClass:F})=>l.jsxs("button",{onClick:T,className:"flex flex-col items-center justify-center p-2 rounded-lg hover:bg-zinc-800 transition-colors gap-1 group w-16 h-16 border border-transparent hover:border-zinc-700",title:`Add ${M}`,children:[l.jsx(L,{className:`w-6 h-6 ${F} group-hover:scale-110 transition-transform`}),l.jsx("span",{className:"text-[9px] text-zinc-500 group-hover:text-zinc-300",children:M})]});return l.jsxs("div",{className:"h-full w-full flex flex-col bg-zinc-900",children:[l.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center px-4 justify-between bg-zinc-900/50 backdrop-blur-sm z-10 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("h3",{className:"text-zinc-200 font-medium ml-2",children:n}),l.jsx("div",{className:"h-6 w-px bg-zinc-800"}),l.jsxs("button",{onClick:k,className:"p-2 hover:bg-red-500/10 rounded text-zinc-400 hover:text-red-400 transition-colors flex items-center gap-2",title:"Delete Selected (Backspace)",children:[l.jsx(It,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Delete Selected"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center mr-2",children:[x==="saving"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[l.jsx(Jr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),x==="saved"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[l.jsx(Mn,{className:"w-3 h-3"})," Saved"]}),x==="unsaved"&&l.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[l.jsx(Vn,{className:"w-3 h-3"})," Unsaved"]})]}),l.jsxs("button",{onClick:y,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${x==="unsaved"?"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[l.jsx(es,{className:"w-4 h-4"}),"Save"]})]})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsxs("div",{className:"w-20 bg-zinc-950 border-r border-zinc-800 flex flex-col items-center py-4 gap-2 overflow-y-auto custom-scrollbar z-10",children:[l.jsx("div",{className:"text-[10px] font-bold text-zinc-600 uppercase mb-2",children:"Flow"}),l.jsx(D,{onClick:()=>g("terminal","Start"),icon:uv,label:"Start",colorClass:"text-emerald-400"}),l.jsx(D,{onClick:()=>g("terminal","End"),icon:mv,label:"End",colorClass:"text-red-400"}),l.jsx(D,{onClick:()=>g("process","Action"),icon:qo,label:"Process",colorClass:"text-blue-400"}),l.jsx(D,{onClick:()=>g("decision","Condition?"),icon:H1,label:"Decision",colorClass:"text-purple-400"}),l.jsx("div",{className:"w-10 h-px bg-zinc-800 my-2"}),l.jsx("div",{className:"text-[10px] font-bold text-zinc-600 uppercase mb-2",children:"Data"}),l.jsx(D,{onClick:()=>g("io","Input/Output"),icon:A1,label:"I/O",colorClass:"text-orange-400"}),l.jsx(D,{onClick:()=>g("database","Database"),icon:U1,label:"Data",colorClass:"text-zinc-300"}),l.jsx(D,{onClick:()=>g("event","On Trigger"),icon:J1,label:"Event",colorClass:"text-yellow-400"}),l.jsx("div",{className:"w-10 h-px bg-zinc-800 my-2"}),l.jsx(D,{onClick:()=>g("note","Add comment..."),icon:pv,label:"Note",colorClass:"text-yellow-200"})]}),l.jsx("div",{className:"flex-1 h-full w-full relative",children:l.jsxs(Hg,{nodes:i,edges:c,onNodesChange:a,onEdgesChange:d,onConnect:f,onNodeDoubleClick:N,onEdgeDoubleClick:E,nodeTypes:b,fitView:!0,className:"bg-zinc-900",deleteKeyCode:["Backspace","Delete"],connectionMode:_r.Loose,children:[l.jsx(FS,{variant:un.Dots,gap:24,size:1,color:"#3f3f46"}),l.jsx(MS,{className:"bg-zinc-800 border-zinc-700 fill-zinc-200 text-zinc-200 [&>button]:border-zinc-700 [&>button:hover]:bg-zinc-700"}),l.jsx(_S,{nodeStrokeColor:"#52525b",nodeColor:"#18181b",maskColor:"rgba(9, 9, 11, 0.6)",className:"bg-zinc-950 border border-zinc-800 rounded-lg overflow-hidden"})]})})]})]})},KS=e=>l.jsx(Td,{children:l.jsx(YS,{...e})}),XS="application/x-gdpm-file-id",qS=(e,t,n)=>{var a;const r=c=>{if(!c)return"";if(c.startsWith("asset://")){const u=c.replace("asset://","");return t[u]||c}return c},s=e.split(`
`);let i="",o=!1;for(let c=0;c<s.length;c++){let u=s[c];if(u.trim().startsWith("```")){o=!o,i+=o?'<div class="bg-zinc-950 p-4 rounded-lg my-4 border border-zinc-800 font-mono text-sm text-zinc-300 overflow-x-auto"><pre>':"</pre></div>";continue}if(o){const m=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");i+=`${m}
`;continue}if(u.startsWith("# ")){i+=`<h1 class="text-3xl font-bold text-zinc-100 mb-4 pb-2 border-b border-zinc-800 mt-6">${Cr(u.slice(2),t,n)}</h1>`;continue}if(u.startsWith("## ")){i+=`<h2 class="text-2xl font-semibold text-zinc-100 mb-3 mt-8">${Cr(u.slice(3),t,n)}</h2>`;continue}if(u.startsWith("### ")){i+=`<h3 class="text-xl font-medium text-zinc-200 mb-2 mt-6">${Cr(u.slice(4),t,n)}</h3>`;continue}if(u.startsWith("> ")){i+=`<blockquote class="border-l-4 border-blue-500 pl-4 py-2 my-4 text-zinc-400 italic bg-zinc-800/30 rounded-r">${Cr(u.slice(2),t,n)}</blockquote>`;continue}if(u.match(/^\s*-\s/)){i+=`<div class="flex gap-2 ml-4 mb-1 text-zinc-300"><span class="text-zinc-500"></span><span>${Cr(u.replace(/^\s*-\s/,""),t,n)}</span></div>`;continue}if(u.match(/^\s*\d+\.\s/)){const m=((a=u.match(/^\s*(\d+)\./))==null?void 0:a[1])||"1";i+=`<div class="flex gap-2 ml-4 mb-1 text-zinc-300"><span class="text-zinc-500 font-mono">${m}.</span><span>${Cr(u.replace(/^\s*\d+\.\s/,""),t,n)}</span></div>`;continue}const d=u.match(/^!\[(.*?)\]\((.*?)\)$/);if(d){const[m,x,h]=d,v=r(h),y=v.startsWith("data:video")||h.match(/\.(mp4|webm|mov)$/i),b=v.startsWith("data:audio")||h.match(/\.(mp3|wav|ogg)$/i);y?i+=`<div class="my-6"><video controls src="${v}" class="max-w-full rounded-lg shadow-lg border border-zinc-800 bg-black max-h-[500px]"></video><div class="text-xs text-zinc-500 mt-2 text-center italic">${x}</div></div>`:b?i+=`<div class="my-4 p-4 bg-zinc-800/50 rounded-lg border border-zinc-800 flex flex-col gap-2"><div class="text-xs text-zinc-400 flex items-center gap-2 font-mono uppercase"><span class="w-2 h-2 rounded-full bg-purple-500"></span> ${x||"Audio Track"}</div><audio controls src="${v}" class="w-full h-8"></audio></div>`:i+=`<div class="my-6"><img src="${v}" alt="${x}" class="max-w-full rounded-lg shadow-lg border border-zinc-800" /><div class="text-xs text-zinc-500 mt-2 text-center italic">${x}</div></div>`;continue}if(u.trim()==="---"||u.trim()==="***"){i+='<hr class="border-zinc-800 my-8" />';continue}if(u.trim()===""){i+='<div class="h-4"></div>';continue}i+=`<p class="mb-2 leading-relaxed text-zinc-300">${Cr(u,t,n)}</p>`}return i},Cr=(e,t,n)=>{let r=e;return r=r.replace(/\*\*(.*?)\*\*/g,'<strong class="text-zinc-100 font-bold">$1</strong>'),r=r.replace(/\*(.*?)\*/g,'<em class="text-zinc-200 italic">$1</em>'),r=r.replace(/~~(.*?)~~/g,'<s class="opacity-60 text-zinc-500 decoration-zinc-500">$1</s>'),r=r.replace(/<u>(.*?)<\/u>/g,'<u class="decoration-blue-500 decoration-2 underline-offset-4">$1</u>'),r=r.replace(/<span style="color: (.*?)">(.*?)<\/span>/g,'<span style="color: $1">$2</span>'),r=r.replace(/`([^`]+)`/g,'<code class="bg-zinc-800 text-red-400 px-1.5 py-0.5 rounded text-sm font-mono border border-zinc-700/50">$1</code>'),r=r.replace(/\[(.*?)\]\((.*?)\)/g,(s,i,o)=>{if(o.startsWith("file://")){const a=o.replace("file://",""),c=n.get(a);return`<a href="${o}" data-file-id="${a}" class="${c?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"} hover:underline cursor-pointer transition-colors">${i||c||"Open file"}</a>`}return`<a href="${o}" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-300 hover:underline cursor-pointer transition-colors">${i}</a>`}),r},QS=({initialContent:e,onSave:t,fileName:n,assets:r={},onAddAsset:s,projectFiles:i=[],activeFileId:o,onOpenFile:a})=>{const[c,u]=C.useState(e),[d,m]=C.useState("edit"),[x,h]=C.useState(!1),[v,y]=C.useState(""),[b,f]=C.useState(!1),[g,k]=C.useState("#ef4444"),[N,E]=C.useState(!1),[D,T]=C.useState(""),[L,M]=C.useState("saved"),F=C.useRef(e),q=C.useRef(null),z=C.useRef(null),$=C.useRef(null),p=C.useRef(null),R=C.useRef(null),W=ae.useMemo(()=>new Map(i.map(te=>[te.id,te.name])),[i]),H=ae.useMemo(()=>i.filter(te=>te.id!==o).sort((te,ye)=>te.name.localeCompare(ye.name,void 0,{sensitivity:"base"})),[i,o]),G=ae.useMemo(()=>{const te=D.trim().toLowerCase();return te?H.filter(ye=>ye.name.toLowerCase().includes(te)||ye.id.toLowerCase().includes(te)):H},[H,D]);C.useEffect(()=>{e!==c&&e!==F.current&&(u(e),F.current=e)},[e]),C.useEffect(()=>{if(d==="edit")return;const te=setTimeout(()=>{y(qS(c,r,W))},500);return()=>clearTimeout(te)},[c,r,W,d]),C.useEffect(()=>{H.length>0||(E(!1),T(""))},[H]),C.useEffect(()=>{if(c===F.current)return;M("unsaved");const te=setTimeout(I,1500);return()=>clearTimeout(te)},[c]),C.useEffect(()=>{const te=ye=>{const w=ye.target;$.current&&!$.current.contains(w)&&f(!1),p.current&&!p.current.contains(w)&&(E(!1),T(""))};if(!(!b&&!N))return document.addEventListener("mousedown",te),()=>document.removeEventListener("mousedown",te)},[b,N]),C.useEffect(()=>{const te=ye=>{(ye.ctrlKey||ye.metaKey)&&ye.key==="s"&&(ye.preventDefault(),I())};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[c]);const I=()=>{M("saving"),t(c),F.current=c,setTimeout(()=>M("saved"),500)},Y=()=>{confirm("Are you sure you want to clear the entire document?")&&u("")},A=(te,ye="")=>{const w=q.current;if(!w){u(O=>`${O}${O&&!O.endsWith(`
`)?`
`:""}${te}${ye}`),d==="preview"&&m("edit");return}const ee=w.selectionStart,Q=w.selectionEnd,S=w.value.substring(ee,Q),_=w.value.substring(0,ee)+te+S+ye+w.value.substring(Q);u(_),setTimeout(()=>{w.focus(),w.setSelectionRange(ee+te.length,Q+te.length)},0)},P=async te=>{var w;const ye=(w=te.target.files)==null?void 0:w[0];if(!(!ye||!s)){h(!0);try{const ee=await s(ye),Q=ye.name.replace(/[\[\]\(\)]/g,"");A(`
![${Q}](${ee})
`)}catch(ee){console.error("Upload failed",ee),alert("Failed to add media.")}finally{h(!1),z.current&&(z.current.value="")}}},le=te=>{A(`<span style="color: ${te}">`,"</span>"),f(!1)},ne=te=>{const ye=i.find(w=>w.id===te);ye&&(A(`[${ye.name}](file://${ye.id})`),E(!1),T(""))},J=()=>{H.length!==0&&(f(!1),E(te=>!te),T(""))},ve=te=>{var _;const ye=te.dataTransfer.getData(XS);if(ye)try{const O=JSON.parse(ye);if(O!=null&&O.id)return{id:O.id,name:O.name||((_=i.find(U=>U.id===O.id))==null?void 0:_.name)||"Linked File"}}catch{const O=i.find(U=>U.id===ye);if(O)return{id:O.id,name:O.name}}const w=te.dataTransfer.getData("text/uri-list");if(w!=null&&w.startsWith("file://")){const O=w.replace("file://","").trim(),U=i.find(oe=>oe.id===O);if(U)return{id:U.id,name:U.name}}const ee=te.dataTransfer.getData("text/plain"),Q=ee.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(Q){const O=Q[2],U=i.find(oe=>oe.id===O);if(U)return{id:U.id,name:U.name}}const S=i.find(O=>O.id===ee.trim());return S?{id:S.id,name:S.name}:null},Ce=te=>{ve(te)&&(te.preventDefault(),te.dataTransfer.dropEffect="copy")},Ee=te=>{const ye=ve(te);ye&&(te.preventDefault(),A(`[${ye.name}](file://${ye.id})`))},je=te=>{const w=te.target.closest("a[data-file-id]");if(!w)return;te.preventDefault();const ee=w.dataset.fileId;!ee||!a||a(ee)},re=({icon:te,onClick:ye,title:w,active:ee=!1,disabled:Q=!1,color:S})=>l.jsx("button",{onClick:ye,disabled:Q,className:`p-1.5 rounded-md transition-all flex items-center justify-center shrink-0 ${ee?"bg-blue-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800"} ${Q?"opacity-50 cursor-not-allowed":""}`,title:w,children:l.jsx(te,{className:`w-4 h-4 ${S}`})}),he=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#a855f7","#ec4899","#71717a","#ffffff"];return l.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[l.jsxs("div",{className:"min-h-[3.5rem] border-b border-zinc-800 flex flex-wrap items-center justify-between px-4 py-2 bg-zinc-950/90 backdrop-blur-sm sticky top-0 z-30 shrink-0 gap-y-2",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[l.jsx("h3",{className:"text-zinc-200 font-medium mr-2 truncate shrink-0 max-w-[150px]",children:n}),l.jsx("div",{className:"h-6 w-px bg-zinc-800 hidden sm:block shrink-0"}),l.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[l.jsx(re,{icon:R1,onClick:()=>A("**","**"),title:"Bold"}),l.jsx(re,{icon:nv,onClick:()=>A("*","*"),title:"Italic"}),l.jsx(re,{icon:vv,onClick:()=>A("<u>","</u>"),title:"Underline"}),l.jsx(re,{icon:gv,onClick:()=>A("~~","~~"),title:"Strikethrough"}),l.jsxs("div",{className:"relative",ref:p,children:[l.jsx(re,{icon:lv,onClick:()=>f(!b),title:"Text Color",color:"text-pink-400",active:b}),b&&l.jsxs("div",{ref:$,className:"absolute top-full left-0 mt-2 bg-zinc-900 border border-zinc-700 rounded-xl shadow-xl p-3 z-50 w-48 flex flex-col gap-3 animate-in fade-in slide-in-from-top-2 duration-200",children:[l.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:he.map(te=>l.jsx("button",{onClick:()=>le(te),className:"w-6 h-6 rounded-full border border-zinc-700 hover:scale-110 transition-transform shadow-sm",style:{backgroundColor:te},title:te},te))}),l.jsx("div",{className:"h-px bg-zinc-800 w-full"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"color",value:g,onChange:te=>k(te.target.value),className:"w-8 h-8 rounded cursor-pointer border-0 p-0 bg-transparent"}),l.jsx("button",{onClick:()=>le(g),className:"flex-1 bg-zinc-800 hover:bg-zinc-700 text-xs text-white py-1.5 rounded transition-colors",children:"Apply"})]})]})]}),l.jsx("div",{className:"w-px h-4 bg-zinc-800 mx-1"}),l.jsx(re,{icon:q1,onClick:()=>A("# "),title:"Heading 1"}),l.jsx(re,{icon:Q1,onClick:()=>A("## "),title:"Heading 2"}),l.jsx(re,{icon:sv,onClick:()=>A("- "),title:"Bullet List"}),l.jsx(re,{icon:dv,onClick:()=>A("> "),title:"Quote"}),l.jsx(re,{icon:pm,onClick:()=>A("```\n","\n```"),title:"Code Block"}),l.jsxs("div",{className:"relative",children:[l.jsx(re,{icon:rl,onClick:J,title:H.length===0?"No files available to link":"Insert File Link",color:"text-cyan-400",disabled:H.length===0,active:N}),N&&l.jsxs("div",{className:"absolute left-0 top-full mt-2 z-50 w-72 rounded-lg border border-zinc-700 bg-zinc-900 p-2 shadow-xl",children:[l.jsx("input",{type:"text",value:D,onChange:te=>T(te.target.value),placeholder:"Search files...",className:"mb-2 w-full rounded border border-zinc-700 bg-zinc-950 px-2 py-1.5 text-xs text-zinc-200 focus:border-zinc-500 focus:outline-none",autoFocus:!0}),l.jsx("div",{className:"max-h-48 space-y-1 overflow-y-auto custom-scrollbar",children:G.length===0?l.jsx("p",{className:"px-2 py-2 text-xs text-zinc-500",children:"No matching files."}):G.map(te=>l.jsxs("button",{type:"button",onClick:()=>ne(te.id),className:"flex w-full items-center justify-between rounded px-2 py-1.5 text-left text-xs text-zinc-300 transition hover:bg-zinc-800 hover:text-white",title:te.id,children:[l.jsx("span",{className:"truncate pr-2",children:te.name}),l.jsx("span",{className:"text-[10px] text-zinc-500",children:te.id.slice(0,8)})]},te.id))})]})]}),l.jsx("div",{className:"w-px h-4 bg-zinc-800 mx-1"}),l.jsx("input",{type:"file",ref:z,className:"hidden",accept:"image/*,video/*,audio/*",onChange:P}),l.jsx(re,{icon:Ys,onClick:()=>{var te;return(te=z.current)==null?void 0:te.click()},title:"Insert Image",color:"text-emerald-400"}),l.jsx(re,{icon:bv,onClick:()=>{var te;return(te=z.current)==null?void 0:te.click()},title:"Insert Video",color:"text-blue-400"}),l.jsx(re,{icon:av,onClick:()=>{var te;return(te=z.current)==null?void 0:te.click()},title:"Insert Audio",color:"text-purple-400"})]})]}),l.jsxs("div",{className:"flex items-center gap-3 shrink-0 ml-auto",children:[l.jsxs("div",{className:"flex items-center mr-2 hidden sm:flex",children:[L==="saving"&&l.jsx("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:l.jsx(Jr,{className:"w-3 h-3 animate-spin"})}),L==="saved"&&l.jsx("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:l.jsx(Mn,{className:"w-3 h-3"})}),L==="unsaved"&&l.jsx("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:l.jsx(Vn,{className:"w-3 h-3"})})]}),l.jsxs("div",{className:"flex bg-zinc-800 p-1 rounded-lg border border-zinc-700 hidden sm:flex",children:[l.jsx("button",{onClick:()=>m("edit"),className:`p-1.5 rounded transition-all ${d==="edit"?"bg-zinc-600 text-white":"text-zinc-400"}`,title:"Edit Only",children:l.jsx(sl,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>m("split"),className:`p-1.5 rounded transition-all ${d==="split"?"bg-zinc-600 text-white":"text-zinc-400"}`,title:"Split View",children:l.jsx(mm,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>m("preview"),className:`p-1.5 rounded transition-all ${d==="preview"?"bg-zinc-600 text-white":"text-zinc-400"}`,title:"Preview Only",children:l.jsx(W1,{className:"w-4 h-4"})})]}),l.jsx("button",{onClick:Y,className:"p-2 hover:bg-red-500/10 rounded text-zinc-500 hover:text-red-400 transition-colors",title:"Clear Document",children:l.jsx(It,{className:"w-4 h-4"})}),l.jsx("button",{onClick:I,className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors shadow-lg ${L==="unsaved"?"bg-blue-600 text-white":"bg-zinc-700 text-zinc-200"}`,children:l.jsx(es,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[(d==="edit"||d==="split")&&l.jsx("div",{className:`h-full flex flex-col ${d==="split"?"w-1/2 border-r border-zinc-800":"w-full"}`,children:l.jsx("textarea",{ref:q,className:"w-full h-full bg-zinc-950 p-6 text-zinc-300 font-mono text-sm resize-none focus:outline-none leading-relaxed custom-scrollbar selection:bg-blue-500/30",value:c,onChange:te=>u(te.target.value),onDragOver:Ce,onDrop:Ee,placeholder:"# Start writing...",spellCheck:!1})}),(d==="preview"||d==="split")&&l.jsx("div",{className:`h-full overflow-auto custom-scrollbar bg-zinc-900 ${d==="split"?"w-1/2":"w-full"}`,children:l.jsx("div",{ref:R,onClick:je,className:"max-w-3xl mx-auto p-8 prose prose-invert prose-headings:border-b-0",dangerouslySetInnerHTML:{__html:v}})})]})]})},JS="application/x-gdpm-file-id",e5=["General","Design","Programming","Art","Audio","QA","Production"],as=({value:e,onChange:t,options:n,className:r="",selectClassName:s="",disabled:i=!1})=>l.jsxs("div",{className:`relative ${r}`,children:[l.jsx("select",{value:e,onChange:o=>t(o.target.value),disabled:i,className:`w-full appearance-none rounded-md border border-zinc-700 bg-zinc-900 px-2 py-1.5 pr-7 text-xs text-zinc-200 transition focus:border-zinc-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 ${s}`,children:n.map(o=>l.jsx("option",{value:o.value,className:"bg-zinc-900 text-zinc-200",children:o.label},o.value))}),l.jsx(ld,{className:"pointer-events-none absolute right-2 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-zinc-500"})]}),t5=({initialContent:e,onSave:t,fileName:n,projectFiles:r=[],onOpenFile:s,activeFileId:i})=>{const[o,a]=C.useState(()=>((e==null?void 0:e.items)||[]).map(Se=>({...Se,status:Se.status||(Se.completed?"Done":"To Do")}))),[c,u]=C.useState("saved"),d=C.useRef(JSON.stringify(o)),[m,x]=C.useState(null),[h,v]=C.useState(null),[y,b]=C.useState(""),[f,g]=C.useState("Medium"),[k,N]=C.useState(""),[E,D]=C.useState("General"),[T,L]=C.useState("To Do"),[M,F]=C.useState(""),[q,z]=C.useState(""),[$,p]=C.useState(""),[R,W]=C.useState([]),[H,G]=C.useState(""),[I,Y]=C.useState(!1),[A,P]=C.useState(""),[le,ne]=C.useState("All"),[J,ve]=C.useState("All"),[Ce,Ee]=C.useState("All"),[je,re]=C.useState("Newest"),[he,te]=C.useState(null),[ye,w]=C.useState(""),[ee,Q]=C.useState(null),[S,_]=C.useState(""),[O,U]=C.useState(null),[oe,X]=C.useState(""),me=C.useRef(null),be=ae.useMemo(()=>new Map(r.map(ce=>[ce.id,ce.name])),[r]),ge=ae.useMemo(()=>r.filter(ce=>ce.id!==i).sort((ce,Se)=>ce.name.localeCompare(Se.name,void 0,{sensitivity:"base"})),[r,i]),Ae=ae.useMemo(()=>{const ce=oe.trim().toLowerCase();return ce?ge.filter(Se=>Se.name.toLowerCase().includes(ce)||Se.id.toLowerCase().includes(ce)):ge},[ge,oe]),Be=ae.useMemo(()=>Array.from(new Set([...e5,...o.map(ce=>ce.category||"General")])).sort((ce,Se)=>ce.localeCompare(Se,void 0,{sensitivity:"base"})),[o]),Re=["To Do","In Progress","Done"];C.useEffect(()=>{const Se=((e==null?void 0:e.items)||[]).map(Te=>({...Te,status:Te.status||(Te.completed?"Done":"To Do")}));a(Se),d.current=JSON.stringify(Se)},[e]),C.useEffect(()=>{if(!O)return;const ce=Se=>{const Te=Se.target;Te!=null&&Te.closest('[data-link-picker-toggle="true"]')||me.current&&(me.current.contains(Se.target)||(U(null),X("")))};return document.addEventListener("mousedown",ce),()=>document.removeEventListener("mousedown",ce)},[O]),C.useEffect(()=>{O&&he!==O&&(U(null),X(""))},[he,O]),C.useEffect(()=>{if(JSON.stringify(o)===d.current)return;u("unsaved");const Se=setTimeout(()=>Je(),2e3);return()=>clearTimeout(Se)},[o]),C.useEffect(()=>{const ce=Se=>{(Se.ctrlKey||Se.metaKey)&&Se.key==="s"&&(Se.preventDefault(),Je())};return window.addEventListener("keydown",ce),()=>window.removeEventListener("keydown",ce)},[o]);const Je=()=>{u("saving"),t({items:o}),d.current=JSON.stringify(o),setTimeout(()=>u("saved"),500)},ct=ce=>{if(ce&&ce.preventDefault(),!y.trim())return;const Se=M.trim()?Number(M.trim()):void 0,Te=de(q),_e={id:crypto.randomUUID(),text:y.trim(),completed:T==="Done",status:T,priority:f,dueDate:k||void 0,category:E,estimateHours:typeof Se=="number"&&!Number.isNaN(Se)?Se:void 0,tags:Te.length?Te:void 0,description:$,subTasks:R};a([_e,...o]),b(""),L("To Do"),g("Medium"),N(""),D("General"),F(""),z(""),p(""),W([]),G(""),Y(!1)},Z=()=>{Y(!0)},ue=()=>{Y(!1),b(""),L("To Do"),g("Medium"),N(""),D("General"),F(""),z(""),p(""),W([]),G("")},xe=()=>{H.trim()&&(W(ce=>[...ce,{id:crypto.randomUUID(),text:H.trim(),completed:!1}]),G(""))},Ie=ce=>{W(Se=>Se.map(Te=>Te.id===ce?{...Te,completed:!Te.completed}:Te))},Ve=ce=>{W(Se=>Se.filter(Te=>Te.id!==ce))},Ze=(ce,Se)=>{ce.stopPropagation(),confirm("Delete this task?")&&a(o.filter(Te=>Te.id!==Se))},Fe=ce=>{const Se=o.find(_e=>_e.id===ce);if(!Se)return;const Te={...Se,id:crypto.randomUUID(),text:`${Se.text} (Copy)`,subTasks:(Se.subTasks||[]).map(_e=>({..._e,id:crypto.randomUUID()}))};a([Te,...o])},Ke=(ce,Se)=>{a(o.map(Te=>Te.id===ce?{...Te,status:Se,completed:Se==="Done"}:Te))},K=(ce,Se)=>{a(o.map(Te=>Te.id===ce?{...Te,description:Se}:Te))},se=(ce,Se)=>{a(o.map(Te=>Te.id===ce?{...Te,...Se}:Te))},de=ce=>Array.from(new Set(ce.split(",").map(Se=>Se.trim()).filter(Boolean))).slice(0,8),fe=ce=>{Q(ce.id),_(ce.text)},we=()=>{if(!ee)return;const ce=S.trim();ce&&se(ee,{text:ce}),Q(null),_("")},ke=()=>{Q(null),_("")},Pe=(ce,Se)=>{const Te=r.find(qe=>qe.id===Se);if(!Te)return;const _e=`[${Te.name}](file://${Te.id})`;a(qe=>qe.map(ut=>ut.id===ce?{...ut,description:`${ut.description||""}${ut.description?`
`:""}${_e}`}:ut)),U(null),X("")},He=ce=>{ge.length!==0&&(U(Se=>Se===ce?null:ce),X(""))},B=ce=>{var zn;const Se=ce.dataTransfer.getData(JS);if(Se)try{const nt=JSON.parse(Se);if(nt!=null&&nt.id)return{id:nt.id,name:nt.name||((zn=r.find(Le=>Le.id===nt.id))==null?void 0:zn.name)||"Linked File"}}catch{const nt=r.find(Le=>Le.id===Se);if(nt)return{id:nt.id,name:nt.name}}const Te=ce.dataTransfer.getData("text/uri-list");if(Te!=null&&Te.startsWith("file://")){const nt=Te.replace("file://","").trim(),Le=r.find(ts=>ts.id===nt);if(Le)return{id:Le.id,name:Le.name}}const _e=ce.dataTransfer.getData("text/plain"),qe=_e.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(qe!=null&&qe[2]){const nt=r.find(Le=>Le.id===qe[2]);if(nt)return{id:nt.id,name:nt.name}}const ut=r.find(nt=>nt.id===_e.trim());return ut?{id:ut.id,name:ut.name}:null},j=ce=>{B(ce)&&(ce.preventDefault(),ce.dataTransfer.dropEffect="copy")},V=(ce,Se)=>{const Te=B(ce);if(!Te)return;ce.preventDefault();const _e=`[${Te.name}](file://${Te.id})`;a(o.map(qe=>qe.id===Se?{...qe,description:`${qe.description||""}${qe.description?`
`:""}${_e}`}:qe))},ie=ce=>{const Se=[],Te=/\[([^\]]+)\]\(file:\/\/([^)]+)\)/g;let _e=0,qe=null;for(;(qe=Te.exec(ce))!==null;){qe.index>_e&&Se.push(l.jsx("span",{children:ce.slice(_e,qe.index)},`txt-${_e}`));const ut=qe[2],zn=be.has(ut);Se.push(l.jsx("button",{onClick:nt=>{nt.stopPropagation(),s==null||s(ut)},className:`underline underline-offset-2 ${zn?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"}`,title:zn?`Open ${be.get(ut)}`:"Linked file not found",children:qe[1]},`lnk-${ut}-${qe.index}`)),_e=Te.lastIndex}return _e<ce.length&&Se.push(l.jsx("span",{children:ce.slice(_e)},`txt-end-${_e}`)),Se.length?Se:ce},pe=ce=>{if(!ye.trim())return;const Se={id:crypto.randomUUID(),text:ye.trim(),completed:!1};a(o.map(Te=>Te.id===ce?{...Te,subTasks:[...Te.subTasks||[],Se]}:Te)),w("")},Ne=(ce,Se)=>{a(o.map(Te=>Te.id===ce&&Te.subTasks?{...Te,subTasks:Te.subTasks.map(_e=>_e.id===Se?{..._e,completed:!_e.completed}:_e)}:Te))},Ue=(ce,Se)=>{a(o.map(Te=>Te.id===ce&&Te.subTasks?{...Te,subTasks:Te.subTasks.filter(_e=>_e.id!==Se)}:Te))},We=(ce,Se)=>{x(Se),ce.dataTransfer.effectAllowed="move",ce.dataTransfer.setData("text/plain",Se)},$e=(ce,Se)=>{ce.preventDefault(),h!==Se&&v(Se)},it=(ce,Se)=>{ce.preventDefault(),v(null);const Te=ce.dataTransfer.getData("text/plain");Te&&Te===m&&Ke(Te,Se),x(null)},nn=ce=>{switch(ce){case"High":return"text-red-400 bg-red-400/10 border-red-400/20";case"Medium":return"text-yellow-400 bg-yellow-400/10 border-yellow-400/20";case"Low":return"text-blue-400 bg-blue-400/10 border-blue-400/20"}},Rn=ce=>{switch(ce){case"To Do":return"border-t-zinc-600";case"In Progress":return"border-t-blue-500";case"Done":return"border-t-emerald-500"}},_n={High:3,Medium:2,Low:1},Xe=new Map(o.map((ce,Se)=>[ce.id,Se])),Gt=[...o].filter(ce=>{if(A){const Se=A.toLowerCase();if(![ce.text,ce.description||"",ce.category||"",...ce.tags||[]].join(" ").toLowerCase().includes(Se))return!1}return!(le!=="All"&&ce.priority!==le||J!=="All"&&ce.status!==J||Ce!=="All"&&(ce.category||"General")!==Ce)}).sort((ce,Se)=>{const Te=Xe.get(ce.id)??0,_e=Xe.get(Se.id)??0;switch(je){case"Oldest":return _e-Te;case"Priority":return _n[Se.priority]-_n[ce.priority];case"Due Date":{const qe=ce.dueDate?new Date(ce.dueDate).getTime():Number.POSITIVE_INFINITY,ut=Se.dueDate?new Date(Se.dueDate).getTime():Number.POSITIVE_INFINITY;return qe-ut}case"Effort":{const qe=typeof ce.estimateHours=="number"?ce.estimateHours:Number.POSITIVE_INFINITY,ut=typeof Se.estimateHours=="number"?Se.estimateHours:Number.POSITIVE_INFINITY;return qe-ut}case"Alphabetical":return ce.text.localeCompare(Se.text,void 0,{sensitivity:"base"});case"Newest":default:return Te-_e}}),ao=J==="All"?Re:[J];return l.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[l.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-10 shrink-0",children:[l.jsx("h3",{className:"text-zinc-200 font-medium",children:n}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center mr-2",children:[c==="saving"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[l.jsx(Jr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),c==="saved"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[l.jsx(Mn,{className:"w-3 h-3"})," Saved"]}),c==="unsaved"&&l.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[l.jsx(Vn,{className:"w-3 h-3"})," Unsaved"]})]}),l.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors border border-zinc-700 bg-zinc-800 hover:bg-zinc-700 text-zinc-200",children:[l.jsx(Wn,{className:"w-4 h-4"})," Add Task"]}),l.jsxs("button",{onClick:Je,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${c==="unsaved"?"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[l.jsx(es,{className:"w-4 h-4"})," Save"]})]})]}),l.jsx("div",{className:"flex-1 overflow-x-auto p-6 bg-zinc-900",children:l.jsx("div",{className:`flex gap-6 h-full ${ao.length===1?"min-w-[320px]":"min-w-[900px]"}`,children:ao.map(ce=>{const Se=Gt.filter(_e=>_e.status===ce),Te=h===ce;return l.jsxs("div",{onDragOver:_e=>$e(_e,ce),onDrop:_e=>it(_e,ce),className:`flex-1 flex flex-col min-w-[280px] bg-zinc-950/50 rounded-xl border transition-colors ${Te?"border-blue-500/50 bg-zinc-900":"border-zinc-800"}`,children:[l.jsxs("div",{className:`p-4 border-b border-zinc-800 flex justify-between items-center rounded-t-xl border-t-4 ${Rn(ce)} bg-zinc-900`,children:[l.jsx("h4",{className:"font-semibold text-zinc-300 text-sm tracking-wide",children:ce}),l.jsx("span",{className:"bg-zinc-800 text-zinc-500 text-xs px-2 py-0.5 rounded-full font-medium",children:Se.length})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 custom-scrollbar",children:[Se.map(_e=>{const qe=_e.subTasks||[],ut=qe.filter(Le=>Le.completed).length,zn=qe.length>0?ut/qe.length*100:0,nt=he===_e.id;return l.jsxs("div",{draggable:!0,onDragStart:Le=>We(Le,_e.id),className:`group bg-zinc-900 border border-zinc-800 rounded-lg p-3 shadow-sm hover:border-zinc-700 hover:shadow-md transition-all cursor-grab active:cursor-grabbing ${m===_e.id?"opacity-50 grayscale":"opacity-100"}`,children:[l.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[l.jsx("button",{onClick:()=>Ke(_e.id,_e.status==="Done"?"To Do":"Done"),className:`mt-0.5 shrink-0 transition-colors ${_e.status==="Done"?"text-emerald-500":"text-zinc-600 hover:text-emerald-500"}`,children:_e.status==="Done"?l.jsx(Cs,{className:"w-5 h-5"}):l.jsx(qo,{className:"w-5 h-5"})}),l.jsx("div",{className:"flex-1 min-w-0",children:ee===_e.id?l.jsx("input",{autoFocus:!0,value:S,onChange:Le=>_(Le.target.value),onBlur:we,onKeyDown:Le=>{Le.key==="Enter"&&we(),Le.key==="Escape"&&ke()},className:"w-full bg-zinc-950 border border-zinc-700 rounded px-2 py-1 text-sm text-zinc-100 focus:outline-none"}):l.jsx("p",{onDoubleClick:()=>fe(_e),title:"Double-click to rename task",className:`text-sm font-medium leading-snug break-words cursor-text ${_e.status==="Done"?"text-zinc-500 line-through":"text-zinc-200"}`,children:_e.text})}),l.jsx("button",{onClick:()=>te(nt?null:_e.id),className:"text-zinc-600 hover:text-white transition-colors",children:nt?l.jsx($1,{className:"w-4 h-4"}):l.jsx(ov,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[l.jsx("span",{className:`text-[10px] uppercase font-bold px-1.5 py-0.5 rounded border ${nn(_e.priority)}`,children:_e.priority}),l.jsx("span",{className:"text-[10px] text-zinc-400 bg-zinc-950 border border-zinc-800 px-1.5 py-0.5 rounded",children:_e.category||"General"}),_e.dueDate&&l.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-zinc-500 bg-zinc-950 border border-zinc-800 px-1.5 py-0.5 rounded",children:[l.jsx(ad,{className:"w-3 h-3"})," ",new Date(_e.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]}),typeof _e.estimateHours=="number"&&l.jsxs("span",{className:"text-[10px] text-zinc-500 bg-zinc-950 border border-zinc-800 px-1.5 py-0.5 rounded",children:[_e.estimateHours,"h"]}),_e.tags&&_e.tags.length>0&&l.jsxs("div",{className:"flex items-center gap-1",children:[_e.tags.slice(0,2).map(Le=>l.jsxs("span",{className:"text-[10px] text-zinc-400 bg-zinc-800 px-1.5 py-0.5 rounded",children:["#",Le]},`${_e.id}-${Le}`)),_e.tags.length>2&&l.jsxs("span",{className:"text-[10px] text-zinc-500",children:["+",_e.tags.length-2]})]}),qe.length>0&&l.jsxs("div",{className:"flex items-center gap-1.5 ml-auto",children:[l.jsx(rv,{className:"w-3 h-3 text-zinc-500"}),l.jsxs("span",{className:"text-[10px] text-zinc-500 font-medium",children:[ut,"/",qe.length]}),l.jsx("div",{className:"w-8 h-1 bg-zinc-800 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-blue-500/80",style:{width:`${zn}%`}})})]})]}),nt&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-800/50 space-y-3 animate-in fade-in slide-in-from-top-1 duration-200",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[l.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Status"}),l.jsx(as,{value:_e.status,onChange:Le=>Ke(_e.id,Le),options:[{value:"To Do",label:"To Do"},{value:"In Progress",label:"In Progress"},{value:"Done",label:"Done"}],className:"mt-1",selectClassName:"w-full border-zinc-800 bg-zinc-900"})]}),l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[l.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Priority"}),l.jsx(as,{value:_e.priority,onChange:Le=>se(_e.id,{priority:Le}),options:[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],className:"mt-1",selectClassName:"w-full border-zinc-800 bg-zinc-900"})]}),l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[l.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Due Date"}),l.jsx("input",{type:"date",value:_e.dueDate||"",onChange:Le=>se(_e.id,{dueDate:Le.target.value||void 0}),className:"mt-1 w-full bg-transparent text-xs text-zinc-200 focus:outline-none [color-scheme:dark]"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[l.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Category"}),l.jsx(as,{value:_e.category||"General",onChange:Le=>se(_e.id,{category:Le}),options:Be.map(Le=>({value:Le,label:Le})),className:"mt-1",selectClassName:"w-full border-zinc-800 bg-zinc-900"})]}),l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[l.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Effort (Hours)"}),l.jsx("input",{type:"number",min:"0.5",step:"0.5",value:_e.estimateHours??"",onChange:Le=>{const ts=Le.target.value.trim();se(_e.id,{estimateHours:ts?Number(ts):void 0})},placeholder:"e.g. 2",className:"mt-1 w-full bg-transparent text-xs text-zinc-200 focus:outline-none"})]})]}),l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[l.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Tags"}),l.jsx("input",{type:"text",value:(_e.tags||[]).join(", "),onChange:Le=>se(_e.id,{tags:de(Le.target.value)}),placeholder:"bugfix, polish, ui",className:"mt-1 w-full bg-transparent text-xs text-zinc-200 focus:outline-none"}),l.jsx("p",{className:"mt-1 text-[10px] text-zinc-500",children:"Comma-separated, up to 8 tags."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"relative flex items-center justify-between gap-2",children:[l.jsx("span",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Notes"}),l.jsxs("button",{onClick:()=>He(_e.id),"data-link-picker-toggle":"true",disabled:ge.length===0,className:"text-[10px] text-cyan-400 hover:text-cyan-300 flex items-center gap-1 disabled:text-zinc-600 disabled:cursor-not-allowed",title:ge.length===0?"No files available to link":"Insert file link",children:[l.jsx(rl,{className:"w-3 h-3"})," Link File"]}),O===_e.id&&l.jsxs("div",{ref:me,className:"absolute right-0 top-5 z-20 w-[280px] rounded-md border border-zinc-700 bg-zinc-900 p-2 shadow-lg",children:[l.jsx("input",{type:"text",value:oe,onChange:Le=>X(Le.target.value),placeholder:"Search files...",className:"mb-2 w-full rounded border border-zinc-700 bg-zinc-950 px-2 py-1.5 text-xs text-zinc-200 focus:outline-none focus:border-zinc-500",autoFocus:!0}),l.jsx("div",{className:"max-h-44 overflow-y-auto space-y-1 custom-scrollbar",children:Ae.length===0?l.jsx("p",{className:"px-2 py-2 text-[11px] text-zinc-500",children:"No matching files."}):Ae.map(Le=>l.jsxs("button",{onClick:()=>Pe(_e.id,Le.id),className:"flex w-full items-center justify-between rounded px-2 py-1.5 text-left text-xs text-zinc-300 transition hover:bg-zinc-800 hover:text-white",title:Le.id,children:[l.jsx("span",{className:"truncate pr-2",children:Le.name}),l.jsx("span",{className:"text-[10px] text-zinc-500",children:Le.id.slice(0,8)})]},Le.id))})]})]}),l.jsx("textarea",{value:_e.description||"",onChange:Le=>K(_e.id,Le.target.value),onDragOver:j,onDrop:Le=>V(Le,_e.id),placeholder:"Add notes...",className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-xs text-zinc-300 focus:outline-none focus:border-zinc-700 min-h-[60px] resize-y"}),_e.description&&_e.description.includes("file://")&&l.jsx("div",{className:"text-xs text-zinc-400 bg-zinc-950 border border-zinc-800 rounded p-2 break-words",children:ie(_e.description)})]}),l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",value:ye,onChange:Le=>w(Le.target.value),onKeyDown:Le=>{Le.key==="Enter"&&pe(_e.id)},placeholder:"Sub-task...",className:"flex-1 bg-transparent text-xs text-white focus:outline-none"}),l.jsx("button",{onClick:()=>pe(_e.id),disabled:!ye.trim(),className:"text-zinc-400 hover:text-white disabled:opacity-30",children:l.jsx(Wn,{className:"w-3 h-3"})})]}),l.jsx("div",{className:"space-y-1",children:qe.map(Le=>l.jsxs("div",{className:"flex items-center gap-2 group/sub",children:[l.jsx("button",{onClick:()=>Ne(_e.id,Le.id),className:`text-zinc-600 hover:text-blue-500 ${Le.completed?"text-blue-500":""}`,children:Le.completed?l.jsx(Cs,{className:"w-3 h-3"}):l.jsx(qo,{className:"w-3 h-3"})}),l.jsx("span",{className:`text-xs flex-1 truncate ${Le.completed?"line-through text-zinc-600":"text-zinc-400"}`,children:Le.text}),l.jsx("button",{onClick:()=>Ue(_e.id,Le.id),className:"text-zinc-700 hover:text-red-400 opacity-0 group-hover/sub:opacity-100 transition-opacity",children:l.jsx(It,{className:"w-3 h-3"})})]},Le.id))})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsxs("button",{onClick:()=>Fe(_e.id),className:"flex items-center gap-1 text-xs text-zinc-300 hover:text-white px-2 py-1 rounded hover:bg-zinc-800 transition-colors",children:[l.jsx(Wn,{className:"w-3 h-3"})," Duplicate"]}),l.jsxs("button",{onClick:Le=>Ze(Le,_e.id),className:"flex items-center gap-1 text-xs text-red-400 hover:text-red-300 px-2 py-1 rounded hover:bg-red-900/20 transition-colors",children:[l.jsx(It,{className:"w-3 h-3"})," Delete Task"]})]})]})]},_e.id)}),Se.length===0&&l.jsxs("div",{className:"text-center py-10 opacity-30 text-zinc-500 select-none",children:[l.jsx("p",{className:"text-xs italic",children:"No tasks here"}),l.jsx("p",{className:"text-[11px] mt-1",children:"Use Add Task or drag one into this column."})]})]})]},ce)})})}),I&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-2xl p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Create Task"}),l.jsx("button",{onClick:ue,className:"text-zinc-500 hover:text-white",children:l.jsx(Kr,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:ct,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Task Title"}),l.jsx("input",{autoFocus:!0,type:"text",required:!0,value:y,onChange:ce=>b(ce.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all",placeholder:"What needs to be done?"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Status"}),l.jsx(as,{value:T,onChange:ce=>L(ce),options:[{value:"To Do",label:"To Do"},{value:"In Progress",label:"In Progress"},{value:"Done",label:"Done"}],selectClassName:"w-full bg-zinc-950 border-zinc-800 p-2.5 text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Priority"}),l.jsx(as,{value:f,onChange:ce=>g(ce),options:[{value:"Low",label:"Low"},{value:"Medium",label:"Medium"},{value:"High",label:"High"}],selectClassName:"w-full bg-zinc-950 border-zinc-800 p-2.5 text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Category"}),l.jsx(as,{value:E,onChange:D,options:Be.map(ce=>({value:ce,label:ce})),selectClassName:"w-full bg-zinc-950 border-zinc-800 p-2.5 text-sm"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Due Date"}),l.jsx("input",{type:"date",value:k,onChange:ce=>N(ce.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all [color-scheme:dark]"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Effort (Hours)"}),l.jsx("input",{type:"number",min:"0.5",step:"0.5",value:M,onChange:ce=>F(ce.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all",placeholder:"e.g. 2"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Tags"}),l.jsx("input",{type:"text",value:q,onChange:ce=>z(ce.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all",placeholder:"ui, polish, animation"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Description"}),l.jsx("textarea",{value:$,onChange:ce=>p(ce.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all min-h-[100px]",placeholder:"Add notes or implementation details..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Subtasks"}),l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-lg p-2",children:[l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",value:H,onChange:ce=>G(ce.target.value),onKeyDown:ce=>{ce.key==="Enter"&&(ce.preventDefault(),xe())},placeholder:"Add subtask...",className:"flex-1 bg-transparent text-sm text-white focus:outline-none"}),l.jsx("button",{type:"button",onClick:xe,disabled:!H.trim(),className:"px-2.5 py-1 rounded bg-zinc-800 hover:bg-zinc-700 text-xs text-zinc-200 disabled:opacity-40",children:"Add"})]}),l.jsx("div",{className:"space-y-1 max-h-28 overflow-y-auto custom-scrollbar",children:R.length===0?l.jsx("p",{className:"text-xs text-zinc-500",children:"No subtasks yet."}):R.map(ce=>l.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-300",children:[l.jsx("button",{type:"button",onClick:()=>Ie(ce.id),className:`text-zinc-500 hover:text-blue-400 ${ce.completed?"text-blue-400":""}`,children:ce.completed?l.jsx(Cs,{className:"w-3 h-3"}):l.jsx(qo,{className:"w-3 h-3"})}),l.jsx("span",{className:`flex-1 ${ce.completed?"line-through text-zinc-500":"text-zinc-300"}`,children:ce.text}),l.jsx("button",{type:"button",onClick:()=>Ve(ce.id),className:"text-zinc-600 hover:text-red-400",children:l.jsx(It,{className:"w-3 h-3"})})]},ce.id))})]})]}),l.jsxs("div",{className:"pt-4 border-t border-zinc-800 flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:ue,className:"px-4 py-2 text-zinc-400 hover:text-white",children:"Cancel"}),l.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-lg text-sm font-medium transition-colors",children:"Create Task"})]})]})]})})]})},n5="application/x-gdpm-file-id",Rh=["General","Gameplay","UI/UX","Audio","Performance","Networking","Build/CI"],nr=["Open","In Progress","Resolved","Closed"],Oo=250,Oh=3,r5=({initialContent:e,onSave:t,fileName:n,projectFiles:r=[],onOpenFile:s,activeFileId:i})=>{const[o,a]=C.useState((e==null?void 0:e.tasks)||[]),[c,u]=C.useState("saved"),d=C.useRef(JSON.stringify((e==null?void 0:e.tasks)||[])),[m,x]=C.useState(!1),[h,v]=C.useState(null),[y,b]=C.useState(""),[f,g]=C.useState("All"),[k,N]=C.useState("All"),[E,D]=C.useState("All"),[T,L]=C.useState("Newest"),[M,F]=C.useState(""),[q,z]=C.useState("Medium"),[$,p]=C.useState("Open"),[R,W]=C.useState(""),[H,G]=C.useState("General"),[I,Y]=C.useState(""),[A,P]=C.useState(!0),[le,ne]=C.useState(""),[J,ve]=C.useState(!1),[Ce,Ee]=C.useState(""),je=C.useRef(null),[re,he]=C.useState(null),[te,ye]=C.useState(null),w=C.useRef({Open:null,"In Progress":null,Resolved:null,Closed:null}),[ee,Q]=C.useState({Open:0,"In Progress":0,Resolved:0,Closed:0}),[S,_]=C.useState({Open:600,"In Progress":600,Resolved:600,Closed:600}),O=ae.useMemo(()=>new Map(r.map(j=>[j.id,j.name])),[r]),U=ae.useMemo(()=>r.filter(j=>j.id!==i).sort((j,V)=>j.name.localeCompare(V.name,void 0,{sensitivity:"base"})),[r,i]),oe=ae.useMemo(()=>{const j=Ce.trim().toLowerCase();return j?U.filter(V=>V.name.toLowerCase().includes(j)||V.id.toLowerCase().includes(j)):U},[U,Ce]);C.useEffect(()=>{a((e==null?void 0:e.tasks)||[]),d.current=JSON.stringify((e==null?void 0:e.tasks)||[])},[e]),C.useEffect(()=>{U.length>0||(ve(!1),Ee(""))},[U]),C.useEffect(()=>{if(!m||!J)return;const j=V=>{je.current&&(je.current.contains(V.target)||(ve(!1),Ee("")))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[m,J]),C.useEffect(()=>{if(JSON.stringify(o)===d.current)return;u("unsaved");const V=setTimeout(()=>{X()},2e3);return()=>clearTimeout(V)},[o]),C.useEffect(()=>{const j=V=>{(V.ctrlKey||V.metaKey)&&V.key==="s"&&(V.preventDefault(),X())};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[o]);const X=()=>{u("saving"),t({tasks:o}),d.current=JSON.stringify(o),setTimeout(()=>u("saved"),500)},me=()=>{F(""),ne(""),z("Medium"),p("Open"),W(""),G("General"),Y(""),P(!0),ve(!1),Ee(""),v(null),x(!1)},be=()=>{v(null),F(""),ne(""),z("Medium"),p("Open"),W(""),G("General"),Y(""),P(!0),ve(!1),Ee(""),x(!0)},ge=(j,V)=>{j.stopPropagation(),j.preventDefault(),v(V),F(V.title),ne(V.description),z(V.severity),p(V.status),W(V.dueDate||""),G(V.category||"General"),Y((V.tags||[]).join(", ")),P(V.reproducible??!0),ve(!1),Ee(""),x(!0)},Ae=j=>Array.from(new Set(j.split(",").map(V=>V.trim()).filter(Boolean))).slice(0,8),Be=j=>{if(j.preventDefault(),!M.trim())return;const V=Ae(I);if(h)a(ie=>ie.map(pe=>pe.id===h.id?{...pe,title:M,description:le,severity:q,status:$,dueDate:R||void 0,category:H,tags:V.length?V:void 0,reproducible:A}:pe));else{const ie={id:crypto.randomUUID(),title:M,description:le,severity:q,status:$,createdAt:Date.now(),dueDate:R||void 0,category:H,tags:V.length?V:void 0,reproducible:A};a([...o,ie])}me()},Re=(j,V)=>{a(ie=>ie.map(pe=>pe.id===j?{...pe,status:V}:pe))},Je=j=>{confirm("Delete this bug ticket?")&&a(V=>V.filter(ie=>ie.id!==j))},ct=(j,V)=>{he(V),j.dataTransfer.effectAllowed="move",j.dataTransfer.setData("text/plain",V)},Z=(j,V)=>{j.preventDefault(),j.dataTransfer.dropEffect="move",te!==V&&ye(V)},ue=(j,V)=>{j.preventDefault(),ye(null);const ie=j.dataTransfer.getData("text/plain");ie&&ie===re&&Re(ie,V),he(null)},xe=()=>{he(null),ye(null)},Ie=j=>{switch(j){case"Critical":return"bg-red-500 text-white border-red-600";case"High":return"bg-orange-500 text-white border-orange-600";case"Medium":return"bg-yellow-500/20 text-yellow-500 border-yellow-500/40";case"Low":return"bg-blue-500/20 text-blue-500 border-blue-500/40"}},Ve=j=>j==="Critical"?l.jsx(Vn,{className:"w-3 h-3 fill-white text-red-600"}):l.jsx(Vn,{className:"w-3 h-3"}),Ze=j=>{const V=r.find(ie=>ie.id===j);V&&(ne(ie=>`${ie}${ie?`
`:""}[${V.name}](file://${V.id})`),ve(!1),Ee(""))},Fe=()=>{U.length!==0&&(ve(j=>!j),Ee(""))},Ke=j=>{var We;const V=j.dataTransfer.getData(n5);if(V)try{const $e=JSON.parse(V);if($e!=null&&$e.id)return{id:$e.id,name:$e.name||((We=r.find(it=>it.id===$e.id))==null?void 0:We.name)||"Linked File"}}catch{const $e=r.find(it=>it.id===V);if($e)return{id:$e.id,name:$e.name}}const ie=j.dataTransfer.getData("text/uri-list");if(ie!=null&&ie.startsWith("file://")){const $e=ie.replace("file://","").trim(),it=r.find(nn=>nn.id===$e);if(it)return{id:it.id,name:it.name}}const pe=j.dataTransfer.getData("text/plain"),Ne=pe.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(Ne!=null&&Ne[2]){const $e=r.find(it=>it.id===Ne[2]);if($e)return{id:$e.id,name:$e.name}}const Ue=r.find($e=>$e.id===pe.trim());return Ue?{id:Ue.id,name:Ue.name}:null},K=j=>{Ke(j)&&(j.preventDefault(),j.dataTransfer.dropEffect="copy")},se=j=>{const V=Ke(j);V&&(j.preventDefault(),ne(ie=>`${ie}${ie?`
`:""}[${V.name}](file://${V.id})`))},de=j=>{const V=[],ie=/\[([^\]]+)\]\(file:\/\/([^)]+)\)/g;let pe=0,Ne=null;for(;(Ne=ie.exec(j))!==null;){Ne.index>pe&&V.push(l.jsx("span",{children:j.slice(pe,Ne.index)},`txt-${pe}`));const Ue=Ne[1],We=Ne[2],$e=O.get(We);V.push(l.jsx("button",{onClick:it=>{it.stopPropagation(),s==null||s(We)},className:`underline underline-offset-2 ${$e?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"}`,title:$e?`Open ${$e}`:"Linked file not found",children:Ue},`lnk-${We}-${Ne.index}`)),pe=ie.lastIndex}return pe<j.length&&V.push(l.jsx("span",{children:j.slice(pe)},`txt-end-${pe}`)),V.length>0?V:j},fe=()=>{b(""),g("All"),N("All"),D("All"),L("Newest")},we={Critical:4,High:3,Medium:2,Low:1},ke=[...o].filter(j=>{if(f!=="All"&&j.severity!==f||k!=="All"&&j.status!==k||E!=="All"&&(j.category||"General")!==E)return!1;if(y){const V=y.toLowerCase();if(![j.title,j.description,j.category||"",...j.tags||[]].join(" ").toLowerCase().includes(V))return!1}return!0}).sort((j,V)=>{switch(T){case"Oldest":return j.createdAt-V.createdAt;case"Severity":return we[V.severity]-we[j.severity];case"Due Date":{const ie=j.dueDate?new Date(j.dueDate).getTime():Number.POSITIVE_INFINITY,pe=V.dueDate?new Date(V.dueDate).getTime():Number.POSITIVE_INFINITY;return ie-pe}case"Newest":default:return V.createdAt-j.createdAt}}),Pe=k==="All"?nr:[k];C.useEffect(()=>{const j=[],V=Pe.length>0?Pe:nr;for(const ie of V){const pe=w.current[ie];if(!pe)continue;const Ne=()=>{const We=pe.clientHeight||600;_($e=>$e[ie]===We?$e:{...$e,[ie]:We})};Ne();const Ue=new ResizeObserver(Ne);Ue.observe(pe),j.push(Ue)}return()=>j.forEach(ie=>ie.disconnect())},[Pe]);const He=j=>V=>{if(w.current[j]=V,!V)return;const ie=V.clientHeight||600;_(pe=>pe[j]===ie?pe:{...pe,[j]:ie})},B=j=>V=>{const ie=V.currentTarget.scrollTop;Q(pe=>pe[j]===ie?pe:{...pe,[j]:ie})};return l.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[l.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-10 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg",children:l.jsx(nl,{className:"w-5 h-5 text-red-500"})}),l.jsx("h3",{className:"text-zinc-200 font-medium",children:n})]}),l.jsx("div",{className:"flex gap-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center mr-2",children:[c==="saving"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[l.jsx(Jr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),c==="saved"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[l.jsx(Mn,{className:"w-3 h-3"})," Saved"]}),c==="unsaved"&&l.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[l.jsx(Vn,{className:"w-3 h-3"})," Unsaved"]})]}),l.jsxs("button",{onClick:be,className:"flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 text-zinc-200 px-4 py-2 rounded-md text-sm font-medium transition-colors border border-zinc-700",children:[l.jsx(Wn,{className:"w-4 h-4"}),"Report Bug"]}),l.jsxs("button",{onClick:X,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${c==="unsaved"?"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[l.jsx(es,{className:"w-4 h-4"}),"Save Board"]})]})})]}),l.jsxs("div",{className:"px-6 py-4 border-b border-zinc-800 flex flex-wrap gap-3 items-center bg-zinc-900",children:[l.jsxs("div",{className:"relative w-56",children:[l.jsx(ro,{className:"w-4 h-4 text-zinc-500 absolute left-3 top-1/2 -translate-y-1/2"}),l.jsx("input",{type:"text",value:y,onChange:j=>b(j.target.value),placeholder:"Search bugs...",className:"w-full bg-zinc-950 border border-zinc-800 rounded-md py-1.5 pl-9 pr-3 text-sm text-zinc-200 focus:outline-none focus:border-zinc-600"})]}),l.jsx("div",{className:"h-6 w-px bg-zinc-800 hidden lg:block"}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[l.jsx(gm,{className:"w-4 h-4"}),l.jsx("span",{children:"Severity:"}),l.jsx("div",{className:"flex gap-1 bg-zinc-950 p-1 rounded-lg border border-zinc-800",children:["All","Low","Medium","High","Critical"].map(j=>l.jsx("button",{onClick:()=>g(j),className:`px-2 py-0.5 rounded text-xs font-medium transition-all ${f===j?"bg-zinc-800 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:j},j))})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-2 py-1.5 text-xs text-zinc-300",children:[l.jsx("span",{children:"Status"}),l.jsxs("select",{value:k,onChange:j=>N(j.target.value),className:"bg-transparent focus:outline-none text-xs text-zinc-200",children:[l.jsx("option",{value:"All",children:"All"}),nr.map(j=>l.jsx("option",{value:j,children:j},j))]})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-2 py-1.5 text-xs text-zinc-300",children:[l.jsx("span",{children:"Category"}),l.jsxs("select",{value:E,onChange:j=>D(j.target.value),className:"bg-transparent focus:outline-none text-xs text-zinc-200",children:[l.jsx("option",{value:"All",children:"All"}),Rh.map(j=>l.jsx("option",{value:j,children:j},j))]})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-2 py-1.5 text-xs text-zinc-300",children:[l.jsx(hm,{className:"w-3.5 h-3.5 text-zinc-500"}),l.jsxs("select",{value:T,onChange:j=>L(j.target.value),className:"bg-transparent focus:outline-none text-xs text-zinc-200",children:[l.jsx("option",{value:"Newest",children:"Newest"}),l.jsx("option",{value:"Oldest",children:"Oldest"}),l.jsx("option",{value:"Severity",children:"Severity"}),l.jsx("option",{value:"Due Date",children:"Due Date"})]})]}),l.jsx("button",{onClick:fe,className:"px-2.5 py-1.5 rounded-md border border-zinc-800 bg-zinc-950 text-xs text-zinc-300 hover:text-white",children:"Reset Filters"}),l.jsxs("div",{className:"ml-auto text-xs text-zinc-500",children:["Showing ",ke.length," of ",o.length," bugs"]})]}),l.jsx("div",{className:"flex-1 overflow-x-auto p-6",children:l.jsx("div",{className:`flex gap-6 h-full ${Pe.length===1?"min-w-[320px]":"min-w-[1000px]"}`,children:Pe.map(j=>{const V=ke.filter(Xe=>Xe.status===j),ie=te===j,pe=V.length>32,Ne=S[j]||600,Ue=ee[j]||0,We=Math.ceil(Ne/Oo)+Oh*2,$e=pe?Math.max(0,Math.floor(Ue/Oo)-Oh):0,it=pe?Math.min(V.length,$e+We):V.length,nn=pe?V.slice($e,it):V,Rn=pe?$e*Oo:0,_n=pe?Math.max(0,(V.length-it)*Oo):0;return l.jsxs("div",{onDragOver:Xe=>Z(Xe,j),onDrop:Xe=>ue(Xe,j),className:`
                    flex-1 flex flex-col min-w-[300px] h-full rounded-xl overflow-hidden transition-all duration-200
                    ${ie?"bg-zinc-900 border-2 border-blue-500/50 shadow-[0_0_30px_-5px_rgba(59,130,246,0.2)]":"bg-zinc-950/50 border border-zinc-800"}
                  `,children:[l.jsxs("div",{className:"p-4 border-b flex justify-between items-center sticky top-0 bg-zinc-900 border-zinc-800",children:[l.jsx("h4",{className:`font-semibold transition-colors ${ie?"text-blue-400":"text-zinc-300"}`,children:j}),l.jsx("span",{className:"text-xs bg-zinc-800 text-zinc-400 px-2 py-1 rounded-full",children:V.length})]}),l.jsxs("div",{ref:He(j),onScroll:B(j),className:"flex-1 overflow-y-auto p-3 space-y-3 custom-scrollbar",children:[Rn>0&&l.jsx("div",{style:{height:Rn}}),nn.map(Xe=>l.jsxs("div",{draggable:!0,onDragStart:Gt=>ct(Gt,Xe.id),onDragEnd:xe,className:`bg-zinc-900 border border-zinc-800 p-4 rounded-lg shadow-sm hover:border-zinc-700 transition-colors group cursor-grab active:cursor-grabbing ${re===Xe.id?"opacity-40 grayscale border-dashed border-zinc-600":"opacity-100"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-2 relative",children:[l.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border flex items-center gap-1 pointer-events-none ${Ie(Xe.severity)}`,children:[Ve(Xe.severity),Xe.severity]}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity relative z-20",children:[l.jsx("button",{onClick:Gt=>ge(Gt,Xe),className:"p-1 text-zinc-500 hover:text-blue-400 hover:bg-zinc-800 rounded cursor-pointer",title:"Edit Bug",children:l.jsx(Bi,{className:"w-4 h-4"})}),l.jsx("button",{onClick:Gt=>{Gt.preventDefault(),Gt.stopPropagation(),Je(Xe.id)},className:"p-1 text-zinc-500 hover:text-red-400 hover:bg-zinc-800 rounded cursor-pointer",title:"Delete Bug",children:l.jsx(It,{className:"w-4 h-4"})})]})]}),l.jsx("h5",{className:"text-sm font-medium text-zinc-200 mb-1 pointer-events-none",children:Xe.title}),l.jsxs("div",{className:"mb-2 flex flex-wrap items-center gap-1.5 text-[10px] text-zinc-500",children:[Xe.category&&l.jsxs("span",{className:"inline-flex items-center gap-1 rounded border border-zinc-700 bg-zinc-950 px-1.5 py-0.5",children:[l.jsx(xv,{className:"h-3 w-3"})," ",Xe.category]}),Xe.dueDate&&l.jsxs("span",{className:"inline-flex items-center gap-1 rounded border border-zinc-700 bg-zinc-950 px-1.5 py-0.5",children:[l.jsx(ad,{className:"h-3 w-3"})," ",new Date(Xe.dueDate).toLocaleDateString()]}),Xe.reproducible===!1&&l.jsx("span",{className:"rounded border border-zinc-700 bg-zinc-950 px-1.5 py-0.5 text-zinc-400",children:"Intermittent"})]}),Xe.tags&&Xe.tags.length>0&&l.jsx("div",{className:"mb-2 flex flex-wrap gap-1",children:Xe.tags.map(Gt=>l.jsxs("span",{className:"rounded bg-zinc-800/80 px-1.5 py-0.5 text-[10px] text-zinc-300",children:["#",Gt]},`${Xe.id}-${Gt}`))}),l.jsx("p",{className:"text-xs text-zinc-500 line-clamp-2 mb-3 break-words",children:Xe.description?de(Xe.description):"No description provided."}),l.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-zinc-800 pointer-events-auto relative z-10",children:[j!=="Open"?l.jsxs("button",{onClick:()=>Re(Xe.id,nr[nr.indexOf(j)-1]),className:"text-xs text-zinc-500 hover:text-zinc-300 flex items-center gap-1 hover:bg-zinc-800 px-2 py-1 rounded transition-colors",children:[l.jsx(L1,{className:"w-3 h-3"})," Prev"]}):l.jsx("div",{}),j!=="Closed"?l.jsxs("button",{onClick:()=>Re(Xe.id,nr[nr.indexOf(j)+1]),className:"text-xs text-zinc-500 hover:text-zinc-300 flex items-center gap-1 hover:bg-zinc-800 px-2 py-1 rounded transition-colors",children:["Next ",l.jsx(cd,{className:"w-3 h-3"})]}):l.jsx("div",{})]})]},Xe.id)),_n>0&&l.jsx("div",{style:{height:_n}}),V.length===0&&l.jsx("div",{className:`text-center py-8 pointer-events-none transition-opacity ${ie?"opacity-50 text-blue-400":"opacity-30 text-zinc-500"}`,children:l.jsx("div",{className:"text-sm italic",children:ie?"Drop to move here":"Drop items here"})})]})]},j)})})}),m&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-2xl p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:h?"Edit Bug Report":"Report Bug"}),l.jsx("button",{onClick:me,className:"text-zinc-500 hover:text-white",children:l.jsx(Kr,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:Be,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Title"}),l.jsx("input",{autoFocus:!0,type:"text",required:!0,value:M,onChange:j=>F(j.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all",placeholder:"e.g., Crash on startup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Severity"}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:["Low","Medium","High","Critical"].map(j=>l.jsx("button",{type:"button",onClick:()=>z(j),className:`py-2 px-1 rounded-lg text-xs font-medium border transition-all ${q===j?"bg-zinc-800 border-zinc-600 text-white ring-1 ring-zinc-500":"bg-zinc-950 border-zinc-800 text-zinc-400 hover:bg-zinc-800"}`,children:j},j))})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Status"}),l.jsx("select",{value:$,onChange:j=>p(j.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all",children:nr.map(j=>l.jsx("option",{value:j,children:j},j))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Category"}),l.jsx("select",{value:H,onChange:j=>G(j.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all",children:Rh.map(j=>l.jsx("option",{value:j,children:j},j))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Target Date"}),l.jsx("input",{type:"date",value:R,onChange:j=>W(j.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all [color-scheme:dark]"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Tags"}),l.jsx("input",{type:"text",value:I,onChange:j=>Y(j.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all",placeholder:"rendering, crash, multiplayer"}),l.jsx("p",{className:"mt-1 text-[11px] text-zinc-500",children:"Comma-separated. Up to 8 tags."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Reproducibility"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("button",{type:"button",onClick:()=>P(!0),className:`rounded-lg border px-3 py-2 text-xs font-medium transition ${A?"border-zinc-600 bg-zinc-800 text-white":"border-zinc-800 bg-zinc-950 text-zinc-400 hover:bg-zinc-800"}`,children:"Always Reproducible"}),l.jsx("button",{type:"button",onClick:()=>P(!1),className:`rounded-lg border px-3 py-2 text-xs font-medium transition ${A?"border-zinc-800 bg-zinc-950 text-zinc-400 hover:bg-zinc-800":"border-zinc-600 bg-zinc-800 text-white"}`,children:"Intermittent"})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"Description"}),l.jsxs("div",{className:"relative",ref:je,children:[l.jsxs("button",{type:"button",onClick:Fe,disabled:U.length===0,className:"text-xs text-cyan-400 hover:text-cyan-300 disabled:text-zinc-600 disabled:cursor-not-allowed flex items-center gap-1",title:U.length===0?"No files available to link":"Insert File Link",children:[l.jsx(rl,{className:"w-3 h-3"})," Link File"]}),J&&l.jsxs("div",{className:"absolute right-0 top-5 z-30 w-72 rounded-md border border-zinc-700 bg-zinc-900 p-2 shadow-lg",children:[l.jsx("input",{type:"text",value:Ce,onChange:j=>Ee(j.target.value),placeholder:"Search files...",className:"mb-2 w-full rounded border border-zinc-700 bg-zinc-950 px-2 py-1.5 text-xs text-zinc-200 focus:outline-none focus:border-zinc-500",autoFocus:!0}),l.jsx("div",{className:"max-h-44 overflow-y-auto space-y-1 custom-scrollbar",children:oe.length===0?l.jsx("p",{className:"px-2 py-2 text-xs text-zinc-500",children:"No matching files."}):oe.map(j=>l.jsxs("button",{type:"button",onClick:()=>Ze(j.id),className:"flex w-full items-center justify-between rounded px-2 py-1.5 text-left text-xs text-zinc-300 transition hover:bg-zinc-800 hover:text-white",title:j.id,children:[l.jsx("span",{className:"truncate pr-2",children:j.name}),l.jsx("span",{className:"text-[10px] text-zinc-500",children:j.id.slice(0,8)})]},j.id))})]})]})]}),l.jsx("textarea",{value:le,onChange:j=>ne(j.target.value),onDragOver:K,onDrop:se,className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all min-h-[100px]",placeholder:"Steps to reproduce..."})]}),l.jsx("div",{className:"pt-4 border-t border-zinc-800",children:l.jsx("button",{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2.5 rounded-lg text-sm font-medium transition-colors",children:h?"Save Changes":"Create Ticket"})})]})]})})]})},s5="application/x-gdpm-file-id",Mr=["planned","in-progress","completed","delayed","dropped"],Lh=["phase","milestone"],ls={planned:{label:"Planned",chip:"bg-zinc-800 text-zinc-300 border-zinc-700",dot:"bg-zinc-500",bar:"bg-zinc-500",panel:"border-zinc-800"},"in-progress":{label:"In Progress",chip:"bg-blue-500/15 text-blue-300 border-blue-500/40",dot:"bg-blue-400",bar:"bg-blue-500",panel:"border-blue-500/30"},completed:{label:"Completed",chip:"bg-emerald-500/15 text-emerald-300 border-emerald-500/40",dot:"bg-emerald-400",bar:"bg-emerald-500",panel:"border-emerald-500/30"},delayed:{label:"Delayed",chip:"bg-red-500/15 text-red-300 border-red-500/40",dot:"bg-red-400",bar:"bg-red-500",panel:"border-red-500/30"},dropped:{label:"Dropped",chip:"bg-zinc-700/80 text-zinc-300 border-zinc-600",dot:"bg-zinc-400",bar:"bg-zinc-600",panel:"border-zinc-700"}},Lo=e=>e==="milestone"?"Milestone":"Phase",La=()=>new Date().toISOString().split("T")[0],Yt=e=>{const t=new Date(`${e}T00:00:00`).getTime();return Number.isFinite(t)?t:Date.now()},na=e=>Math.max(0,Math.min(100,Math.round(e))),$h=(e="phase")=>{const t=La(),n=new Date(Date.now()+1e3*60*60*24*14).toISOString().split("T")[0];return{title:"",type:e,status:"planned",startDate:t,endDate:e==="milestone"?t:n,progress:0,description:""}},Fh=e=>(Array.isArray(e==null?void 0:e.items)?e.items:[]).filter(n=>typeof(n==null?void 0:n.title)=="string").map(n=>{const r=typeof n.startDate=="string"&&n.startDate?n.startDate:La(),s=n.type==="milestone"?"milestone":"phase",i=s==="milestone"?r:typeof n.endDate=="string"&&n.endDate?n.endDate:r,o=Mr.includes(n.status)?n.status:"planned",a=s==="milestone"?o==="completed"?100:0:na(Number(n.progress)||0);return{id:typeof n.id=="string"?n.id:crypto.randomUUID(),title:n.title.trim()||"Untitled Item",startDate:r,endDate:i,type:s,status:o,progress:a,description:typeof n.description=="string"?n.description:""}}),Bh=(e,t)=>{const n=Yt(e.startDate),r=Yt(e.type==="milestone"?e.startDate:e.endDate),s=e.status==="completed",i=!s&&e.status!=="dropped"&&n<=t&&r>=t,o=!s&&e.status!=="dropped"&&r<t,a=n>=t&&n<=t+1e3*60*60*24*90;return{isActive:i,isOverdue:o,isNext90:a,isCompleted:s}},i5=({initialContent:e,onSave:t,fileName:n,projectFiles:r=[],onOpenFile:s,activeFileId:i})=>{const o=C.useRef(Fh(e)),[a,c]=C.useState(o.current),[u,d]=C.useState("saved"),m=C.useRef(JSON.stringify(o.current)),[x,h]=C.useState("timeline"),[v,y]=C.useState(""),[b,f]=C.useState("All"),[g,k]=C.useState("All"),[N,E]=C.useState("all"),[D,T]=C.useState("start"),[L,M]=C.useState(!1),[F,q]=C.useState(null),[z,$]=C.useState($h()),[p,R]=C.useState(null),[W,H]=C.useState(!1),[G,I]=C.useState(""),Y=C.useRef(null),A=C.useMemo(()=>new Map(r.map(Z=>[Z.id,Z.name])),[r]),P=C.useMemo(()=>r.filter(Z=>Z.id!==i).sort((Z,ue)=>Z.name.localeCompare(ue.name,void 0,{sensitivity:"base"})),[r,i]),le=C.useMemo(()=>{const Z=G.trim().toLowerCase();return Z?P.filter(ue=>ue.name.toLowerCase().includes(Z)||ue.id.toLowerCase().includes(Z)):P},[G,P]);C.useEffect(()=>{const Z=Fh(e);c(Z),m.current=JSON.stringify(Z),d("saved"),R(ue=>{var xe;return ue&&Z.some(Ie=>Ie.id===ue)?ue:((xe=Z[0])==null?void 0:xe.id)||null})},[e]),C.useEffect(()=>{if(JSON.stringify(a)===m.current)return;d("unsaved");const ue=setTimeout(()=>ne(),1200);return()=>clearTimeout(ue)},[a]),C.useEffect(()=>{const Z=ue=>{(ue.ctrlKey||ue.metaKey)&&ue.key.toLowerCase()==="s"&&(ue.preventDefault(),ne())};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[a]),C.useEffect(()=>{if(!L||!W)return;const Z=ue=>{Y.current&&(Y.current.contains(ue.target)||(H(!1),I("")))};return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[L,W]);const ne=()=>{d("saving"),t({items:a}),m.current=JSON.stringify(a),setTimeout(()=>d("saved"),350)},J=(Z="phase")=>{q(null),$($h(Z)),H(!1),I(""),M(!0)},ve=Z=>{q(Z.id),$({title:Z.title,type:Z.type,status:Z.status,startDate:Z.startDate,endDate:Z.type==="milestone"?Z.startDate:Z.endDate,progress:Z.progress,description:Z.description||""}),H(!1),I(""),M(!0)},Ce=()=>{M(!1),q(null)},Ee=Z=>{confirm("Delete this roadmap item?")&&(c(ue=>ue.filter(xe=>xe.id!==Z)),R(ue=>ue===Z?null:ue),F===Z&&Ce())},je=Z=>{c(ue=>ue.some(xe=>xe.id===Z.id)?ue.map(xe=>xe.id===Z.id?Z:xe):[...ue,Z]),R(Z.id)},re=Z=>{Z.preventDefault();const ue=z.title.trim();if(!ue)return;const xe=z.startDate||La(),Ie=z.type==="milestone"?xe:z.endDate||xe,Ve=Yt(Ie)<Yt(xe)?xe:Ie,Ze={id:F||crypto.randomUUID(),title:ue,type:z.type,status:z.status,startDate:xe,endDate:z.type==="milestone"?xe:Ve,progress:z.type==="milestone"?z.status==="completed"?100:0:na(z.progress),description:z.description.trim()};je(Ze),Ce()},he=Z=>{const ue={...Z,id:crypto.randomUUID(),title:`${Z.title} Copy`,status:Z.status==="completed"?"planned":Z.status,progress:Z.type==="milestone"?0:Math.min(95,Z.progress)};je(ue)},te=(Z,ue)=>{c(xe=>xe.map(Ie=>Ie.id!==Z?Ie:Ie.type==="milestone"?{...Ie,status:ue,progress:ue==="completed"?100:0}:{...Ie,status:ue,progress:ue==="completed"?100:Ie.progress}))},ye=(Z,ue)=>{c(xe=>xe.map(Ie=>{if(Ie.id!==Z||Ie.type!=="phase")return Ie;const Ve=na(Ie.progress+ue),Ze=Ve>=100?"completed":Ie.status;return{...Ie,progress:Ve,status:Ze}}))},w=Z=>{const ue=r.find(xe=>xe.id===Z);ue&&($(xe=>({...xe,description:`${xe.description}${xe.description?`
`:""}[${ue.name}](file://${ue.id})`})),H(!1),I(""))},ee=()=>{P.length!==0&&(H(Z=>!Z),I(""))},Q=Z=>{const ue=Z.dataTransfer.getData(s5);if(ue)try{const Fe=JSON.parse(ue);if(Fe!=null&&Fe.id)return{id:Fe.id,name:Fe.name||A.get(Fe.id)||"Linked File"}}catch{const Fe=r.find(Ke=>Ke.id===ue);if(Fe)return{id:Fe.id,name:Fe.name}}const xe=Z.dataTransfer.getData("text/uri-list");if(xe!=null&&xe.startsWith("file://")){const Fe=xe.replace("file://","").trim(),Ke=r.find(K=>K.id===Fe);if(Ke)return{id:Ke.id,name:Ke.name}}const Ie=Z.dataTransfer.getData("text/plain"),Ve=Ie.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(Ve!=null&&Ve[2]){const Fe=r.find(Ke=>Ke.id===Ve[2]);if(Fe)return{id:Fe.id,name:Fe.name}}const Ze=r.find(Fe=>Fe.id===Ie.trim());return Ze?{id:Ze.id,name:Ze.name}:null},S=Z=>{Q(Z)&&(Z.preventDefault(),Z.dataTransfer.dropEffect="copy")},_=Z=>{const ue=Q(Z);ue&&(Z.preventDefault(),$(xe=>({...xe,description:`${xe.description}${xe.description?`
`:""}[${ue.name}](file://${ue.id})`})))},O=Z=>{const ue=[],xe=/\[([^\]]+)\]\(file:\/\/([^)]+)\)/g;let Ie=0,Ve=null;for(;(Ve=xe.exec(Z))!==null;){Ve.index>Ie&&ue.push(l.jsx("span",{children:Z.slice(Ie,Ve.index)},`txt-${Ie}`));const Ze=Ve[1],Fe=Ve[2],Ke=A.has(Fe);ue.push(l.jsx("button",{onClick:K=>{K.stopPropagation(),s==null||s(Fe)},className:`underline underline-offset-2 ${Ke?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"}`,title:Ke?`Open ${A.get(Fe)}`:"Linked file not found",children:Ze},`lnk-${Fe}-${Ve.index}`)),Ie=xe.lastIndex}return Ie<Z.length&&ue.push(l.jsx("span",{children:Z.slice(Ie)},`txt-end-${Ie}`)),ue.length>0?ue:Z},U=()=>{y(""),f("All"),k("All"),E("all"),T("start")},oe=C.useMemo(()=>Yt(La()),[]),X=C.useMemo(()=>{let Z=[...a];return Z=Z.filter(ue=>{if(b!=="All"&&ue.status!==b||g!=="All"&&ue.type!==g)return!1;if(v.trim()){const Ie=v.trim().toLowerCase();if(!`${ue.title} ${ue.description||""}`.toLowerCase().includes(Ie))return!1}const xe=Bh(ue,oe);return!(N==="active"&&!xe.isActive||N==="next90"&&!xe.isNext90||N==="overdue"&&!xe.isOverdue||N==="completed"&&!xe.isCompleted)}),Z.sort((ue,xe)=>D==="title"?ue.title.localeCompare(xe.title,void 0,{sensitivity:"base"}):D==="progress"?xe.progress-ue.progress:D==="end"?Yt(ue.type==="milestone"?ue.startDate:ue.endDate)-Yt(xe.type==="milestone"?xe.startDate:xe.endDate):Yt(ue.startDate)-Yt(xe.startDate)),Z},[a,b,g,v,N,D,oe]),me=C.useMemo(()=>({total:a.length,active:a.filter(Z=>Z.status==="in-progress").length,overdue:a.filter(Z=>Bh(Z,oe).isOverdue).length,completed:a.filter(Z=>Z.status==="completed").length}),[a,oe]),be=C.useMemo(()=>{if(X.length===0){const Fe=new Date;Fe.setDate(Fe.getDate()-30);const Ke=new Date;return Ke.setDate(Ke.getDate()+150),{startTs:Fe.getTime(),endTs:Ke.getTime(),span:Math.max(1,Ke.getTime()-Fe.getTime())}}const Z=X.flatMap(Fe=>[Yt(Fe.startDate),Yt(Fe.type==="milestone"?Fe.startDate:Fe.endDate)]),ue=Math.min(...Z),xe=Math.max(...Z),Ie=1e3*60*60*24*20,Ve=ue-Ie,Ze=xe+Ie;return{startTs:Ve,endTs:Ze,span:Math.max(1,Ze-Ve)}},[X]),ge=C.useMemo(()=>{const Z=[],ue=new Date(be.startTs);for(ue.setDate(1),ue.setHours(0,0,0,0);ue.getTime()<=be.endTs+1e3*60*60*24*32;){const xe=(ue.getTime()-be.startTs)/be.span*100;Z.push({label:ue.toLocaleDateString(void 0,{month:"short",year:"2-digit"}),left:xe}),ue.setMonth(ue.getMonth()+1)}return Z},[be]),Ae=Math.min(100,Math.max(0,(Date.now()-be.startTs)/be.span*100)),Be=Z=>{const ue=Yt(Z.startDate),xe=Yt(Z.type==="milestone"?Z.startDate:Z.endDate),Ie=(ue-be.startTs)/be.span*100,Ve=Z.type==="milestone"?.9:Math.max((xe-ue)/be.span*100,1.5);return{left:Ie,width:Ve}},Re=C.useMemo(()=>X.find(Z=>Z.id===p)||null,[X,p]),Je=C.useMemo(()=>{const Z={planned:[],"in-progress":[],completed:[],delayed:[],dropped:[]};for(const ue of X)Z[ue.status].push(ue);return Z},[X]),ct=(Z,ue)=>{const Ie=Mr.indexOf(Z)+ue;return Ie<0||Ie>=Mr.length?Z:Mr[Ie]};return l.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[l.jsxs("div",{className:"border-b border-zinc-800 bg-zinc-900/60 backdrop-blur-sm px-6 py-3 space-y-3 shrink-0",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ad,{className:"w-4 h-4 text-cyan-400"}),l.jsx("h3",{className:"text-zinc-100 font-semibold",children:n})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"text-xs",children:[u==="saving"&&l.jsxs("span",{className:"text-zinc-400 flex items-center gap-1",children:[l.jsx(Jr,{className:"w-3 h-3 animate-spin"}),"Saving..."]}),u==="saved"&&l.jsxs("span",{className:"text-zinc-500 flex items-center gap-1",children:[l.jsx(Mn,{className:"w-3 h-3"}),"Saved"]}),u==="unsaved"&&l.jsxs("span",{className:"text-amber-400 flex items-center gap-1",children:[l.jsx(Vn,{className:"w-3 h-3"}),"Unsaved"]})]}),l.jsxs("button",{onClick:()=>J("phase"),className:"px-3 py-2 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium flex items-center gap-2",children:[l.jsx(Wn,{className:"w-4 h-4"}),"New Phase"]}),l.jsxs("button",{onClick:()=>J("milestone"),className:"px-3 py-2 rounded-md bg-zinc-800 hover:bg-zinc-700 text-zinc-200 text-sm font-medium flex items-center gap-2 border border-zinc-700",children:[l.jsx(G1,{className:"w-4 h-4"}),"New Milestone"]}),l.jsxs("button",{onClick:ne,className:"px-3 py-2 rounded-md bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-medium flex items-center gap-2",children:[l.jsx(es,{className:"w-4 h-4"}),"Save"]})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs("div",{className:"relative w-64 max-w-full",children:[l.jsx(ro,{className:"w-4 h-4 text-zinc-500 absolute left-3 top-1/2 -translate-y-1/2"}),l.jsx("input",{type:"text",value:v,onChange:Z=>y(Z.target.value),placeholder:"Search title or description...",className:"w-full bg-zinc-950 border border-zinc-800 rounded-md py-2 pl-9 pr-3 text-sm text-zinc-200 focus:outline-none focus:border-zinc-600"})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-2 py-1.5 text-xs text-zinc-300",children:[l.jsx(gm,{className:"w-3.5 h-3.5 text-zinc-500"}),l.jsx("span",{children:"Status"}),l.jsxs("select",{value:b,onChange:Z=>f(Z.target.value),className:"bg-transparent text-xs text-zinc-200 focus:outline-none",children:[l.jsx("option",{value:"All",children:"All"}),Mr.map(Z=>l.jsx("option",{value:Z,children:ls[Z].label},Z))]})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-2 py-1.5 text-xs text-zinc-300",children:[l.jsx("span",{children:"Type"}),l.jsxs("select",{value:g,onChange:Z=>k(Z.target.value),className:"bg-transparent text-xs text-zinc-200 focus:outline-none",children:[l.jsx("option",{value:"All",children:"All"}),Lh.map(Z=>l.jsx("option",{value:Z,children:Lo(Z)},Z))]})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-2 py-1.5 text-xs text-zinc-300",children:[l.jsx(F1,{className:"w-3.5 h-3.5 text-zinc-500"}),l.jsxs("select",{value:N,onChange:Z=>E(Z.target.value),className:"bg-transparent text-xs text-zinc-200 focus:outline-none",children:[l.jsx("option",{value:"all",children:"All Scope"}),l.jsx("option",{value:"active",children:"Active Now"}),l.jsx("option",{value:"next90",children:"Next 90 Days"}),l.jsx("option",{value:"overdue",children:"Overdue"}),l.jsx("option",{value:"completed",children:"Completed"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-2 py-1.5 text-xs text-zinc-300",children:[l.jsx("span",{children:"Sort"}),l.jsxs("select",{value:D,onChange:Z=>T(Z.target.value),className:"bg-transparent text-xs text-zinc-200 focus:outline-none",children:[l.jsx("option",{value:"start",children:"Start Date"}),l.jsx("option",{value:"end",children:"End Date"}),l.jsx("option",{value:"title",children:"Title"}),l.jsx("option",{value:"progress",children:"Progress"})]})]}),l.jsxs("div",{className:"inline-flex rounded-md overflow-hidden border border-zinc-700",children:[l.jsx("button",{onClick:()=>h("timeline"),className:`px-3 py-1.5 text-xs font-medium ${x==="timeline"?"bg-cyan-600 text-white":"bg-zinc-900 text-zinc-300 hover:text-white"}`,children:"Timeline"}),l.jsx("button",{onClick:()=>h("board"),className:`px-3 py-1.5 text-xs font-medium ${x==="board"?"bg-cyan-600 text-white":"bg-zinc-900 text-zinc-300 hover:text-white"}`,children:"Board"})]}),l.jsxs("button",{onClick:U,className:"px-2.5 py-1.5 rounded-md border border-zinc-800 bg-zinc-950 text-xs text-zinc-300 hover:text-white flex items-center gap-1",children:[l.jsx(hv,{className:"w-3.5 h-3.5"}),"Reset"]}),l.jsxs("div",{className:"ml-auto flex items-center gap-2 text-[11px] text-zinc-500",children:[l.jsxs("span",{className:"rounded border border-zinc-800 bg-zinc-950 px-2 py-1",children:["Total ",me.total]}),l.jsxs("span",{className:"rounded border border-zinc-800 bg-zinc-950 px-2 py-1",children:["Active ",me.active]}),l.jsxs("span",{className:"rounded border border-zinc-800 bg-zinc-950 px-2 py-1",children:["Overdue ",me.overdue]}),l.jsxs("span",{className:"rounded border border-zinc-800 bg-zinc-950 px-2 py-1",children:["Done ",me.completed]})]})]})]}),l.jsxs("div",{className:"flex-1 min-h-0 flex overflow-hidden",children:[l.jsx("div",{className:"flex-1 min-h-0 overflow-auto custom-scrollbar p-4",children:x==="timeline"?l.jsxs("div",{className:"min-w-[1050px] border border-zinc-800 rounded-xl overflow-hidden bg-zinc-950",children:[l.jsxs("div",{className:"grid grid-cols-[320px_1fr] border-b border-zinc-800 bg-zinc-900 sticky top-0 z-10",children:[l.jsx("div",{className:"px-4 py-3 text-xs uppercase tracking-wide text-zinc-500",children:"Roadmap Items"}),l.jsx("div",{className:"relative px-2 py-3 min-h-[40px]",children:ge.map(Z=>l.jsx("div",{className:"absolute top-0 bottom-0 text-[10px] text-zinc-500 border-l border-zinc-800/60 pl-1 pt-3",style:{left:`${Z.left}%`},children:Z.label},`${Z.label}-${Z.left}`))})]}),X.length===0&&l.jsx("div",{className:"p-10 text-center text-sm text-zinc-500",children:"No roadmap items match your current filters."}),X.map(Z=>{const ue=ls[Z.status],xe=Be(Z);return l.jsxs("div",{className:"grid grid-cols-[320px_1fr] border-b border-zinc-900/80 hover:bg-zinc-900/40 transition-colors",children:[l.jsxs("div",{className:"px-4 py-3 border-r border-zinc-900",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[l.jsxs("button",{onClick:()=>R(Z.id),className:"text-left",children:[l.jsx("div",{className:"text-sm font-medium text-zinc-200 hover:text-white",children:Z.title}),l.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[l.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${ue.chip}`,children:ue.label}),l.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border border-zinc-700 bg-zinc-900 text-zinc-400",children:Lo(Z.type)})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>ve(Z),className:"p-1.5 rounded text-zinc-500 hover:text-blue-300 hover:bg-zinc-800",title:"Edit",children:l.jsx(Bi,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:()=>Ee(Z.id),className:"p-1.5 rounded text-zinc-500 hover:text-red-400 hover:bg-zinc-800",title:"Delete",children:l.jsx(It,{className:"w-3.5 h-3.5"})})]})]}),l.jsxs("div",{className:"text-xs text-zinc-500",children:[new Date(Z.startDate).toLocaleDateString(),Z.type==="phase"&&` - ${new Date(Z.endDate).toLocaleDateString()}`]}),Z.type==="phase"&&l.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[l.jsx("button",{onClick:()=>ye(Z.id,-10),className:"px-2 py-1 text-xs rounded border border-zinc-700 bg-zinc-900 text-zinc-300 hover:text-white",children:"-10%"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"h-1.5 rounded-full bg-zinc-800 overflow-hidden",children:l.jsx("div",{className:`h-full ${ue.bar}`,style:{width:`${Z.progress}%`}})}),l.jsxs("div",{className:"mt-1 text-[10px] text-zinc-500",children:[Z.progress,"%"]})]}),l.jsx("button",{onClick:()=>ye(Z.id,10),className:"px-2 py-1 text-xs rounded border border-zinc-700 bg-zinc-900 text-zinc-300 hover:text-white",children:"+10%"})]})]}),l.jsxs("div",{className:"relative px-2 py-4",children:[l.jsx("div",{className:"absolute top-0 bottom-0 border-l border-red-500/50 pointer-events-none",style:{left:`${Ae}%`}}),l.jsx("div",{className:"relative h-9 rounded-md bg-zinc-900 border border-zinc-800",children:Z.type==="milestone"?l.jsx("button",{onClick:()=>ve(Z),className:"absolute top-1/2 -translate-y-1/2 -translate-x-1/2",style:{left:`${xe.left}%`},title:Z.title,children:l.jsx("span",{className:`block w-3.5 h-3.5 rotate-45 rounded-sm ${ue.bar} border border-zinc-900`})}):l.jsx("button",{onClick:()=>ve(Z),className:`absolute top-1/2 -translate-y-1/2 h-5 rounded ${ue.bar} bg-opacity-80 hover:bg-opacity-100 transition-opacity`,style:{left:`${xe.left}%`,width:`${xe.width}%`},title:`${Z.title} (${Z.progress}%)`})})]})]},Z.id)})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-4 min-w-[950px]",children:Mr.map(Z=>{const ue=Je[Z],xe=ls[Z];return l.jsxs("section",{className:`rounded-xl border bg-zinc-950/80 ${xe.panel} min-h-[220px] flex flex-col`,children:[l.jsxs("header",{className:"px-3 py-2 border-b border-zinc-800 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2 h-2 rounded-full ${xe.dot}`}),l.jsx("h4",{className:"text-sm font-medium text-zinc-200",children:xe.label})]}),l.jsx("span",{className:"text-xs text-zinc-500",children:ue.length})]}),l.jsxs("div",{className:"p-2 space-y-2 overflow-y-auto custom-scrollbar",children:[ue.length===0&&l.jsx("div",{className:"text-xs text-zinc-600 px-2 py-6 text-center",children:"No items"}),ue.map(Ie=>l.jsxs("article",{className:"rounded-lg border border-zinc-800 bg-zinc-900 p-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("button",{onClick:()=>R(Ie.id),className:"text-left flex-1",children:[l.jsx("h5",{className:"text-sm font-medium text-zinc-100",children:Ie.title}),l.jsxs("p",{className:"text-[11px] text-zinc-500 mt-1",children:[new Date(Ie.startDate).toLocaleDateString(),Ie.type==="phase"&&` - ${new Date(Ie.endDate).toLocaleDateString()}`]})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>ve(Ie),className:"p-1 rounded text-zinc-500 hover:text-blue-300 hover:bg-zinc-800",title:"Edit",children:l.jsx(Bi,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:()=>Ee(Ie.id),className:"p-1 rounded text-zinc-500 hover:text-red-400 hover:bg-zinc-800",title:"Delete",children:l.jsx(It,{className:"w-3.5 h-3.5"})})]})]}),Ie.type==="phase"&&l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"h-1.5 rounded-full bg-zinc-800 overflow-hidden",children:l.jsx("div",{className:`h-full ${xe.bar}`,style:{width:`${Ie.progress}%`}})}),l.jsxs("p",{className:"text-[10px] text-zinc-500 mt-1",children:[Ie.progress,"%"]})]}),l.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-1.5",children:[l.jsx("button",{onClick:()=>te(Ie.id,ct(Ie.status,-1)),className:"px-2 py-1 text-[10px] rounded border border-zinc-700 bg-zinc-900 text-zinc-300 hover:text-white",children:"Prev"}),l.jsx("button",{onClick:()=>te(Ie.id,ct(Ie.status,1)),className:"px-2 py-1 text-[10px] rounded border border-zinc-700 bg-zinc-900 text-zinc-300 hover:text-white",children:"Next"})]})]},Ie.id))]})]},Z)})})}),l.jsxs("aside",{className:"w-80 border-l border-zinc-800 bg-zinc-950/70 p-4 overflow-y-auto custom-scrollbar",children:[l.jsx("h4",{className:"text-sm font-semibold text-zinc-200 mb-3",children:"Details"}),Re?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-semibold text-zinc-100",children:Re.title}),l.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.jsx("span",{className:`text-[11px] px-2 py-1 rounded border ${ls[Re.status].chip}`,children:ls[Re.status].label}),l.jsx("span",{className:"text-[11px] px-2 py-1 rounded border border-zinc-700 bg-zinc-900 text-zinc-400",children:Lo(Re.type)})]})]}),l.jsxs("div",{className:"text-xs text-zinc-400 space-y-1",children:[l.jsxs("p",{children:["Start: ",new Date(Re.startDate).toLocaleDateString()]}),l.jsxs("p",{children:["End: ",new Date(Re.type==="milestone"?Re.startDate:Re.endDate).toLocaleDateString()]}),Re.type==="phase"&&l.jsxs("p",{children:["Progress: ",Re.progress,"%"]})]}),Re.description?l.jsx("div",{className:"text-xs text-zinc-300 leading-relaxed border border-zinc-800 rounded-lg bg-zinc-900 p-3 break-words",children:O(Re.description)}):l.jsx("div",{className:"text-xs text-zinc-600 border border-zinc-800 rounded-lg bg-zinc-900 p-3",children:"No description yet."}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("button",{onClick:()=>ve(Re),className:"px-3 py-2 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium",children:"Edit"}),l.jsx("button",{onClick:()=>he(Re),className:"px-3 py-2 rounded-md bg-zinc-800 hover:bg-zinc-700 text-zinc-200 text-sm font-medium border border-zinc-700",children:"Duplicate"})]})]}):l.jsx("div",{className:"text-sm text-zinc-500",children:"Select an item to inspect details."})]})]}),L&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-2xl p-6 shadow-2xl",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-5",children:F?"Edit Roadmap Item":"Create Roadmap Item"}),l.jsxs("form",{onSubmit:re,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Title"}),l.jsx("input",{autoFocus:!0,type:"text",value:z.title,onChange:Z=>$(ue=>({...ue,title:Z.target.value})),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2.5 text-white focus:border-cyan-500 outline-none",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Type"}),l.jsx("select",{value:z.type,onChange:Z=>{const ue=Z.target.value;$(xe=>({...xe,type:ue,endDate:ue==="milestone"?xe.startDate:xe.endDate}))},className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2.5 text-white focus:border-cyan-500 outline-none",children:Lh.map(Z=>l.jsx("option",{value:Z,children:Lo(Z)},Z))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Status"}),l.jsx("select",{value:z.status,onChange:Z=>$(ue=>({...ue,status:Z.target.value})),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2.5 text-white focus:border-cyan-500 outline-none",children:Mr.map(Z=>l.jsx("option",{value:Z,children:ls[Z].label},Z))})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm text-zinc-400 mb-1",children:["Progress (",z.progress,"%)"]}),l.jsx("input",{type:"range",min:0,max:100,step:5,value:z.type==="milestone"?z.status==="completed"?100:0:z.progress,onChange:Z=>$(ue=>({...ue,progress:na(Number(Z.target.value))})),disabled:z.type==="milestone",className:"w-full accent-cyan-500 disabled:opacity-40"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:z.type==="milestone"?"Date":"Start Date"}),l.jsx("input",{type:"date",value:z.startDate,onChange:Z=>$(ue=>({...ue,startDate:Z.target.value,endDate:ue.type==="milestone"?Z.target.value:ue.endDate})),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2.5 text-white focus:border-cyan-500 outline-none [color-scheme:dark]",required:!0})]}),z.type==="phase"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"End Date"}),l.jsx("input",{type:"date",value:z.endDate,onChange:Z=>$(ue=>({...ue,endDate:Z.target.value})),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2.5 text-white focus:border-cyan-500 outline-none [color-scheme:dark]",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("label",{className:"block text-sm text-zinc-400",children:"Description"}),l.jsxs("div",{className:"relative",ref:Y,children:[l.jsxs("button",{type:"button",onClick:ee,disabled:P.length===0,className:"text-xs text-cyan-400 hover:text-cyan-300 disabled:text-zinc-600 disabled:cursor-not-allowed flex items-center gap-1",children:[l.jsx(rl,{className:"w-3 h-3"}),"Link File"]}),W&&l.jsxs("div",{className:"absolute right-0 top-5 z-30 w-72 rounded-md border border-zinc-700 bg-zinc-900 p-2 shadow-lg",children:[l.jsx("input",{type:"text",value:G,onChange:Z=>I(Z.target.value),placeholder:"Search files...",className:"mb-2 w-full rounded border border-zinc-700 bg-zinc-950 px-2 py-1.5 text-xs text-zinc-200 focus:outline-none focus:border-zinc-500",autoFocus:!0}),l.jsx("div",{className:"max-h-44 overflow-y-auto space-y-1 custom-scrollbar",children:le.length===0?l.jsx("p",{className:"px-2 py-2 text-xs text-zinc-500",children:"No matching files."}):le.map(Z=>l.jsxs("button",{type:"button",onClick:()=>w(Z.id),className:"flex w-full items-center justify-between rounded px-2 py-1.5 text-left text-xs text-zinc-300 transition hover:bg-zinc-800 hover:text-white",title:Z.id,children:[l.jsx("span",{className:"truncate pr-2",children:Z.name}),l.jsx("span",{className:"text-[10px] text-zinc-500",children:Z.id.slice(0,8)})]},Z.id))})]})]})]}),l.jsx("textarea",{value:z.description,onChange:Z=>$(ue=>({...ue,description:Z.target.value})),onDragOver:S,onDrop:_,className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2.5 text-white focus:border-cyan-500 outline-none min-h-[110px]",placeholder:"Context, risks, dependencies, linked docs..."})]}),l.jsxs("div",{className:"flex items-center gap-3 pt-3 border-t border-zinc-800",children:[F&&l.jsx("button",{type:"button",onClick:()=>Ee(F),className:"px-4 py-2 rounded-md border border-red-500/40 bg-red-500/10 text-red-300 text-sm font-medium",children:"Delete"}),l.jsx("div",{className:"flex-1"}),l.jsx("button",{type:"button",onClick:Ce,className:"px-4 py-2 text-sm font-medium text-zinc-400 hover:text-white",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-5 py-2 rounded-md bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium",children:F?"Save Changes":"Create Item"})]})]})]})})]})},rr=50,Uh=10,Hh=e=>{const t=[{id:"col_1",name:"Name",type:"text"},{id:"col_2",name:"Priority",type:"text"},{id:"col_3",name:"Estimate",type:"number"}],n=Array.isArray(e==null?void 0:e.columns)?e.columns:[],r=n.length?n.map((o,a)=>({id:typeof(o==null?void 0:o.id)=="string"?o.id:`col_${a+1}`,name:typeof(o==null?void 0:o.name)=="string"&&o.name.trim()?o.name:`Column ${a+1}`,type:(o==null?void 0:o.type)==="number"||(o==null?void 0:o.type)==="boolean"?o.type:"text"})):t,i=(Array.isArray(e==null?void 0:e.rows)?e.rows:[]).map(o=>{const a={id:typeof(o==null?void 0:o.id)=="string"?o.id:crypto.randomUUID()};for(const c of r)a[c.id]=(o==null?void 0:o[c.id])??uu(c.type);return a});return{columns:r,rows:i}},uu=e=>e==="number"?0:e==="boolean"?!1:"",Ms=e=>{if(typeof e=="boolean")return e;if(typeof e=="number")return e!==0;if(typeof e!="string")return!1;const t=e.trim().toLowerCase();return["true","1","yes","y"].includes(t)},$a=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const t=Number(e);return Number.isFinite(t)?t:""}return""},du=(e,t)=>t==="boolean"?Ms(e):t==="number"?$a(e):e==null?"":String(e),o5=(e,t,n)=>{if(n==="number"){const r=$a(e),s=$a(t),i=r===""?Number.POSITIVE_INFINITY:r,o=s===""?Number.POSITIVE_INFINITY:s;return i-o}return n==="boolean"?Number(Ms(e))-Number(Ms(t)):String(e??"").localeCompare(String(t??""),void 0,{numeric:!0,sensitivity:"base"})},Vh=e=>{const t=e==null?"":String(e);return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Wh=e=>{const t=[];let n="",r=!1;for(let s=0;s<e.length;s++){const i=e[s];if(i==='"'){r&&e[s+1]==='"'?(n+='"',s++):r=!r;continue}if(i===","&&!r){t.push(n),n="";continue}n+=i}return t.push(n),t},a5=e=>{const t=e.map(s=>s.trim()).filter(Boolean);return t.length===0?"text":t.every(s=>["true","false","1","0","yes","no","y","n"].includes(s.toLowerCase()))?"boolean":t.every(s=>Number.isFinite(Number(s)))?"number":"text"},l5=e=>{const t=e.replace(/\r/g,"").split(`
`).filter(a=>a.trim().length>0);if(t.length===0)throw new Error("CSV is empty.");const n=Wh(t[0]).map((a,c)=>a.trim()||`Column ${c+1}`),r=t.slice(1).map(a=>{const c=Wh(a);for(;c.length<n.length;)c.push("");return c.slice(0,n.length)}),s=n.map((a,c)=>a5(r.map(u=>u[c]||""))),i=n.map((a,c)=>({id:crypto.randomUUID(),name:a,type:s[c]})),o=r.map(a=>{const c={id:crypto.randomUUID()};return i.forEach((u,d)=>{c[u.id]=du(a[d],u.type)}),c});return{columns:i,rows:o}},c5=({initialContent:e,onSave:t,fileName:n})=>{const r=C.useRef(Hh(e)),[s,i]=C.useState(r.current.columns),[o,a]=C.useState(r.current.rows),[c,u]=C.useState(""),[d,m]=C.useState(new Set),[x,h]=C.useState(null),[v,y]=C.useState(null),[b,f]=C.useState(""),[g,k]=C.useState("text"),[N,E]=C.useState("saved"),D=C.useRef(JSON.stringify(r.current)),T=C.useRef(null),[L,M]=C.useState(0),[F,q]=C.useState(600);C.useEffect(()=>{const S=Hh(e);i(S.columns),a(S.rows),u(""),m(new Set),h(null),y(null),D.current=JSON.stringify(S),E("saved")},[e]),C.useEffect(()=>{if(JSON.stringify({columns:s,rows:o})===D.current)return;E("unsaved");const _=setTimeout(()=>P(),1200);return()=>clearTimeout(_)},[s,o]),C.useEffect(()=>{const S=()=>{var _;q(((_=T.current)==null?void 0:_.clientHeight)||600)};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),C.useEffect(()=>{const S=new Set(o.map(_=>_.id));m(_=>{const O=new Set;return _.forEach(U=>{S.has(U)&&O.add(U)}),O})},[o]),C.useEffect(()=>{const S=_=>{(_.ctrlKey||_.metaKey)&&_.key.toLowerCase()==="s"&&(_.preventDefault(),P())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[s,o]);const z=C.useMemo(()=>{const S=c.trim().toLowerCase();return S?o.filter(_=>_.id.toLowerCase().includes(S)?!0:s.some(O=>String(_[O.id]??"").toLowerCase().includes(S))):o},[s,o,c]),$=C.useMemo(()=>{if(!x||!v)return z;const S=s.find(O=>O.id===x);return S?[...z].sort((O,U)=>{const oe=o5(O[S.id],U[S.id],S.type);return v==="asc"?oe:-oe}):z},[s,z,x,v]),p=$.length,R=Math.ceil(F/rr)+Uh*2,W=Math.max(0,Math.floor(L/rr)-Uh),H=Math.min(p,W+R),G=$.slice(W,H),I=W*rr,Y=Math.max(0,(p-H)*rr),A=$.length>0&&$.every(S=>d.has(S.id)),P=()=>{E("saving"),t({columns:s,rows:o}),D.current=JSON.stringify({columns:s,rows:o}),setTimeout(()=>E("saved"),300)},le=()=>{const S=b.trim();if(!S)return;const _={id:crypto.randomUUID(),name:S,type:g};i(O=>[...O,_]),a(O=>O.map(U=>({...U,[_.id]:uu(g)}))),f(""),k("text")},ne=()=>{const S={id:crypto.randomUUID()};s.forEach(_=>{S[_.id]=uu(_.type)}),a(_=>[..._,S])},J=(S,_,O)=>{a(U=>U.map(oe=>oe.id===S?{...oe,[_.id]:du(O,_.type)}:oe))},ve=(S,_)=>{i(O=>O.map(U=>U.id===S?{...U,name:_}:U))},Ce=(S,_)=>{i(O=>O.map(U=>U.id===S?{...U,type:_}:U)),a(O=>O.map(U=>({...U,[S]:du(U[S],_)})))},Ee=S=>{const _=s.find(U=>U.id===S);!_||!confirm(`Delete "${_.name}" column? This removes all values in that column.`)||(i(U=>U.filter(oe=>oe.id!==S)),a(U=>U.map(oe=>{const X={...oe};return delete X[S],X})),x===S&&(h(null),y(null)))},je=S=>{a(_=>_.filter(O=>O.id!==S)),m(_=>{const O=new Set(_);return O.delete(S),O})},re=()=>{d.size===0||!confirm(`Delete ${d.size} selected row${d.size===1?"":"s"}?`)||(a(_=>_.filter(O=>!d.has(O.id))),m(new Set))},he=S=>{m(_=>{const O=new Set(_);return O.has(S)?O.delete(S):O.add(S),O})},te=()=>{const S=$.map(_=>_.id);m(_=>{const O=new Set(_);return A?S.forEach(U=>O.delete(U)):S.forEach(U=>O.add(U)),O})},ye=S=>{if(x!==S){h(S),y("asc");return}if(v==="asc"){y("desc");return}if(v==="desc"){h(null),y(null);return}y("asc")},w=()=>{const S=s.map(me=>Vh(me.name)).join(","),_=o.map(me=>s.map(be=>Vh(me[be.id])).join(",")).join(`
`),O=`${S}
${_}`,U=new Blob([O],{type:"text/csv;charset=utf-8;"}),oe=URL.createObjectURL(U),X=document.createElement("a");X.href=oe,X.download=`${n}.csv`,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(oe)},ee=()=>{const S=document.createElement("input");S.type="file",S.accept=".csv,text/csv",S.style.position="fixed",S.style.left="-9999px",document.body.appendChild(S),S.onchange=async()=>{var O;const _=(O=S.files)==null?void 0:O[0];if(S.remove(),!!_)try{const U=await _.text(),oe=l5(U);if((o.length>0||s.length>0)&&!confirm("Replace current grid with imported CSV data?"))return;i(oe.columns),a(oe.rows),m(new Set),h(null),y(null),u("")}catch(U){console.error(U),alert("Failed to import CSV.")}},S.click()},Q=S=>x!==S||!v?l.jsx(hm,{className:"h-3.5 w-3.5"}):v==="asc"?l.jsx(P1,{className:"h-3.5 w-3.5"}):l.jsx(I1,{className:"h-3.5 w-3.5"});return l.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[l.jsxs("div",{className:"border-b border-zinc-800 bg-zinc-900/60 backdrop-blur-sm px-6 py-3 space-y-3 shrink-0",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("h3",{className:"text-zinc-200 font-medium flex items-center gap-2",children:[l.jsx(mm,{className:"w-4 h-4 text-emerald-400"}),n]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"text-xs",children:[N==="saving"&&l.jsxs("span",{className:"text-zinc-400 flex items-center gap-1",children:[l.jsx(Jr,{className:"w-3 h-3 animate-spin"}),"Saving..."]}),N==="saved"&&l.jsxs("span",{className:"text-zinc-500 flex items-center gap-1 opacity-70",children:[l.jsx(Mn,{className:"w-3 h-3"}),"Saved"]}),N==="unsaved"&&l.jsxs("span",{className:"text-amber-400 flex items-center gap-1",children:[l.jsx(Vn,{className:"w-3 h-3"}),"Unsaved"]})]}),l.jsx("button",{onClick:ee,className:"p-2 text-zinc-400 hover:text-white hover:bg-zinc-800 rounded",title:"Import CSV",children:l.jsx(pd,{className:"w-4 h-4"})}),l.jsx("button",{onClick:w,className:"p-2 text-zinc-400 hover:text-white hover:bg-zinc-800 rounded",title:"Export CSV",children:l.jsx(ud,{className:"w-4 h-4"})}),l.jsxs("button",{onClick:P,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${N==="unsaved"?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[l.jsx(es,{className:"w-4 h-4"}),"Save"]})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs("div",{className:"relative w-72 max-w-full",children:[l.jsx(ro,{className:"w-4 h-4 text-zinc-500 absolute left-3 top-1/2 -translate-y-1/2"}),l.jsx("input",{type:"text",value:c,onChange:S=>u(S.target.value),placeholder:"Search across all columns...",className:"w-full bg-zinc-950 border border-zinc-800 rounded-md py-2 pl-9 pr-3 text-sm text-zinc-200 focus:outline-none focus:border-zinc-600"})]}),l.jsxs("button",{onClick:ne,className:"flex items-center gap-2 px-3 py-2 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium",children:[l.jsx(Wn,{className:"w-4 h-4"}),"Add Row"]}),l.jsxs("button",{onClick:re,disabled:d.size===0,className:"flex items-center gap-2 px-3 py-2 rounded-md bg-zinc-800 hover:bg-zinc-700 disabled:opacity-50 disabled:cursor-not-allowed text-zinc-200 text-sm font-medium",children:[l.jsx(It,{className:"w-4 h-4"}),"Delete Selected"]}),l.jsx("div",{className:"h-6 w-px bg-zinc-800"}),l.jsx("input",{type:"text",value:b,onChange:S=>f(S.target.value),placeholder:"New column name",className:"bg-zinc-950 border border-zinc-800 rounded-md px-3 py-2 text-sm text-zinc-200 focus:outline-none focus:border-zinc-600 w-44"}),l.jsxs("select",{value:g,onChange:S=>k(S.target.value),className:"bg-zinc-950 border border-zinc-800 rounded-md px-3 py-2 text-sm text-zinc-200 focus:outline-none focus:border-zinc-600",children:[l.jsx("option",{value:"text",children:"Text"}),l.jsx("option",{value:"number",children:"Number"}),l.jsx("option",{value:"boolean",children:"Boolean"})]}),l.jsxs("button",{onClick:le,className:"flex items-center gap-2 px-3 py-2 rounded-md bg-zinc-800 hover:bg-zinc-700 text-zinc-200 text-sm font-medium",children:[l.jsx(Wn,{className:"w-4 h-4"}),"Add Column"]}),l.jsxs("div",{className:"ml-auto text-xs text-zinc-500",children:[o.length," rows | ",s.length," columns | ",$.length," shown"]})]})]}),l.jsx("div",{ref:T,onScroll:S=>M(S.currentTarget.scrollTop),className:"flex-1 overflow-auto custom-scrollbar p-6",children:l.jsx("div",{className:"min-w-full inline-block align-middle",children:l.jsx("div",{className:"border border-zinc-800 rounded-lg overflow-hidden bg-zinc-950",children:l.jsxs("table",{className:"min-w-full",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-zinc-900 border-b border-zinc-800",children:l.jsxs("tr",{children:[l.jsx("th",{className:"w-10 px-2 py-2 text-left",children:l.jsx("button",{type:"button",role:"checkbox","aria-checked":A,onClick:te,className:`inline-flex h-5 w-5 items-center justify-center rounded border transition-all focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:ring-offset-1 focus:ring-offset-zinc-900 ${A?"border-blue-500 bg-blue-500 text-white shadow-[0_0_0_1px_rgba(59,130,246,0.25)]":"border-zinc-500 bg-zinc-900 text-transparent hover:border-zinc-300 hover:bg-zinc-800"}`,"aria-label":"Select all visible rows",children:l.jsx(Mn,{className:"h-3.5 w-3.5"})})}),l.jsx("th",{className:"w-12 px-2 py-2 text-left text-xs font-semibold uppercase tracking-wide text-zinc-500",children:"#"}),s.map(S=>l.jsxs("th",{className:"min-w-[220px] px-2 py-2 text-left align-top border-l border-zinc-800",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("input",{value:S.name,onChange:_=>ve(S.id,_.target.value),className:"w-full bg-transparent text-sm font-semibold text-zinc-200 focus:outline-none"}),l.jsx("button",{onClick:()=>ye(S.id),className:"p-1 text-zinc-500 hover:text-zinc-200 hover:bg-zinc-800 rounded",title:"Sort",children:Q(S.id)}),l.jsx("button",{onClick:()=>Ee(S.id),className:"p-1 text-zinc-600 hover:text-red-400 hover:bg-zinc-800 rounded",title:"Delete column",children:l.jsx(It,{className:"h-3.5 w-3.5"})})]}),l.jsxs("select",{value:S.type,onChange:_=>Ce(S.id,_.target.value),className:"mt-1 w-full bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-[11px] text-zinc-300 focus:outline-none focus:border-zinc-600",children:[l.jsx("option",{value:"text",children:"Text"}),l.jsx("option",{value:"number",children:"Number"}),l.jsx("option",{value:"boolean",children:"Boolean"})]})]},S.id)),l.jsx("th",{className:"w-10 px-2 py-2 border-l border-zinc-800"})]})}),l.jsxs("tbody",{children:[I>0&&l.jsx("tr",{children:l.jsx("td",{colSpan:s.length+3,style:{height:I}})}),G.map((S,_)=>{const O=d.has(S.id);return l.jsxs("tr",{className:`border-b border-zinc-900 hover:bg-zinc-900/60 ${O?"bg-blue-500/10":"bg-zinc-950"}`,children:[l.jsx("td",{className:"px-2 py-2 align-middle",style:{height:rr},children:l.jsx("button",{type:"button",role:"checkbox","aria-checked":O,onClick:()=>he(S.id),className:`inline-flex h-5 w-5 items-center justify-center rounded border transition-all focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:ring-offset-1 focus:ring-offset-zinc-900 ${O?"border-blue-500 bg-blue-500 text-white shadow-[0_0_0_1px_rgba(59,130,246,0.25)]":"border-zinc-500 bg-zinc-900 text-transparent hover:border-zinc-300 hover:bg-zinc-800"}`,"aria-label":`Select row ${W+_+1}`,children:l.jsx(Mn,{className:"h-3.5 w-3.5"})})}),l.jsx("td",{className:"px-2 py-2 text-xs text-zinc-500 align-middle",style:{height:rr},children:W+_+1}),s.map(U=>l.jsx("td",{className:"px-2 py-2 align-middle border-l border-zinc-900",style:{height:rr},children:U.type==="boolean"?l.jsx("button",{onClick:()=>J(S.id,U,!Ms(S[U.id])),className:`w-full text-left px-2 py-1.5 rounded border text-xs transition-colors ${Ms(S[U.id])?"bg-emerald-600/20 border-emerald-500/40 text-emerald-300":"bg-zinc-900 border-zinc-700 text-zinc-400 hover:text-zinc-200"}`,children:Ms(S[U.id])?"True":"False"}):l.jsx("input",{type:U.type==="number"?"number":"text",value:U.type==="number"?$a(S[U.id]):String(S[U.id]??""),onChange:oe=>J(S.id,U,oe.target.value),className:`w-full bg-zinc-900 border border-zinc-800 rounded px-2 py-1.5 text-sm text-zinc-200 focus:outline-none focus:border-blue-500 ${U.type==="number"?"text-right":""}`})},U.id)),l.jsx("td",{className:"px-2 py-2 align-middle border-l border-zinc-900",style:{height:rr},children:l.jsx("button",{onClick:()=>je(S.id),className:"p-1.5 text-zinc-600 hover:text-red-400 hover:bg-zinc-800 rounded",title:"Delete row",children:l.jsx(It,{className:"w-4 h-4"})})})]},S.id)}),Y>0&&l.jsx("tr",{children:l.jsx("td",{colSpan:s.length+3,style:{height:Y}})}),$.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:s.length+3,className:"px-6 py-10 text-center text-sm text-zinc-500",children:"No rows match your filter."})})]})]})})})})]})},Zh=200,Lt=2e3,ra=.2,Gh=e=>e.map(t=>({...t,points:t.points.map(n=>({...n}))})),Yh=e=>e.map(t=>({...t})),Kh=e=>e.map(t=>({...t})),u5=e=>Array.isArray(e)?e.map(t=>{const n=Array.isArray(t==null?void 0:t.points)?t.points.filter(o=>Number.isFinite(o==null?void 0:o.x)&&Number.isFinite(o==null?void 0:o.y)).map(o=>({x:Number(o.x),y:Number(o.y)})):[];if(n.length===0)return null;const r=typeof(t==null?void 0:t.color)=="string"?t.color:"#facc15",s=Number.isFinite(t==null?void 0:t.width)?Math.max(1,Number(t.width)):18,i=Number.isFinite(t==null?void 0:t.opacity)?Math.min(1,Math.max(.05,Number(t.opacity))):ra;return{id:typeof(t==null?void 0:t.id)=="string"?t.id:crypto.randomUUID(),color:r,width:s,opacity:i,points:n}}).filter(t=>t!==null):[],d5=e=>Array.isArray(e)?e.map(t=>!Number.isFinite(t==null?void 0:t.x)||!Number.isFinite(t==null?void 0:t.y)||typeof(t==null?void 0:t.text)!="string"?null:{id:typeof(t==null?void 0:t.id)=="string"?t.id:crypto.randomUUID(),x:Number(t.x),y:Number(t.y),text:t.text,color:typeof(t==null?void 0:t.color)=="string"?t.color:"#ffffff",fontSize:Number.isFinite(t==null?void 0:t.fontSize)?Math.max(8,Number(t.fontSize)):28,fontWeight:(t==null?void 0:t.fontWeight)==="bold"?"bold":"normal",fontStyle:(t==null?void 0:t.fontStyle)==="italic"?"italic":"normal"}).filter(t=>t!==null):[],f5=e=>Array.isArray(e)?e.map(t=>{const n=t==null?void 0:t.type;return n!=="image"&&n!=="video"&&n!=="audio"||typeof(t==null?void 0:t.src)!="string"||!Number.isFinite(t==null?void 0:t.x)||!Number.isFinite(t==null?void 0:t.y)||!Number.isFinite(t==null?void 0:t.width)||!Number.isFinite(t==null?void 0:t.height)?null:{id:typeof(t==null?void 0:t.id)=="string"?t.id:crypto.randomUUID(),type:n,src:t.src,name:typeof(t==null?void 0:t.name)=="string"?t.name:`${n}-${Date.now()}`,x:Number(t.x),y:Number(t.y),width:Math.max(40,Number(t.width)),height:Math.max(30,Number(t.height))}}).filter(t=>t!==null):[],sr=(e,t,n)=>Math.min(n,Math.max(t,e)),h5=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=s=>{var i;if(typeof((i=s.target)==null?void 0:i.result)=="string"){t(s.target.result);return}n(new Error("Failed to read file data"))},r.onerror=()=>n(r.error||new Error("Failed to read file")),r.onabort=()=>n(new Error("Read aborted")),r.readAsDataURL(e)}),p5=e=>e.type.startsWith("image/")?"image":e.type.startsWith("video/")?"video":e.type.startsWith("audio/")?"audio":/\.(png|jpe?g|gif|webp|bmp|svg|avif|ico)$/i.test(e.name)?"image":/\.(mp4|webm|ogg|mov|m4v)$/i.test(e.name)?"video":/\.(mp3|wav|ogg|m4a|aac|flac)$/i.test(e.name)?"audio":null,m5=({initialContent:e,onSave:t,fileName:n,assets:r={}})=>{const s=C.useRef(null),i=C.useRef(null),o=C.useRef(null),a=C.useRef(null),c=C.useRef(null),u=C.useRef(null),[d,m]=C.useState("pen"),[x,h]=C.useState({pen:{color:"#ffffff",width:2},highlighter:{color:"#facc15",width:18},eraser:{color:"#09090b",width:20},text:{color:"#ffffff",width:28}}),[v,y]=C.useState(ra),[b,f]=C.useState(!1),[g,k]=C.useState(!1),[N,E]=C.useState(null),[D,T]=C.useState(null),[L,M]=C.useState(""),[F,q]=C.useState("saved"),z=C.useRef(""),$=C.useRef([]),p=C.useRef(-1),[R,W]=C.useState({index:-1,length:0}),[H,G]=C.useState([]),[I,Y]=C.useState([]),A=C.useRef([]),P=C.useRef([]),le=C.useRef([]),ne=C.useRef(null),J=()=>{const B=s.current,j=i.current;if(!B||!j)return null;const V=B.getContext("2d",{willReadFrequently:!0}),ie=j.getContext("2d",{willReadFrequently:!0});return!V||!ie?null:{baseCanvas:B,highlighterCanvas:j,baseCtx:V,highlighterCtx:ie}},ve=B=>{G(j=>{const V=B(j);return A.current=V,V})},Ce=B=>{Y(j=>{const V=B(j);return P.current=V,V})},Ee=(B,j)=>{B.globalCompositeOperation="source-over",B.globalAlpha=1,B.fillStyle="#09090b",B.fillRect(0,0,j.width,j.height)},je=()=>{const B=J();if(!B)return;const{highlighterCtx:j,highlighterCanvas:V}=B;j.globalAlpha=1,j.globalCompositeOperation="source-over",j.clearRect(0,0,V.width,V.height)},re=(B,j)=>{if(j.points.length!==0){if(B.globalCompositeOperation="destination-over",B.globalAlpha=j.opacity,B.strokeStyle=j.color,B.lineWidth=j.width,B.lineCap="round",B.lineJoin="round",j.points.length===1){const V=j.points[0];B.beginPath(),B.fillStyle=j.color,B.arc(V.x,V.y,j.width/2,0,Math.PI*2),B.fill();return}B.beginPath(),B.moveTo(j.points[0].x,j.points[0].y);for(let V=1;V<j.points.length;V++)B.lineTo(j.points[V].x,j.points[V].y);B.stroke()}},he=(B=le.current)=>{const j=J();if(!j)return;const{highlighterCtx:V,highlighterCanvas:ie}=j;V.globalAlpha=1,V.globalCompositeOperation="source-over",V.clearRect(0,0,ie.width,ie.height),B.forEach(pe=>re(V,pe)),V.globalAlpha=1,V.globalCompositeOperation="source-over"},te=async B=>{const j=J();if(!j)return;const{baseCanvas:V,baseCtx:ie}=j;Ee(ie,V),B&&await new Promise(pe=>{const Ne=new Image;Ne.src=B,Ne.onload=()=>{ie.drawImage(Ne,0,0),pe()},Ne.onerror=()=>pe()})},ye=B=>({version:2,baseData:B,highlighterStrokes:Gh(le.current),highlighterOpacity:v,textElements:Yh(A.current),mediaElements:Kh(P.current)}),w=()=>{const B=J();if(!B)return null;const j=B.baseCanvas.toDataURL("image/png");if(!j)return null;const V=ye(j);return{...V,signature:JSON.stringify(V)}},ee=()=>{W({index:p.current,length:$.current.length})},Q=B=>{var V;const j=$.current.slice(0,p.current+1);return((V=j[j.length-1])==null?void 0:V.signature)===B.signature?!1:(j.push(B),j.length>Zh&&j.splice(0,j.length-Zh),$.current=j,p.current=j.length-1,ee(),!0)},S=(B=!0)=>{const j=w();if(!j)return;Q(j)&&(q("unsaved"),B&&setTimeout(()=>se(),250))},_=async B=>{const j=$.current[B];j&&(await te(j.baseData),le.current=Gh(j.highlighterStrokes),ne.current=null,y(typeof j.highlighterOpacity=="number"?j.highlighterOpacity:ra),A.current=Yh(j.textElements),P.current=Kh(j.mediaElements),G(A.current),Y(P.current),T(null),E(null),he(),p.current=B,ee(),q("unsaved"),setTimeout(()=>se(),150))},O=async()=>{p.current<=0||(E(null),T(null),await _(p.current-1))},U=async()=>{p.current>=$.current.length-1||(E(null),T(null),await _(p.current+1))};C.useEffect(()=>{(async()=>{let j=null,V=[],ie=ra,pe=[],Ne=[];if(typeof e=="string")j=e;else if(e&&typeof e=="object"){typeof e.baseData=="string"?j=e.baseData:typeof e.imageData=="string"?j=e.imageData:typeof e.dataUrl=="string"&&(j=e.dataUrl),V=u5(e.highlighterStrokes),pe=d5(e.textElements),Ne=f5(e.mediaElements);const We=e.highlighterOpacity;Number.isFinite(We)&&(ie=Math.min(1,Math.max(.05,Number(We))))}await te(j),y(ie),le.current=V,A.current=pe,P.current=Ne,G(pe),Y(Ne),he();const Ue=w();$.current=Ue?[Ue]:[],p.current=$.current.length-1,ee(),Ue&&(z.current=Ue.signature)})()},[]),C.useEffect(()=>{if(!N)return;const B=setTimeout(()=>{var j;return(j=a.current)==null?void 0:j.focus()},0);return()=>clearTimeout(B)},[N]);const oe=B=>{const j=i.current||s.current;if(!j)return{x:0,y:0};const V=j.getBoundingClientRect();return{x:(B.clientX-V.left)*(j.width/V.width),y:(B.clientY-V.top)*(j.height/V.height)}},X=(B,j)=>{const V=i.current||s.current;if(!V)return{x:0,y:0};const ie=V.getBoundingClientRect();return{x:(B-ie.left)*(V.width/ie.width),y:(j-ie.top)*(V.height/ie.height)}},me=(B,j)=>{const V=o.current;if(!V)return{x:50,y:50};const ie=V.getBoundingClientRect(),pe=V.scrollLeft+ie.width/2-B/2,Ne=V.scrollTop+ie.height/2-j/2;return{x:sr(pe,0,Lt-B),y:sr(Ne,0,Lt-j)}},be=(B,j)=>{const V=crypto.randomUUID(),ie={id:V,x:B,y:j,text:"",color:x.text.color,fontSize:x.text.width,fontWeight:"normal",fontStyle:"normal"};ve(pe=>[...pe,ie]),T({kind:"text",id:V}),E(V),q("unsaved")},ge=(B,j)=>{let V=!1;ve(ie=>{const pe=ie.find(Ne=>Ne.id===B);return pe?(V=!0,pe.text.trim()?ie:ie.filter(Ne=>Ne.id!==B)):ie}),E(null),V&&S(!0)},Ae=(B,j)=>{ve(V=>V.map(ie=>ie.id===B?j(ie):ie))},Be=async(B,j,V)=>{let ie=360,pe=B==="audio"?72:220;B==="image"&&await new Promise(We=>{const $e=new Image;$e.src=j,$e.onload=()=>{const nn=$e.width>480?480/$e.width:1;ie=Math.max(80,Math.round($e.width*nn)),pe=Math.max(60,Math.round($e.height*nn)),We()},$e.onerror=()=>We()}),B==="video"&&await new Promise(We=>{const $e=document.createElement("video");$e.preload="metadata",$e.src=j,$e.onloadedmetadata=()=>{const it=Number.isFinite($e.videoWidth)&&$e.videoWidth>0?$e.videoWidth:640,nn=Number.isFinite($e.videoHeight)&&$e.videoHeight>0?$e.videoHeight:360,Rn=560,_n=it>Rn?Rn/it:1;ie=Math.max(220,Math.round(it*_n)),pe=Math.max(140,Math.round(nn*_n)),We()},$e.onerror=()=>We()});const Ne=me(ie,pe),Ue={id:crypto.randomUUID(),type:B,src:j,name:V,x:Ne.x,y:Ne.y,width:ie,height:pe};Ce(We=>[...We,Ue]),T({kind:"media",id:Ue.id}),S(!0)},Re=()=>{const B=J();!B||le.current.length===0||(B.baseCtx.globalCompositeOperation="source-over",B.baseCtx.globalAlpha=1,B.baseCtx.drawImage(B.highlighterCanvas,0,0),B.baseCtx.globalAlpha=1,le.current=[],ne.current=null,je())},Je=B=>{g&&k(!1);const j=J();if(!j)return;const{x:V,y:ie}=oe(B),pe=x[d];if(d==="text"){be(V,ie);return}if(N&&ge(N),T(null),d==="eraser"&&Re(),d==="highlighter"){const Ne={id:crypto.randomUUID(),color:pe.color,width:pe.width,opacity:v,points:[{x:V,y:ie}]};ne.current=Ne,j.highlighterCtx.globalCompositeOperation="destination-over",j.highlighterCtx.globalAlpha=Ne.opacity,j.highlighterCtx.strokeStyle=Ne.color,j.highlighterCtx.lineWidth=Ne.width,j.highlighterCtx.lineCap="round",j.highlighterCtx.lineJoin="round",j.highlighterCtx.beginPath(),j.highlighterCtx.moveTo(V,ie)}else j.baseCtx.globalCompositeOperation="source-over",j.baseCtx.globalAlpha=1,j.baseCtx.strokeStyle=pe.color,d==="eraser"&&(j.baseCtx.globalCompositeOperation="destination-out",j.baseCtx.strokeStyle="rgba(0,0,0,1)"),j.baseCtx.lineWidth=pe.width,j.baseCtx.lineCap="round",j.baseCtx.lineJoin="round",j.baseCtx.beginPath(),j.baseCtx.moveTo(V,ie);f(!0),q("unsaved")},ct=B=>{if(!b)return;const j=J();if(!j)return;const{x:V,y:ie}=oe(B);if(d==="highlighter"){const pe=ne.current;if(!pe)return;pe.points.push({x:V,y:ie}),j.highlighterCtx.lineTo(V,ie),j.highlighterCtx.stroke(),j.highlighterCtx.beginPath(),j.highlighterCtx.moveTo(V,ie);return}j.baseCtx.lineTo(V,ie),j.baseCtx.stroke(),j.baseCtx.beginPath(),j.baseCtx.moveTo(V,ie)},Z=()=>{if(!b)return;f(!1);const B=J();if(B){if(d==="highlighter"){B.highlighterCtx.closePath(),B.highlighterCtx.globalAlpha=1,B.highlighterCtx.globalCompositeOperation="source-over";const j=ne.current;j&&(j.points.length===1&&j.points.push({...j.points[0]}),le.current=[...le.current,{...j,points:j.points.map(V=>({...V}))}],ne.current=null,he())}else B.baseCtx.closePath(),B.baseCtx.globalAlpha=1,B.baseCtx.globalCompositeOperation="source-over";S(!0)}},ue=async B=>{await Be("image",B,"asset-image"),k(!1)},xe=()=>{const B=document.createElement("input");B.type="file",B.multiple=!0,B.accept="image/*,video/*,audio/*",B.style.position="fixed",B.style.left="-9999px",document.body.appendChild(B),B.onchange=async j=>{const V=j.target.files;if(!V||V.length===0){B.remove();return}let ie=0;const pe=[];for(let Ne=0;Ne<V.length;Ne++){const Ue=V[Ne],We=p5(Ue);if(!We){pe.push(Ue.name);continue}try{const $e=await h5(Ue);await Be(We,$e,Ue.name),ie++}catch($e){console.error("Failed adding media",Ue.name,$e),pe.push(Ue.name)}}pe.length===0?M(`Added ${ie} media file${ie===1?"":"s"}.`):M(ie===0?`Failed to add ${pe.length} file${pe.length===1?"":"s"}.`:`Added ${ie}/${V.length}. Failed ${pe.length}.`),setTimeout(()=>M(""),3200),B.remove()},B.oncancel=()=>B.remove(),B.click()},Ie=(B,j)=>{if(N===j)return;B.stopPropagation();const V=X(B.clientX,B.clientY),ie=A.current.find(pe=>pe.id===j);ie&&(c.current={kind:"text",id:j,offsetX:V.x-ie.x,offsetY:V.y-ie.y,moved:!1},T({kind:"text",id:j}))},Ve=(B,j)=>{B.stopPropagation();const V=X(B.clientX,B.clientY),ie=P.current.find(pe=>pe.id===j);ie&&(c.current={kind:"media",id:j,offsetX:V.x-ie.x,offsetY:V.y-ie.y,moved:!1},T({kind:"media",id:j}))},Ze=(B,j)=>{B.stopPropagation();const V=X(B.clientX,B.clientY),ie=P.current.find(pe=>pe.id===j);ie&&(u.current={id:j,originX:V.x,originY:V.y,startWidth:ie.width,startHeight:ie.height,moved:!1},T({kind:"media",id:j}))},Fe=B=>{const j=X(B.clientX,B.clientY),V=u.current;if(V){const pe=j.x-V.originX,Ne=j.y-V.originY;(Math.abs(pe)>.5||Math.abs(Ne)>.5)&&(V.moved=!0),Ce(Ue=>Ue.map(We=>{if(We.id!==V.id)return We;const $e=sr(V.startWidth+pe,40,Lt-We.x),it=sr(V.startHeight+Ne,30,Lt-We.y);return{...We,width:$e,height:it}}));return}const ie=c.current;if(ie){if(ie.kind==="text"){ve(pe=>pe.map(Ne=>{if(Ne.id!==ie.id)return Ne;const Ue=sr(j.x-ie.offsetX,0,Lt-30),We=sr(j.y-ie.offsetY,0,Lt-20);return(Math.abs(Ue-Ne.x)>.5||Math.abs(We-Ne.y)>.5)&&(ie.moved=!0),{...Ne,x:Ue,y:We}}));return}Ce(pe=>pe.map(Ne=>{if(Ne.id!==ie.id)return Ne;const Ue=sr(j.x-ie.offsetX,0,Lt-Ne.width),We=sr(j.y-ie.offsetY,0,Lt-Ne.height);return(Math.abs(Ue-Ne.x)>.5||Math.abs(We-Ne.y)>.5)&&(ie.moved=!0),{...Ne,x:Ue,y:We}}))}},Ke=()=>{var j,V;const B=!!((j=c.current)!=null&&j.moved||(V=u.current)!=null&&V.moved);c.current=null,u.current=null,B&&(q("unsaved"),S(!0))},K=(B,j)=>{h(V=>({...V,[d]:{...V[d],[B]:j}}))},se=()=>{try{const B=w();if(!B)return;B.signature!==z.current&&(q("saving"),t({version:2,baseData:B.baseData,highlighterStrokes:B.highlighterStrokes,highlighterOpacity:B.highlighterOpacity,textElements:B.textElements,mediaElements:B.mediaElements}),z.current=B.signature,setTimeout(()=>q("saved"),500))}catch(B){console.error("Canvas save blocked",B),q("unsaved")}};C.useEffect(()=>{const B=j=>{const V=j.target,ie=!!V&&(V.tagName==="INPUT"||V.tagName==="TEXTAREA"||V.isContentEditable);if((j.ctrlKey||j.metaKey)&&j.key.toLowerCase()==="s"){j.preventDefault(),se();return}if((j.ctrlKey||j.metaKey)&&j.key.toLowerCase()==="z"&&!j.shiftKey){j.preventDefault(),O();return}if((j.ctrlKey||j.metaKey)&&j.key.toLowerCase()==="y"||(j.ctrlKey||j.metaKey)&&j.shiftKey&&j.key.toLowerCase()==="z"){j.preventDefault(),U();return}if(!ie&&(j.key==="Delete"||j.key==="Backspace")&&D){j.preventDefault(),D.kind==="text"?(ve(pe=>pe.filter(Ne=>Ne.id!==D.id)),N===D.id&&E(null)):Ce(pe=>pe.filter(Ne=>Ne.id!==D.id)),T(null),S(!0);return}j.key==="Escape"&&(N?ge(N):T(null))};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[D,N]);const de=()=>{if(!confirm("Clear whiteboard? This cannot be undone."))return;const B=J();B&&(Ee(B.baseCtx,B.baseCanvas),E(null),T(null),A.current=[],P.current=[],G([]),Y([]),le.current=[],ne.current=null,je(),S(!0))},fe=Object.entries(r),we=R.index>0,ke=R.index>=0&&R.index<R.length-1,Pe=C.useMemo(()=>(D==null?void 0:D.kind)==="text"&&H.find(B=>B.id===D.id)||null,[D,H]),He=C.useMemo(()=>(D==null?void 0:D.kind)==="media"&&I.find(B=>B.id===D.id)||null,[D,I]);return l.jsxs("div",{className:"h-full flex flex-col bg-zinc-900 relative",onMouseMove:Fe,onMouseUp:Ke,onMouseLeave:Ke,children:[l.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-4 sm:px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-20 shrink-0 select-none",children:[l.jsx("h3",{className:"text-zinc-200 font-medium truncate max-w-[100px] sm:max-w-none",children:n}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex bg-zinc-800 p-1 rounded-lg border border-zinc-700",children:[l.jsx("button",{onClick:()=>m("pen"),className:`p-2 rounded transition-all ${d==="pen"?"bg-blue-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Pen",children:l.jsx(cv,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>m("highlighter"),className:`p-2 rounded transition-all ${d==="highlighter"?"bg-yellow-500 text-black shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Highlighter",children:l.jsx(ev,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>m("eraser"),className:`p-2 rounded transition-all ${d==="eraser"?"bg-zinc-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Eraser",children:l.jsx(V1,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>m("text"),className:`p-2 rounded transition-all ${d==="text"?"bg-indigo-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Text",children:l.jsx(yv,{className:"w-4 h-4"})}),l.jsx("div",{className:"w-px h-full bg-zinc-700 mx-1"}),l.jsx("button",{onClick:()=>k(!g),className:`p-2 rounded transition-all ${g?"bg-purple-600 text-white":"text-zinc-400 hover:text-zinc-200"}`,title:"Import Image",children:l.jsx(Ys,{className:"w-4 h-4"})}),l.jsx("button",{onClick:xe,className:"p-2 rounded transition-all text-zinc-400 hover:text-zinc-200",title:"Upload Image / Video / Audio",children:l.jsx(pd,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-center gap-3 bg-zinc-800/50 px-3 py-1.5 rounded-lg border border-zinc-800 hidden md:flex",children:[(d==="pen"||d==="highlighter"||d==="text")&&l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("input",{type:"color",value:d==="text"?(Pe==null?void 0:Pe.color)||x.text.color:x[d].color,onChange:B=>{d==="text"?(h(j=>({...j,text:{...j.text,color:B.target.value}})),Pe&&(Ae(Pe.id,j=>({...j,color:B.target.value})),S(!0))):K("color",B.target.value)},className:"w-8 h-8 rounded cursor-pointer bg-transparent border-none",title:d==="highlighter"?"Highlighter Color":d==="text"?"Text Color":"Pen Color"})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${d==="eraser"?"bg-zinc-500":"bg-current"}`,style:{color:x[d].color}}),l.jsx("input",{type:"range",min:d==="text"?"8":"1",max:d==="eraser"?"100":d==="highlighter"?"80":d==="text"?"96":"50",value:d==="text"?(Pe==null?void 0:Pe.fontSize)||x.text.width:x[d].width,onChange:B=>{const j=parseInt(B.target.value,10);d==="text"?(h(V=>({...V,text:{...V.text,width:j}})),Pe&&(Ae(Pe.id,V=>({...V,fontSize:j})),S(!0))):K("width",j)},className:"w-24 h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),d==="highlighter"&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-[11px] uppercase tracking-wide text-zinc-500",children:"Opacity"}),l.jsx("input",{type:"range",min:"0.05",max:"1",step:"0.05",value:v,onChange:B=>y(parseFloat(B.target.value)),className:"w-24 h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-yellow-400"}),l.jsx("span",{className:"text-[11px] text-zinc-400 w-8 text-right",children:Math.round(v*100)})]}),d==="text"&&Pe&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{Ae(Pe.id,B=>({...B,fontWeight:B.fontWeight==="bold"?"normal":"bold"})),S(!0)},className:`px-2 py-1 text-xs rounded ${Pe.fontWeight==="bold"?"bg-zinc-600 text-white":"bg-zinc-800 text-zinc-300"}`,title:"Toggle Bold",children:"B"}),l.jsx("button",{onClick:()=>{Ae(Pe.id,B=>({...B,fontStyle:B.fontStyle==="italic"?"normal":"italic"})),S(!0)},className:`px-2 py-1 text-xs rounded ${Pe.fontStyle==="italic"?"bg-zinc-600 text-white":"bg-zinc-800 text-zinc-300"}`,title:"Toggle Italic",children:"I"})]}),He&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-[11px] text-zinc-500",children:"W"}),l.jsx("input",{type:"range",min:"40",max:"1200",value:He.width,onChange:B=>Ce(j=>j.map(V=>V.id===He.id?{...V,width:parseInt(B.target.value,10)}:V)),onMouseUp:()=>S(!0),className:"w-16 h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"}),l.jsx("span",{className:"text-[11px] text-zinc-500",children:"H"}),l.jsx("input",{type:"range",min:"30",max:"900",value:He.height,onChange:B=>Ce(j=>j.map(V=>V.id===He.id?{...V,height:parseInt(B.target.value,10)}:V)),onMouseUp:()=>S(!0),className:"w-16 h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:O,disabled:!we,className:"text-zinc-500 hover:text-zinc-200 p-2 disabled:opacity-40 disabled:cursor-not-allowed",title:"Undo (Ctrl/Cmd+Z)",children:l.jsx(wv,{className:"w-4 h-4"})}),l.jsx("button",{onClick:U,disabled:!ke,className:"text-zinc-500 hover:text-zinc-200 p-2 disabled:opacity-40 disabled:cursor-not-allowed",title:"Redo (Ctrl/Cmd+Y)",children:l.jsx(fv,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex items-center mr-2 hidden sm:flex",children:[F==="saving"&&l.jsx("span",{className:"text-xs text-zinc-500",children:l.jsx(Jr,{className:"w-3 h-3 animate-spin"})}),F==="saved"&&l.jsx("span",{className:"text-xs text-zinc-500 opacity-50",children:l.jsx(Mn,{className:"w-3 h-3"})}),F==="unsaved"&&l.jsx("span",{className:"text-xs text-orange-400",children:l.jsx(Vn,{className:"w-3 h-3"})})]}),l.jsx("button",{onClick:de,className:"text-zinc-500 hover:text-red-400 p-2",children:l.jsx(It,{className:"w-4 h-4"})}),l.jsxs("button",{onClick:se,className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors shadow-lg ${F==="unsaved"?"bg-blue-600 text-white":"bg-zinc-700 text-zinc-200"}`,children:[l.jsx(es,{className:"w-4 h-4"})," Save"]})]})]}),L&&l.jsx("div",{className:"px-4 py-2 text-xs text-zinc-300 border-b border-zinc-800 bg-zinc-900/70",children:L}),g&&l.jsxs("div",{className:"absolute top-16 left-1/2 -translate-x-1/2 z-30 bg-zinc-900 border border-zinc-700 rounded-xl shadow-2xl p-4 w-80 max-h-[400px] flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h4",{className:"text-sm font-semibold text-zinc-200",children:"Select Asset"}),l.jsx("button",{onClick:()=>k(!1),className:"text-zinc-500 hover:text-white",children:l.jsx(Kr,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"grid grid-cols-3 gap-2 overflow-y-auto custom-scrollbar flex-1",children:fe.length>0?fe.map(([B,j])=>l.jsx("button",{onClick:()=>ue(j),className:"aspect-square bg-zinc-950 border border-zinc-800 rounded-md overflow-hidden hover:border-purple-500 transition-colors relative",children:l.jsx("img",{src:j,alt:"asset",className:"w-full h-full object-contain pointer-events-none"})},B)):l.jsx("div",{className:"col-span-3 text-center py-4 text-xs text-zinc-500",children:"No assets found."})})]}),l.jsx("div",{className:`flex-1 overflow-auto bg-[#09090b] relative custom-scrollbar touch-none ${d==="text"?"cursor-text":"cursor-crosshair"}`,ref:o,children:l.jsx("div",{className:"min-w-full min-h-full inline-block relative",children:l.jsxs("div",{className:"relative",style:{width:Lt,height:Lt},children:[l.jsx("canvas",{ref:s,width:Lt,height:Lt,className:"absolute inset-0 block"}),l.jsx("canvas",{ref:i,width:Lt,height:Lt,onMouseDown:Je,onMouseMove:ct,onMouseUp:Z,onMouseLeave:Z,className:"absolute inset-0 block"}),H.map(B=>{const j=(D==null?void 0:D.kind)==="text"&&D.id===B.id,V=N===B.id,ie=Math.max(10,Math.round(B.fontSize*1.3));return V?l.jsx("textarea",{ref:a,value:B.text,onChange:pe=>Ae(B.id,Ne=>({...Ne,text:pe.target.value})),onBlur:()=>ge(B.id),onMouseDown:pe=>pe.stopPropagation(),onKeyDown:pe=>{(pe.ctrlKey||pe.metaKey)&&pe.key==="Enter"&&(pe.preventDefault(),ge(B.id)),pe.key==="Escape"&&(pe.preventDefault(),ge(B.id))},className:"absolute z-20 min-w-[220px] max-w-[500px] min-h-[90px] bg-zinc-900/95 border border-blue-500 rounded-md p-2 text-zinc-100 resize-y focus:outline-none",style:{left:B.x,top:B.y,color:B.color,fontSize:`${B.fontSize}px`,fontWeight:B.fontWeight,fontStyle:B.fontStyle,lineHeight:`${ie}px`}},B.id):l.jsx("div",{className:`absolute z-20 px-1 py-0.5 rounded cursor-move whitespace-pre-wrap ${j?"ring-1 ring-blue-500 bg-blue-500/10":""}`,style:{left:B.x,top:B.y,color:B.color,fontSize:`${B.fontSize}px`,fontWeight:B.fontWeight,fontStyle:B.fontStyle,lineHeight:`${ie}px`,userSelect:"none"},onMouseDown:pe=>Ie(pe,B.id),onClick:pe=>{pe.stopPropagation(),T({kind:"text",id:B.id})},onDoubleClick:pe=>{pe.stopPropagation(),m("text"),T({kind:"text",id:B.id}),E(B.id)},children:B.text||"Text"},B.id)}),I.map(B=>{const j=(D==null?void 0:D.kind)==="media"&&D.id===B.id,V=Math.max(10,B.height-24);return l.jsxs("div",{className:`absolute z-20 overflow-hidden rounded-md border ${j?"border-blue-500 shadow-[0_0_0_1px_rgba(59,130,246,.4)]":"border-zinc-700"}`,style:{left:B.x,top:B.y,width:B.width,height:B.height,background:"#0a0a0a"},onMouseDown:ie=>{ie.stopPropagation(),T({kind:"media",id:B.id})},children:[l.jsxs("div",{className:"h-6 px-2 flex items-center justify-between text-[11px] text-zinc-200 bg-zinc-900/90 border-b border-zinc-700 cursor-move",onMouseDown:ie=>Ve(ie,B.id),children:[l.jsx("span",{className:"truncate",children:B.name}),l.jsx("button",{className:"text-zinc-400 hover:text-red-400",onClick:ie=>{ie.stopPropagation(),Ce(pe=>pe.filter(Ne=>Ne.id!==B.id)),(D==null?void 0:D.kind)==="media"&&D.id===B.id&&T(null),S(!0)},children:l.jsx(Kr,{className:"w-3 h-3"})})]}),l.jsxs("div",{className:"w-full",style:{height:V},children:[B.type==="image"&&l.jsx("img",{src:B.src,alt:B.name,className:"w-full h-full object-contain",draggable:!1,onMouseDown:ie=>Ve(ie,B.id)}),B.type==="video"&&l.jsx("video",{src:B.src,controls:!0,className:"w-full h-full object-contain bg-black"}),B.type==="audio"&&l.jsx("div",{className:"w-full h-full flex items-center justify-center px-2",children:l.jsx("audio",{src:B.src,controls:!0,className:"w-full"})})]}),l.jsx("div",{className:"absolute right-0 bottom-0 w-4 h-4 bg-blue-500 cursor-nwse-resize",onMouseDown:ie=>Ze(ie,B.id),title:"Resize",children:l.jsx(iv,{className:"w-3 h-3 text-white"})})]},B.id)})]})})})]})},Xh=(e,t)=>{const n=Array.isArray(e==null?void 0:e.folders)?e.folders.filter(u=>typeof(u==null?void 0:u.id)=="string"&&typeof(u==null?void 0:u.name)=="string").map(u=>({id:u.id,name:u.name,parentId:typeof u.parentId=="string"?u.parentId:null})):[],r=new Set(n.map(u=>u.id)),s=n.map(u=>({...u,parentId:u.parentId&&r.has(u.parentId)?u.parentId:null})),i=e!=null&&e.assetFolderMap&&typeof e.assetFolderMap=="object"?e.assetFolderMap:{},o=e!=null&&e.assetNameMap&&typeof e.assetNameMap=="object"?e.assetNameMap:{},a={},c={};return Object.keys(t).forEach(u=>{const d=i[u];a[u]=typeof d=="string"&&r.has(d)?d:null;const m=o[u];c[u]=typeof m=="string"&&m.trim()?m.trim():u}),{folders:s,assetFolderMap:a,assetNameMap:c}},g5=({initialContent:e,assets:t={},onAddAsset:n,onDeleteAsset:r,onSave:s,fileName:i})=>{const[o,a]=C.useState(""),[c,u]=C.useState(null),[d,m]=C.useState(!1),[x,h]=C.useState(""),[v,y]=C.useState(()=>Xh(e,t)),[b,f]=C.useState(null),[g,k]=C.useState(new Set),[N,E]=C.useState(null),[D,T]=C.useState(null);C.useEffect(()=>{const re=Xh(e,t);y(re),f(he=>he&&re.folders.some(te=>te.id===he)?he:null)},[e,t]);const L=re=>{y(he=>{const te=re(he);return s(te),te})},M=C.useMemo(()=>Object.entries(t).map(([re,he])=>({id:re,data:he,name:v.assetNameMap[re]||re})),[t,v.assetNameMap]),F=C.useMemo(()=>{const re=o.toLowerCase();return M.filter(he=>he.id.toLowerCase().includes(re)||he.name.toLowerCase().includes(re)).filter(he=>(v.assetFolderMap[he.id]??null)===b).sort((he,te)=>{const ye=he.name.localeCompare(te.name,void 0,{sensitivity:"base"});return ye!==0?ye:he.id.localeCompare(te.id)})},[M,o,v.assetFolderMap,b]),q=C.useMemo(()=>v.folders.filter(re=>re.parentId===null).sort((re,he)=>re.name.localeCompare(he.name,void 0,{sensitivity:"base"})),[v.folders]),z=re=>v.folders.filter(he=>he.parentId===re).sort((he,te)=>he.name.localeCompare(te.name,void 0,{sensitivity:"base"})),$=re=>{const he=prompt("Folder name:"),te=he==null?void 0:he.trim();if(!te)return;const ye=crypto.randomUUID();L(w=>({...w,folders:[...w.folders,{id:ye,name:te,parentId:re}]})),k(w=>new Set(w).add(ye).add(re||"")),f(ye)},p=(re,he)=>{L(te=>({...te,assetFolderMap:{...te.assetFolderMap,[re]:he}}))},R=(re,he)=>{E(he),re.dataTransfer.effectAllowed="move",re.dataTransfer.setData("text/plain",he)},W=()=>{E(null),T(null)},H=(re,he)=>{re.preventDefault(),re.stopPropagation(),re.dataTransfer.dropEffect="move",D!==he&&T(he)},G=(re,he)=>{re.preventDefault(),re.stopPropagation();const te=re.dataTransfer.getData("text/plain")||N;T(null),E(null),te&&(p(te,he),k(ye=>new Set(ye).add(he)))},I=re=>{re.preventDefault(),re.dataTransfer.dropEffect="move",D!=="root"&&T("root")},Y=re=>{re.preventDefault();const he=re.dataTransfer.getData("text/plain")||N;T(null),E(null),he&&p(he,null)},A=(re,he=0)=>{const te=z(re.id),ye=te.length>0,w=g.has(re.id),ee=b===re.id,Q=D===re.id;return l.jsxs("div",{children:[l.jsxs("div",{style:{marginLeft:he*10},className:`group flex items-center justify-between rounded-md px-1 py-1 mb-0.5 transition-colors ${Q?"bg-blue-500/10 ring-1 ring-blue-500/40":"hover:bg-zinc-900"}`,onDragOver:S=>H(S,re.id),onDrop:S=>G(S,re.id),children:[l.jsxs("button",{onClick:()=>{ye&&k(S=>{const _=new Set(S);return _.has(re.id)?_.delete(re.id):_.add(re.id),_}),f(re.id)},className:`flex-1 flex items-center gap-2 px-1.5 py-1 text-sm text-left rounded ${ee?"text-white bg-zinc-800":"text-zinc-300"}`,children:[ye?w?l.jsx(ld,{className:"w-3.5 h-3.5 text-zinc-500"}):l.jsx(cd,{className:"w-3.5 h-3.5 text-zinc-500"}):l.jsx("span",{className:"w-3.5 h-3.5"}),l.jsx(Gc,{className:"w-4 h-4 text-blue-400/90"}),l.jsx("span",{className:"truncate",children:re.name})]}),l.jsx("button",{onClick:()=>$(re.id),className:"p-1 text-zinc-500 hover:text-white hover:bg-zinc-800 rounded opacity-0 group-hover:opacity-100",title:"New Subfolder",children:l.jsx(Ca,{className:"w-3.5 h-3.5"})})]}),w&&te.map(S=>A(S,he+1))]},re.id)},P=re=>re.type.startsWith("image/")?!0:/\.(png|jpe?g|gif|webp|bmp|svg|avif|ico)$/i.test(re.name),le=async(re,he)=>{var ye;if(!re||!n)return;const te=Array.from(re).filter(P);if(te.length===0){alert(`No image files found in selected ${he}.`);return}m(!0);try{const w=[],ee=[];for(let S=0;S<te.length;S++){h(`Uploading ${S+1}/${te.length}...`);try{const _=await n(te[S]),O=typeof _=="string"&&_.startsWith("asset://")?_.slice(8):"";O?w.push({id:O,name:te[S].name||O}):ee.push(te[S].name||`file-${S+1}`)}catch(_){console.error("Asset upload failed for file",(ye=te[S])==null?void 0:ye.name,_),ee.push(te[S].name||`file-${S+1}`)}}w.length>0&&L(S=>{const _={...S.assetFolderMap},O={...S.assetNameMap};return w.forEach(({id:U,name:oe})=>{_[U]=b,O[U]=oe}),{...S,assetFolderMap:_,assetNameMap:O}});const Q=w.length;Q===te.length?h(`Uploaded ${Q} image${Q===1?"":"s"}.`):h(Q===0?`Upload failed for ${ee.length} file${ee.length===1?"":"s"}.`:`Uploaded ${Q}/${te.length}. Failed ${ee.length}.`),setTimeout(()=>h(""),3500)}finally{m(!1)}},ne=re=>{const he=document.createElement("input");if(he.type="file",he.multiple=!0,he.accept="image/*",re==="folder"){const te=he;te.webkitdirectory=!0,te.directory=!0}he.style.position="fixed",he.style.left="-9999px",document.body.appendChild(he),he.onchange=async te=>{try{await le(te.target.files,re)}finally{he.remove()}},he.oncancel=()=>{he.remove()},he.click()},J=()=>{ne("files")},ve=()=>{ne("folder")},Ce=re=>{navigator.clipboard.writeText(`asset://${re}`),u(re),setTimeout(()=>u(null),2e3)},Ee=re=>{if(!r){alert("Delete functionality not available.");return}confirm("Delete this asset permanently? It will disappear from all documents/whiteboards using it.")&&(r(re),L(he=>{const te={...he.assetFolderMap},ye={...he.assetNameMap};return delete te[re],delete ye[re],{...he,assetFolderMap:te,assetNameMap:ye}}))},je=(re,he,te)=>{const ye=document.createElement("a");ye.href=re;const w=(te||"").trim().replace(/[\\/:*?"<>|]/g,"_");ye.download=w||`asset-${he.substring(0,8)}.png`,ye.click()};return l.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[l.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-20",children:[l.jsxs("h3",{className:"text-zinc-200 font-medium flex items-center gap-2",children:[l.jsx(Ys,{className:"w-4 h-4 text-purple-500"})," ",i]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(ro,{className:"w-4 h-4 text-zinc-500 absolute left-3 top-1/2 -translate-y-1/2"}),l.jsx("input",{type:"text",placeholder:"Search assets...",value:o,onChange:re=>a(re.target.value),className:"bg-zinc-950 border border-zinc-800 rounded-full py-1.5 pl-9 pr-4 text-sm text-zinc-300 focus:outline-none focus:border-zinc-700 w-48"})]}),l.jsxs("button",{onClick:J,disabled:d,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-60 disabled:cursor-not-allowed text-white px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg shadow-purple-900/20",children:[l.jsx(pd,{className:"w-4 h-4"})," Upload Files"]}),l.jsxs("button",{onClick:ve,disabled:d,className:"flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 disabled:opacity-60 disabled:cursor-not-allowed text-zinc-200 px-4 py-2 rounded-md text-sm font-medium transition-colors border border-zinc-700",children:[l.jsx(Vf,{className:"w-4 h-4"})," Upload Folder"]})]})]}),x&&l.jsx("div",{className:"px-6 py-2 text-xs text-zinc-400 border-b border-zinc-800 bg-zinc-900/70",children:x}),l.jsxs("div",{className:"flex-1 min-h-0 flex",children:[l.jsxs("aside",{className:"w-64 border-r border-zinc-800 p-3 overflow-y-auto custom-scrollbar",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-[11px] uppercase tracking-wide text-zinc-500",children:"Folders"}),l.jsx("button",{onClick:()=>$(b),className:"p-1.5 text-zinc-400 hover:text-white hover:bg-zinc-800 rounded",title:b?"New Subfolder":"New Folder",children:l.jsx(Ca,{className:"w-4 h-4"})})]}),l.jsxs("button",{onClick:()=>f(null),onDragOver:I,onDrop:Y,className:`w-full mb-2 flex items-center gap-2 px-2 py-2 rounded-md text-sm transition-colors ${b===null?"bg-zinc-800 text-white":"text-zinc-300 hover:bg-zinc-900"} ${D==="root"?"ring-1 ring-blue-500/40 bg-blue-500/10":""}`,title:"Drop here to move asset to root",children:[l.jsx(Vf,{className:"w-4 h-4 text-zinc-500"}),l.jsx("span",{children:"Root (No Folder)"})]}),l.jsxs("div",{children:[q.map(re=>A(re)),q.length===0&&l.jsx("div",{className:"text-xs text-zinc-600 px-2 py-3",children:"No folders yet."})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:M.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-500 opacity-50",children:[l.jsx(Wf,{className:"w-16 h-16 mb-4"}),l.jsx("p",{children:"No assets in this project yet."}),l.jsx("p",{className:"text-sm mt-2",children:"Upload images or paste them into Documents."})]}):F.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-500 opacity-60",children:[l.jsx(Wf,{className:"w-12 h-12 mb-3"}),l.jsx("p",{children:"No assets in this folder."}),l.jsx("p",{className:"text-xs mt-2",children:"Drag assets onto folders to reorganize."})]}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:F.map(({id:re,data:he,name:te})=>l.jsxs("div",{draggable:!0,onDragStart:ye=>R(ye,re),onDragEnd:W,className:`group bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden hover:border-zinc-600 transition-all shadow-sm hover:shadow-xl cursor-grab active:cursor-grabbing ${N===re?"opacity-45 grayscale":""}`,children:[l.jsxs("div",{className:"aspect-square bg-[#101012] relative flex items-center justify-center overflow-hidden bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTAgMGgyMHYyMEgwem0xMCAxMGgxMHYxMEgxMHoiIGZpbGw9IiMxODE4MWIiIGZpbGwtb3BhY2l0eT0iMC40Ii8+PC9zdmc+')]",children:[l.jsx("img",{src:he,alt:te,className:"max-w-full max-h-full object-contain"}),l.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 backdrop-blur-sm",children:[l.jsx("button",{onClick:()=>Ce(re),className:"p-2 bg-white text-black rounded-full hover:scale-110 transition-transform",title:"Copy ID",children:c===re?l.jsx(Mn,{className:"w-4 h-4"}):l.jsx(Zc,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>je(he,re,te),className:"p-2 bg-zinc-800 text-white rounded-full hover:scale-110 transition-transform",title:"Download",children:l.jsx(ud,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Ee(re),className:"p-2 bg-red-600 text-white rounded-full hover:scale-110 transition-transform",title:"Delete Asset",children:l.jsx(It,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"p-3 border-t border-zinc-800 bg-zinc-900/50",children:[l.jsx("div",{className:"text-[11px] text-zinc-200 truncate",title:te,children:te}),l.jsx("div",{className:"text-[10px] font-mono text-zinc-500 truncate",title:re,children:re}),l.jsxs("div",{className:"text-[10px] text-zinc-600 mt-1",children:[(he.length/1024).toFixed(1)," KB  ",he.split(";")[0].split(":")[1]]})]})]},re))})})]})]})},x5=({isOpen:e,onClose:t,projects:n,activeProject:r,onSelectFile:s,onSelectProject:i,onCreateFile:o})=>{const[a,c]=C.useState(""),[u,d]=C.useState(0),m=C.useRef(null);if(C.useEffect(()=>{e&&(c(""),d(0),setTimeout(()=>{var b;return(b=m.current)==null?void 0:b.focus()},50))},[e]),!e)return null;const x=b=>{switch(b){case"doc":return l.jsx(ja,{className:"w-4 h-4"});case"flowchart":return l.jsx(fd,{className:"w-4 h-4"});case"todo":return l.jsx(Cs,{className:"w-4 h-4"});case"kanban":return l.jsx(nl,{className:"w-4 h-4"});case"roadmap":return l.jsx(dd,{className:"w-4 h-4"});case"grid":return l.jsx(hd,{className:"w-4 h-4"});case"whiteboard":return l.jsx(sl,{className:"w-4 h-4"});case"asset-gallery":return l.jsx(Ys,{className:"w-4 h-4"});case"project":return l.jsx(xm,{className:"w-4 h-4"});case"create":return l.jsx(Wn,{className:"w-4 h-4"});default:return l.jsx(ja,{className:"w-4 h-4"})}};let h=[];if(r){const b=f=>r.files.some(g=>g.type===f);r.files.forEach(f=>{h.push({id:f.id,type:f.type,label:f.name,subLabel:"Go to file",action:()=>{s(f.id),t()}})}),h.push({id:"new-doc",type:"create",label:"Create Document",action:()=>{o("doc"),t()}}),h.push({id:"new-flow",type:"create",label:"Create Flowchart",action:()=>{o("flowchart"),t()}}),b("todo")||h.push({id:"new-todo",type:"create",label:"Create Task List",action:()=>{o("todo"),t()}}),b("kanban")||h.push({id:"new-kanban",type:"create",label:"Create Bug Tracker",action:()=>{o("kanban"),t()}}),b("roadmap")||h.push({id:"new-roadmap",type:"create",label:"Create Roadmap",action:()=>{o("roadmap"),t()}}),h.push({id:"new-grid",type:"create",label:"Create Data Grid",action:()=>{o("grid"),t()}}),h.push({id:"new-wb",type:"create",label:"Create Whiteboard",action:()=>{o("whiteboard"),t()}})}n.forEach(b=>{b.id!==(r==null?void 0:r.id)&&h.push({id:b.id,type:"project",label:b.name,subLabel:b.isLocal?"Switch to Local Repo":"Switch Project",action:()=>{i(b.id),t()}})});const v=h.filter(b=>b.label.toLowerCase().includes(a.toLowerCase())||b.type.toLowerCase().includes(a.toLowerCase()));u>=v.length&&v.length>0&&d(v.length-1);const y=b=>{b.key==="ArrowDown"?(b.preventDefault(),d(f=>(f+1)%v.length)):b.key==="ArrowUp"?(b.preventDefault(),d(f=>(f-1+v.length)%v.length)):b.key==="Enter"?(b.preventDefault(),v[u]&&v[u].action()):b.key==="Escape"&&t()};return l.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-[20vh] bg-black/50 backdrop-blur-sm p-4",onClick:t,children:l.jsxs("div",{className:"w-full max-w-2xl bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl overflow-hidden flex flex-col",onClick:b=>b.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center px-4 py-3 border-b border-zinc-800",children:[l.jsx(ro,{className:"w-5 h-5 text-zinc-500 mr-3"}),l.jsx("input",{ref:m,type:"text",className:"flex-1 bg-transparent text-lg text-white placeholder-zinc-600 focus:outline-none",placeholder:r?`Search files in ${r.name}...`:"Search projects...",value:a,onChange:b=>{c(b.target.value),d(0)},onKeyDown:y}),l.jsx("div",{className:"text-xs text-zinc-600 border border-zinc-800 rounded px-2 py-1",children:"ESC"})]}),l.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar p-2",children:v.length===0?l.jsx("div",{className:"p-4 text-center text-zinc-500",children:"No results found."}):v.map((b,f)=>l.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg cursor-pointer transition-colors ${f===u?"bg-blue-600 text-white":"text-zinc-300 hover:bg-zinc-800"}`,onClick:()=>b.action(),onMouseEnter:()=>d(f),children:[l.jsx("div",{className:`p-2 rounded-md ${f===u?"bg-white/20":"bg-zinc-800"}`,children:x(b.type)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-sm",children:b.label}),b.subLabel&&l.jsx("div",{className:`text-xs ${f===u?"text-blue-200":"text-zinc-500"}`,children:b.subLabel})]}),f===u&&l.jsx("div",{className:"text-xs opacity-70",children:"Enter"})]},`${b.type}-${b.id}`))}),l.jsxs("div",{className:"px-4 py-2 bg-zinc-950 border-t border-zinc-800 text-[10px] text-zinc-500 flex justify-between",children:[l.jsx("span",{children:"Navigate with "}),l.jsx("span",{children:'Use keywords like "create", "todo", "doc"'})]})]})})},y5=({isOpen:e,onClose:t})=>{if(!e)return null;const n=[{icon:ja,color:"text-blue-400",title:"Documents",desc:"Markdown-based text editor. Use this for Game Design Documents (GDD), technical specifications, story drafts, and general notes. Supports inserting images from the Asset Library."},{icon:fd,color:"text-purple-400",title:"Flowcharts",desc:"Node-based diagram editor. Perfect for visualizing game loops, dialogue trees, quest branching, or finite state machines (FSM) for AI behavior."},{icon:Cs,color:"text-emerald-400",title:"Task Lists",desc:"Simple, prioritized checklist for daily tasks. Supports sub-tasks and drag-and-drop reordering to keep track of immediate to-dos."},{icon:nl,color:"text-red-400",title:"Bug Tracker",desc:"A Kanban board (To Do, In Progress, Done) designed for tracking bugs, glitches, and feature requests. Allows assigning severity levels to issues."},{icon:dd,color:"text-amber-400",title:"Roadmap",desc:"Timeline view for long-term project planning. Create phases and milestones to visualize your development schedule over weeks or months."},{icon:hd,color:"text-cyan-400",title:"Data Grid",desc:"Spreadsheet-like database editor. Essential for balancing game stats (e.g., weapon damage, enemy HP), managing item lists, or localized strings."},{icon:sl,color:"text-pink-400",title:"Whiteboard",desc:"Infinite canvas for freehand drawing and brainstorming. Great for quick level layout sketches, UI mockups, or scribbling ideas during meetings."},{icon:Ys,color:"text-indigo-400",title:"Asset Library",desc:"Central repository for project images. Upload reference art or screenshots here to use them inside Documents and Whiteboards."}];return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-800 bg-zinc-950/50 rounded-t-2xl",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:l.jsx(O1,{className:"w-6 h-6 text-blue-500"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"DevArchitect Guide"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Project management suite for game developers"})]})]}),l.jsx("button",{onClick:t,className:"p-2 text-zinc-500 hover:text-white hover:bg-zinc-800 rounded-full transition-colors",children:l.jsx(Kr,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar bg-zinc-900/50",children:[l.jsxs("div",{className:"mb-10 bg-zinc-800/30 border border-zinc-700/50 rounded-xl p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-zinc-100 mb-2",children:"What is this tool?"}),l.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"DevArchitect is an offline-capable workspace designed to centralize the messy process of game development planning. Instead of scattering your GDDs in Word, tasks in Trello, and stats in Excel, this tool keeps everything in one project file that can be saved locally to your disk or version control system."})]}),l.jsx("h3",{className:"text-sm font-bold text-zinc-500 uppercase tracking-wider mb-4 px-2",children:"Available Tools"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(r=>l.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border border-zinc-800 bg-zinc-950 hover:border-zinc-700 transition-colors",children:[l.jsx("div",{className:`shrink-0 p-3 rounded-lg bg-zinc-900 h-fit ${r.color}`,children:l.jsx(r.icon,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-zinc-200 mb-1",children:r.title}),l.jsx("p",{className:"text-sm text-zinc-500 leading-snug",children:r.desc})]})]},r.title))}),l.jsx("div",{className:"mt-10 p-4 border-t border-zinc-800 text-center text-xs text-zinc-600",children:l.jsxs("p",{children:["Use ",l.jsx("span",{className:"font-mono bg-zinc-800 px-1 rounded text-zinc-400",children:"Ctrl + K"})," to open the Command Palette anywhere."]})})]})]})})};var mn=(e=>(e.DASHBOARD="DASHBOARD",e.PROJECT="PROJECT",e))(mn||{});const qh=e=>{let t;const n=new Set,r=(u,d)=>{const m=typeof u=="function"?u(t):u;if(!Object.is(m,t)){const x=t;t=d??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(h=>h(t,x))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},v5=e=>e?qh(e):qh,w5=e=>e;function b5(e,t=w5){const n=ae.useSyncExternalStore(e.subscribe,ae.useCallback(()=>t(e.getState()),[e,t]),ae.useCallback(()=>t(e.getInitialState()),[e,t]));return ae.useDebugValue(n),n}const Qh=e=>{const t=v5(e),n=r=>b5(t,r);return Object.assign(n,t),n},k5=e=>e?Qh(e):Qh,jn=k5(e=>({projects:[],isLoaded:!1,currentView:mn.DASHBOARD,activeProjectId:null,activeFileId:null,setProjects:t=>e(n=>({projects:typeof t=="function"?t(n.projects):t})),setIsLoaded:t=>e({isLoaded:t}),setCurrentView:t=>e({currentView:t}),setActiveProjectId:t=>e({activeProjectId:t}),setActiveFileId:t=>e({activeFileId:t})})),N5=e=>{try{const t=e.split(","),n=t[0].match(/:(.*?);/),r=n?n[1]:"application/octet-stream",s=atob(t[1]);let i=s.length;const o=new Uint8Array(i);for(;i--;)o[i]=s.charCodeAt(i);return new Blob([o],{type:r})}catch(t){return console.error("Failed to convert base64 to blob",t),new Blob([])}},pn={DB_VERSION:3,DB_NAME:"devarchitect_db",STORE_PROJECTS:"projects",STORE_HANDLES:"handles",STORE_APP_STATE:"app_state",APP_STATE_KEY:"session",init:function(){return new Promise((e,t)=>{const n=indexedDB.open(this.DB_NAME,this.DB_VERSION);n.onerror=()=>t(n.error),n.onupgradeneeded=r=>{const s=r.target.result;s.objectStoreNames.contains(this.STORE_PROJECTS)||s.createObjectStore(this.STORE_PROJECTS,{keyPath:"id"}),s.objectStoreNames.contains(this.STORE_HANDLES)||s.createObjectStore(this.STORE_HANDLES),s.objectStoreNames.contains(this.STORE_APP_STATE)||s.createObjectStore(this.STORE_APP_STATE)},n.onsuccess=()=>e()})},saveProject:function(e){return new Promise((t,n)=>{const r=indexedDB.open(this.DB_NAME,this.DB_VERSION);r.onsuccess=s=>{const i=s.target.result.transaction([this.STORE_PROJECTS],"readwrite");i.objectStore(this.STORE_PROJECTS).put(e),i.oncomplete=()=>t(),i.onerror=()=>n(i.error)}})},saveHandle:function(e,t){return new Promise((n,r)=>{const s=indexedDB.open(this.DB_NAME,this.DB_VERSION);s.onsuccess=i=>{const o=i.target.result.transaction([this.STORE_HANDLES],"readwrite");o.objectStore(this.STORE_HANDLES).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>r(o.error)}})},loadAllProjects:function(){return new Promise((e,t)=>{const n=indexedDB.open(this.DB_NAME,this.DB_VERSION);n.onsuccess=r=>{const i=r.target.result.transaction([this.STORE_PROJECTS],"readonly").objectStore(this.STORE_PROJECTS).getAll();i.onsuccess=()=>e(i.result),i.onerror=()=>t(i.error)},n.onerror=()=>e([])})},loadHandle:function(e){return new Promise((t,n)=>{const r=indexedDB.open(this.DB_NAME,this.DB_VERSION);r.onsuccess=s=>{const o=s.target.result.transaction([this.STORE_HANDLES],"readonly").objectStore(this.STORE_HANDLES).get(e);o.onsuccess=()=>t(o.result),o.onerror=()=>t(null)},r.onerror=()=>t(null)})},delete:function(e){return new Promise((t,n)=>{const r=indexedDB.open(this.DB_NAME,this.DB_VERSION);r.onsuccess=s=>{const i=s.target.result.transaction([this.STORE_PROJECTS,this.STORE_HANDLES],"readwrite");i.objectStore(this.STORE_PROJECTS).delete(e),i.objectStore(this.STORE_HANDLES).delete(e),i.oncomplete=()=>t()}})},saveAppState:function(e){return new Promise(t=>{const n=indexedDB.open(this.DB_NAME,this.DB_VERSION);n.onsuccess=r=>{const s=r.target.result.transaction([this.STORE_APP_STATE],"readwrite");s.objectStore(this.STORE_APP_STATE).put(e,this.APP_STATE_KEY),s.oncomplete=()=>t(),s.onerror=()=>t()},n.onerror=()=>t()})},loadAppState:function(){return new Promise(e=>{const t=indexedDB.open(this.DB_NAME,this.DB_VERSION);t.onsuccess=n=>{const s=n.target.result.transaction([this.STORE_APP_STATE],"readonly").objectStore(this.STORE_APP_STATE).get(this.APP_STATE_KEY);s.onsuccess=()=>e(s.result||null),s.onerror=()=>e(null)},t.onerror=()=>e(null)})}},$t=[{type:"doc",label:"Document",pluralLabel:"Documents",icon:ja,component:QS,createDefaultContent:e=>`# ${e}

Created on ${new Date().toLocaleDateString()}`},{type:"flowchart",label:"Flowchart",pluralLabel:"Flowcharts",icon:fd,component:KS,createDefaultContent:()=>({nodes:[],edges:[]})},{type:"todo",label:"Task List",pluralLabel:"Task Lists",icon:Cs,component:t5,createDefaultContent:()=>({items:[]})},{type:"kanban",label:"Bug Tracker",pluralLabel:"Bug Trackers",icon:nl,component:r5,createDefaultContent:()=>({tasks:[]})},{type:"roadmap",label:"Roadmap",pluralLabel:"Roadmaps",icon:dd,component:i5,createDefaultContent:()=>({items:[]})},{type:"grid",label:"Data Grid",pluralLabel:"Data Grids",icon:hd,component:c5,createDefaultContent:()=>({columns:[],rows:[]})},{type:"whiteboard",label:"Whiteboard",pluralLabel:"Whiteboards",icon:sl,component:m5,createDefaultContent:()=>""},{type:"asset-gallery",label:"Asset Library",pluralLabel:"Asset Libraries",icon:Ys,component:g5,createDefaultContent:()=>({})}],_t="asset-gallery",qi="Asset Library",Jh="application/x-gdpm-file-id",Ar=new Set([_t,"todo","kanban","roadmap"]),Xg=[{type:_t,name:qi},{type:"todo",name:"Task List"},{type:"kanban",name:"Bug Tracker"},{type:"roadmap",name:"Roadmap"}],S5=()=>({id:crypto.randomUUID(),name:qi,type:_t,content:{},folderId:null}),_5=(e,t)=>{const n=$t.find(r=>r.type===e);return{id:crypto.randomUUID(),name:t,type:e,content:n?n.createDefaultContent(t):"",folderId:null}},cs=e=>{const t=e.files||[],n=t.filter(o=>o.type===_t),r=new Map,s=[];for(const o of t.filter(a=>a.type!==_t)){if(Ar.has(o.type)){r.has(o.type)||r.set(o.type,{...o,folderId:null});continue}s.push(o)}let i=n[0]||S5();(i.name!==qi||i.folderId!==null)&&(i={...i,name:qi,folderId:null});for(const o of Xg){if(o.type===_t)continue;const a=r.get(o.type);a?s.push({...a,name:o.name,folderId:null}):s.push(_5(o.type,o.name))}return{...e,folders:e.folders||[],assets:e.assets||{},files:[...s,i]}},ep=[{id:"1",name:"Cosmic Invaders",type:"Game",description:"A retro-style space shooter.",lastModified:Date.now(),files:[{id:"f1",name:"Game Design Document",type:"doc",content:"# Cosmic Invaders",folderId:null},{id:"f-asset-lib",name:qi,type:_t,content:{},folderId:null}],folders:[],assets:{}}],z5=()=>{const e=jn(K=>K.projects),t=jn(K=>K.isLoaded),n=jn(K=>K.currentView),r=jn(K=>K.activeProjectId),s=jn(K=>K.activeFileId),i=jn(K=>K.setProjects),o=jn(K=>K.setIsLoaded),a=jn(K=>K.setCurrentView),c=jn(K=>K.setActiveProjectId),u=jn(K=>K.setActiveFileId),[d,m]=C.useState(!1),[x,h]=C.useState(!1),[v,y]=C.useState(new Set),[b,f]=C.useState({open:!1,folderId:null}),[g,k]=C.useState(""),[N,E]=C.useState("doc"),[D,T]=C.useState({open:!1,fileId:null,name:""}),[L,M]=C.useState(null),[F,q]=C.useState(null),z=ae.useRef(!1),$=ae.useRef(null),p=ae.useRef(new Map),R=ae.useRef([]);R.current=e,C.useEffect(()=>{R.current=e},[e]),C.useEffect(()=>{(async()=>{var se;try{await pn.init();const de=await pn.loadAllProjects(),fe=await pn.loadAppState();for(const V of de)if(V.isLocal){const ie=await pn.loadHandle(V.id);ie&&p.current.set(V.id,ie)}const we=de.map(cs),ke=we.length>0?we:ep.map(cs);i(ke);const Pe=fe!=null&&fe.activeProjectId&&ke.some(V=>V.id===fe.activeProjectId)?fe.activeProjectId:null,He=Pe?ke.find(V=>V.id===Pe):null,B=He&&((se=He.files.find(V=>V.type!==_t)||He.files.find(V=>V.type===_t))==null?void 0:se.id)||null,j=fe!=null&&fe.activeFileId&&(He!=null&&He.files.some(V=>V.id===fe.activeFileId))?fe.activeFileId:B;Pe&&(fe==null?void 0:fe.currentView)===mn.PROJECT?(a(mn.PROJECT),c(Pe),u(j)):(a(mn.DASHBOARD),c(null),u(null))}catch(de){console.error("Init error",de),i(ep.map(cs)),a(mn.DASHBOARD),c(null),u(null)}finally{o(!0)}})()},[u,c,a,o,i]),C.useEffect(()=>{t&&e.length>0&&e.forEach(K=>pn.saveProject(K))},[e,t]),C.useEffect(()=>{t&&pn.saveAppState({currentView:n,activeProjectId:r,activeFileId:s})},[t,n,r,s]),C.useEffect(()=>{const K=se=>{(se.ctrlKey||se.metaKey)&&se.key==="k"&&(se.preventDefault(),m(de=>!de))};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[]);const W=async K=>{const se=p.current.get(K.id);if(se)try{const de={...K,assets:{}},we=await(await se.getFileHandle("project.json",{create:!0})).createWritable();if(await we.write(JSON.stringify(de,null,2)),await we.close(),K.assets&&Object.keys(K.assets).length>0){const ke=await se.getDirectoryHandle("assets",{create:!0});for(const[Pe,He]of Object.entries(K.assets)){const B=He.startsWith("data:image/png")?"png":"jpg",j=`${Pe}.${B}`,ie=await(await ke.getFileHandle(j,{create:!0})).createWritable();await ie.write(N5(He)),await ie.close()}}}catch(de){console.error("Failed to save to disk:",de)}},H=async()=>{if(z.current||!$.current)return;const K=$.current;$.current=null,z.current=!0;try{await W(K)}catch(se){console.error("Save queue error:",se)}finally{z.current=!1,$.current&&H()}},G=async K=>{try{const fe=await(await(await K.getFileHandle("project.json")).getFile()).text(),we=JSON.parse(fe);we.folders||(we.folders=[]),we.files&&(we.files=we.files.map(Pe=>({...Pe,folderId:Pe.folderId||null})));const ke={};try{const Pe=await K.getDirectoryHandle("assets");for await(const He of Pe.values())if(He.kind==="file"){const B=await He.getFile(),j=new FileReader,V=await new Promise(pe=>{j.onload=Ne=>{var Ue;return pe((Ue=Ne.target)==null?void 0:Ue.result)},j.readAsDataURL(B)}),ie=He.name.split(".")[0];ke[ie]=V}}catch{}return we.assets=ke,we.isLocal=!0,cs(we)}catch{return null}},I=async()=>{if(typeof window.showDirectoryPicker!="function"){alert("Browser not supported. Please use Chrome, Edge, or Opera on desktop.");return}try{const K=await window.showDirectoryPicker({id:"devarchitect_open",mode:"readwrite"});let se=await G(K);const de=[];if(se&&(de.push(se),await pn.saveHandle(se.id,K),p.current.set(se.id,K)),de.length>0){const fe=new Set(de.map(we=>we.id));i(we=>[...de,...we.filter(ke=>!fe.has(ke.id))]),de.forEach(we=>pn.saveProject(we))}else alert("No 'project.json' found in selected folder.")}catch(K){if(K.name==="AbortError")return;console.error("Error opening folder:",K)}},Y=async K=>{const se=e.find(fe=>fe.id===K);if(!se)return;const de=se.files.find(fe=>fe.type!==_t)||se.files.find(fe=>fe.type===_t);c(K),u((de==null?void 0:de.id)||null),a(mn.PROJECT)},A=async(K,se,de="")=>{const fe=K.trim(),we=$t.find(Pe=>Pe.type==="doc"),ke=cs({id:crypto.randomUUID(),name:fe,type:se,description:de.trim(),lastModified:Date.now(),files:[{id:crypto.randomUUID(),name:"Readme",type:"doc",content:we?we.createDefaultContent(fe):"",folderId:null}],folders:[],assets:{}});i(Pe=>[ke,...Pe]),pn.saveProject(ke)},P=(K,se)=>{const de=e.find(we=>we.id===K);if(!de)return;const fe=se.name.trim();if(!fe){alert("Project name is required.");return}J({...de,name:fe,description:se.description.trim(),lastModified:Date.now()})},le=async K=>{e.find(de=>de.id===K)&&confirm("Delete project?")&&(await pn.delete(K),p.current.delete(K),i(de=>de.filter(fe=>fe.id!==K)),r===K&&(c(null),a(mn.DASHBOARD)))},ne=async K=>{const se=new Nv,de={...K,assets:{}};se.file("project.json",JSON.stringify(de,null,2));const fe=se.folder("assets");K.assets&&fe&&Object.entries(K.assets).forEach(([He,B])=>{const j=B.split(",")[1],V=B.substring(B.indexOf("/")+1,B.indexOf(";"));fe.file(`${He}.${V}`,j,{base64:!0})});const we=await se.generateAsync({type:"blob"}),ke=window.URL.createObjectURL(we),Pe=document.createElement("a");Pe.href=ke,Pe.download=`${K.name.replace(/\s+/g,"_")}.zip`,Pe.click(),window.URL.revokeObjectURL(ke)},J=K=>{const se=cs(K);i(de=>{const fe=de.map(we=>we.id===se.id?se:we);return R.current=fe,fe}),se.isLocal&&($.current=se,H()),pn.saveProject(se)},ve=K=>{if(!r)return;const se=prompt("Folder Name:");if(!se)return;const de=e.find(fe=>fe.id===r);if(de){const fe={id:crypto.randomUUID(),name:se,parentId:K};J({...de,folders:[...de.folders,fe]}),y(we=>new Set(we).add(fe.id).add(K||""))}},Ce=K=>{if(!r)return;const se=e.find(de=>de.id===r);if(se){const de=new Set([K]);let fe=!0;for(;fe;){fe=!1;for(const Ne of se.folders)Ne.parentId&&de.has(Ne.parentId)&&!de.has(Ne.id)&&(de.add(Ne.id),fe=!0)}const we=se.files.filter(Ne=>Ne.folderId&&de.has(Ne.folderId)),ke=new Set(we.map(Ne=>Ne.id)),Pe=de.size,He=we.length;if(!confirm(`Delete this folder and all of its contents?

This will permanently delete ${Pe} ${Pe===1?"folder":"folders"} and ${He} ${He===1?"file":"files"}.`))return;const ie=se.folders.filter(Ne=>!de.has(Ne.id)),pe=se.files.filter(Ne=>!Ne.folderId||!de.has(Ne.folderId));if(J({...se,lastModified:Date.now(),files:pe,folders:ie}),s&&ke.has(s)){const Ne=pe.find(Ue=>Ue.type!==_t)||pe.find(Ue=>Ue.type===_t);u((Ne==null?void 0:Ne.id)||null)}y(Ne=>{const Ue=new Set(Ne);for(const We of de)Ue.delete(We);return Ue})}},Ee=(K,se)=>Ar.has(K.type)&&se.files.filter(de=>de.type===K.type).length<=1,je=()=>{T({open:!1,fileId:null,name:""})},re=(K,se)=>{if(K.stopPropagation(),!U)return;const de=U.files.find(fe=>fe.id===se);if(de){if(Ee(de,U)){const fe=$t.find(we=>we.type===de.type);alert(`${(fe==null?void 0:fe.label)||de.type} is a required main file and cannot be renamed.`);return}T({open:!0,fileId:de.id,name:de.name})}},he=K=>{if(K.preventDefault(),!U||!D.fileId)return;const se=D.name.trim();if(!se)return;const de=U.files.find(fe=>fe.id===D.fileId);if(!de){je();return}if(Ee(de,U)){const fe=$t.find(we=>we.type===de.type);alert(`${(fe==null?void 0:fe.label)||de.type} is a required main file and cannot be renamed.`),je();return}J({...U,lastModified:Date.now(),files:U.files.map(fe=>fe.id===de.id?{...fe,name:se}:fe)}),je()},te=(K,se)=>K===_t?!1:!se||!Ar.has(K)?!0:!se.files.some(de=>de.type===K),ye=(K,se)=>{var Pe;const de=e.find(He=>He.id===r),we=((Pe=$t.filter(He=>te(He.type,de))[0])==null?void 0:Pe.type)||"doc",ke=se&&te(se,de)?se:we;if(se&&!te(se,de)){const He=$t.find(B=>B.type===se);alert(`Only one ${(He==null?void 0:He.label)||se} is allowed per project.`)}f({open:!0,folderId:K}),k(""),E(ke)},w=K=>{if(K.preventDefault(),!r||!g)return;const se=e.find(we=>we.id===r);if(!se)return;if(!te(N,se)){const we=$t.find(ke=>ke.type===N);alert(`Only one ${(we==null?void 0:we.label)||N} is allowed per project.`);return}const de=$t.find(we=>we.type===N);if(!de)return;const fe={id:crypto.randomUUID(),name:g,type:N,content:de.createDefaultContent(g),folderId:b.folderId};J({...se,lastModified:Date.now(),files:[...se.files,fe]}),u(fe.id),b.folderId&&y(we=>new Set(we).add(b.folderId)),f({open:!1,folderId:null})},ee=(K,se)=>{if(K.stopPropagation(),!r)return;const de=e.find(we=>we.id===r);if(!de)return;const fe=de.files.find(we=>we.id===se);if(fe){if(Ee(fe,de)){const we=$t.find(ke=>ke.type===fe.type);alert(`${(we==null?void 0:we.label)||fe.type} is required in every project and cannot be deleted.`);return}if(confirm("Delete file?")){const we=de.files.filter(ke=>ke.id!==se);if(J({...de,files:we}),s===se){const ke=we.find(Pe=>Pe.type!==_t)||we.find(Pe=>Pe.type===_t);u((ke==null?void 0:ke.id)||null)}}}},Q=K=>new Promise((se,de)=>{const fe=new FileReader;fe.onload=we=>{var Pe;const ke=(Pe=we.target)==null?void 0:Pe.result;if(typeof ke=="string"){se(ke);return}de(new Error("Failed to read image data."))},fe.onerror=()=>de(fe.error||new Error("Failed to read image file.")),fe.onabort=()=>de(new Error("Image read was aborted.")),fe.readAsDataURL(K)}),S=async K=>{if(!r)throw new Error("No active project");const se=await Q(K),de=crypto.randomUUID(),fe=R.current.find(ke=>ke.id===r);if(!fe)throw new Error("Active project not found");const we={...fe,lastModified:Date.now(),assets:{...fe.assets||{},[de]:se}};return R.current=R.current.map(ke=>ke.id===we.id?we:ke),J(we),`asset://${de}`},_=async K=>{if(!r)return;const se=R.current.find(de=>de.id===r);if(se){const de={...se.assets};delete de[K];const fe={...se,lastModified:Date.now(),assets:de};R.current=R.current.map(we=>we.id===fe.id?fe:we),J(fe)}},O=K=>{if(!r||!s)return;const se=R.current.find(de=>de.id===r);if(se){const de={...se,lastModified:Date.now(),files:se.files.map(fe=>fe.id===s?{...fe,content:K}:fe)};R.current=R.current.map(fe=>fe.id===de.id?de:fe),J(de)}},U=e.find(K=>K.id===r),oe=U==null?void 0:U.files.find(K=>K.id===s),X=U?U.files.filter(K=>K.type!==_t).sort((K,se)=>K.name.localeCompare(se.name,void 0,{sensitivity:"base"})).slice(0,6):[],me=new Map(Xg.map((K,se)=>[K.type,se])),be=U?U.files.filter(K=>Ar.has(K.type)).sort((K,se)=>(me.get(K.type)??Number.MAX_SAFE_INTEGER)-(me.get(se.type)??Number.MAX_SAFE_INTEGER)):[],ge=U?U.files.filter(K=>!Ar.has(K.type)).length:0,Ae=K=>{if(U){if(!U.files.some(se=>se.id===K)){alert("Linked file was not found in this project.");return}u(K)}},Be=K=>{const se=K.dataTransfer.getData(Jh);if(se)try{const ke=JSON.parse(se);if(ke!=null&&ke.id)return ke.id}catch{if(U!=null&&U.files.some(ke=>ke.id===se))return se}const de=K.dataTransfer.getData("text/uri-list");if(de!=null&&de.startsWith("file://")){const ke=de.replace("file://","").trim();if(U!=null&&U.files.some(Pe=>Pe.id===ke))return ke}const fe=K.dataTransfer.getData("text/plain"),we=fe.match(/\(file:\/\/([^)]+)\)/);return we!=null&&we[1]&&(U!=null&&U.files.some(ke=>ke.id===we[1]))?we[1]:fe&&(U!=null&&U.files.some(ke=>ke.id===fe.trim()))?fe.trim():L},Re=async K=>{try{await navigator.clipboard.writeText(K)}catch{alert("Failed to copy file ID.")}},Je=K=>{const se=new Set(v);se.has(K)?se.delete(K):se.add(K),y(se)},ct=(K,se)=>{if(!U)return;const de=U.files.find(fe=>fe.id===K);!de||Ar.has(de.type)||(de.folderId||null)===se||J({...U,lastModified:Date.now(),files:U.files.map(fe=>fe.id===K?{...fe,folderId:se}:fe)})},Z=(K,se,de)=>{M(se),K.dataTransfer.effectAllowed="move",K.dataTransfer.setData(Jh,JSON.stringify({id:se,name:de})),K.dataTransfer.setData("application/x-gdpm-file-name",de),K.dataTransfer.setData("text/uri-list",`file://${se}`),K.dataTransfer.setData("text/plain",`[${de}](file://${se})`)},ue=()=>{M(null),q(null)},xe=(K,se)=>{K.preventDefault(),K.stopPropagation(),K.dataTransfer.dropEffect="move",F!==se&&q(se)},Ie=(K,se)=>{K.preventDefault(),K.stopPropagation();const de=Be(K);q(null),M(null),de&&(ct(de,se),y(fe=>new Set(fe).add(se)))},Ve=K=>{K.preventDefault(),K.dataTransfer.dropEffect="move",F!=="root"&&q("root")},Ze=K=>{K.preventDefault();const se=Be(K);q(null),M(null),se&&ct(se,null)},Fe=(K,se=0)=>{if(!U)return null;const de=U.folders.filter(ke=>ke.parentId===K),fe=new Map($t.map((ke,Pe)=>[ke.type,Pe])),we=U.files.filter(ke=>!Ar.has(ke.type)&&(ke.folderId||null)===K).sort((ke,Pe)=>{const He=fe.get(ke.type)??Number.MAX_SAFE_INTEGER,B=fe.get(Pe.type)??Number.MAX_SAFE_INTEGER;return He!==B?He-B:ke.name.localeCompare(Pe.name,void 0,{sensitivity:"base"})});return l.jsxs("div",{children:[de.map(ke=>{const Pe=v.has(ke.id),He=F===ke.id;return l.jsxs("div",{children:[l.jsxs("div",{style:{marginLeft:se*12},onDragOver:B=>xe(B,ke.id),onDrop:B=>Ie(B,ke.id),className:`group flex items-center justify-between rounded-lg pr-1 py-1 mb-0.5 transition-colors ${He?"bg-blue-500/10 ring-1 ring-blue-500/40":"hover:bg-zinc-900"}`,children:[l.jsxs("button",{onClick:()=>Je(ke.id),className:"flex-1 flex items-center gap-2 px-2 text-sm text-zinc-400 hover:text-zinc-200 truncate",children:[Pe?l.jsx(ld,{className:"w-4 h-4"}):l.jsx(cd,{className:"w-4 h-4"}),l.jsx(Gc,{className:"w-4 h-4 text-blue-500/80"}),l.jsx("span",{className:"truncate",children:ke.name})]}),l.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex items-center gap-1",children:[l.jsx("button",{onClick:()=>ye(ke.id),className:"p-1 hover:bg-zinc-800 text-zinc-500 hover:text-white rounded",title:"New File",children:l.jsx(Hf,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:()=>ve(ke.id),className:"p-1 hover:bg-zinc-800 text-zinc-500 hover:text-white rounded",title:"New Subfolder",children:l.jsx(Ca,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:()=>Ce(ke.id),className:"p-1 hover:bg-zinc-800 text-zinc-500 hover:text-red-400 rounded",title:"Delete Folder",children:l.jsx(It,{className:"w-3.5 h-3.5"})})]})]}),Pe&&Fe(ke.id,se+1)]},ke.id)}),we.map(ke=>{const Pe=$t.find(j=>j.type===ke.type),He=(Pe==null?void 0:Pe.icon)||Bl,B=L===ke.id;return l.jsxs("div",{style:{marginLeft:se*12},draggable:!0,onDragStart:j=>Z(j,ke.id,ke.name),onDragEnd:ue,className:`group relative rounded-lg mb-0.5 transition-colors cursor-grab active:cursor-grabbing ${B?"opacity-45 grayscale":"opacity-100 hover:bg-zinc-900"}`,children:[l.jsxs("button",{onClick:()=>u(ke.id),draggable:!0,onDragStart:j=>Z(j,ke.id,ke.name),onDragEnd:ue,className:`w-full flex items-start gap-2 pl-1.5 pr-2 py-1.5 text-sm text-left transition-[padding] duration-150 group-hover:pr-28 ${s===ke.id?"bg-zinc-800 text-white":"text-zinc-400 hover:text-zinc-200"}`,title:ke.name,children:[l.jsx(He,{className:`w-4 h-4 shrink-0 mt-0.5 ${s===ke.id?"text-blue-400":"text-zinc-500"}`}),l.jsx("span",{className:"min-w-0 flex-1 break-words leading-snug",children:ke.name})]}),l.jsxs("div",{className:"absolute right-1 top-1/2 -translate-y-1/2 flex items-center gap-1 rounded-md border border-zinc-700/80 bg-zinc-900/95 px-1 py-0.5 opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto transition-opacity",children:[l.jsx("button",{onClick:j=>{j.stopPropagation(),Re(ke.id)},className:"p-1 text-zinc-500 hover:text-cyan-300 hover:bg-zinc-800 rounded",title:"Copy File ID",children:l.jsx(Zc,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:j=>re(j,ke.id),className:"p-1 text-zinc-500 hover:text-amber-300 hover:bg-zinc-800 rounded",title:"Rename File",children:l.jsx(Bi,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:j=>ee(j,ke.id),className:"p-1 text-zinc-500 hover:text-red-400 hover:bg-zinc-800 rounded",title:"Delete File",children:l.jsx(It,{className:"w-3.5 h-3.5"})})]})]},ke.id)})]})},Ke=()=>n===mn.DASHBOARD||!U?l.jsxs("aside",{className:"w-16 md:w-20 bg-zinc-950 border-r border-zinc-800 flex flex-col items-center py-6 gap-6 z-20",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-900/20 mb-4",children:l.jsx(Gc,{className:"w-6 h-6 text-white"})}),l.jsx("button",{className:"p-3 rounded-xl bg-zinc-800 text-white shadow-md",title:"Dashboard",children:l.jsx(xm,{className:"w-5 h-5"})}),l.jsx("div",{className:"mt-auto",children:l.jsx("button",{onClick:()=>h(!0),className:"p-3 rounded-xl text-zinc-500 hover:bg-zinc-800 hover:text-white transition-colors",title:"Help",children:l.jsx(Zf,{className:"w-5 h-5"})})})]}):l.jsxs("aside",{className:"w-80 bg-zinc-950 border-r border-zinc-800 flex flex-col z-20",children:[l.jsxs("div",{className:"h-16 flex items-center px-4 border-b border-zinc-800 shrink-0 gap-2",children:[l.jsx("button",{onClick:()=>{c(null),a(mn.DASHBOARD)},className:"p-2 hover:bg-zinc-900 rounded-lg text-zinc-400 hover:text-white",children:l.jsx(M1,{className:"w-4 h-4"})}),l.jsx("span",{className:"font-semibold text-zinc-200 truncate flex-1",children:U.name})]}),l.jsxs("div",{className:"px-3 py-3 border-b border-zinc-900 flex gap-2",children:[l.jsxs("button",{onClick:()=>ye(null),className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white py-1.5 rounded-md text-xs font-medium transition-colors",children:[l.jsx(Hf,{className:"w-3.5 h-3.5"})," New File"]}),l.jsx("button",{onClick:()=>ve(null),className:"px-3 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 py-1.5 rounded-md text-xs font-medium transition-colors",title:"New Folder",children:l.jsx(Ca,{className:"w-3.5 h-3.5"})})]}),be.length>0&&l.jsxs("div",{className:"px-3 pt-3",children:[l.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-wide text-zinc-500",children:"Project Systems"}),l.jsx("div",{className:"space-y-1",children:be.map(K=>{const se=$t.find(fe=>fe.type===K.type),de=(se==null?void 0:se.icon)||Bl;return l.jsxs("button",{onClick:()=>u(K.id),draggable:!0,onDragStart:fe=>Z(fe,K.id,K.name),onDragEnd:ue,className:`group relative w-full flex items-start gap-2 px-2 py-2 rounded-lg text-sm transition-colors border cursor-grab active:cursor-grabbing ${s===K.id?"bg-zinc-800 text-white border-blue-500/40":"text-zinc-300 hover:text-white hover:bg-zinc-900 border-zinc-800"}`,title:`Drag to create link to ${K.name}`,children:[l.jsx(de,{className:`w-4 h-4 mt-0.5 shrink-0 ${s===K.id?"text-blue-400":"text-zinc-500"}`}),l.jsx("span",{className:"min-w-0 flex-1 break-words leading-snug text-left",children:K.name}),l.jsx("span",{onClick:fe=>{fe.stopPropagation(),Re(K.id)},className:"absolute right-1 top-1/2 -translate-y-1/2 p-1 text-zinc-500 hover:text-cyan-300 hover:bg-zinc-800 rounded border border-zinc-700/80 bg-zinc-900/95 opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto transition-opacity",title:"Copy File ID",children:l.jsx(Zc,{className:"w-3.5 h-3.5"})})]},K.id)})}),l.jsx("div",{className:"my-3 border-t border-zinc-800"}),l.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-wide text-zinc-600",children:"Project Files"})]}),l.jsxs("div",{className:`p-3 flex-1 overflow-y-auto custom-scrollbar transition-colors ${F==="root"?"bg-blue-500/5 ring-1 ring-inset ring-blue-500/30 rounded-lg":""}`,onDragOver:Ve,onDrop:Ze,children:[Fe(null),ge===0&&U.folders.length===0&&l.jsx("div",{className:"text-center py-8 text-zinc-600 text-xs italic",children:"Project is empty. Create a file or folder to get started."})]}),l.jsx("div",{className:"p-4 border-t border-zinc-800",children:l.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-3 px-3 py-2 text-zinc-500 hover:text-white hover:bg-zinc-900 rounded-lg w-full transition-colors",children:[l.jsx(Zf,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:"Guide & Help"})]})})]});return l.jsxs("div",{className:"flex h-screen bg-black text-zinc-100 font-sans overflow-hidden",children:[Ke(),l.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-zinc-950",children:[l.jsx("div",{className:"flex-1 overflow-hidden relative",children:n===mn.DASHBOARD?l.jsx(Sv,{projects:e,onSelectProject:Y,onCreateProject:A,onUpdateProject:P,onExportProject:ne,onDeleteProject:le,onImportFolder:I}):U&&oe?ae.createElement($t.find(K=>K.type===oe.type).component,{key:oe.id,fileName:oe.name,initialContent:oe.content,onSave:O,assets:U.assets||{},onAddAsset:S,onDeleteAsset:_,projectFiles:U.files,activeFileId:s,onOpenFile:Ae}):l.jsx("div",{className:"h-full flex items-center justify-center p-6",children:l.jsxs("div",{className:"w-full max-w-2xl bg-zinc-900 border border-zinc-800 rounded-xl p-6 shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Bl,{className:"w-7 h-7 text-zinc-500"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-zinc-100",children:"Start Working"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Open an existing file or create a new one."})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-5",children:[l.jsxs("button",{onClick:()=>ye(null,"doc"),className:"px-4 py-3 rounded-lg bg-zinc-950 border border-zinc-800 text-left hover:border-blue-500/40 hover:bg-zinc-900",children:[l.jsx("p",{className:"text-sm font-medium text-zinc-100",children:"New Document"}),l.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Write specs and notes."})]}),l.jsxs("button",{onClick:()=>ye(null,"whiteboard"),className:"px-4 py-3 rounded-lg bg-zinc-950 border border-zinc-800 text-left hover:border-blue-500/40 hover:bg-zinc-900",children:[l.jsx("p",{className:"text-sm font-medium text-zinc-100",children:"New Whiteboard"}),l.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Sketch ideas visually."})]}),l.jsxs("button",{onClick:()=>ye(null,"flowchart"),className:"px-4 py-3 rounded-lg bg-zinc-950 border border-zinc-800 text-left hover:border-blue-500/40 hover:bg-zinc-900",children:[l.jsx("p",{className:"text-sm font-medium text-zinc-100",children:"New Flowchart"}),l.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Map systems and logic."})]})]}),l.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-zinc-500 mb-2",children:"Open Existing"}),X.length>0?l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:X.map(K=>l.jsx("button",{onClick:()=>u(K.id),className:"px-3 py-2 rounded-md bg-zinc-950 border border-zinc-800 text-zinc-300 hover:text-white hover:bg-zinc-900 text-left truncate",children:K.name},K.id))}):l.jsx("p",{className:"text-sm text-zinc-500",children:"No files yet. Use one of the create actions above."})]})]})})}),l.jsx(x5,{isOpen:d,onClose:()=>m(!1),projects:e,activeProject:U,onSelectFile:K=>{u(K)},onSelectProject:Y,onCreateFile:K=>ye(null,K)}),l.jsx(y5,{isOpen:x,onClose:()=>h(!1)}),D.open&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-sm p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Rename File"}),l.jsx("button",{onClick:je,children:l.jsx(Kr,{className:"w-5 h-5 text-zinc-500"})})]}),l.jsxs("form",{onSubmit:he,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"File Name"}),l.jsx("input",{autoFocus:!0,type:"text",required:!0,value:D.name,onChange:K=>T(se=>({...se,name:K.target.value})),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:ring-2 focus:ring-blue-600 outline-none",placeholder:"e.g. Combat Notes"})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{type:"button",onClick:je,className:"flex-1 px-3 py-2 rounded-lg text-zinc-300 hover:bg-zinc-800 transition-colors text-sm font-medium",children:"Cancel"}),l.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg text-sm font-medium transition-colors",children:"Save"})]})]})]})}),b.open&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-sm p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Create New File"}),l.jsx("button",{onClick:()=>f({open:!1,folderId:null}),children:l.jsx(Kr,{className:"w-5 h-5 text-zinc-500"})})]}),l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Name"}),l.jsx("input",{autoFocus:!0,type:"text",required:!0,value:g,onChange:K=>k(K.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:ring-2 focus:ring-blue-600 outline-none",placeholder:"e.g. Character Specs"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Type"}),l.jsx("select",{value:N,onChange:K=>E(K.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:ring-2 focus:ring-blue-600 outline-none",children:$t.filter(K=>te(K.type,U)).map(K=>l.jsx("option",{value:K.type,children:K.label},K.type))})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Create File"})]})]})})]})]})},qg=document.getElementById("root");if(!qg)throw new Error("Could not find root element to mount to");const E5=Jl.createRoot(qg);E5.render(l.jsx(ae.StrictMode,{children:l.jsx(z5,{})}));
