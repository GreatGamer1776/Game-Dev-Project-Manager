(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Eh={exports:{}},ka={},jh={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi=Symbol.for("react.element"),Ag=Symbol.for("react.portal"),Mg=Symbol.for("react.fragment"),Pg=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),Lg=Symbol.for("react.provider"),Og=Symbol.for("react.context"),$g=Symbol.for("react.forward_ref"),Fg=Symbol.for("react.suspense"),Bg=Symbol.for("react.memo"),Hg=Symbol.for("react.lazy"),pd=Symbol.iterator;function Ug(e){return e===null||typeof e!="object"?null:(e=pd&&e[pd]||e["@@iterator"],typeof e=="function"?e:null)}var Ch={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dh=Object.assign,Th={};function Ps(e,t,n){this.props=e,this.context=t,this.refs=Th,this.updater=n||Ch}Ps.prototype.isReactComponent={};Ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ih(){}Ih.prototype=Ps.prototype;function Kc(e,t,n){this.props=e,this.context=t,this.refs=Th,this.updater=n||Ch}var Xc=Kc.prototype=new Ih;Xc.constructor=Kc;Dh(Xc,Ps.prototype);Xc.isPureReactComponent=!0;var md=Array.isArray,Ah=Object.prototype.hasOwnProperty,qc={current:null},Mh={key:!0,ref:!0,__self:!0,__source:!0};function Ph(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ah.call(t,r)&&!Mh.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Hi,type:e,key:i,ref:o,props:s,_owner:qc.current}}function Wg(e,t){return{$$typeof:Hi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hi}function Vg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gd=/\/+/g;function Qa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vg(""+e.key):t.toString(36)}function So(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hi:case Ag:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Qa(o,0):r,md(s)?(n="",e!=null&&(n=e.replace(gd,"$&/")+"/"),So(s,t,n,"",function(u){return u})):s!=null&&(Qc(s)&&(s=Wg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",md(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+Qa(i,a);o+=So(i,t,n,c,s)}else if(c=Ug(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+Qa(i,a++),o+=So(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function qi(e,t,n){if(e==null)return e;var r=[],s=0;return So(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Zg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mt={current:null},zo={transition:null},Gg={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:zo,ReactCurrentOwner:qc};function Rh(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:qi,forEach:function(e,t,n){qi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qi(e,function(){t++}),t},toArray:function(e){return qi(e,function(t){return t})||[]},only:function(e){if(!Qc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};He.Component=Ps;He.Fragment=Mg;He.Profiler=Rg;He.PureComponent=Kc;He.StrictMode=Pg;He.Suspense=Fg;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gg;He.act=Rh;He.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dh({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=qc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Ah.call(t,c)&&!Mh.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Hi,type:e.type,key:s,ref:i,props:r,_owner:o}};He.createContext=function(e){return e={$$typeof:Og,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Lg,_context:e},e.Consumer=e};He.createElement=Ph;He.createFactory=function(e){var t=Ph.bind(null,e);return t.type=e,t};He.createRef=function(){return{current:null}};He.forwardRef=function(e){return{$$typeof:$g,render:e}};He.isValidElement=Qc;He.lazy=function(e){return{$$typeof:Hg,_payload:{_status:-1,_result:e},_init:Zg}};He.memo=function(e,t){return{$$typeof:Bg,type:e,compare:t===void 0?null:t}};He.startTransition=function(e){var t=zo.transition;zo.transition={};try{e()}finally{zo.transition=t}};He.unstable_act=Rh;He.useCallback=function(e,t){return Mt.current.useCallback(e,t)};He.useContext=function(e){return Mt.current.useContext(e)};He.useDebugValue=function(){};He.useDeferredValue=function(e){return Mt.current.useDeferredValue(e)};He.useEffect=function(e,t){return Mt.current.useEffect(e,t)};He.useId=function(){return Mt.current.useId()};He.useImperativeHandle=function(e,t,n){return Mt.current.useImperativeHandle(e,t,n)};He.useInsertionEffect=function(e,t){return Mt.current.useInsertionEffect(e,t)};He.useLayoutEffect=function(e,t){return Mt.current.useLayoutEffect(e,t)};He.useMemo=function(e,t){return Mt.current.useMemo(e,t)};He.useReducer=function(e,t,n){return Mt.current.useReducer(e,t,n)};He.useRef=function(e){return Mt.current.useRef(e)};He.useState=function(e){return Mt.current.useState(e)};He.useSyncExternalStore=function(e,t,n){return Mt.current.useSyncExternalStore(e,t,n)};He.useTransition=function(){return Mt.current.useTransition()};He.version="18.3.1";jh.exports=He;var D=jh.exports;const ie=Yc(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg=D,Kg=Symbol.for("react.element"),Xg=Symbol.for("react.fragment"),qg=Object.prototype.hasOwnProperty,Qg=Yg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jg={key:!0,ref:!0,__self:!0,__source:!0};function Lh(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)qg.call(t,r)&&!Jg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Kg,type:e,key:i,ref:o,props:s,_owner:Qg.current}}ka.Fragment=Xg;ka.jsx=Lh;ka.jsxs=Lh;Eh.exports=ka;var l=Eh.exports,Rl={},Oh={exports:{}},Yt={},$h={exports:{}},Fh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,I){var G=V.length;V.push(I);e:for(;0<G;){var M=G-1>>>1,P=V[M];if(0<s(P,I))V[M]=I,V[G]=P,G=M;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var I=V[0],G=V.pop();if(G!==I){V[0]=G;e:for(var M=0,P=V.length,se=P>>>1;M<se;){var Q=2*(M+1)-1,J=V[Q],ve=Q+1,Ee=V[ve];if(0>s(J,G))ve<P&&0>s(Ee,J)?(V[M]=Ee,V[ve]=G,M=ve):(V[M]=J,V[Q]=G,M=Q);else if(ve<P&&0>s(Ee,G))V[M]=Ee,V[ve]=G,M=ve;else break e}}return I}function s(V,I){var G=V.sortIndex-I.sortIndex;return G!==0?G:V.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,m=null,y=3,h=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(V){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=V)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function N(V){if(g=!1,k(V),!v)if(n(c)!==null)v=!0,W(_);else{var I=n(u);I!==null&&U(N,I.startTime-V)}}function _(V,I){v=!1,g&&(g=!1,f(R),R=-1),h=!0;var G=y;try{for(k(I),m=n(c);m!==null&&(!(m.expirationTime>I)||V&&!K());){var M=m.callback;if(typeof M=="function"){m.callback=null,y=m.priorityLevel;var P=M(m.expirationTime<=I);I=e.unstable_now(),typeof P=="function"?m.callback=P:m===n(c)&&r(c),k(I)}else r(c);m=n(c)}if(m!==null)var se=!0;else{var Q=n(u);Q!==null&&U(N,Q.startTime-I),se=!1}return se}finally{m=null,y=G,h=!1}}var C=!1,j=null,R=-1,A=5,B=-1;function K(){return!(e.unstable_now()-B<A)}function T(){if(j!==null){var V=e.unstable_now();B=V;var I=!0;try{I=j(!0,V)}finally{I?$():(C=!1,j=null)}}else C=!1}var $;if(typeof x=="function")$=function(){x(T)};else if(typeof MessageChannel<"u"){var p=new MessageChannel,O=p.port2;p.port1.onmessage=T,$=function(){O.postMessage(null)}}else $=function(){b(T,0)};function W(V){j=V,C||(C=!0,$())}function U(V,I){R=b(function(){V(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,W(_))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(V){switch(y){case 1:case 2:case 3:var I=3;break;default:I=y}var G=y;y=I;try{return V()}finally{y=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,I){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var G=y;y=V;try{return I()}finally{y=G}},e.unstable_scheduleCallback=function(V,I,G){var M=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?M+G:M):G=M,V){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=G+P,V={id:d++,callback:I,priorityLevel:V,startTime:G,expirationTime:P,sortIndex:-1},G>M?(V.sortIndex=G,t(u,V),n(c)===null&&V===n(u)&&(g?(f(R),R=-1):g=!0,U(N,G-M))):(V.sortIndex=P,t(c,V),v||h||(v=!0,W(_))),V},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(V){var I=y;return function(){var G=y;y=I;try{return V.apply(this,arguments)}finally{y=G}}}})(Fh);$h.exports=Fh;var ex=$h.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx=D,Zt=ex;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bh=new Set,pi={};function Ur(e,t){Ns(e,t),Ns(e+"Capture",t)}function Ns(e,t){for(pi[e]=t,e=0;e<t.length;e++)Bh.add(t[e])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ll=Object.prototype.hasOwnProperty,nx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xd={},yd={};function rx(e){return Ll.call(yd,e)?!0:Ll.call(xd,e)?!1:nx.test(e)?yd[e]=!0:(xd[e]=!0,!1)}function sx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ix(e,t,n,r){if(t===null||typeof t>"u"||sx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){St[e]=new Pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];St[t]=new Pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){St[e]=new Pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){St[e]=new Pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){St[e]=new Pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){St[e]=new Pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){St[e]=new Pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){St[e]=new Pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){St[e]=new Pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jc=/[\-:]([a-z])/g;function eu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jc,eu);St[t]=new Pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jc,eu);St[t]=new Pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jc,eu);St[t]=new Pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){St[e]=new Pt(e,1,!1,e.toLowerCase(),null,!1,!1)});St.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){St[e]=new Pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function tu(e,t,n,r){var s=St.hasOwnProperty(t)?St[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ix(t,n,s,r)&&(n=null),r||s===null?rx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vn=tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qi=Symbol.for("react.element"),ts=Symbol.for("react.portal"),ns=Symbol.for("react.fragment"),nu=Symbol.for("react.strict_mode"),Ol=Symbol.for("react.profiler"),Hh=Symbol.for("react.provider"),Uh=Symbol.for("react.context"),ru=Symbol.for("react.forward_ref"),$l=Symbol.for("react.suspense"),Fl=Symbol.for("react.suspense_list"),su=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),Wh=Symbol.for("react.offscreen"),vd=Symbol.iterator;function $s(e){return e===null||typeof e!="object"?null:(e=vd&&e[vd]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Object.assign,Ja;function Qs(e){if(Ja===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ja=t&&t[1]||""}return`
`+Ja+e}var el=!1;function tl(e,t){if(!e||el)return"";el=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{el=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qs(e):""}function ox(e){switch(e.tag){case 5:return Qs(e.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return e=tl(e.type,!1),e;case 11:return e=tl(e.type.render,!1),e;case 1:return e=tl(e.type,!0),e;default:return""}}function Bl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ns:return"Fragment";case ts:return"Portal";case Ol:return"Profiler";case nu:return"StrictMode";case $l:return"Suspense";case Fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uh:return(e.displayName||"Context")+".Consumer";case Hh:return(e._context.displayName||"Context")+".Provider";case ru:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case su:return t=e.displayName||null,t!==null?t:Bl(e.type)||"Memo";case Kn:t=e._payload,e=e._init;try{return Bl(e(t))}catch{}}return null}function ax(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bl(t);case 8:return t===nu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lx(e){var t=Vh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ji(e){e._valueTracker||(e._valueTracker=lx(e))}function Zh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ho(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hl(e,t){var n=t.checked;return ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gh(e,t){t=t.checked,t!=null&&tu(e,"checked",t,!1)}function Ul(e,t){Gh(e,t);var n=hr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wl(e,t.type,hr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wl(e,t,n){(t!=="number"||Ho(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Js=Array.isArray;function ps(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_e(92));if(Js(n)){if(1<n.length)throw Error(_e(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hr(n)}}function Yh(e,t){var n=hr(t.value),r=hr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Nd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var eo,Xh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cx=["Webkit","ms","Moz","O"];Object.keys(ii).forEach(function(e){cx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ii[t]=ii[e]})});function qh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ii.hasOwnProperty(e)&&ii[e]?(""+t).trim():t+"px"}function Qh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=qh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var ux=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gl(e,t){if(t){if(ux[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function Yl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kl=null;function iu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xl=null,ms=null,gs=null;function _d(e){if(e=Vi(e)){if(typeof Xl!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=Ea(t),Xl(e.stateNode,e.type,t))}}function Jh(e){ms?gs?gs.push(e):gs=[e]:ms=e}function ep(){if(ms){var e=ms,t=gs;if(gs=ms=null,_d(e),t)for(e=0;e<t.length;e++)_d(t[e])}}function tp(e,t){return e(t)}function np(){}var nl=!1;function rp(e,t,n){if(nl)return e(t,n);nl=!0;try{return tp(e,t,n)}finally{nl=!1,(ms!==null||gs!==null)&&(np(),ep())}}function gi(e,t){var n=e.stateNode;if(n===null)return null;var r=Ea(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_e(231,t,typeof n));return n}var ql=!1;if($n)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){ql=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{ql=!1}function dx(e,t,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var oi=!1,Uo=null,Wo=!1,Ql=null,fx={onError:function(e){oi=!0,Uo=e}};function hx(e,t,n,r,s,i,o,a,c){oi=!1,Uo=null,dx.apply(fx,arguments)}function px(e,t,n,r,s,i,o,a,c){if(hx.apply(this,arguments),oi){if(oi){var u=Uo;oi=!1,Uo=null}else throw Error(_e(198));Wo||(Wo=!0,Ql=u)}}function Wr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sd(e){if(Wr(e)!==e)throw Error(_e(188))}function mx(e){var t=e.alternate;if(!t){if(t=Wr(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Sd(s),e;if(i===r)return Sd(s),t;i=i.sibling}throw Error(_e(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?e:t}function ip(e){return e=mx(e),e!==null?op(e):null}function op(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=op(e);if(t!==null)return t;e=e.sibling}return null}var ap=Zt.unstable_scheduleCallback,zd=Zt.unstable_cancelCallback,gx=Zt.unstable_shouldYield,xx=Zt.unstable_requestPaint,pt=Zt.unstable_now,yx=Zt.unstable_getCurrentPriorityLevel,ou=Zt.unstable_ImmediatePriority,lp=Zt.unstable_UserBlockingPriority,Vo=Zt.unstable_NormalPriority,vx=Zt.unstable_LowPriority,cp=Zt.unstable_IdlePriority,Na=null,kn=null;function wx(e){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Na,e,void 0,(e.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:Nx,bx=Math.log,kx=Math.LN2;function Nx(e){return e>>>=0,e===0?32:31-(bx(e)/kx|0)|0}var to=64,no=4194304;function ei(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ei(a):(i&=o,i!==0&&(r=ei(i)))}else o=n&~s,o!==0?r=ei(o):i!==0&&(r=ei(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mn(t),s=1<<n,r|=e[n],t&=~s;return r}function _x(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-mn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=_x(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Jl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function up(){var e=to;return to<<=1,!(to&4194240)&&(to=64),e}function rl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ui(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mn(t),e[t]=n}function zx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-mn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function au(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ke=0;function dp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fp,lu,hp,pp,mp,ec=!1,ro=[],sr=null,ir=null,or=null,xi=new Map,yi=new Map,Jn=[],Ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ed(e,t){switch(e){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(t.pointerId)}}function Bs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Vi(t),t!==null&&lu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function jx(e,t,n,r,s){switch(t){case"focusin":return sr=Bs(sr,e,t,n,r,s),!0;case"dragenter":return ir=Bs(ir,e,t,n,r,s),!0;case"mouseover":return or=Bs(or,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return xi.set(i,Bs(xi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,yi.set(i,Bs(yi.get(i)||null,e,t,n,r,s)),!0}return!1}function gp(e){var t=jr(e.target);if(t!==null){var n=Wr(t);if(n!==null){if(t=n.tag,t===13){if(t=sp(n),t!==null){e.blockedOn=t,mp(e.priority,function(){hp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Kl=r,n.target.dispatchEvent(r),Kl=null}else return t=Vi(n),t!==null&&lu(t),e.blockedOn=n,!1;t.shift()}return!0}function jd(e,t,n){Eo(e)&&n.delete(t)}function Cx(){ec=!1,sr!==null&&Eo(sr)&&(sr=null),ir!==null&&Eo(ir)&&(ir=null),or!==null&&Eo(or)&&(or=null),xi.forEach(jd),yi.forEach(jd)}function Hs(e,t){e.blockedOn===t&&(e.blockedOn=null,ec||(ec=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,Cx)))}function vi(e){function t(s){return Hs(s,e)}if(0<ro.length){Hs(ro[0],e);for(var n=1;n<ro.length;n++){var r=ro[n];r.blockedOn===e&&(r.blockedOn=null)}}for(sr!==null&&Hs(sr,e),ir!==null&&Hs(ir,e),or!==null&&Hs(or,e),xi.forEach(t),yi.forEach(t),n=0;n<Jn.length;n++)r=Jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jn.length&&(n=Jn[0],n.blockedOn===null);)gp(n),n.blockedOn===null&&Jn.shift()}var xs=Vn.ReactCurrentBatchConfig,Go=!0;function Dx(e,t,n,r){var s=Ke,i=xs.transition;xs.transition=null;try{Ke=1,cu(e,t,n,r)}finally{Ke=s,xs.transition=i}}function Tx(e,t,n,r){var s=Ke,i=xs.transition;xs.transition=null;try{Ke=4,cu(e,t,n,r)}finally{Ke=s,xs.transition=i}}function cu(e,t,n,r){if(Go){var s=tc(e,t,n,r);if(s===null)hl(e,t,r,Yo,n),Ed(e,r);else if(jx(s,e,t,n,r))r.stopPropagation();else if(Ed(e,r),t&4&&-1<Ex.indexOf(e)){for(;s!==null;){var i=Vi(s);if(i!==null&&fp(i),i=tc(e,t,n,r),i===null&&hl(e,t,r,Yo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else hl(e,t,r,null,n)}}var Yo=null;function tc(e,t,n,r){if(Yo=null,e=iu(r),e=jr(e),e!==null)if(t=Wr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yo=e,null}function xp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yx()){case ou:return 1;case lp:return 4;case Vo:case vx:return 16;case cp:return 536870912;default:return 16}default:return 16}}var nr=null,uu=null,jo=null;function yp(){if(jo)return jo;var e,t=uu,n=t.length,r,s="value"in nr?nr.value:nr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return jo=s.slice(e,1<r?1-r:void 0)}function Co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function so(){return!0}function Cd(){return!1}function Kt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?so:Cd,this.isPropagationStopped=Cd,this}return ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),t}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=Kt(Rs),Wi=ct({},Rs,{view:0,detail:0}),Ix=Kt(Wi),sl,il,Us,_a=ct({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Us&&(Us&&e.type==="mousemove"?(sl=e.screenX-Us.screenX,il=e.screenY-Us.screenY):il=sl=0,Us=e),sl)},movementY:function(e){return"movementY"in e?e.movementY:il}}),Dd=Kt(_a),Ax=ct({},_a,{dataTransfer:0}),Mx=Kt(Ax),Px=ct({},Wi,{relatedTarget:0}),ol=Kt(Px),Rx=ct({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Lx=Kt(Rx),Ox=ct({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$x=Kt(Ox),Fx=ct({},Rs,{data:0}),Td=Kt(Fx),Bx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ux={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ux[e])?!!t[e]:!1}function fu(){return Wx}var Vx=ct({},Wi,{key:function(e){if(e.key){var t=Bx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fu,charCode:function(e){return e.type==="keypress"?Co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zx=Kt(Vx),Gx=ct({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Id=Kt(Gx),Yx=ct({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fu}),Kx=Kt(Yx),Xx=ct({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),qx=Kt(Xx),Qx=ct({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jx=Kt(Qx),ey=[9,13,27,32],hu=$n&&"CompositionEvent"in window,ai=null;$n&&"documentMode"in document&&(ai=document.documentMode);var ty=$n&&"TextEvent"in window&&!ai,vp=$n&&(!hu||ai&&8<ai&&11>=ai),Ad=" ",Md=!1;function wp(e,t){switch(e){case"keyup":return ey.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rs=!1;function ny(e,t){switch(e){case"compositionend":return bp(t);case"keypress":return t.which!==32?null:(Md=!0,Ad);case"textInput":return e=t.data,e===Ad&&Md?null:e;default:return null}}function ry(e,t){if(rs)return e==="compositionend"||!hu&&wp(e,t)?(e=yp(),jo=uu=nr=null,rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vp&&t.locale!=="ko"?null:t.data;default:return null}}var sy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sy[e.type]:t==="textarea"}function kp(e,t,n,r){Jh(r),t=Ko(t,"onChange"),0<t.length&&(n=new du("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var li=null,wi=null;function iy(e){Ap(e,0)}function Sa(e){var t=os(e);if(Zh(t))return e}function oy(e,t){if(e==="change")return t}var Np=!1;if($n){var al;if($n){var ll="oninput"in document;if(!ll){var Rd=document.createElement("div");Rd.setAttribute("oninput","return;"),ll=typeof Rd.oninput=="function"}al=ll}else al=!1;Np=al&&(!document.documentMode||9<document.documentMode)}function Ld(){li&&(li.detachEvent("onpropertychange",_p),wi=li=null)}function _p(e){if(e.propertyName==="value"&&Sa(wi)){var t=[];kp(t,wi,e,iu(e)),rp(iy,t)}}function ay(e,t,n){e==="focusin"?(Ld(),li=t,wi=n,li.attachEvent("onpropertychange",_p)):e==="focusout"&&Ld()}function ly(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sa(wi)}function cy(e,t){if(e==="click")return Sa(t)}function uy(e,t){if(e==="input"||e==="change")return Sa(t)}function dy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:dy;function bi(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ll.call(t,s)||!xn(e[s],t[s]))return!1}return!0}function Od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $d(e,t){var n=Od(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Od(n)}}function Sp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zp(){for(var e=window,t=Ho();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ho(e.document)}return t}function pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fy(e){var t=zp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sp(n.ownerDocument.documentElement,n)){if(r!==null&&pu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=$d(n,i);var o=$d(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hy=$n&&"documentMode"in document&&11>=document.documentMode,ss=null,nc=null,ci=null,rc=!1;function Fd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rc||ss==null||ss!==Ho(r)||(r=ss,"selectionStart"in r&&pu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ci&&bi(ci,r)||(ci=r,r=Ko(nc,"onSelect"),0<r.length&&(t=new du("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ss)))}function io(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var is={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionend:io("Transition","TransitionEnd")},cl={},Ep={};$n&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function za(e){if(cl[e])return cl[e];if(!is[e])return e;var t=is[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ep)return cl[e]=t[n];return e}var jp=za("animationend"),Cp=za("animationiteration"),Dp=za("animationstart"),Tp=za("transitionend"),Ip=new Map,Bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(e,t){Ip.set(e,t),Ur(t,[e])}for(var ul=0;ul<Bd.length;ul++){var dl=Bd[ul],py=dl.toLowerCase(),my=dl[0].toUpperCase()+dl.slice(1);gr(py,"on"+my)}gr(jp,"onAnimationEnd");gr(Cp,"onAnimationIteration");gr(Dp,"onAnimationStart");gr("dblclick","onDoubleClick");gr("focusin","onFocus");gr("focusout","onBlur");gr(Tp,"onTransitionEnd");Ns("onMouseEnter",["mouseout","mouseover"]);Ns("onMouseLeave",["mouseout","mouseover"]);Ns("onPointerEnter",["pointerout","pointerover"]);Ns("onPointerLeave",["pointerout","pointerover"]);Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ti));function Hd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,px(r,t,void 0,e),e.currentTarget=null}function Ap(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Hd(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Hd(s,a,u),i=c}}}if(Wo)throw e=Ql,Wo=!1,Ql=null,e}function rt(e,t){var n=t[lc];n===void 0&&(n=t[lc]=new Set);var r=e+"__bubble";n.has(r)||(Mp(t,e,2,!1),n.add(r))}function fl(e,t,n){var r=0;t&&(r|=4),Mp(n,e,r,t)}var oo="_reactListening"+Math.random().toString(36).slice(2);function ki(e){if(!e[oo]){e[oo]=!0,Bh.forEach(function(n){n!=="selectionchange"&&(gy.has(n)||fl(n,!1,e),fl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oo]||(t[oo]=!0,fl("selectionchange",!1,t))}}function Mp(e,t,n,r){switch(xp(t)){case 1:var s=Dx;break;case 4:s=Tx;break;default:s=cu}n=s.bind(null,t,n,e),s=void 0,!ql||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function hl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=jr(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}rp(function(){var u=i,d=iu(n),m=[];e:{var y=Ip.get(e);if(y!==void 0){var h=du,v=e;switch(e){case"keypress":if(Co(n)===0)break e;case"keydown":case"keyup":h=Zx;break;case"focusin":v="focus",h=ol;break;case"focusout":v="blur",h=ol;break;case"beforeblur":case"afterblur":h=ol;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Mx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Kx;break;case jp:case Cp:case Dp:h=Lx;break;case Tp:h=qx;break;case"scroll":h=Ix;break;case"wheel":h=Jx;break;case"copy":case"cut":case"paste":h=$x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Id}var g=(t&4)!==0,b=!g&&e==="scroll",f=g?y!==null?y+"Capture":null:y;g=[];for(var x=u,k;x!==null;){k=x;var N=k.stateNode;if(k.tag===5&&N!==null&&(k=N,f!==null&&(N=gi(x,f),N!=null&&g.push(Ni(x,N,k)))),b)break;x=x.return}0<g.length&&(y=new h(y,v,null,n,d),m.push({event:y,listeners:g}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",y&&n!==Kl&&(v=n.relatedTarget||n.fromElement)&&(jr(v)||v[Fn]))break e;if((h||y)&&(y=d.window===d?d:(y=d.ownerDocument)?y.defaultView||y.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?jr(v):null,v!==null&&(b=Wr(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(g=Dd,N="onMouseLeave",f="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=Id,N="onPointerLeave",f="onPointerEnter",x="pointer"),b=h==null?y:os(h),k=v==null?y:os(v),y=new g(N,x+"leave",h,n,d),y.target=b,y.relatedTarget=k,N=null,jr(d)===u&&(g=new g(f,x+"enter",v,n,d),g.target=k,g.relatedTarget=b,N=g),b=N,h&&v)t:{for(g=h,f=v,x=0,k=g;k;k=Yr(k))x++;for(k=0,N=f;N;N=Yr(N))k++;for(;0<x-k;)g=Yr(g),x--;for(;0<k-x;)f=Yr(f),k--;for(;x--;){if(g===f||f!==null&&g===f.alternate)break t;g=Yr(g),f=Yr(f)}g=null}else g=null;h!==null&&Ud(m,y,h,g,!1),v!==null&&b!==null&&Ud(m,b,v,g,!0)}}e:{if(y=u?os(u):window,h=y.nodeName&&y.nodeName.toLowerCase(),h==="select"||h==="input"&&y.type==="file")var _=oy;else if(Pd(y))if(Np)_=uy;else{_=ly;var C=ay}else(h=y.nodeName)&&h.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(_=cy);if(_&&(_=_(e,u))){kp(m,_,n,d);break e}C&&C(e,y,u),e==="focusout"&&(C=y._wrapperState)&&C.controlled&&y.type==="number"&&Wl(y,"number",y.value)}switch(C=u?os(u):window,e){case"focusin":(Pd(C)||C.contentEditable==="true")&&(ss=C,nc=u,ci=null);break;case"focusout":ci=nc=ss=null;break;case"mousedown":rc=!0;break;case"contextmenu":case"mouseup":case"dragend":rc=!1,Fd(m,n,d);break;case"selectionchange":if(hy)break;case"keydown":case"keyup":Fd(m,n,d)}var j;if(hu)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else rs?wp(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(vp&&n.locale!=="ko"&&(rs||R!=="onCompositionStart"?R==="onCompositionEnd"&&rs&&(j=yp()):(nr=d,uu="value"in nr?nr.value:nr.textContent,rs=!0)),C=Ko(u,R),0<C.length&&(R=new Td(R,e,null,n,d),m.push({event:R,listeners:C}),j?R.data=j:(j=bp(n),j!==null&&(R.data=j)))),(j=ty?ny(e,n):ry(e,n))&&(u=Ko(u,"onBeforeInput"),0<u.length&&(d=new Td("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:u}),d.data=j))}Ap(m,t)})}function Ni(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ko(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gi(e,n),i!=null&&r.unshift(Ni(e,i,s)),i=gi(e,t),i!=null&&r.push(Ni(e,i,s))),e=e.return}return r}function Yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ud(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=gi(n,i),c!=null&&o.unshift(Ni(n,c,a))):s||(c=gi(n,i),c!=null&&o.push(Ni(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var xy=/\r\n?/g,yy=/\u0000|\uFFFD/g;function Wd(e){return(typeof e=="string"?e:""+e).replace(xy,`
`).replace(yy,"")}function ao(e,t,n){if(t=Wd(t),Wd(e)!==t&&n)throw Error(_e(425))}function Xo(){}var sc=null,ic=null;function oc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ac=typeof setTimeout=="function"?setTimeout:void 0,vy=typeof clearTimeout=="function"?clearTimeout:void 0,Vd=typeof Promise=="function"?Promise:void 0,wy=typeof queueMicrotask=="function"?queueMicrotask:typeof Vd<"u"?function(e){return Vd.resolve(null).then(e).catch(by)}:ac;function by(e){setTimeout(function(){throw e})}function pl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),vi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vi(t)}function ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ls=Math.random().toString(36).slice(2),bn="__reactFiber$"+Ls,_i="__reactProps$"+Ls,Fn="__reactContainer$"+Ls,lc="__reactEvents$"+Ls,ky="__reactListeners$"+Ls,Ny="__reactHandles$"+Ls;function jr(e){var t=e[bn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fn]||n[bn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zd(e);e!==null;){if(n=e[bn])return n;e=Zd(e)}return t}e=n,n=e.parentNode}return null}function Vi(e){return e=e[bn]||e[Fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function os(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function Ea(e){return e[_i]||null}var cc=[],as=-1;function xr(e){return{current:e}}function st(e){0>as||(e.current=cc[as],cc[as]=null,as--)}function tt(e,t){as++,cc[as]=e.current,e.current=t}var pr={},Dt=xr(pr),Ft=xr(!1),Lr=pr;function _s(e,t){var n=e.type.contextTypes;if(!n)return pr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Bt(e){return e=e.childContextTypes,e!=null}function qo(){st(Ft),st(Dt)}function Gd(e,t,n){if(Dt.current!==pr)throw Error(_e(168));tt(Dt,t),tt(Ft,n)}function Pp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(_e(108,ax(e)||"Unknown",s));return ct({},n,r)}function Qo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pr,Lr=Dt.current,tt(Dt,e),tt(Ft,Ft.current),!0}function Yd(e,t,n){var r=e.stateNode;if(!r)throw Error(_e(169));n?(e=Pp(e,t,Lr),r.__reactInternalMemoizedMergedChildContext=e,st(Ft),st(Dt),tt(Dt,e)):st(Ft),tt(Ft,n)}var Tn=null,ja=!1,ml=!1;function Rp(e){Tn===null?Tn=[e]:Tn.push(e)}function _y(e){ja=!0,Rp(e)}function yr(){if(!ml&&Tn!==null){ml=!0;var e=0,t=Ke;try{var n=Tn;for(Ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tn=null,ja=!1}catch(s){throw Tn!==null&&(Tn=Tn.slice(e+1)),ap(ou,yr),s}finally{Ke=t,ml=!1}}return null}var ls=[],cs=0,Jo=null,ea=0,qt=[],Qt=0,Or=null,In=1,An="";function Nr(e,t){ls[cs++]=ea,ls[cs++]=Jo,Jo=e,ea=t}function Lp(e,t,n){qt[Qt++]=In,qt[Qt++]=An,qt[Qt++]=Or,Or=e;var r=In;e=An;var s=32-mn(r)-1;r&=~(1<<s),n+=1;var i=32-mn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,In=1<<32-mn(t)+s|n<<s|r,An=i+e}else In=1<<i|n<<s|r,An=e}function mu(e){e.return!==null&&(Nr(e,1),Lp(e,1,0))}function gu(e){for(;e===Jo;)Jo=ls[--cs],ls[cs]=null,ea=ls[--cs],ls[cs]=null;for(;e===Or;)Or=qt[--Qt],qt[Qt]=null,An=qt[--Qt],qt[Qt]=null,In=qt[--Qt],qt[Qt]=null}var Vt=null,Wt=null,it=!1,hn=null;function Op(e,t){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Kd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vt=e,Wt=ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vt=e,Wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Or!==null?{id:In,overflow:An}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Vt=e,Wt=null,!0):!1;default:return!1}}function uc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dc(e){if(it){var t=Wt;if(t){var n=t;if(!Kd(e,t)){if(uc(e))throw Error(_e(418));t=ar(n.nextSibling);var r=Vt;t&&Kd(e,t)?Op(r,n):(e.flags=e.flags&-4097|2,it=!1,Vt=e)}}else{if(uc(e))throw Error(_e(418));e.flags=e.flags&-4097|2,it=!1,Vt=e}}}function Xd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vt=e}function lo(e){if(e!==Vt)return!1;if(!it)return Xd(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oc(e.type,e.memoizedProps)),t&&(t=Wt)){if(uc(e))throw $p(),Error(_e(418));for(;t;)Op(e,t),t=ar(t.nextSibling)}if(Xd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Wt=ar(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Wt=null}}else Wt=Vt?ar(e.stateNode.nextSibling):null;return!0}function $p(){for(var e=Wt;e;)e=ar(e.nextSibling)}function Ss(){Wt=Vt=null,it=!1}function xu(e){hn===null?hn=[e]:hn.push(e)}var Sy=Vn.ReactCurrentBatchConfig;function Ws(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,e))}return e}function co(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qd(e){var t=e._init;return t(e._payload)}function Fp(e){function t(f,x){if(e){var k=f.deletions;k===null?(f.deletions=[x],f.flags|=16):k.push(x)}}function n(f,x){if(!e)return null;for(;x!==null;)t(f,x),x=x.sibling;return null}function r(f,x){for(f=new Map;x!==null;)x.key!==null?f.set(x.key,x):f.set(x.index,x),x=x.sibling;return f}function s(f,x){return f=dr(f,x),f.index=0,f.sibling=null,f}function i(f,x,k){return f.index=k,e?(k=f.alternate,k!==null?(k=k.index,k<x?(f.flags|=2,x):k):(f.flags|=2,x)):(f.flags|=1048576,x)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,x,k,N){return x===null||x.tag!==6?(x=kl(k,f.mode,N),x.return=f,x):(x=s(x,k),x.return=f,x)}function c(f,x,k,N){var _=k.type;return _===ns?d(f,x,k.props.children,N,k.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Kn&&qd(_)===x.type)?(N=s(x,k.props),N.ref=Ws(f,x,k),N.return=f,N):(N=Ro(k.type,k.key,k.props,null,f.mode,N),N.ref=Ws(f,x,k),N.return=f,N)}function u(f,x,k,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=Nl(k,f.mode,N),x.return=f,x):(x=s(x,k.children||[]),x.return=f,x)}function d(f,x,k,N,_){return x===null||x.tag!==7?(x=Mr(k,f.mode,N,_),x.return=f,x):(x=s(x,k),x.return=f,x)}function m(f,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return x=kl(""+x,f.mode,k),x.return=f,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Qi:return k=Ro(x.type,x.key,x.props,null,f.mode,k),k.ref=Ws(f,null,x),k.return=f,k;case ts:return x=Nl(x,f.mode,k),x.return=f,x;case Kn:var N=x._init;return m(f,N(x._payload),k)}if(Js(x)||$s(x))return x=Mr(x,f.mode,k,null),x.return=f,x;co(f,x)}return null}function y(f,x,k,N){var _=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return _!==null?null:a(f,x,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Qi:return k.key===_?c(f,x,k,N):null;case ts:return k.key===_?u(f,x,k,N):null;case Kn:return _=k._init,y(f,x,_(k._payload),N)}if(Js(k)||$s(k))return _!==null?null:d(f,x,k,N,null);co(f,k)}return null}function h(f,x,k,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return f=f.get(k)||null,a(x,f,""+N,_);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Qi:return f=f.get(N.key===null?k:N.key)||null,c(x,f,N,_);case ts:return f=f.get(N.key===null?k:N.key)||null,u(x,f,N,_);case Kn:var C=N._init;return h(f,x,k,C(N._payload),_)}if(Js(N)||$s(N))return f=f.get(k)||null,d(x,f,N,_,null);co(x,N)}return null}function v(f,x,k,N){for(var _=null,C=null,j=x,R=x=0,A=null;j!==null&&R<k.length;R++){j.index>R?(A=j,j=null):A=j.sibling;var B=y(f,j,k[R],N);if(B===null){j===null&&(j=A);break}e&&j&&B.alternate===null&&t(f,j),x=i(B,x,R),C===null?_=B:C.sibling=B,C=B,j=A}if(R===k.length)return n(f,j),it&&Nr(f,R),_;if(j===null){for(;R<k.length;R++)j=m(f,k[R],N),j!==null&&(x=i(j,x,R),C===null?_=j:C.sibling=j,C=j);return it&&Nr(f,R),_}for(j=r(f,j);R<k.length;R++)A=h(j,f,R,k[R],N),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?R:A.key),x=i(A,x,R),C===null?_=A:C.sibling=A,C=A);return e&&j.forEach(function(K){return t(f,K)}),it&&Nr(f,R),_}function g(f,x,k,N){var _=$s(k);if(typeof _!="function")throw Error(_e(150));if(k=_.call(k),k==null)throw Error(_e(151));for(var C=_=null,j=x,R=x=0,A=null,B=k.next();j!==null&&!B.done;R++,B=k.next()){j.index>R?(A=j,j=null):A=j.sibling;var K=y(f,j,B.value,N);if(K===null){j===null&&(j=A);break}e&&j&&K.alternate===null&&t(f,j),x=i(K,x,R),C===null?_=K:C.sibling=K,C=K,j=A}if(B.done)return n(f,j),it&&Nr(f,R),_;if(j===null){for(;!B.done;R++,B=k.next())B=m(f,B.value,N),B!==null&&(x=i(B,x,R),C===null?_=B:C.sibling=B,C=B);return it&&Nr(f,R),_}for(j=r(f,j);!B.done;R++,B=k.next())B=h(j,f,R,B.value,N),B!==null&&(e&&B.alternate!==null&&j.delete(B.key===null?R:B.key),x=i(B,x,R),C===null?_=B:C.sibling=B,C=B);return e&&j.forEach(function(T){return t(f,T)}),it&&Nr(f,R),_}function b(f,x,k,N){if(typeof k=="object"&&k!==null&&k.type===ns&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Qi:e:{for(var _=k.key,C=x;C!==null;){if(C.key===_){if(_=k.type,_===ns){if(C.tag===7){n(f,C.sibling),x=s(C,k.props.children),x.return=f,f=x;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Kn&&qd(_)===C.type){n(f,C.sibling),x=s(C,k.props),x.ref=Ws(f,C,k),x.return=f,f=x;break e}n(f,C);break}else t(f,C);C=C.sibling}k.type===ns?(x=Mr(k.props.children,f.mode,N,k.key),x.return=f,f=x):(N=Ro(k.type,k.key,k.props,null,f.mode,N),N.ref=Ws(f,x,k),N.return=f,f=N)}return o(f);case ts:e:{for(C=k.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){n(f,x.sibling),x=s(x,k.children||[]),x.return=f,f=x;break e}else{n(f,x);break}else t(f,x);x=x.sibling}x=Nl(k,f.mode,N),x.return=f,f=x}return o(f);case Kn:return C=k._init,b(f,x,C(k._payload),N)}if(Js(k))return v(f,x,k,N);if($s(k))return g(f,x,k,N);co(f,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,x!==null&&x.tag===6?(n(f,x.sibling),x=s(x,k),x.return=f,f=x):(n(f,x),x=kl(k,f.mode,N),x.return=f,f=x),o(f)):n(f,x)}return b}var zs=Fp(!0),Bp=Fp(!1),ta=xr(null),na=null,us=null,yu=null;function vu(){yu=us=na=null}function wu(e){var t=ta.current;st(ta),e._currentValue=t}function fc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ys(e,t){na=e,yu=us=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ot=!0),e.firstContext=null)}function sn(e){var t=e._currentValue;if(yu!==e)if(e={context:e,memoizedValue:t,next:null},us===null){if(na===null)throw Error(_e(308));us=e,na.dependencies={lanes:0,firstContext:e}}else us=us.next=e;return t}var Cr=null;function bu(e){Cr===null?Cr=[e]:Cr.push(e)}function Hp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,bu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Bn(e,r)}function Bn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xn=!1;function ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Up(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Bn(e,n)}return s=r.interleaved,s===null?(t.next=t,bu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Bn(e,n)}function Do(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,au(e,n)}}function Qd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ra(e,t,n,r){var s=e.updateQueue;Xn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,d=u=c=null,a=i;do{var y=a.lane,h=a.eventTime;if((r&y)===y){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(y=t,h=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){m=v.call(h,m,y);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,y=typeof v=="function"?v.call(h,m,y):v,y==null)break e;m=ct({},m,y);break e;case 2:Xn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[a]:y.push(a))}else h={eventTime:h,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=h,c=m):d=d.next=h,o|=y;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;y=a,a=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(d===null&&(c=m),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Fr|=o,e.lanes=o,e.memoizedState=m}}function Jd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(_e(191,s));s.call(r)}}}var Zi={},Nn=xr(Zi),Si=xr(Zi),zi=xr(Zi);function Dr(e){if(e===Zi)throw Error(_e(174));return e}function Nu(e,t){switch(tt(zi,t),tt(Si,e),tt(Nn,Zi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zl(t,e)}st(Nn),tt(Nn,t)}function Es(){st(Nn),st(Si),st(zi)}function Wp(e){Dr(zi.current);var t=Dr(Nn.current),n=Zl(t,e.type);t!==n&&(tt(Si,e),tt(Nn,n))}function _u(e){Si.current===e&&(st(Nn),st(Si))}var at=xr(0);function sa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gl=[];function Su(){for(var e=0;e<gl.length;e++)gl[e]._workInProgressVersionPrimary=null;gl.length=0}var To=Vn.ReactCurrentDispatcher,xl=Vn.ReactCurrentBatchConfig,$r=0,lt=null,xt=null,wt=null,ia=!1,ui=!1,Ei=0,zy=0;function Et(){throw Error(_e(321))}function zu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xn(e[n],t[n]))return!1;return!0}function Eu(e,t,n,r,s,i){if($r=i,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,To.current=e===null||e.memoizedState===null?Dy:Ty,e=n(r,s),ui){i=0;do{if(ui=!1,Ei=0,25<=i)throw Error(_e(301));i+=1,wt=xt=null,t.updateQueue=null,To.current=Iy,e=n(r,s)}while(ui)}if(To.current=oa,t=xt!==null&&xt.next!==null,$r=0,wt=xt=lt=null,ia=!1,t)throw Error(_e(300));return e}function ju(){var e=Ei!==0;return Ei=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?lt.memoizedState=wt=e:wt=wt.next=e,wt}function on(){if(xt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=wt===null?lt.memoizedState:wt.next;if(t!==null)wt=t,xt=e;else{if(e===null)throw Error(_e(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},wt===null?lt.memoizedState=wt=e:wt=wt.next=e}return wt}function ji(e,t){return typeof t=="function"?t(e):t}function yl(e){var t=on(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=xt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if(($r&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=m,o=r):c=c.next=m,lt.lanes|=d,Fr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,xn(r,t.memoizedState)||(Ot=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,lt.lanes|=i,Fr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vl(e){var t=on(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);xn(i,t.memoizedState)||(Ot=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Vp(){}function Zp(e,t){var n=lt,r=on(),s=t(),i=!xn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ot=!0),r=r.queue,Cu(Kp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Ci(9,Yp.bind(null,n,r,s,t),void 0,null),bt===null)throw Error(_e(349));$r&30||Gp(n,t,s)}return s}function Gp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yp(e,t,n,r){t.value=n,t.getSnapshot=r,Xp(t)&&qp(e)}function Kp(e,t,n){return n(function(){Xp(t)&&qp(e)})}function Xp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function qp(e){var t=Bn(e,1);t!==null&&gn(t,e,1,-1)}function ef(e){var t=wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},t.queue=e,e=e.dispatch=Cy.bind(null,lt,e),[t.memoizedState,e]}function Ci(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qp(){return on().memoizedState}function Io(e,t,n,r){var s=wn();lt.flags|=e,s.memoizedState=Ci(1|t,n,void 0,r===void 0?null:r)}function Ca(e,t,n,r){var s=on();r=r===void 0?null:r;var i=void 0;if(xt!==null){var o=xt.memoizedState;if(i=o.destroy,r!==null&&zu(r,o.deps)){s.memoizedState=Ci(t,n,i,r);return}}lt.flags|=e,s.memoizedState=Ci(1|t,n,i,r)}function tf(e,t){return Io(8390656,8,e,t)}function Cu(e,t){return Ca(2048,8,e,t)}function Jp(e,t){return Ca(4,2,e,t)}function e0(e,t){return Ca(4,4,e,t)}function t0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function n0(e,t,n){return n=n!=null?n.concat([e]):null,Ca(4,4,t0.bind(null,t,e),n)}function Du(){}function r0(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function s0(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function i0(e,t,n){return $r&21?(xn(n,t)||(n=up(),lt.lanes|=n,Fr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ot=!0),e.memoizedState=n)}function Ey(e,t){var n=Ke;Ke=n!==0&&4>n?n:4,e(!0);var r=xl.transition;xl.transition={};try{e(!1),t()}finally{Ke=n,xl.transition=r}}function o0(){return on().memoizedState}function jy(e,t,n){var r=ur(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},a0(e))l0(t,n);else if(n=Hp(e,t,n,r),n!==null){var s=At();gn(n,e,r,s),c0(n,t,r)}}function Cy(e,t,n){var r=ur(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(a0(e))l0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,xn(a,o)){var c=t.interleaved;c===null?(s.next=s,bu(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Hp(e,t,s,r),n!==null&&(s=At(),gn(n,e,r,s),c0(n,t,r))}}function a0(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function l0(e,t){ui=ia=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function c0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,au(e,n)}}var oa={readContext:sn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},Dy={readContext:sn,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:sn,useEffect:tf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Io(4194308,4,t0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var n=wn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jy.bind(null,lt,e),[r.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:ef,useDebugValue:Du,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=ef(!1),t=e[0];return e=Ey.bind(null,e[1]),wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lt,s=wn();if(it){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=t(),bt===null)throw Error(_e(349));$r&30||Gp(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,tf(Kp.bind(null,r,i,e),[e]),r.flags|=2048,Ci(9,Yp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=wn(),t=bt.identifierPrefix;if(it){var n=An,r=In;n=(r&~(1<<32-mn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ei++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ty={readContext:sn,useCallback:r0,useContext:sn,useEffect:Cu,useImperativeHandle:n0,useInsertionEffect:Jp,useLayoutEffect:e0,useMemo:s0,useReducer:yl,useRef:Qp,useState:function(){return yl(ji)},useDebugValue:Du,useDeferredValue:function(e){var t=on();return i0(t,xt.memoizedState,e)},useTransition:function(){var e=yl(ji)[0],t=on().memoizedState;return[e,t]},useMutableSource:Vp,useSyncExternalStore:Zp,useId:o0,unstable_isNewReconciler:!1},Iy={readContext:sn,useCallback:r0,useContext:sn,useEffect:Cu,useImperativeHandle:n0,useInsertionEffect:Jp,useLayoutEffect:e0,useMemo:s0,useReducer:vl,useRef:Qp,useState:function(){return vl(ji)},useDebugValue:Du,useDeferredValue:function(e){var t=on();return xt===null?t.memoizedState=e:i0(t,xt.memoizedState,e)},useTransition:function(){var e=vl(ji)[0],t=on().memoizedState;return[e,t]},useMutableSource:Vp,useSyncExternalStore:Zp,useId:o0,unstable_isNewReconciler:!1};function un(e,t){if(e&&e.defaultProps){t=ct({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Da={isMounted:function(e){return(e=e._reactInternals)?Wr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=At(),s=ur(e),i=Pn(r,s);i.payload=t,n!=null&&(i.callback=n),t=lr(e,i,s),t!==null&&(gn(t,e,s,r),Do(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=At(),s=ur(e),i=Pn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=lr(e,i,s),t!==null&&(gn(t,e,s,r),Do(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=At(),r=ur(e),s=Pn(n,r);s.tag=2,t!=null&&(s.callback=t),t=lr(e,s,r),t!==null&&(gn(t,e,r,n),Do(t,e,r))}};function nf(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!bi(n,r)||!bi(s,i):!0}function u0(e,t,n){var r=!1,s=pr,i=t.contextType;return typeof i=="object"&&i!==null?i=sn(i):(s=Bt(t)?Lr:Dt.current,r=t.contextTypes,i=(r=r!=null)?_s(e,s):pr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Da,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function rf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Da.enqueueReplaceState(t,t.state,null)}function pc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ku(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=sn(i):(i=Bt(t)?Lr:Dt.current,s.context=_s(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(hc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Da.enqueueReplaceState(s,s.state,null),ra(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function js(e,t){try{var n="",r=t;do n+=ox(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function wl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function mc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ay=typeof WeakMap=="function"?WeakMap:Map;function d0(e,t,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){la||(la=!0,Sc=r),mc(e,t)},n}function f0(e,t,n){n=Pn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){mc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){mc(e,t),typeof r!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function sf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ay;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Gy.bind(null,e,t,n),t.then(e,e))}function of(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function af(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pn(-1,1),t.tag=2,lr(n,t,1))),n.lanes|=1),e)}var My=Vn.ReactCurrentOwner,Ot=!1;function Tt(e,t,n,r){t.child=e===null?Bp(t,null,n,r):zs(t,e.child,n,r)}function lf(e,t,n,r,s){n=n.render;var i=t.ref;return ys(t,s),r=Eu(e,t,n,r,i,s),n=ju(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hn(e,t,s)):(it&&n&&mu(t),t.flags|=1,Tt(e,t,r,s),t.child)}function cf(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ou(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,h0(e,t,i,r,s)):(e=Ro(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:bi,n(o,r)&&e.ref===t.ref)return Hn(e,t,s)}return t.flags|=1,e=dr(i,r),e.ref=t.ref,e.return=t,t.child=e}function h0(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(bi(i,r)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ot=!0);else return t.lanes=e.lanes,Hn(e,t,s)}return gc(e,t,n,r,s)}function p0(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(fs,Ut),Ut|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(fs,Ut),Ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,tt(fs,Ut),Ut|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,tt(fs,Ut),Ut|=r;return Tt(e,t,s,n),t.child}function m0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gc(e,t,n,r,s){var i=Bt(n)?Lr:Dt.current;return i=_s(t,i),ys(t,s),n=Eu(e,t,n,r,i,s),r=ju(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hn(e,t,s)):(it&&r&&mu(t),t.flags|=1,Tt(e,t,n,s),t.child)}function uf(e,t,n,r,s){if(Bt(n)){var i=!0;Qo(t)}else i=!1;if(ys(t,s),t.stateNode===null)Ao(e,t),u0(t,n,r),pc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=sn(u):(u=Bt(n)?Lr:Dt.current,u=_s(t,u));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&rf(t,o,r,u),Xn=!1;var y=t.memoizedState;o.state=y,ra(t,r,o,s),c=t.memoizedState,a!==r||y!==c||Ft.current||Xn?(typeof d=="function"&&(hc(t,n,d,r),c=t.memoizedState),(a=Xn||nf(t,n,a,r,y,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Up(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:un(t.type,a),o.props=u,m=t.pendingProps,y=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=sn(c):(c=Bt(n)?Lr:Dt.current,c=_s(t,c));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||y!==c)&&rf(t,o,r,c),Xn=!1,y=t.memoizedState,o.state=y,ra(t,r,o,s);var v=t.memoizedState;a!==m||y!==v||Ft.current||Xn?(typeof h=="function"&&(hc(t,n,h,r),v=t.memoizedState),(u=Xn||nf(t,n,u,r,y,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return xc(e,t,n,r,i,s)}function xc(e,t,n,r,s,i){m0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Yd(t,n,!1),Hn(e,t,i);r=t.stateNode,My.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=zs(t,e.child,null,i),t.child=zs(t,null,a,i)):Tt(e,t,a,i),t.memoizedState=r.state,s&&Yd(t,n,!0),t.child}function g0(e){var t=e.stateNode;t.pendingContext?Gd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gd(e,t.context,!1),Nu(e,t.containerInfo)}function df(e,t,n,r,s){return Ss(),xu(s),t.flags|=256,Tt(e,t,n,r),t.child}var yc={dehydrated:null,treeContext:null,retryLane:0};function vc(e){return{baseLanes:e,cachePool:null,transitions:null}}function x0(e,t,n){var r=t.pendingProps,s=at.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),tt(at,s&1),e===null)return dc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Aa(o,r,0,null),e=Mr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=vc(n),t.memoizedState=yc,e):Tu(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Py(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=dr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=dr(a,i):(i=Mr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?vc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=yc,r}return i=e.child,e=i.sibling,r=dr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Tu(e,t){return t=Aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uo(e,t,n,r){return r!==null&&xu(r),zs(t,e.child,null,n),e=Tu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Py(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=wl(Error(_e(422))),uo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Aa({mode:"visible",children:r.children},s,0,null),i=Mr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&zs(t,e.child,null,o),t.child.memoizedState=vc(o),t.memoizedState=yc,i);if(!(t.mode&1))return uo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(_e(419)),r=wl(i,r,void 0),uo(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ot||a){if(r=bt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bn(e,s),gn(r,e,s,-1))}return Lu(),r=wl(Error(_e(421))),uo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Yy.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Wt=ar(s.nextSibling),Vt=t,it=!0,hn=null,e!==null&&(qt[Qt++]=In,qt[Qt++]=An,qt[Qt++]=Or,In=e.id,An=e.overflow,Or=t),t=Tu(t,r.children),t.flags|=4096,t)}function ff(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fc(e.return,t,n)}function bl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function y0(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Tt(e,t,r.children,n),r=at.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ff(e,n,t);else if(e.tag===19)ff(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(at,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&sa(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),bl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&sa(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}bl(t,!0,n,null,i);break;case"together":bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ao(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,n=dr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ry(e,t,n){switch(t.tag){case 3:g0(t),Ss();break;case 5:Wp(t);break;case 1:Bt(t.type)&&Qo(t);break;case 4:Nu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;tt(ta,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tt(at,at.current&1),t.flags|=128,null):n&t.child.childLanes?x0(e,t,n):(tt(at,at.current&1),e=Hn(e,t,n),e!==null?e.sibling:null);tt(at,at.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return y0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),tt(at,at.current),r)break;return null;case 22:case 23:return t.lanes=0,p0(e,t,n)}return Hn(e,t,n)}var v0,wc,w0,b0;v0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wc=function(){};w0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Dr(Nn.current);var i=null;switch(n){case"input":s=Hl(e,s),r=Hl(e,r),i=[];break;case"select":s=ct({},s,{value:void 0}),r=ct({},r,{value:void 0}),i=[];break;case"textarea":s=Vl(e,s),r=Vl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xo)}Gl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&rt("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};b0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vs(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ly(e,t,n){var r=t.pendingProps;switch(gu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(t),null;case 1:return Bt(t.type)&&qo(),jt(t),null;case 3:return r=t.stateNode,Es(),st(Ft),st(Dt),Su(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(lo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hn!==null&&(jc(hn),hn=null))),wc(e,t),jt(t),null;case 5:_u(t);var s=Dr(zi.current);if(n=t.type,e!==null&&t.stateNode!=null)w0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_e(166));return jt(t),null}if(e=Dr(Nn.current),lo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[bn]=t,r[_i]=i,e=(t.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(s=0;s<ti.length;s++)rt(ti[s],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":wd(r,i),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},rt("invalid",r);break;case"textarea":kd(r,i),rt("invalid",r)}Gl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ao(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ao(r.textContent,a,e),s=["children",""+a]):pi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rt("scroll",r)}switch(n){case"input":Ji(r),bd(r,i,!0);break;case"textarea":Ji(r),Nd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Xo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[bn]=t,e[_i]=r,v0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Yl(n,r),n){case"dialog":rt("cancel",e),rt("close",e),s=r;break;case"iframe":case"object":case"embed":rt("load",e),s=r;break;case"video":case"audio":for(s=0;s<ti.length;s++)rt(ti[s],e);s=r;break;case"source":rt("error",e),s=r;break;case"img":case"image":case"link":rt("error",e),rt("load",e),s=r;break;case"details":rt("toggle",e),s=r;break;case"input":wd(e,r),s=Hl(e,r),rt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ct({},r,{value:void 0}),rt("invalid",e);break;case"textarea":kd(e,r),s=Vl(e,r),rt("invalid",e);break;default:s=r}Gl(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Qh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Xh(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&mi(e,c):typeof c=="number"&&mi(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&rt("scroll",e):c!=null&&tu(e,i,c,o))}switch(n){case"input":Ji(e),bd(e,r,!1);break;case"textarea":Ji(e),Nd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ps(e,!!r.multiple,i,!1):r.defaultValue!=null&&ps(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jt(t),null;case 6:if(e&&t.stateNode!=null)b0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_e(166));if(n=Dr(zi.current),Dr(Nn.current),lo(t)){if(r=t.stateNode,n=t.memoizedProps,r[bn]=t,(i=r.nodeValue!==n)&&(e=Vt,e!==null))switch(e.tag){case 3:ao(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ao(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bn]=t,t.stateNode=r}return jt(t),null;case 13:if(st(at),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&Wt!==null&&t.mode&1&&!(t.flags&128))$p(),Ss(),t.flags|=98560,i=!1;else if(i=lo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(_e(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_e(317));i[bn]=t}else Ss(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jt(t),i=!1}else hn!==null&&(jc(hn),hn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||at.current&1?yt===0&&(yt=3):Lu())),t.updateQueue!==null&&(t.flags|=4),jt(t),null);case 4:return Es(),wc(e,t),e===null&&ki(t.stateNode.containerInfo),jt(t),null;case 10:return wu(t.type._context),jt(t),null;case 17:return Bt(t.type)&&qo(),jt(t),null;case 19:if(st(at),i=t.memoizedState,i===null)return jt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Vs(i,!1);else{if(yt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sa(e),o!==null){for(t.flags|=128,Vs(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tt(at,at.current&1|2),t.child}e=e.sibling}i.tail!==null&&pt()>Cs&&(t.flags|=128,r=!0,Vs(i,!1),t.lanes=4194304)}else{if(!r)if(e=sa(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!it)return jt(t),null}else 2*pt()-i.renderingStartTime>Cs&&n!==1073741824&&(t.flags|=128,r=!0,Vs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pt(),t.sibling=null,n=at.current,tt(at,r?n&1|2:n&1),t):(jt(t),null);case 22:case 23:return Ru(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ut&1073741824&&(jt(t),t.subtreeFlags&6&&(t.flags|=8192)):jt(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function Oy(e,t){switch(gu(t),t.tag){case 1:return Bt(t.type)&&qo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Es(),st(Ft),st(Dt),Su(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _u(t),null;case 13:if(st(at),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));Ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(at),null;case 4:return Es(),null;case 10:return wu(t.type._context),null;case 22:case 23:return Ru(),null;case 24:return null;default:return null}}var fo=!1,Ct=!1,$y=typeof WeakSet=="function"?WeakSet:Set,Me=null;function ds(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(e,t,r)}else n.current=null}function bc(e,t,n){try{n()}catch(r){dt(e,t,r)}}var hf=!1;function Fy(e,t){if(sc=Go,e=zp(),pu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,m=e,y=null;t:for(;;){for(var h;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(h=m.firstChild)!==null;)y=m,m=h;for(;;){if(m===e)break t;if(y===n&&++u===s&&(a=o),y===i&&++d===r&&(c=o),(h=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=h}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ic={focusedElem:e,selectionRange:n},Go=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,f=t.stateNode,x=f.getSnapshotBeforeUpdate(t.elementType===t.type?g:un(t.type,g),b);f.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(N){dt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return v=hf,hf=!1,v}function di(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&bc(t,n,i)}s=s.next}while(s!==r)}}function Ta(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function kc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function k0(e){var t=e.alternate;t!==null&&(e.alternate=null,k0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bn],delete t[_i],delete t[lc],delete t[ky],delete t[Ny])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function N0(e){return e.tag===5||e.tag===3||e.tag===4}function pf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||N0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xo));else if(r!==4&&(e=e.child,e!==null))for(Nc(e,t,n),e=e.sibling;e!==null;)Nc(e,t,n),e=e.sibling}function _c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_c(e,t,n),e=e.sibling;e!==null;)_c(e,t,n),e=e.sibling}var Nt=null,dn=!1;function Zn(e,t,n){for(n=n.child;n!==null;)_0(e,t,n),n=n.sibling}function _0(e,t,n){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Na,n)}catch{}switch(n.tag){case 5:Ct||ds(n,t);case 6:var r=Nt,s=dn;Nt=null,Zn(e,t,n),Nt=r,dn=s,Nt!==null&&(dn?(e=Nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(dn?(e=Nt,n=n.stateNode,e.nodeType===8?pl(e.parentNode,n):e.nodeType===1&&pl(e,n),vi(e)):pl(Nt,n.stateNode));break;case 4:r=Nt,s=dn,Nt=n.stateNode.containerInfo,dn=!0,Zn(e,t,n),Nt=r,dn=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&bc(n,t,o),s=s.next}while(s!==r)}Zn(e,t,n);break;case 1:if(!Ct&&(ds(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dt(n,t,a)}Zn(e,t,n);break;case 21:Zn(e,t,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Zn(e,t,n),Ct=r):Zn(e,t,n);break;default:Zn(e,t,n)}}function mf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $y),t.forEach(function(r){var s=Ky.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function cn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Nt=a.stateNode,dn=!1;break e;case 3:Nt=a.stateNode.containerInfo,dn=!0;break e;case 4:Nt=a.stateNode.containerInfo,dn=!0;break e}a=a.return}if(Nt===null)throw Error(_e(160));_0(i,o,s),Nt=null,dn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){dt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S0(t,e),t=t.sibling}function S0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cn(t,e),vn(e),r&4){try{di(3,e,e.return),Ta(3,e)}catch(g){dt(e,e.return,g)}try{di(5,e,e.return)}catch(g){dt(e,e.return,g)}}break;case 1:cn(t,e),vn(e),r&512&&n!==null&&ds(n,n.return);break;case 5:if(cn(t,e),vn(e),r&512&&n!==null&&ds(n,n.return),e.flags&32){var s=e.stateNode;try{mi(s,"")}catch(g){dt(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Gh(s,i),Yl(a,o);var u=Yl(a,i);for(o=0;o<c.length;o+=2){var d=c[o],m=c[o+1];d==="style"?Qh(s,m):d==="dangerouslySetInnerHTML"?Xh(s,m):d==="children"?mi(s,m):tu(s,d,m,u)}switch(a){case"input":Ul(s,i);break;case"textarea":Yh(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?ps(s,!!i.multiple,h,!1):y!==!!i.multiple&&(i.defaultValue!=null?ps(s,!!i.multiple,i.defaultValue,!0):ps(s,!!i.multiple,i.multiple?[]:"",!1))}s[_i]=i}catch(g){dt(e,e.return,g)}}break;case 6:if(cn(t,e),vn(e),r&4){if(e.stateNode===null)throw Error(_e(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){dt(e,e.return,g)}}break;case 3:if(cn(t,e),vn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vi(t.containerInfo)}catch(g){dt(e,e.return,g)}break;case 4:cn(t,e),vn(e);break;case 13:cn(t,e),vn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Mu=pt())),r&4&&mf(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ct=(u=Ct)||d,cn(t,e),Ct=u):cn(t,e),vn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Me=e,d=e.child;d!==null;){for(m=Me=d;Me!==null;){switch(y=Me,h=y.child,y.tag){case 0:case 11:case 14:case 15:di(4,y,y.return);break;case 1:ds(y,y.return);var v=y.stateNode;if(typeof v.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){dt(r,n,g)}}break;case 5:ds(y,y.return);break;case 22:if(y.memoizedState!==null){xf(m);continue}}h!==null?(h.return=y,Me=h):xf(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=qh("display",o))}catch(g){dt(e,e.return,g)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(g){dt(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:cn(t,e),vn(e),r&4&&mf(e);break;case 21:break;default:cn(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(N0(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(mi(s,""),r.flags&=-33);var i=pf(e);_c(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=pf(e);Nc(e,a,o);break;default:throw Error(_e(161))}}catch(c){dt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function By(e,t,n){Me=e,z0(e)}function z0(e,t,n){for(var r=(e.mode&1)!==0;Me!==null;){var s=Me,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fo;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ct;a=fo;var u=Ct;if(fo=o,(Ct=c)&&!u)for(Me=s;Me!==null;)o=Me,c=o.child,o.tag===22&&o.memoizedState!==null?yf(s):c!==null?(c.return=o,Me=c):yf(s);for(;i!==null;)Me=i,z0(i),i=i.sibling;Me=s,fo=a,Ct=u}gf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Me=i):gf(e)}}function gf(e){for(;Me!==null;){var t=Me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||Ta(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:un(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Jd(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jd(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&vi(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Ct||t.flags&512&&kc(t)}catch(y){dt(t,t.return,y)}}if(t===e){Me=null;break}if(n=t.sibling,n!==null){n.return=t.return,Me=n;break}Me=t.return}}function xf(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Me=n;break}Me=t.return}}function yf(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ta(4,t)}catch(c){dt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){dt(t,s,c)}}var i=t.return;try{kc(t)}catch(c){dt(t,i,c)}break;case 5:var o=t.return;try{kc(t)}catch(c){dt(t,o,c)}}}catch(c){dt(t,t.return,c)}if(t===e){Me=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Me=a;break}Me=t.return}}var Hy=Math.ceil,aa=Vn.ReactCurrentDispatcher,Iu=Vn.ReactCurrentOwner,nn=Vn.ReactCurrentBatchConfig,Ve=0,bt=null,gt=null,_t=0,Ut=0,fs=xr(0),yt=0,Di=null,Fr=0,Ia=0,Au=0,fi=null,Lt=null,Mu=0,Cs=1/0,Dn=null,la=!1,Sc=null,cr=null,ho=!1,rr=null,ca=0,hi=0,zc=null,Mo=-1,Po=0;function At(){return Ve&6?pt():Mo!==-1?Mo:Mo=pt()}function ur(e){return e.mode&1?Ve&2&&_t!==0?_t&-_t:Sy.transition!==null?(Po===0&&(Po=up()),Po):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:xp(e.type)),e):1}function gn(e,t,n,r){if(50<hi)throw hi=0,zc=null,Error(_e(185));Ui(e,n,r),(!(Ve&2)||e!==bt)&&(e===bt&&(!(Ve&2)&&(Ia|=n),yt===4&&er(e,_t)),Ht(e,r),n===1&&Ve===0&&!(t.mode&1)&&(Cs=pt()+500,ja&&yr()))}function Ht(e,t){var n=e.callbackNode;Sx(e,t);var r=Zo(e,e===bt?_t:0);if(r===0)n!==null&&zd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&zd(n),t===1)e.tag===0?_y(vf.bind(null,e)):Rp(vf.bind(null,e)),wy(function(){!(Ve&6)&&yr()}),n=null;else{switch(dp(r)){case 1:n=ou;break;case 4:n=lp;break;case 16:n=Vo;break;case 536870912:n=cp;break;default:n=Vo}n=M0(n,E0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function E0(e,t){if(Mo=-1,Po=0,Ve&6)throw Error(_e(327));var n=e.callbackNode;if(vs()&&e.callbackNode!==n)return null;var r=Zo(e,e===bt?_t:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ua(e,r);else{t=r;var s=Ve;Ve|=2;var i=C0();(bt!==e||_t!==t)&&(Dn=null,Cs=pt()+500,Ar(e,t));do try{Vy();break}catch(a){j0(e,a)}while(!0);vu(),aa.current=i,Ve=s,gt!==null?t=0:(bt=null,_t=0,t=yt)}if(t!==0){if(t===2&&(s=Jl(e),s!==0&&(r=s,t=Ec(e,s))),t===1)throw n=Di,Ar(e,0),er(e,r),Ht(e,pt()),n;if(t===6)er(e,r);else{if(s=e.current.alternate,!(r&30)&&!Uy(s)&&(t=ua(e,r),t===2&&(i=Jl(e),i!==0&&(r=i,t=Ec(e,i))),t===1))throw n=Di,Ar(e,0),er(e,r),Ht(e,pt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(_e(345));case 2:_r(e,Lt,Dn);break;case 3:if(er(e,r),(r&130023424)===r&&(t=Mu+500-pt(),10<t)){if(Zo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){At(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ac(_r.bind(null,e,Lt,Dn),t);break}_r(e,Lt,Dn);break;case 4:if(er(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-mn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hy(r/1960))-r,10<r){e.timeoutHandle=ac(_r.bind(null,e,Lt,Dn),r);break}_r(e,Lt,Dn);break;case 5:_r(e,Lt,Dn);break;default:throw Error(_e(329))}}}return Ht(e,pt()),e.callbackNode===n?E0.bind(null,e):null}function Ec(e,t){var n=fi;return e.current.memoizedState.isDehydrated&&(Ar(e,t).flags|=256),e=ua(e,t),e!==2&&(t=Lt,Lt=n,t!==null&&jc(t)),e}function jc(e){Lt===null?Lt=e:Lt.push.apply(Lt,e)}function Uy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!xn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function er(e,t){for(t&=~Au,t&=~Ia,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mn(t),r=1<<n;e[n]=-1,t&=~r}}function vf(e){if(Ve&6)throw Error(_e(327));vs();var t=Zo(e,0);if(!(t&1))return Ht(e,pt()),null;var n=ua(e,t);if(e.tag!==0&&n===2){var r=Jl(e);r!==0&&(t=r,n=Ec(e,r))}if(n===1)throw n=Di,Ar(e,0),er(e,t),Ht(e,pt()),n;if(n===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_r(e,Lt,Dn),Ht(e,pt()),null}function Pu(e,t){var n=Ve;Ve|=1;try{return e(t)}finally{Ve=n,Ve===0&&(Cs=pt()+500,ja&&yr())}}function Br(e){rr!==null&&rr.tag===0&&!(Ve&6)&&vs();var t=Ve;Ve|=1;var n=nn.transition,r=Ke;try{if(nn.transition=null,Ke=1,e)return e()}finally{Ke=r,nn.transition=n,Ve=t,!(Ve&6)&&yr()}}function Ru(){Ut=fs.current,st(fs)}function Ar(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vy(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(gu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qo();break;case 3:Es(),st(Ft),st(Dt),Su();break;case 5:_u(r);break;case 4:Es();break;case 13:st(at);break;case 19:st(at);break;case 10:wu(r.type._context);break;case 22:case 23:Ru()}n=n.return}if(bt=e,gt=e=dr(e.current,null),_t=Ut=t,yt=0,Di=null,Au=Ia=Fr=0,Lt=fi=null,Cr!==null){for(t=0;t<Cr.length;t++)if(n=Cr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Cr=null}return e}function j0(e,t){do{var n=gt;try{if(vu(),To.current=oa,ia){for(var r=lt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ia=!1}if($r=0,wt=xt=lt=null,ui=!1,Ei=0,Iu.current=null,n===null||n.return===null){yt=1,Di=t,gt=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=_t,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=of(o);if(h!==null){h.flags&=-257,af(h,o,a,i,t),h.mode&1&&sf(i,u,t),t=h,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){sf(i,u,t),Lu();break e}c=Error(_e(426))}}else if(it&&a.mode&1){var b=of(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),af(b,o,a,i,t),xu(js(c,a));break e}}i=c=js(c,a),yt!==4&&(yt=2),fi===null?fi=[i]:fi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=d0(i,c,t);Qd(i,f);break e;case 1:a=c;var x=i.type,k=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(cr===null||!cr.has(k)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=f0(i,a,t);Qd(i,N);break e}}i=i.return}while(i!==null)}T0(n)}catch(_){t=_,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function C0(){var e=aa.current;return aa.current=oa,e===null?oa:e}function Lu(){(yt===0||yt===3||yt===2)&&(yt=4),bt===null||!(Fr&268435455)&&!(Ia&268435455)||er(bt,_t)}function ua(e,t){var n=Ve;Ve|=2;var r=C0();(bt!==e||_t!==t)&&(Dn=null,Ar(e,t));do try{Wy();break}catch(s){j0(e,s)}while(!0);if(vu(),Ve=n,aa.current=r,gt!==null)throw Error(_e(261));return bt=null,_t=0,yt}function Wy(){for(;gt!==null;)D0(gt)}function Vy(){for(;gt!==null&&!gx();)D0(gt)}function D0(e){var t=A0(e.alternate,e,Ut);e.memoizedProps=e.pendingProps,t===null?T0(e):gt=t,Iu.current=null}function T0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Oy(n,t),n!==null){n.flags&=32767,gt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yt=6,gt=null;return}}else if(n=Ly(n,t,Ut),n!==null){gt=n;return}if(t=t.sibling,t!==null){gt=t;return}gt=t=e}while(t!==null);yt===0&&(yt=5)}function _r(e,t,n){var r=Ke,s=nn.transition;try{nn.transition=null,Ke=1,Zy(e,t,n,r)}finally{nn.transition=s,Ke=r}return null}function Zy(e,t,n,r){do vs();while(rr!==null);if(Ve&6)throw Error(_e(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(zx(e,i),e===bt&&(gt=bt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ho||(ho=!0,M0(Vo,function(){return vs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=nn.transition,nn.transition=null;var o=Ke;Ke=1;var a=Ve;Ve|=4,Iu.current=null,Fy(e,n),S0(n,e),fy(ic),Go=!!sc,ic=sc=null,e.current=n,By(n),xx(),Ve=a,Ke=o,nn.transition=i}else e.current=n;if(ho&&(ho=!1,rr=e,ca=s),i=e.pendingLanes,i===0&&(cr=null),wx(n.stateNode),Ht(e,pt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(la)throw la=!1,e=Sc,Sc=null,e;return ca&1&&e.tag!==0&&vs(),i=e.pendingLanes,i&1?e===zc?hi++:(hi=0,zc=e):hi=0,yr(),null}function vs(){if(rr!==null){var e=dp(ca),t=nn.transition,n=Ke;try{if(nn.transition=null,Ke=16>e?16:e,rr===null)var r=!1;else{if(e=rr,rr=null,ca=0,Ve&6)throw Error(_e(331));var s=Ve;for(Ve|=4,Me=e.current;Me!==null;){var i=Me,o=i.child;if(Me.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Me=u;Me!==null;){var d=Me;switch(d.tag){case 0:case 11:case 15:di(8,d,i)}var m=d.child;if(m!==null)m.return=d,Me=m;else for(;Me!==null;){d=Me;var y=d.sibling,h=d.return;if(k0(d),d===u){Me=null;break}if(y!==null){y.return=h,Me=y;break}Me=h}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Me=o;else e:for(;Me!==null;){if(i=Me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:di(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,Me=f;break e}Me=i.return}}var x=e.current;for(Me=x;Me!==null;){o=Me;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,Me=k;else e:for(o=x;Me!==null;){if(a=Me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ta(9,a)}}catch(_){dt(a,a.return,_)}if(a===o){Me=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Me=N;break e}Me=a.return}}if(Ve=s,yr(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Na,e)}catch{}r=!0}return r}finally{Ke=n,nn.transition=t}}return!1}function wf(e,t,n){t=js(n,t),t=d0(e,t,1),e=lr(e,t,1),t=At(),e!==null&&(Ui(e,1,t),Ht(e,t))}function dt(e,t,n){if(e.tag===3)wf(e,e,n);else for(;t!==null;){if(t.tag===3){wf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cr===null||!cr.has(r))){e=js(n,e),e=f0(t,e,1),t=lr(t,e,1),e=At(),t!==null&&(Ui(t,1,e),Ht(t,e));break}}t=t.return}}function Gy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=At(),e.pingedLanes|=e.suspendedLanes&n,bt===e&&(_t&n)===n&&(yt===4||yt===3&&(_t&130023424)===_t&&500>pt()-Mu?Ar(e,0):Au|=n),Ht(e,t)}function I0(e,t){t===0&&(e.mode&1?(t=no,no<<=1,!(no&130023424)&&(no=4194304)):t=1);var n=At();e=Bn(e,t),e!==null&&(Ui(e,t,n),Ht(e,n))}function Yy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),I0(e,n)}function Ky(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(t),I0(e,n)}var A0;A0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ft.current)Ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ot=!1,Ry(e,t,n);Ot=!!(e.flags&131072)}else Ot=!1,it&&t.flags&1048576&&Lp(t,ea,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ao(e,t),e=t.pendingProps;var s=_s(t,Dt.current);ys(t,n),s=Eu(null,t,r,e,s,n);var i=ju();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(r)?(i=!0,Qo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ku(t),s.updater=Da,t.stateNode=s,s._reactInternals=t,pc(t,r,e,n),t=xc(null,t,r,!0,i,n)):(t.tag=0,it&&i&&mu(t),Tt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ao(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=qy(r),e=un(r,e),s){case 0:t=gc(null,t,r,e,n);break e;case 1:t=uf(null,t,r,e,n);break e;case 11:t=lf(null,t,r,e,n);break e;case 14:t=cf(null,t,r,un(r.type,e),n);break e}throw Error(_e(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:un(r,s),gc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:un(r,s),uf(e,t,r,s,n);case 3:e:{if(g0(t),e===null)throw Error(_e(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Up(e,t),ra(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=js(Error(_e(423)),t),t=df(e,t,r,n,s);break e}else if(r!==s){s=js(Error(_e(424)),t),t=df(e,t,r,n,s);break e}else for(Wt=ar(t.stateNode.containerInfo.firstChild),Vt=t,it=!0,hn=null,n=Bp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ss(),r===s){t=Hn(e,t,n);break e}Tt(e,t,r,n)}t=t.child}return t;case 5:return Wp(t),e===null&&dc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,oc(r,s)?o=null:i!==null&&oc(r,i)&&(t.flags|=32),m0(e,t),Tt(e,t,o,n),t.child;case 6:return e===null&&dc(t),null;case 13:return x0(e,t,n);case 4:return Nu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zs(t,null,r,n):Tt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:un(r,s),lf(e,t,r,s,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,tt(ta,r._currentValue),r._currentValue=o,i!==null)if(xn(i.value,o)){if(i.children===s.children&&!Ft.current){t=Hn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Pn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),fc(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(_e(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),fc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ys(t,n),s=sn(s),r=r(s),t.flags|=1,Tt(e,t,r,n),t.child;case 14:return r=t.type,s=un(r,t.pendingProps),s=un(r.type,s),cf(e,t,r,s,n);case 15:return h0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:un(r,s),Ao(e,t),t.tag=1,Bt(r)?(e=!0,Qo(t)):e=!1,ys(t,n),u0(t,r,s),pc(t,r,s,n),xc(null,t,r,!0,e,n);case 19:return y0(e,t,n);case 22:return p0(e,t,n)}throw Error(_e(156,t.tag))};function M0(e,t){return ap(e,t)}function Xy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,n,r){return new Xy(e,t,n,r)}function Ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qy(e){if(typeof e=="function")return Ou(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ru)return 11;if(e===su)return 14}return 2}function dr(e,t){var n=e.alternate;return n===null?(n=en(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ro(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Ou(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ns:return Mr(n.children,s,i,t);case nu:o=8,s|=8;break;case Ol:return e=en(12,n,t,s|2),e.elementType=Ol,e.lanes=i,e;case $l:return e=en(13,n,t,s),e.elementType=$l,e.lanes=i,e;case Fl:return e=en(19,n,t,s),e.elementType=Fl,e.lanes=i,e;case Wh:return Aa(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hh:o=10;break e;case Uh:o=9;break e;case ru:o=11;break e;case su:o=14;break e;case Kn:o=16,r=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=en(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Mr(e,t,n,r){return e=en(7,e,r,t),e.lanes=n,e}function Aa(e,t,n,r){return e=en(22,e,r,t),e.elementType=Wh,e.lanes=n,e.stateNode={isHidden:!1},e}function kl(e,t,n){return e=en(6,e,null,t),e.lanes=n,e}function Nl(e,t,n){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qy(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rl(0),this.expirationTimes=rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $u(e,t,n,r,s,i,o,a,c){return e=new Qy(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=en(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ku(i),e}function Jy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ts,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function P0(e){if(!e)return pr;e=e._reactInternals;e:{if(Wr(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var n=e.type;if(Bt(n))return Pp(e,n,t)}return t}function R0(e,t,n,r,s,i,o,a,c){return e=$u(n,r,!0,e,s,i,o,a,c),e.context=P0(null),n=e.current,r=At(),s=ur(n),i=Pn(r,s),i.callback=t??null,lr(n,i,s),e.current.lanes=s,Ui(e,s,r),Ht(e,r),e}function Ma(e,t,n,r){var s=t.current,i=At(),o=ur(s);return n=P0(n),t.context===null?t.context=n:t.pendingContext=n,t=Pn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=lr(s,t,o),e!==null&&(gn(e,s,o,i),Do(e,s,o)),o}function da(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fu(e,t){bf(e,t),(e=e.alternate)&&bf(e,t)}function e1(){return null}var L0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bu(e){this._internalRoot=e}Pa.prototype.render=Bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));Ma(e,t,null,null)};Pa.prototype.unmount=Bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Br(function(){Ma(null,e,null,null)}),t[Fn]=null}};function Pa(e){this._internalRoot=e}Pa.prototype.unstable_scheduleHydration=function(e){if(e){var t=pp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jn.length&&t!==0&&t<Jn[n].priority;n++);Jn.splice(n,0,e),n===0&&gp(e)}};function Hu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kf(){}function t1(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=da(o);i.call(u)}}var o=R0(t,r,e,0,null,!1,!1,"",kf);return e._reactRootContainer=o,e[Fn]=o.current,ki(e.nodeType===8?e.parentNode:e),Br(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=da(c);a.call(u)}}var c=$u(e,0,!1,null,null,!1,!1,"",kf);return e._reactRootContainer=c,e[Fn]=c.current,ki(e.nodeType===8?e.parentNode:e),Br(function(){Ma(t,c,n,r)}),c}function La(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=da(o);a.call(c)}}Ma(t,o,e,s)}else o=t1(n,t,e,s,r);return da(o)}fp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ei(t.pendingLanes);n!==0&&(au(t,n|1),Ht(t,pt()),!(Ve&6)&&(Cs=pt()+500,yr()))}break;case 13:Br(function(){var r=Bn(e,1);if(r!==null){var s=At();gn(r,e,1,s)}}),Fu(e,1)}};lu=function(e){if(e.tag===13){var t=Bn(e,134217728);if(t!==null){var n=At();gn(t,e,134217728,n)}Fu(e,134217728)}};hp=function(e){if(e.tag===13){var t=ur(e),n=Bn(e,t);if(n!==null){var r=At();gn(n,e,t,r)}Fu(e,t)}};pp=function(){return Ke};mp=function(e,t){var n=Ke;try{return Ke=e,t()}finally{Ke=n}};Xl=function(e,t,n){switch(t){case"input":if(Ul(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ea(r);if(!s)throw Error(_e(90));Zh(r),Ul(r,s)}}}break;case"textarea":Yh(e,n);break;case"select":t=n.value,t!=null&&ps(e,!!n.multiple,t,!1)}};tp=Pu;np=Br;var n1={usingClientEntryPoint:!1,Events:[Vi,os,Ea,Jh,ep,Pu]},Zs={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r1={bundleType:Zs.bundleType,version:Zs.version,rendererPackageName:Zs.rendererPackageName,rendererConfig:Zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ip(e),e===null?null:e.stateNode},findFiberByHostInstance:Zs.findFiberByHostInstance||e1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{Na=po.inject(r1),kn=po}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n1;Yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hu(t))throw Error(_e(200));return Jy(e,t,null,n)};Yt.createRoot=function(e,t){if(!Hu(e))throw Error(_e(299));var n=!1,r="",s=L0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$u(e,1,!1,null,null,n,!1,r,s),e[Fn]=t.current,ki(e.nodeType===8?e.parentNode:e),new Bu(t)};Yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=ip(t),e=e===null?null:e.stateNode,e};Yt.flushSync=function(e){return Br(e)};Yt.hydrate=function(e,t,n){if(!Ra(t))throw Error(_e(200));return La(null,e,t,!0,n)};Yt.hydrateRoot=function(e,t,n){if(!Hu(e))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=L0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=R0(t,null,e,1,n??null,s,!1,i,o),e[Fn]=t.current,ki(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Pa(t)};Yt.render=function(e,t,n){if(!Ra(t))throw Error(_e(200));return La(null,e,t,!1,n)};Yt.unmountComponentAtNode=function(e){if(!Ra(e))throw Error(_e(40));return e._reactRootContainer?(Br(function(){La(null,null,e,!1,function(){e._reactRootContainer=null,e[Fn]=null})}),!0):!1};Yt.unstable_batchedUpdates=Pu;Yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ra(n))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return La(e,t,n,!1,r)};Yt.version="18.3.1-next-f1338f8080-20240426";function O0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O0)}catch(e){console.error(e)}}O0(),Oh.exports=Yt;var s1=Oh.exports,Nf=s1;Rl.createRoot=Nf.createRoot,Rl.hydrateRoot=Nf.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),je=(e,t)=>{const n=D.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:c,...u},d)=>D.createElement("svg",{ref:d,...i1,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${o1(e)}`,a].join(" "),...u},[...t.map(([m,y])=>D.createElement(m,y)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=je("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=je("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=je("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=je("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=je("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=je("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=je("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=je("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=je("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=je("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=je("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=je("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=je("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=je("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=je("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=je("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=je("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=je("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=je("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=je("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=je("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=je("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=je("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=je("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=je("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=je("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=je("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=je("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=je("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=je("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=je("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=je("Import",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=je("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=je("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=je("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=je("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=je("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=je("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=je("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=je("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=je("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=je("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=je("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=je("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=je("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=je("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=je("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=je("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=je("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=je("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=je("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=je("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=je("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=je("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=je("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=je("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=je("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=je("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=je("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=je("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=je("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=je("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function mo(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var V0={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,i){function o(u,d){if(!s[u]){if(!r[u]){var m=typeof mo=="function"&&mo;if(!d&&m)return m(u,!0);if(a)return a(u,!0);var y=new Error("Cannot find module '"+u+"'");throw y.code="MODULE_NOT_FOUND",y}var h=s[u]={exports:{}};r[u][0].call(h.exports,function(v){var g=r[u][1][v];return o(g||v)},h,h.exports,n,r,s,i)}return s[u].exports}for(var a=typeof mo=="function"&&mo,c=0;c<i.length;c++)o(i[c]);return o}({1:[function(n,r,s){var i=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(c){for(var u,d,m,y,h,v,g,b=[],f=0,x=c.length,k=x,N=i.getTypeOf(c)!=="string";f<c.length;)k=x-f,m=N?(u=c[f++],d=f<x?c[f++]:0,f<x?c[f++]:0):(u=c.charCodeAt(f++),d=f<x?c.charCodeAt(f++):0,f<x?c.charCodeAt(f++):0),y=u>>2,h=(3&u)<<4|d>>4,v=1<k?(15&d)<<2|m>>6:64,g=2<k?63&m:64,b.push(a.charAt(y)+a.charAt(h)+a.charAt(v)+a.charAt(g));return b.join("")},s.decode=function(c){var u,d,m,y,h,v,g=0,b=0,f="data:";if(c.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var x,k=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===a.charAt(64)&&k--,c.charAt(c.length-2)===a.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=o.uint8array?new Uint8Array(0|k):new Array(0|k);g<c.length;)u=a.indexOf(c.charAt(g++))<<2|(y=a.indexOf(c.charAt(g++)))>>4,d=(15&y)<<4|(h=a.indexOf(c.charAt(g++)))>>2,m=(3&h)<<6|(v=a.indexOf(c.charAt(g++))),x[b++]=u,h!==64&&(x[b++]=d),v!==64&&(x[b++]=m);return x}},{"./support":30,"./utils":32}],2:[function(n,r,s){var i=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(d,m,y,h,v){this.compressedSize=d,this.uncompressedSize=m,this.crc32=y,this.compression=h,this.compressedContent=v}u.prototype={getContentWorker:function(){var d=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),m=this;return d.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,m,y){return d.pipe(new a).pipe(new c("uncompressedSize")).pipe(m.compressWorker(y)).pipe(new c("compressedSize")).withStreamInfo("compression",m)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var i=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var i=n("./utils"),o=function(){for(var a,c=[],u=0;u<256;u++){a=u;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;c[u]=a}return c}();r.exports=function(a,c){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(u,d,m,y){var h=o,v=y+m;u^=-1;for(var g=y;g<v;g++)u=u>>>8^h[255&(u^d[g])];return-1^u}(0|c,a,a.length,0):function(u,d,m,y){var h=o,v=y+m;u^=-1;for(var g=y;g<v;g++)u=u>>>8^h[255&(u^d.charCodeAt(g))];return-1^u}(0|c,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),c=n("./stream/GenericWorker"),u=i?"uint8array":"array";function d(m,y){c.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=y,this.meta={}}s.magic="\b\0",a.inherits(d,c),d.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,m.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(y){m.push({data:y,meta:m.meta})}},s.compressWorker=function(m){return new d("Deflate",m)},s.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function i(h,v){var g,b="";for(g=0;g<v;g++)b+=String.fromCharCode(255&h),h>>>=8;return b}function o(h,v,g,b,f,x){var k,N,_=h.file,C=h.compression,j=x!==u.utf8encode,R=a.transformTo("string",x(_.name)),A=a.transformTo("string",u.utf8encode(_.name)),B=_.comment,K=a.transformTo("string",x(B)),T=a.transformTo("string",u.utf8encode(B)),$=A.length!==_.name.length,p=T.length!==B.length,O="",W="",U="",V=_.dir,I=_.date,G={crc32:0,compressedSize:0,uncompressedSize:0};v&&!g||(G.crc32=h.crc32,G.compressedSize=h.compressedSize,G.uncompressedSize=h.uncompressedSize);var M=0;v&&(M|=8),j||!$&&!p||(M|=2048);var P=0,se=0;V&&(P|=16),f==="UNIX"?(se=798,P|=function(J,ve){var Ee=J;return J||(Ee=ve?16893:33204),(65535&Ee)<<16}(_.unixPermissions,V)):(se=20,P|=function(J){return 63&(J||0)}(_.dosPermissions)),k=I.getUTCHours(),k<<=6,k|=I.getUTCMinutes(),k<<=5,k|=I.getUTCSeconds()/2,N=I.getUTCFullYear()-1980,N<<=4,N|=I.getUTCMonth()+1,N<<=5,N|=I.getUTCDate(),$&&(W=i(1,1)+i(d(R),4)+A,O+="up"+i(W.length,2)+W),p&&(U=i(1,1)+i(d(K),4)+T,O+="uc"+i(U.length,2)+U);var Q="";return Q+=`
\0`,Q+=i(M,2),Q+=C.magic,Q+=i(k,2),Q+=i(N,2),Q+=i(G.crc32,4),Q+=i(G.compressedSize,4),Q+=i(G.uncompressedSize,4),Q+=i(R.length,2),Q+=i(O.length,2),{fileRecord:m.LOCAL_FILE_HEADER+Q+R+O,dirRecord:m.CENTRAL_FILE_HEADER+i(se,2)+Q+i(K.length,2)+"\0\0\0\0"+i(P,4)+i(b,4)+R+O+K}}var a=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),d=n("../crc32"),m=n("../signature");function y(h,v,g,b){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=g,this.encodeFileName=b,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(y,c),y.prototype.push=function(h){var v=h.meta.percent||0,g=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,c.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:g?(v+100*(g-b-1))/g:100}}))},y.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var v=this.streamFiles&&!h.file.dir;if(v){var g=o(h,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(h){this.accumulate=!1;var v=this.streamFiles&&!h.file.dir,g=o(h,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),v)this.push({data:function(b){return m.DATA_DESCRIPTOR+i(b.crc32,4)+i(b.compressedSize,4)+i(b.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var h=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var g=this.bytesWritten-h,b=function(f,x,k,N,_){var C=a.transformTo("string",_(N));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(f,2)+i(f,2)+i(x,4)+i(k,4)+i(C.length,2)+C}(this.dirRecords.length,g,h,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(h){this._sources.push(h);var v=this;return h.on("data",function(g){v.processChunk(g)}),h.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),h.on("error",function(g){v.error(g)}),this},y.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(h){var v=this._sources;if(!c.prototype.error.call(this,h))return!1;for(var g=0;g<v.length;g++)try{v[g].error(h)}catch{}return!0},y.prototype.lock=function(){c.prototype.lock.call(this);for(var h=this._sources,v=0;v<h.length;v++)h[v].lock()},r.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var i=n("../compressions"),o=n("./ZipFileWorker");s.generateWorker=function(a,c,u){var d=new o(c.streamFiles,u,c.platform,c.encodeFileName),m=0;try{a.forEach(function(y,h){m++;var v=function(x,k){var N=x||k,_=i[N];if(!_)throw new Error(N+" is not a valid compression method !");return _}(h.options.compression,c.compression),g=h.options.compressionOptions||c.compressionOptions||{},b=h.dir,f=h.date;h._compressWorker(v,g).withStreamInfo("file",{name:y,dir:b,date:f,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(d)}),d.entriesCount=m}catch(y){d.error(y)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(o,a){return new i().loadAsync(o,a)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var i=n("./utils"),o=n("./external"),a=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function m(y){return new o.Promise(function(h,v){var g=y.decompressed.getContentWorker().pipe(new u);g.on("error",function(b){v(b)}).on("end",function(){g.streamInfo.crc32!==y.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(y,h){var v=this;return h=i.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),d.isNode&&d.isStream(y)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",y,!0,h.optimizedBinaryString,h.base64).then(function(g){var b=new c(h);return b.load(g),b}).then(function(g){var b=[o.Promise.resolve(g)],f=g.files;if(h.checkCRC32)for(var x=0;x<f.length;x++)b.push(m(f[x]));return o.Promise.all(b)}).then(function(g){for(var b=g.shift(),f=b.files,x=0;x<f.length;x++){var k=f[x],N=k.fileNameStr,_=i.resolve(k.fileNameStr);v.file(_,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:h.createFolders}),k.dir||(v.file(_).unsafeOriginalName=N)}return b.zipComment.length&&(v.comment=b.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var i=n("../utils"),o=n("../stream/GenericWorker");function a(c,u){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(a,o),a.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var i=n("readable-stream").Readable;function o(a,c,u){i.call(this,c),this._helper=a;var d=this;a.on("data",function(m,y){d.push(m)||d._helper.pause(),u&&u(y)}).on("error",function(m){d.emit("error",m)}).on("end",function(){d.push(null)})}n("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,s){function i(_,C,j){var R,A=a.getTypeOf(C),B=a.extend(j||{},d);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(_=f(_)),B.createFolders&&(R=b(_))&&x.call(this,R,!0);var K=A==="string"&&B.binary===!1&&B.base64===!1;j&&j.binary!==void 0||(B.binary=!K),(C instanceof m&&C.uncompressedSize===0||B.dir||!C||C.length===0)&&(B.base64=!1,B.binary=!0,C="",B.compression="STORE",A="string");var T=null;T=C instanceof m||C instanceof c?C:v.isNode&&v.isStream(C)?new g(_,C):a.prepareContent(_,C,B.binary,B.optimizedBinaryString,B.base64);var $=new y(_,T,B);this.files[_]=$}var o=n("./utf8"),a=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),d=n("./defaults"),m=n("./compressedObject"),y=n("./zipObject"),h=n("./generate"),v=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),b=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var C=_.lastIndexOf("/");return 0<C?_.substring(0,C):""},f=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},x=function(_,C){return C=C!==void 0?C:d.createFolders,_=f(_),this.files[_]||i.call(this,_,null,{dir:!0,createFolders:C}),this.files[_]};function k(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var C,j,R;for(C in this.files)R=this.files[C],(j=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&_(j,R)},filter:function(_){var C=[];return this.forEach(function(j,R){_(j,R)&&C.push(R)}),C},file:function(_,C,j){if(arguments.length!==1)return _=this.root+_,i.call(this,_,C,j),this;if(k(_)){var R=_;return this.filter(function(B,K){return!K.dir&&R.test(B)})}var A=this.files[this.root+_];return A&&!A.dir?A:null},folder:function(_){if(!_)return this;if(k(_))return this.filter(function(A,B){return B.dir&&_.test(A)});var C=this.root+_,j=x.call(this,C),R=this.clone();return R.root=j.name,R},remove:function(_){_=this.root+_;var C=this.files[_];if(C||(_.slice(-1)!=="/"&&(_+="/"),C=this.files[_]),C&&!C.dir)delete this.files[_];else for(var j=this.filter(function(A,B){return B.name.slice(0,_.length)===_}),R=0;R<j.length;R++)delete this.files[j[R].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var C,j={};try{if((j=a.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");a.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var R=j.comment||this.comment||"";C=h.generateWorker(this,j,R)}catch(A){(C=new c("error")).error(A)}return new u(C,j.type||"string",j.mimeType)},generateAsync:function(_,C){return this.generateInternalStream(_).accumulate(C)},generateNodeStream:function(_,C){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(C)}};r.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a);for(var c=0;c<this.data.length;c++)a[c]=255&a[c]}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var c=a.charCodeAt(0),u=a.charCodeAt(1),d=a.charCodeAt(2),m=a.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===c&&this.data[y+1]===u&&this.data[y+2]===d&&this.data[y+3]===m)return y-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var c=a.charCodeAt(0),u=a.charCodeAt(1),d=a.charCodeAt(2),m=a.charCodeAt(3),y=this.readData(4);return c===y[0]&&u===y[1]&&d===y[2]&&m===y[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var i=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var c,u=0;for(this.checkOffset(a),c=this.index+a-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=a,u},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,s){var i=n("./Uint8ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var i=n("./ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var i=n("../utils"),o=n("../support"),a=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(m){var y=i.getTypeOf(m);return i.checkSupport(y),y!=="string"||o.uint8array?y==="nodebuffer"?new u(m):o.uint8array?new d(i.transformTo("uint8array",m)):new a(i.transformTo("array",m)):new c(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var i=n("./GenericWorker"),o=n("../utils");function a(c){i.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(a,i),a.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var i=n("./GenericWorker"),o=n("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,i),a.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(a,o),a.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}o.prototype.processChunk.call(this,c)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(c){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=i.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}i.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(c){a.processChunk(c)}),o.on("end",function(){a.end()}),o.on("error",function(c){a.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=i},{}],29:[function(n,r,s){var i=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),c=n("../base64"),u=n("../support"),d=n("../external"),m=null;if(u.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(v,g){return new d.Promise(function(b,f){var x=[],k=v._internalType,N=v._outputType,_=v._mimeType;v.on("data",function(C,j){x.push(C),g&&g(j)}).on("error",function(C){x=[],f(C)}).on("end",function(){try{var C=function(j,R,A){switch(j){case"blob":return i.newBlob(i.transformTo("arraybuffer",R),A);case"base64":return c.encode(R);default:return i.transformTo(j,R)}}(N,function(j,R){var A,B=0,K=null,T=0;for(A=0;A<R.length;A++)T+=R[A].length;switch(j){case"string":return R.join("");case"array":return Array.prototype.concat.apply([],R);case"uint8array":for(K=new Uint8Array(T),A=0;A<R.length;A++)K.set(R[A],B),B+=R[A].length;return K;case"nodebuffer":return Buffer.concat(R);default:throw new Error("concat : unsupported type '"+j+"'")}}(k,x),_);b(C)}catch(j){f(j)}x=[]}).resume()})}function h(v,g,b){var f=g;switch(g){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=g,this._mimeType=b,i.checkSupport(f),this._worker=v.pipe(new o(f)),v.lock()}catch(x){this._worker=new a("error"),this._worker.error(x)}}h.prototype={accumulate:function(v){return y(this,v)},on:function(v,g){var b=this;return v==="data"?this._worker.on(v,function(f){g.call(b,f.data,f.meta)}):this._worker.on(v,function(){i.delay(g,arguments,b)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var i=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function m(){c.call(this,"utf-8 decode"),this.leftOver=null}function y(){c.call(this,"utf-8 encode")}s.utf8encode=function(h){return o.nodebuffer?a.newBufferFrom(h,"utf-8"):function(v){var g,b,f,x,k,N=v.length,_=0;for(x=0;x<N;x++)(64512&(b=v.charCodeAt(x)))==55296&&x+1<N&&(64512&(f=v.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(f-56320),x++),_+=b<128?1:b<2048?2:b<65536?3:4;for(g=o.uint8array?new Uint8Array(_):new Array(_),x=k=0;k<_;x++)(64512&(b=v.charCodeAt(x)))==55296&&x+1<N&&(64512&(f=v.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(f-56320),x++),b<128?g[k++]=b:(b<2048?g[k++]=192|b>>>6:(b<65536?g[k++]=224|b>>>12:(g[k++]=240|b>>>18,g[k++]=128|b>>>12&63),g[k++]=128|b>>>6&63),g[k++]=128|63&b);return g}(h)},s.utf8decode=function(h){return o.nodebuffer?i.transformTo("nodebuffer",h).toString("utf-8"):function(v){var g,b,f,x,k=v.length,N=new Array(2*k);for(g=b=0;g<k;)if((f=v[g++])<128)N[b++]=f;else if(4<(x=u[f]))N[b++]=65533,g+=x-1;else{for(f&=x===2?31:x===3?15:7;1<x&&g<k;)f=f<<6|63&v[g++],x--;1<x?N[b++]=65533:f<65536?N[b++]=f:(f-=65536,N[b++]=55296|f>>10&1023,N[b++]=56320|1023&f)}return N.length!==b&&(N.subarray?N=N.subarray(0,b):N.length=b),i.applyFromCharCode(N)}(h=i.transformTo(o.uint8array?"uint8array":"array",h))},i.inherits(m,c),m.prototype.processChunk=function(h){var v=i.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var g=v;(v=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),v.set(g,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var b=function(x,k){var N;for((k=k||x.length)>x.length&&(k=x.length),N=k-1;0<=N&&(192&x[N])==128;)N--;return N<0||N===0?k:N+u[x[N]]>k?N:k}(v),f=v;b!==v.length&&(o.uint8array?(f=v.subarray(0,b),this.leftOver=v.subarray(b,v.length)):(f=v.slice(0,b),this.leftOver=v.slice(b,v.length))),this.push({data:s.utf8decode(f),meta:h.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=m,i.inherits(y,c),y.prototype.processChunk=function(h){this.push({data:s.utf8encode(h.data),meta:h.meta})},s.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var i=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),c=n("./external");function u(g){return g}function d(g,b){for(var f=0;f<g.length;++f)b[f]=255&g.charCodeAt(f);return b}n("setimmediate"),s.newBlob=function(g,b){s.checkSupport("blob");try{return new Blob([g],{type:b})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(g),f.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(g,b,f){var x=[],k=0,N=g.length;if(N<=f)return String.fromCharCode.apply(null,g);for(;k<N;)b==="array"||b==="nodebuffer"?x.push(String.fromCharCode.apply(null,g.slice(k,Math.min(k+f,N)))):x.push(String.fromCharCode.apply(null,g.subarray(k,Math.min(k+f,N)))),k+=f;return x.join("")},stringifyByChar:function(g){for(var b="",f=0;f<g.length;f++)b+=String.fromCharCode(g[f]);return b},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function y(g){var b=65536,f=s.getTypeOf(g),x=!0;if(f==="uint8array"?x=m.applyCanBeUsed.uint8array:f==="nodebuffer"&&(x=m.applyCanBeUsed.nodebuffer),x)for(;1<b;)try{return m.stringifyByChunk(g,f,b)}catch{b=Math.floor(b/2)}return m.stringifyByChar(g)}function h(g,b){for(var f=0;f<g.length;f++)b[f]=g[f];return b}s.applyFromCharCode=y;var v={};v.string={string:u,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return v.string.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:function(g){return d(g,a.allocBuffer(g.length))}},v.array={string:y,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(g)}},v.arraybuffer={string:function(g){return y(new Uint8Array(g))},array:function(g){return h(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(new Uint8Array(g))}},v.uint8array={string:y,array:function(g){return h(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return a.newBufferFrom(g)}},v.nodebuffer={string:y,array:function(g){return h(g,new Array(g.length))},arraybuffer:function(g){return v.nodebuffer.uint8array(g).buffer},uint8array:function(g){return h(g,new Uint8Array(g.length))},nodebuffer:u},s.transformTo=function(g,b){if(b=b||"",!g)return b;s.checkSupport(g);var f=s.getTypeOf(b);return v[f][g](b)},s.resolve=function(g){for(var b=g.split("/"),f=[],x=0;x<b.length;x++){var k=b[x];k==="."||k===""&&x!==0&&x!==b.length-1||(k===".."?f.pop():f.push(k))}return f.join("/")},s.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(g)?"nodebuffer":i.uint8array&&g instanceof Uint8Array?"uint8array":i.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(g){if(!i[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(g){var b,f,x="";for(f=0;f<(g||"").length;f++)x+="\\x"+((b=g.charCodeAt(f))<16?"0":"")+b.toString(16).toUpperCase();return x},s.delay=function(g,b,f){setImmediate(function(){g.apply(f||null,b||[])})},s.inherits=function(g,b){function f(){}f.prototype=b.prototype,g.prototype=new f},s.extend=function(){var g,b,f={};for(g=0;g<arguments.length;g++)for(b in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],b)&&f[b]===void 0&&(f[b]=arguments[g][b]);return f},s.prepareContent=function(g,b,f,x,k){return c.Promise.resolve(b).then(function(N){return i.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new c.Promise(function(_,C){var j=new FileReader;j.onload=function(R){_(R.target.result)},j.onerror=function(R){C(R.target.error)},j.readAsArrayBuffer(N)}):N}).then(function(N){var _=s.getTypeOf(N);return _?(_==="arraybuffer"?N=s.transformTo("uint8array",N):_==="string"&&(k?N=o.decode(N):f&&x!==!0&&(N=function(C){return d(C,i.uint8array?new Uint8Array(C.length):new Array(C.length))}(N))),N):c.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),c=n("./zipEntry"),u=n("./support");function d(m){this.files=[],this.loadOptions=m}d.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(y)+", expected "+o.pretty(m)+")")}},isSignature:function(m,y){var h=this.reader.index;this.reader.setIndex(m);var v=this.reader.readString(4)===y;return this.reader.setIndex(h),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),y=u.uint8array?"uint8array":"array",h=o.transformTo(y,m);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,y,h,v=this.zip64EndOfCentralSize-44;0<v;)m=this.reader.readInt(2),y=this.reader.readInt(4),h=this.reader.readData(y),this.zip64ExtensibleData[m]={id:m,length:y,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,y;for(m=0;m<this.files.length;m++)y=this.files[m],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(m=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var y=m;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var v=y-h;if(0<v)this.isSignature(y,a.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(m){this.reader=i(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),d=n("./compressions"),m=n("./support");function y(h,v){this.options=h,this.loadOptions=v}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var v,g;if(h.skip(22),this.fileNameLength=h.readInt(2),g=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(b){for(var f in d)if(Object.prototype.hasOwnProperty.call(d,f)&&d[f].magic===b)return d[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,v,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var v=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(v),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var v,g,b,f=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<f;)v=h.readInt(2),g=h.readInt(2),b=h.readData(g),this.extraFields[v]={id:v,length:g,value:b};h.setIndex(f)},handleUTF8:function(){var h=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var g=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var f=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var v=i(h.value);return v.readInt(1)!==1||c(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var v=i(h.value);return v.readInt(1)!==1||c(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(h.length-5))}return null}},r.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function i(v,g,b){this.name=v,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=g,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),d=n("./stream/GenericWorker");i.prototype={internalStream:function(v){var g=null,b="string";try{if(!v)throw new Error("No output type specified.");var f=(b=v.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),g=this._decompressWorker();var x=!this._dataBinary;x&&!f&&(g=g.pipe(new c.Utf8EncodeWorker)),!x&&f&&(g=g.pipe(new c.Utf8DecodeWorker))}catch(k){(g=new d("error")).error(k)}return new o(g,b,"")},async:function(v,g){return this.internalStream(v).accumulate(g)},nodeStream:function(v,g){return this.internalStream(v||"nodebuffer").toNodejsStream(g)},_compressWorker:function(v,g){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(b,v,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new a(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<m.length;h++)i.prototype[m[h]]=y;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(i){var o,a,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var u=0,d=new c(v),m=i.document.createTextNode("");d.observe(m,{characterData:!0}),o=function(){m.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var g=i.document.createElement("script");g.onreadystatechange=function(){v(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},i.document.documentElement.appendChild(g)}:function(){setTimeout(v,0)};else{var y=new i.MessageChannel;y.port1.onmessage=v,o=function(){y.port2.postMessage(0)}}var h=[];function v(){var g,b;a=!0;for(var f=h.length;f;){for(b=h,h=[],g=-1;++g<f;)b[g]();f=h.length}a=!1}r.exports=function(g){h.push(g)!==1||a||o()}}).call(this,typeof Xi<"u"?Xi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var i=n("immediate");function o(){}var a={},c=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function m(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,f!==o&&g(this,f)}function y(f,x,k){this.promise=f,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function h(f,x,k){i(function(){var N;try{N=x(k)}catch(_){return a.reject(f,_)}N===f?a.reject(f,new TypeError("Cannot resolve promise with itself")):a.resolve(f,N)})}function v(f){var x=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof x=="function")return function(){x.apply(f,arguments)}}function g(f,x){var k=!1;function N(j){k||(k=!0,a.reject(f,j))}function _(j){k||(k=!0,a.resolve(f,j))}var C=b(function(){x(_,N)});C.status==="error"&&N(C.value)}function b(f,x){var k={};try{k.value=f(x),k.status="success"}catch(N){k.status="error",k.value=N}return k}(r.exports=m).prototype.finally=function(f){if(typeof f!="function")return this;var x=this.constructor;return this.then(function(k){return x.resolve(f()).then(function(){return k})},function(k){return x.resolve(f()).then(function(){throw k})})},m.prototype.catch=function(f){return this.then(null,f)},m.prototype.then=function(f,x){if(typeof f!="function"&&this.state===u||typeof x!="function"&&this.state===c)return this;var k=new this.constructor(o);return this.state!==d?h(k,this.state===u?f:x,this.outcome):this.queue.push(new y(k,f,x)),k},y.prototype.callFulfilled=function(f){a.resolve(this.promise,f)},y.prototype.otherCallFulfilled=function(f){h(this.promise,this.onFulfilled,f)},y.prototype.callRejected=function(f){a.reject(this.promise,f)},y.prototype.otherCallRejected=function(f){h(this.promise,this.onRejected,f)},a.resolve=function(f,x){var k=b(v,x);if(k.status==="error")return a.reject(f,k.value);var N=k.value;if(N)g(f,N);else{f.state=u,f.outcome=x;for(var _=-1,C=f.queue.length;++_<C;)f.queue[_].callFulfilled(x)}return f},a.reject=function(f,x){f.state=c,f.outcome=x;for(var k=-1,N=f.queue.length;++k<N;)f.queue[k].callRejected(x);return f},m.resolve=function(f){return f instanceof this?f:a.resolve(new this(o),f)},m.reject=function(f){var x=new this(o);return a.reject(x,f)},m.all=function(f){var x=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=f.length,N=!1;if(!k)return this.resolve([]);for(var _=new Array(k),C=0,j=-1,R=new this(o);++j<k;)A(f[j],j);return R;function A(B,K){x.resolve(B).then(function(T){_[K]=T,++C!==k||N||(N=!0,a.resolve(R,_))},function(T){N||(N=!0,a.reject(R,T))})}},m.race=function(f){var x=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=f.length,N=!1;if(!k)return this.resolve([]);for(var _=-1,C=new this(o);++_<k;)j=f[_],x.resolve(j).then(function(R){N||(N=!0,a.resolve(C,R))},function(R){N||(N=!0,a.reject(C,R))});var j;return C}},{immediate:36}],38:[function(n,r,s){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var i=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=Object.prototype.toString,m=0,y=-1,h=0,v=8;function g(f){if(!(this instanceof g))return new g(f);this.options=o.assign({level:y,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},f||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var k=i.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(k!==m)throw new Error(c[k]);if(x.header&&i.deflateSetHeader(this.strm,x.header),x.dictionary){var N;if(N=typeof x.dictionary=="string"?a.string2buf(x.dictionary):d.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(k=i.deflateSetDictionary(this.strm,N))!==m)throw new Error(c[k]);this._dict_set=!0}}function b(f,x){var k=new g(x);if(k.push(f,!0),k.err)throw k.msg||c[k.err];return k.result}g.prototype.push=function(f,x){var k,N,_=this.strm,C=this.options.chunkSize;if(this.ended)return!1;N=x===~~x?x:x===!0?4:0,typeof f=="string"?_.input=a.string2buf(f):d.call(f)==="[object ArrayBuffer]"?_.input=new Uint8Array(f):_.input=f,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(C),_.next_out=0,_.avail_out=C),(k=i.deflate(_,N))!==1&&k!==m)return this.onEnd(k),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||N!==4&&N!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(_.output,_.next_out))):this.onData(o.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&k!==1);return N===4?(k=i.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===m):N!==2||(this.onEnd(m),!(_.avail_out=0))},g.prototype.onData=function(f){this.chunks.push(f)},g.prototype.onEnd=function(f){f===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},s.Deflate=g,s.deflate=b,s.deflateRaw=function(f,x){return(x=x||{}).raw=!0,b(f,x)},s.gzip=function(f,x){return(x=x||{}).gzip=!0,b(f,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var i=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),d=n("./zlib/zstream"),m=n("./zlib/gzheader"),y=Object.prototype.toString;function h(g){if(!(this instanceof h))return new h(g);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},g||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||g&&g.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var f=i.inflateInit2(this.strm,b.windowBits);if(f!==c.Z_OK)throw new Error(u[f]);this.header=new m,i.inflateGetHeader(this.strm,this.header)}function v(g,b){var f=new h(b);if(f.push(g,!0),f.err)throw f.msg||u[f.err];return f.result}h.prototype.push=function(g,b){var f,x,k,N,_,C,j=this.strm,R=this.options.chunkSize,A=this.options.dictionary,B=!1;if(this.ended)return!1;x=b===~~b?b:b===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof g=="string"?j.input=a.binstring2buf(g):y.call(g)==="[object ArrayBuffer]"?j.input=new Uint8Array(g):j.input=g,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new o.Buf8(R),j.next_out=0,j.avail_out=R),(f=i.inflate(j,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&A&&(C=typeof A=="string"?a.string2buf(A):y.call(A)==="[object ArrayBuffer]"?new Uint8Array(A):A,f=i.inflateSetDictionary(this.strm,C)),f===c.Z_BUF_ERROR&&B===!0&&(f=c.Z_OK,B=!1),f!==c.Z_STREAM_END&&f!==c.Z_OK)return this.onEnd(f),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&f!==c.Z_STREAM_END&&(j.avail_in!==0||x!==c.Z_FINISH&&x!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=a.utf8border(j.output,j.next_out),N=j.next_out-k,_=a.buf2string(j.output,k),j.next_out=N,j.avail_out=R-N,N&&o.arraySet(j.output,j.output,k,N,0),this.onData(_)):this.onData(o.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(B=!0)}while((0<j.avail_in||j.avail_out===0)&&f!==c.Z_STREAM_END);return f===c.Z_STREAM_END&&(x=c.Z_FINISH),x===c.Z_FINISH?(f=i.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===c.Z_OK):x!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(j.avail_out=0))},h.prototype.onData=function(g){this.chunks.push(g)},h.prototype.onEnd=function(g){g===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},s.Inflate=h,s.inflate=v,s.inflateRaw=function(g,b){return(b=b||{}).raw=!0,v(g,b)},s.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var m in d)d.hasOwnProperty(m)&&(c[m]=d[m])}}return c},s.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var o={arraySet:function(c,u,d,m,y){if(u.subarray&&c.subarray)c.set(u.subarray(d,d+m),y);else for(var h=0;h<m;h++)c[y+h]=u[d+h]},flattenChunks:function(c){var u,d,m,y,h,v;for(u=m=0,d=c.length;u<d;u++)m+=c[u].length;for(v=new Uint8Array(m),u=y=0,d=c.length;u<d;u++)h=c[u],v.set(h,y),y+=h.length;return v}},a={arraySet:function(c,u,d,m,y){for(var h=0;h<m;h++)c[y+h]=u[d+h]},flattenChunks:function(c){return[].concat.apply([],c)}};s.setTyped=function(c){c?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(n,r,s){var i=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var c=new i.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(m,y){if(y<65537&&(m.subarray&&a||!m.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(m,y));for(var h="",v=0;v<y;v++)h+=String.fromCharCode(m[v]);return h}c[254]=c[254]=1,s.string2buf=function(m){var y,h,v,g,b,f=m.length,x=0;for(g=0;g<f;g++)(64512&(h=m.charCodeAt(g)))==55296&&g+1<f&&(64512&(v=m.charCodeAt(g+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),g++),x+=h<128?1:h<2048?2:h<65536?3:4;for(y=new i.Buf8(x),g=b=0;b<x;g++)(64512&(h=m.charCodeAt(g)))==55296&&g+1<f&&(64512&(v=m.charCodeAt(g+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),g++),h<128?y[b++]=h:(h<2048?y[b++]=192|h>>>6:(h<65536?y[b++]=224|h>>>12:(y[b++]=240|h>>>18,y[b++]=128|h>>>12&63),y[b++]=128|h>>>6&63),y[b++]=128|63&h);return y},s.buf2binstring=function(m){return d(m,m.length)},s.binstring2buf=function(m){for(var y=new i.Buf8(m.length),h=0,v=y.length;h<v;h++)y[h]=m.charCodeAt(h);return y},s.buf2string=function(m,y){var h,v,g,b,f=y||m.length,x=new Array(2*f);for(h=v=0;h<f;)if((g=m[h++])<128)x[v++]=g;else if(4<(b=c[g]))x[v++]=65533,h+=b-1;else{for(g&=b===2?31:b===3?15:7;1<b&&h<f;)g=g<<6|63&m[h++],b--;1<b?x[v++]=65533:g<65536?x[v++]=g:(g-=65536,x[v++]=55296|g>>10&1023,x[v++]=56320|1023&g)}return d(x,v)},s.utf8border=function(m,y){var h;for((y=y||m.length)>m.length&&(y=m.length),h=y-1;0<=h&&(192&m[h])==128;)h--;return h<0||h===0?y:h+c[m[h]]>y?h:y}},{"./common":41}],43:[function(n,r,s){r.exports=function(i,o,a,c){for(var u=65535&i|0,d=i>>>16&65535|0,m=0;a!==0;){for(a-=m=2e3<a?2e3:a;d=d+(u=u+o[c++]|0)|0,--m;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var i=function(){for(var o,a=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[c]=o}return a}();r.exports=function(o,a,c,u){var d=i,m=u+c;o^=-1;for(var y=u;y<m;y++)o=o>>>8^d[255&(o^a[y])];return-1^o}},{}],46:[function(n,r,s){var i,o=n("../utils/common"),a=n("./trees"),c=n("./adler32"),u=n("./crc32"),d=n("./messages"),m=0,y=4,h=0,v=-2,g=-1,b=4,f=2,x=8,k=9,N=286,_=30,C=19,j=2*N+1,R=15,A=3,B=258,K=B+A+1,T=42,$=113,p=1,O=2,W=3,U=4;function V(w,E){return w.msg=d[E],E}function I(w){return(w<<1)-(4<w?9:0)}function G(w){for(var E=w.length;0<=--E;)w[E]=0}function M(w){var E=w.state,H=E.pending;H>w.avail_out&&(H=w.avail_out),H!==0&&(o.arraySet(w.output,E.pending_buf,E.pending_out,H,w.next_out),w.next_out+=H,E.pending_out+=H,w.total_out+=H,w.avail_out-=H,E.pending-=H,E.pending===0&&(E.pending_out=0))}function P(w,E){a._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,E),w.block_start=w.strstart,M(w.strm)}function se(w,E){w.pending_buf[w.pending++]=E}function Q(w,E){w.pending_buf[w.pending++]=E>>>8&255,w.pending_buf[w.pending++]=255&E}function J(w,E){var H,S,z=w.max_chain_length,F=w.strstart,ne=w.prev_length,oe=w.nice_match,Y=w.strstart>w.w_size-K?w.strstart-(w.w_size-K):0,fe=w.window,Se=w.w_mask,me=w.prev,De=w.strstart+B,Oe=fe[F+ne-1],Le=fe[F+ne];w.prev_length>=w.good_match&&(z>>=2),oe>w.lookahead&&(oe=w.lookahead);do if(fe[(H=E)+ne]===Le&&fe[H+ne-1]===Oe&&fe[H]===fe[F]&&fe[++H]===fe[F+1]){F+=2,H++;do;while(fe[++F]===fe[++H]&&fe[++F]===fe[++H]&&fe[++F]===fe[++H]&&fe[++F]===fe[++H]&&fe[++F]===fe[++H]&&fe[++F]===fe[++H]&&fe[++F]===fe[++H]&&fe[++F]===fe[++H]&&F<De);if(S=B-(De-F),F=De-B,ne<S){if(w.match_start=E,oe<=(ne=S))break;Oe=fe[F+ne-1],Le=fe[F+ne]}}while((E=me[E&Se])>Y&&--z!=0);return ne<=w.lookahead?ne:w.lookahead}function ve(w){var E,H,S,z,F,ne,oe,Y,fe,Se,me=w.w_size;do{if(z=w.window_size-w.lookahead-w.strstart,w.strstart>=me+(me-K)){for(o.arraySet(w.window,w.window,me,me,0),w.match_start-=me,w.strstart-=me,w.block_start-=me,E=H=w.hash_size;S=w.head[--E],w.head[E]=me<=S?S-me:0,--H;);for(E=H=me;S=w.prev[--E],w.prev[E]=me<=S?S-me:0,--H;);z+=me}if(w.strm.avail_in===0)break;if(ne=w.strm,oe=w.window,Y=w.strstart+w.lookahead,fe=z,Se=void 0,Se=ne.avail_in,fe<Se&&(Se=fe),H=Se===0?0:(ne.avail_in-=Se,o.arraySet(oe,ne.input,ne.next_in,Se,Y),ne.state.wrap===1?ne.adler=c(ne.adler,oe,Se,Y):ne.state.wrap===2&&(ne.adler=u(ne.adler,oe,Se,Y)),ne.next_in+=Se,ne.total_in+=Se,Se),w.lookahead+=H,w.lookahead+w.insert>=A)for(F=w.strstart-w.insert,w.ins_h=w.window[F],w.ins_h=(w.ins_h<<w.hash_shift^w.window[F+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[F+A-1])&w.hash_mask,w.prev[F&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=F,F++,w.insert--,!(w.lookahead+w.insert<A)););}while(w.lookahead<K&&w.strm.avail_in!==0)}function Ee(w,E){for(var H,S;;){if(w.lookahead<K){if(ve(w),w.lookahead<K&&E===m)return p;if(w.lookahead===0)break}if(H=0,w.lookahead>=A&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+A-1])&w.hash_mask,H=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),H!==0&&w.strstart-H<=w.w_size-K&&(w.match_length=J(w,H)),w.match_length>=A)if(S=a._tr_tally(w,w.strstart-w.match_start,w.match_length-A),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=A){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+A-1])&w.hash_mask,H=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else S=a._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(S&&(P(w,!1),w.strm.avail_out===0))return p}return w.insert=w.strstart<A-1?w.strstart:A-1,E===y?(P(w,!0),w.strm.avail_out===0?W:U):w.last_lit&&(P(w,!1),w.strm.avail_out===0)?p:O}function ke(w,E){for(var H,S,z;;){if(w.lookahead<K){if(ve(w),w.lookahead<K&&E===m)return p;if(w.lookahead===0)break}if(H=0,w.lookahead>=A&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+A-1])&w.hash_mask,H=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=A-1,H!==0&&w.prev_length<w.max_lazy_match&&w.strstart-H<=w.w_size-K&&(w.match_length=J(w,H),w.match_length<=5&&(w.strategy===1||w.match_length===A&&4096<w.strstart-w.match_start)&&(w.match_length=A-1)),w.prev_length>=A&&w.match_length<=w.prev_length){for(z=w.strstart+w.lookahead-A,S=a._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-A),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=z&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+A-1])&w.hash_mask,H=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=A-1,w.strstart++,S&&(P(w,!1),w.strm.avail_out===0))return p}else if(w.match_available){if((S=a._tr_tally(w,0,w.window[w.strstart-1]))&&P(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return p}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(S=a._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<A-1?w.strstart:A-1,E===y?(P(w,!0),w.strm.avail_out===0?W:U):w.last_lit&&(P(w,!1),w.strm.avail_out===0)?p:O}function ze(w,E,H,S,z){this.good_length=w,this.max_lazy=E,this.nice_length=H,this.max_chain=S,this.func=z}function q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*j),this.dyn_dtree=new o.Buf16(2*(2*_+1)),this.bl_tree=new o.Buf16(2*(2*C+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(R+1),this.heap=new o.Buf16(2*N+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*N+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ue(w){var E;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=f,(E=w.state).pending=0,E.pending_out=0,E.wrap<0&&(E.wrap=-E.wrap),E.status=E.wrap?T:$,w.adler=E.wrap===2?0:1,E.last_flush=m,a._tr_init(E),h):V(w,v)}function ee(w){var E=ue(w);return E===h&&function(H){H.window_size=2*H.w_size,G(H.head),H.max_lazy_match=i[H.level].max_lazy,H.good_match=i[H.level].good_length,H.nice_match=i[H.level].nice_length,H.max_chain_length=i[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=A-1,H.match_available=0,H.ins_h=0}(w.state),E}function ce(w,E,H,S,z,F){if(!w)return v;var ne=1;if(E===g&&(E=6),S<0?(ne=0,S=-S):15<S&&(ne=2,S-=16),z<1||k<z||H!==x||S<8||15<S||E<0||9<E||F<0||b<F)return V(w,v);S===8&&(S=9);var oe=new q;return(w.state=oe).strm=w,oe.wrap=ne,oe.gzhead=null,oe.w_bits=S,oe.w_size=1<<oe.w_bits,oe.w_mask=oe.w_size-1,oe.hash_bits=z+7,oe.hash_size=1<<oe.hash_bits,oe.hash_mask=oe.hash_size-1,oe.hash_shift=~~((oe.hash_bits+A-1)/A),oe.window=new o.Buf8(2*oe.w_size),oe.head=new o.Buf16(oe.hash_size),oe.prev=new o.Buf16(oe.w_size),oe.lit_bufsize=1<<z+6,oe.pending_buf_size=4*oe.lit_bufsize,oe.pending_buf=new o.Buf8(oe.pending_buf_size),oe.d_buf=1*oe.lit_bufsize,oe.l_buf=3*oe.lit_bufsize,oe.level=E,oe.strategy=F,oe.method=H,ee(w)}i=[new ze(0,0,0,0,function(w,E){var H=65535;for(H>w.pending_buf_size-5&&(H=w.pending_buf_size-5);;){if(w.lookahead<=1){if(ve(w),w.lookahead===0&&E===m)return p;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var S=w.block_start+H;if((w.strstart===0||w.strstart>=S)&&(w.lookahead=w.strstart-S,w.strstart=S,P(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-K&&(P(w,!1),w.strm.avail_out===0))return p}return w.insert=0,E===y?(P(w,!0),w.strm.avail_out===0?W:U):(w.strstart>w.block_start&&(P(w,!1),w.strm.avail_out),p)}),new ze(4,4,8,4,Ee),new ze(4,5,16,8,Ee),new ze(4,6,32,32,Ee),new ze(4,4,16,16,ke),new ze(8,16,32,32,ke),new ze(8,16,128,128,ke),new ze(8,32,128,256,ke),new ze(32,128,258,1024,ke),new ze(32,258,258,4096,ke)],s.deflateInit=function(w,E){return ce(w,E,x,15,8,0)},s.deflateInit2=ce,s.deflateReset=ee,s.deflateResetKeep=ue,s.deflateSetHeader=function(w,E){return w&&w.state?w.state.wrap!==2?v:(w.state.gzhead=E,h):v},s.deflate=function(w,E){var H,S,z,F;if(!w||!w.state||5<E||E<0)return w?V(w,v):v;if(S=w.state,!w.output||!w.input&&w.avail_in!==0||S.status===666&&E!==y)return V(w,w.avail_out===0?-5:v);if(S.strm=w,H=S.last_flush,S.last_flush=E,S.status===T)if(S.wrap===2)w.adler=0,se(S,31),se(S,139),se(S,8),S.gzhead?(se(S,(S.gzhead.text?1:0)+(S.gzhead.hcrc?2:0)+(S.gzhead.extra?4:0)+(S.gzhead.name?8:0)+(S.gzhead.comment?16:0)),se(S,255&S.gzhead.time),se(S,S.gzhead.time>>8&255),se(S,S.gzhead.time>>16&255),se(S,S.gzhead.time>>24&255),se(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),se(S,255&S.gzhead.os),S.gzhead.extra&&S.gzhead.extra.length&&(se(S,255&S.gzhead.extra.length),se(S,S.gzhead.extra.length>>8&255)),S.gzhead.hcrc&&(w.adler=u(w.adler,S.pending_buf,S.pending,0)),S.gzindex=0,S.status=69):(se(S,0),se(S,0),se(S,0),se(S,0),se(S,0),se(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),se(S,3),S.status=$);else{var ne=x+(S.w_bits-8<<4)<<8;ne|=(2<=S.strategy||S.level<2?0:S.level<6?1:S.level===6?2:3)<<6,S.strstart!==0&&(ne|=32),ne+=31-ne%31,S.status=$,Q(S,ne),S.strstart!==0&&(Q(S,w.adler>>>16),Q(S,65535&w.adler)),w.adler=1}if(S.status===69)if(S.gzhead.extra){for(z=S.pending;S.gzindex<(65535&S.gzhead.extra.length)&&(S.pending!==S.pending_buf_size||(S.gzhead.hcrc&&S.pending>z&&(w.adler=u(w.adler,S.pending_buf,S.pending-z,z)),M(w),z=S.pending,S.pending!==S.pending_buf_size));)se(S,255&S.gzhead.extra[S.gzindex]),S.gzindex++;S.gzhead.hcrc&&S.pending>z&&(w.adler=u(w.adler,S.pending_buf,S.pending-z,z)),S.gzindex===S.gzhead.extra.length&&(S.gzindex=0,S.status=73)}else S.status=73;if(S.status===73)if(S.gzhead.name){z=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>z&&(w.adler=u(w.adler,S.pending_buf,S.pending-z,z)),M(w),z=S.pending,S.pending===S.pending_buf_size)){F=1;break}F=S.gzindex<S.gzhead.name.length?255&S.gzhead.name.charCodeAt(S.gzindex++):0,se(S,F)}while(F!==0);S.gzhead.hcrc&&S.pending>z&&(w.adler=u(w.adler,S.pending_buf,S.pending-z,z)),F===0&&(S.gzindex=0,S.status=91)}else S.status=91;if(S.status===91)if(S.gzhead.comment){z=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>z&&(w.adler=u(w.adler,S.pending_buf,S.pending-z,z)),M(w),z=S.pending,S.pending===S.pending_buf_size)){F=1;break}F=S.gzindex<S.gzhead.comment.length?255&S.gzhead.comment.charCodeAt(S.gzindex++):0,se(S,F)}while(F!==0);S.gzhead.hcrc&&S.pending>z&&(w.adler=u(w.adler,S.pending_buf,S.pending-z,z)),F===0&&(S.status=103)}else S.status=103;if(S.status===103&&(S.gzhead.hcrc?(S.pending+2>S.pending_buf_size&&M(w),S.pending+2<=S.pending_buf_size&&(se(S,255&w.adler),se(S,w.adler>>8&255),w.adler=0,S.status=$)):S.status=$),S.pending!==0){if(M(w),w.avail_out===0)return S.last_flush=-1,h}else if(w.avail_in===0&&I(E)<=I(H)&&E!==y)return V(w,-5);if(S.status===666&&w.avail_in!==0)return V(w,-5);if(w.avail_in!==0||S.lookahead!==0||E!==m&&S.status!==666){var oe=S.strategy===2?function(Y,fe){for(var Se;;){if(Y.lookahead===0&&(ve(Y),Y.lookahead===0)){if(fe===m)return p;break}if(Y.match_length=0,Se=a._tr_tally(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++,Se&&(P(Y,!1),Y.strm.avail_out===0))return p}return Y.insert=0,fe===y?(P(Y,!0),Y.strm.avail_out===0?W:U):Y.last_lit&&(P(Y,!1),Y.strm.avail_out===0)?p:O}(S,E):S.strategy===3?function(Y,fe){for(var Se,me,De,Oe,Le=Y.window;;){if(Y.lookahead<=B){if(ve(Y),Y.lookahead<=B&&fe===m)return p;if(Y.lookahead===0)break}if(Y.match_length=0,Y.lookahead>=A&&0<Y.strstart&&(me=Le[De=Y.strstart-1])===Le[++De]&&me===Le[++De]&&me===Le[++De]){Oe=Y.strstart+B;do;while(me===Le[++De]&&me===Le[++De]&&me===Le[++De]&&me===Le[++De]&&me===Le[++De]&&me===Le[++De]&&me===Le[++De]&&me===Le[++De]&&De<Oe);Y.match_length=B-(Oe-De),Y.match_length>Y.lookahead&&(Y.match_length=Y.lookahead)}if(Y.match_length>=A?(Se=a._tr_tally(Y,1,Y.match_length-A),Y.lookahead-=Y.match_length,Y.strstart+=Y.match_length,Y.match_length=0):(Se=a._tr_tally(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++),Se&&(P(Y,!1),Y.strm.avail_out===0))return p}return Y.insert=0,fe===y?(P(Y,!0),Y.strm.avail_out===0?W:U):Y.last_lit&&(P(Y,!1),Y.strm.avail_out===0)?p:O}(S,E):i[S.level].func(S,E);if(oe!==W&&oe!==U||(S.status=666),oe===p||oe===W)return w.avail_out===0&&(S.last_flush=-1),h;if(oe===O&&(E===1?a._tr_align(S):E!==5&&(a._tr_stored_block(S,0,0,!1),E===3&&(G(S.head),S.lookahead===0&&(S.strstart=0,S.block_start=0,S.insert=0))),M(w),w.avail_out===0))return S.last_flush=-1,h}return E!==y?h:S.wrap<=0?1:(S.wrap===2?(se(S,255&w.adler),se(S,w.adler>>8&255),se(S,w.adler>>16&255),se(S,w.adler>>24&255),se(S,255&w.total_in),se(S,w.total_in>>8&255),se(S,w.total_in>>16&255),se(S,w.total_in>>24&255)):(Q(S,w.adler>>>16),Q(S,65535&w.adler)),M(w),0<S.wrap&&(S.wrap=-S.wrap),S.pending!==0?h:1)},s.deflateEnd=function(w){var E;return w&&w.state?(E=w.state.status)!==T&&E!==69&&E!==73&&E!==91&&E!==103&&E!==$&&E!==666?V(w,v):(w.state=null,E===$?V(w,-3):h):v},s.deflateSetDictionary=function(w,E){var H,S,z,F,ne,oe,Y,fe,Se=E.length;if(!w||!w.state||(F=(H=w.state).wrap)===2||F===1&&H.status!==T||H.lookahead)return v;for(F===1&&(w.adler=c(w.adler,E,Se,0)),H.wrap=0,Se>=H.w_size&&(F===0&&(G(H.head),H.strstart=0,H.block_start=0,H.insert=0),fe=new o.Buf8(H.w_size),o.arraySet(fe,E,Se-H.w_size,H.w_size,0),E=fe,Se=H.w_size),ne=w.avail_in,oe=w.next_in,Y=w.input,w.avail_in=Se,w.next_in=0,w.input=E,ve(H);H.lookahead>=A;){for(S=H.strstart,z=H.lookahead-(A-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[S+A-1])&H.hash_mask,H.prev[S&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=S,S++,--z;);H.strstart=S,H.lookahead=A-1,ve(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=A-1,H.match_available=0,w.next_in=oe,w.input=Y,w.avail_in=ne,H.wrap=F,h},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(i,o){var a,c,u,d,m,y,h,v,g,b,f,x,k,N,_,C,j,R,A,B,K,T,$,p,O;a=i.state,c=i.next_in,p=i.input,u=c+(i.avail_in-5),d=i.next_out,O=i.output,m=d-(o-i.avail_out),y=d+(i.avail_out-257),h=a.dmax,v=a.wsize,g=a.whave,b=a.wnext,f=a.window,x=a.hold,k=a.bits,N=a.lencode,_=a.distcode,C=(1<<a.lenbits)-1,j=(1<<a.distbits)-1;e:do{k<15&&(x+=p[c++]<<k,k+=8,x+=p[c++]<<k,k+=8),R=N[x&C];t:for(;;){if(x>>>=A=R>>>24,k-=A,(A=R>>>16&255)===0)O[d++]=65535&R;else{if(!(16&A)){if(!(64&A)){R=N[(65535&R)+(x&(1<<A)-1)];continue t}if(32&A){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}B=65535&R,(A&=15)&&(k<A&&(x+=p[c++]<<k,k+=8),B+=x&(1<<A)-1,x>>>=A,k-=A),k<15&&(x+=p[c++]<<k,k+=8,x+=p[c++]<<k,k+=8),R=_[x&j];n:for(;;){if(x>>>=A=R>>>24,k-=A,!(16&(A=R>>>16&255))){if(!(64&A)){R=_[(65535&R)+(x&(1<<A)-1)];continue n}i.msg="invalid distance code",a.mode=30;break e}if(K=65535&R,k<(A&=15)&&(x+=p[c++]<<k,(k+=8)<A&&(x+=p[c++]<<k,k+=8)),h<(K+=x&(1<<A)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(x>>>=A,k-=A,(A=d-m)<K){if(g<(A=K-A)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if($=f,(T=0)===b){if(T+=v-A,A<B){for(B-=A;O[d++]=f[T++],--A;);T=d-K,$=O}}else if(b<A){if(T+=v+b-A,(A-=b)<B){for(B-=A;O[d++]=f[T++],--A;);if(T=0,b<B){for(B-=A=b;O[d++]=f[T++],--A;);T=d-K,$=O}}}else if(T+=b-A,A<B){for(B-=A;O[d++]=f[T++],--A;);T=d-K,$=O}for(;2<B;)O[d++]=$[T++],O[d++]=$[T++],O[d++]=$[T++],B-=3;B&&(O[d++]=$[T++],1<B&&(O[d++]=$[T++]))}else{for(T=d-K;O[d++]=O[T++],O[d++]=O[T++],O[d++]=O[T++],2<(B-=3););B&&(O[d++]=O[T++],1<B&&(O[d++]=O[T++]))}break}}break}}while(c<u&&d<y);c-=B=k>>3,x&=(1<<(k-=B<<3))-1,i.next_in=c,i.next_out=d,i.avail_in=c<u?u-c+5:5-(c-u),i.avail_out=d<y?y-d+257:257-(d-y),a.hold=x,a.bits=k}},{}],49:[function(n,r,s){var i=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),d=1,m=2,y=0,h=-2,v=1,g=852,b=592;function f(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(T){var $;return T&&T.state?($=T.state,T.total_in=T.total_out=$.total=0,T.msg="",$.wrap&&(T.adler=1&$.wrap),$.mode=v,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new i.Buf32(g),$.distcode=$.distdyn=new i.Buf32(b),$.sane=1,$.back=-1,y):h}function N(T){var $;return T&&T.state?(($=T.state).wsize=0,$.whave=0,$.wnext=0,k(T)):h}function _(T,$){var p,O;return T&&T.state?(O=T.state,$<0?(p=0,$=-$):(p=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?h:(O.window!==null&&O.wbits!==$&&(O.window=null),O.wrap=p,O.wbits=$,N(T))):h}function C(T,$){var p,O;return T?(O=new x,(T.state=O).window=null,(p=_(T,$))!==y&&(T.state=null),p):h}var j,R,A=!0;function B(T){if(A){var $;for(j=new i.Buf32(512),R=new i.Buf32(32),$=0;$<144;)T.lens[$++]=8;for(;$<256;)T.lens[$++]=9;for(;$<280;)T.lens[$++]=7;for(;$<288;)T.lens[$++]=8;for(u(d,T.lens,0,288,j,0,T.work,{bits:9}),$=0;$<32;)T.lens[$++]=5;u(m,T.lens,0,32,R,0,T.work,{bits:5}),A=!1}T.lencode=j,T.lenbits=9,T.distcode=R,T.distbits=5}function K(T,$,p,O){var W,U=T.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new i.Buf8(U.wsize)),O>=U.wsize?(i.arraySet(U.window,$,p-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(O<(W=U.wsize-U.wnext)&&(W=O),i.arraySet(U.window,$,p-O,W,U.wnext),(O-=W)?(i.arraySet(U.window,$,p-O,O,0),U.wnext=O,U.whave=U.wsize):(U.wnext+=W,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=W))),0}s.inflateReset=N,s.inflateReset2=_,s.inflateResetKeep=k,s.inflateInit=function(T){return C(T,15)},s.inflateInit2=C,s.inflate=function(T,$){var p,O,W,U,V,I,G,M,P,se,Q,J,ve,Ee,ke,ze,q,ue,ee,ce,w,E,H,S,z=0,F=new i.Buf8(4),ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return h;(p=T.state).mode===12&&(p.mode=13),V=T.next_out,W=T.output,G=T.avail_out,U=T.next_in,O=T.input,I=T.avail_in,M=p.hold,P=p.bits,se=I,Q=G,E=y;e:for(;;)switch(p.mode){case v:if(p.wrap===0){p.mode=13;break}for(;P<16;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}if(2&p.wrap&&M===35615){F[p.check=0]=255&M,F[1]=M>>>8&255,p.check=a(p.check,F,2,0),P=M=0,p.mode=2;break}if(p.flags=0,p.head&&(p.head.done=!1),!(1&p.wrap)||(((255&M)<<8)+(M>>8))%31){T.msg="incorrect header check",p.mode=30;break}if((15&M)!=8){T.msg="unknown compression method",p.mode=30;break}if(P-=4,w=8+(15&(M>>>=4)),p.wbits===0)p.wbits=w;else if(w>p.wbits){T.msg="invalid window size",p.mode=30;break}p.dmax=1<<w,T.adler=p.check=1,p.mode=512&M?10:12,P=M=0;break;case 2:for(;P<16;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}if(p.flags=M,(255&p.flags)!=8){T.msg="unknown compression method",p.mode=30;break}if(57344&p.flags){T.msg="unknown header flags set",p.mode=30;break}p.head&&(p.head.text=M>>8&1),512&p.flags&&(F[0]=255&M,F[1]=M>>>8&255,p.check=a(p.check,F,2,0)),P=M=0,p.mode=3;case 3:for(;P<32;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}p.head&&(p.head.time=M),512&p.flags&&(F[0]=255&M,F[1]=M>>>8&255,F[2]=M>>>16&255,F[3]=M>>>24&255,p.check=a(p.check,F,4,0)),P=M=0,p.mode=4;case 4:for(;P<16;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}p.head&&(p.head.xflags=255&M,p.head.os=M>>8),512&p.flags&&(F[0]=255&M,F[1]=M>>>8&255,p.check=a(p.check,F,2,0)),P=M=0,p.mode=5;case 5:if(1024&p.flags){for(;P<16;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}p.length=M,p.head&&(p.head.extra_len=M),512&p.flags&&(F[0]=255&M,F[1]=M>>>8&255,p.check=a(p.check,F,2,0)),P=M=0}else p.head&&(p.head.extra=null);p.mode=6;case 6:if(1024&p.flags&&(I<(J=p.length)&&(J=I),J&&(p.head&&(w=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Array(p.head.extra_len)),i.arraySet(p.head.extra,O,U,J,w)),512&p.flags&&(p.check=a(p.check,O,J,U)),I-=J,U+=J,p.length-=J),p.length))break e;p.length=0,p.mode=7;case 7:if(2048&p.flags){if(I===0)break e;for(J=0;w=O[U+J++],p.head&&w&&p.length<65536&&(p.head.name+=String.fromCharCode(w)),w&&J<I;);if(512&p.flags&&(p.check=a(p.check,O,J,U)),I-=J,U+=J,w)break e}else p.head&&(p.head.name=null);p.length=0,p.mode=8;case 8:if(4096&p.flags){if(I===0)break e;for(J=0;w=O[U+J++],p.head&&w&&p.length<65536&&(p.head.comment+=String.fromCharCode(w)),w&&J<I;);if(512&p.flags&&(p.check=a(p.check,O,J,U)),I-=J,U+=J,w)break e}else p.head&&(p.head.comment=null);p.mode=9;case 9:if(512&p.flags){for(;P<16;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}if(M!==(65535&p.check)){T.msg="header crc mismatch",p.mode=30;break}P=M=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),T.adler=p.check=0,p.mode=12;break;case 10:for(;P<32;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}T.adler=p.check=f(M),P=M=0,p.mode=11;case 11:if(p.havedict===0)return T.next_out=V,T.avail_out=G,T.next_in=U,T.avail_in=I,p.hold=M,p.bits=P,2;T.adler=p.check=1,p.mode=12;case 12:if($===5||$===6)break e;case 13:if(p.last){M>>>=7&P,P-=7&P,p.mode=27;break}for(;P<3;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}switch(p.last=1&M,P-=1,3&(M>>>=1)){case 0:p.mode=14;break;case 1:if(B(p),p.mode=20,$!==6)break;M>>>=2,P-=2;break e;case 2:p.mode=17;break;case 3:T.msg="invalid block type",p.mode=30}M>>>=2,P-=2;break;case 14:for(M>>>=7&P,P-=7&P;P<32;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}if((65535&M)!=(M>>>16^65535)){T.msg="invalid stored block lengths",p.mode=30;break}if(p.length=65535&M,P=M=0,p.mode=15,$===6)break e;case 15:p.mode=16;case 16:if(J=p.length){if(I<J&&(J=I),G<J&&(J=G),J===0)break e;i.arraySet(W,O,U,J,V),I-=J,U+=J,G-=J,V+=J,p.length-=J;break}p.mode=12;break;case 17:for(;P<14;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}if(p.nlen=257+(31&M),M>>>=5,P-=5,p.ndist=1+(31&M),M>>>=5,P-=5,p.ncode=4+(15&M),M>>>=4,P-=4,286<p.nlen||30<p.ndist){T.msg="too many length or distance symbols",p.mode=30;break}p.have=0,p.mode=18;case 18:for(;p.have<p.ncode;){for(;P<3;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}p.lens[ne[p.have++]]=7&M,M>>>=3,P-=3}for(;p.have<19;)p.lens[ne[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,H={bits:p.lenbits},E=u(0,p.lens,0,19,p.lencode,0,p.work,H),p.lenbits=H.bits,E){T.msg="invalid code lengths set",p.mode=30;break}p.have=0,p.mode=19;case 19:for(;p.have<p.nlen+p.ndist;){for(;ze=(z=p.lencode[M&(1<<p.lenbits)-1])>>>16&255,q=65535&z,!((ke=z>>>24)<=P);){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}if(q<16)M>>>=ke,P-=ke,p.lens[p.have++]=q;else{if(q===16){for(S=ke+2;P<S;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}if(M>>>=ke,P-=ke,p.have===0){T.msg="invalid bit length repeat",p.mode=30;break}w=p.lens[p.have-1],J=3+(3&M),M>>>=2,P-=2}else if(q===17){for(S=ke+3;P<S;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}P-=ke,w=0,J=3+(7&(M>>>=ke)),M>>>=3,P-=3}else{for(S=ke+7;P<S;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}P-=ke,w=0,J=11+(127&(M>>>=ke)),M>>>=7,P-=7}if(p.have+J>p.nlen+p.ndist){T.msg="invalid bit length repeat",p.mode=30;break}for(;J--;)p.lens[p.have++]=w}}if(p.mode===30)break;if(p.lens[256]===0){T.msg="invalid code -- missing end-of-block",p.mode=30;break}if(p.lenbits=9,H={bits:p.lenbits},E=u(d,p.lens,0,p.nlen,p.lencode,0,p.work,H),p.lenbits=H.bits,E){T.msg="invalid literal/lengths set",p.mode=30;break}if(p.distbits=6,p.distcode=p.distdyn,H={bits:p.distbits},E=u(m,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,H),p.distbits=H.bits,E){T.msg="invalid distances set",p.mode=30;break}if(p.mode=20,$===6)break e;case 20:p.mode=21;case 21:if(6<=I&&258<=G){T.next_out=V,T.avail_out=G,T.next_in=U,T.avail_in=I,p.hold=M,p.bits=P,c(T,Q),V=T.next_out,W=T.output,G=T.avail_out,U=T.next_in,O=T.input,I=T.avail_in,M=p.hold,P=p.bits,p.mode===12&&(p.back=-1);break}for(p.back=0;ze=(z=p.lencode[M&(1<<p.lenbits)-1])>>>16&255,q=65535&z,!((ke=z>>>24)<=P);){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}if(ze&&!(240&ze)){for(ue=ke,ee=ze,ce=q;ze=(z=p.lencode[ce+((M&(1<<ue+ee)-1)>>ue)])>>>16&255,q=65535&z,!(ue+(ke=z>>>24)<=P);){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}M>>>=ue,P-=ue,p.back+=ue}if(M>>>=ke,P-=ke,p.back+=ke,p.length=q,ze===0){p.mode=26;break}if(32&ze){p.back=-1,p.mode=12;break}if(64&ze){T.msg="invalid literal/length code",p.mode=30;break}p.extra=15&ze,p.mode=22;case 22:if(p.extra){for(S=p.extra;P<S;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}p.length+=M&(1<<p.extra)-1,M>>>=p.extra,P-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=23;case 23:for(;ze=(z=p.distcode[M&(1<<p.distbits)-1])>>>16&255,q=65535&z,!((ke=z>>>24)<=P);){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}if(!(240&ze)){for(ue=ke,ee=ze,ce=q;ze=(z=p.distcode[ce+((M&(1<<ue+ee)-1)>>ue)])>>>16&255,q=65535&z,!(ue+(ke=z>>>24)<=P);){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}M>>>=ue,P-=ue,p.back+=ue}if(M>>>=ke,P-=ke,p.back+=ke,64&ze){T.msg="invalid distance code",p.mode=30;break}p.offset=q,p.extra=15&ze,p.mode=24;case 24:if(p.extra){for(S=p.extra;P<S;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}p.offset+=M&(1<<p.extra)-1,M>>>=p.extra,P-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){T.msg="invalid distance too far back",p.mode=30;break}p.mode=25;case 25:if(G===0)break e;if(J=Q-G,p.offset>J){if((J=p.offset-J)>p.whave&&p.sane){T.msg="invalid distance too far back",p.mode=30;break}ve=J>p.wnext?(J-=p.wnext,p.wsize-J):p.wnext-J,J>p.length&&(J=p.length),Ee=p.window}else Ee=W,ve=V-p.offset,J=p.length;for(G<J&&(J=G),G-=J,p.length-=J;W[V++]=Ee[ve++],--J;);p.length===0&&(p.mode=21);break;case 26:if(G===0)break e;W[V++]=p.length,G--,p.mode=21;break;case 27:if(p.wrap){for(;P<32;){if(I===0)break e;I--,M|=O[U++]<<P,P+=8}if(Q-=G,T.total_out+=Q,p.total+=Q,Q&&(T.adler=p.check=p.flags?a(p.check,W,Q,V-Q):o(p.check,W,Q,V-Q)),Q=G,(p.flags?M:f(M))!==p.check){T.msg="incorrect data check",p.mode=30;break}P=M=0}p.mode=28;case 28:if(p.wrap&&p.flags){for(;P<32;){if(I===0)break e;I--,M+=O[U++]<<P,P+=8}if(M!==(4294967295&p.total)){T.msg="incorrect length check",p.mode=30;break}P=M=0}p.mode=29;case 29:E=1;break e;case 30:E=-3;break e;case 31:return-4;case 32:default:return h}return T.next_out=V,T.avail_out=G,T.next_in=U,T.avail_in=I,p.hold=M,p.bits=P,(p.wsize||Q!==T.avail_out&&p.mode<30&&(p.mode<27||$!==4))&&K(T,T.output,T.next_out,Q-T.avail_out)?(p.mode=31,-4):(se-=T.avail_in,Q-=T.avail_out,T.total_in+=se,T.total_out+=Q,p.total+=Q,p.wrap&&Q&&(T.adler=p.check=p.flags?a(p.check,W,Q,T.next_out-Q):o(p.check,W,Q,T.next_out-Q)),T.data_type=p.bits+(p.last?64:0)+(p.mode===12?128:0)+(p.mode===20||p.mode===15?256:0),(se==0&&Q===0||$===4)&&E===y&&(E=-5),E)},s.inflateEnd=function(T){if(!T||!T.state)return h;var $=T.state;return $.window&&($.window=null),T.state=null,y},s.inflateGetHeader=function(T,$){var p;return T&&T.state&&2&(p=T.state).wrap?((p.head=$).done=!1,y):h},s.inflateSetDictionary=function(T,$){var p,O=$.length;return T&&T.state?(p=T.state).wrap!==0&&p.mode!==11?h:p.mode===11&&o(1,$,O,0)!==p.check?-3:K(T,$,O,O)?(p.mode=31,-4):(p.havedict=1,y):h},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var i=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,m,y,h,v,g,b,f){var x,k,N,_,C,j,R,A,B,K=f.bits,T=0,$=0,p=0,O=0,W=0,U=0,V=0,I=0,G=0,M=0,P=null,se=0,Q=new i.Buf16(16),J=new i.Buf16(16),ve=null,Ee=0;for(T=0;T<=15;T++)Q[T]=0;for($=0;$<h;$++)Q[m[y+$]]++;for(W=K,O=15;1<=O&&Q[O]===0;O--);if(O<W&&(W=O),O===0)return v[g++]=20971520,v[g++]=20971520,f.bits=1,0;for(p=1;p<O&&Q[p]===0;p++);for(W<p&&(W=p),T=I=1;T<=15;T++)if(I<<=1,(I-=Q[T])<0)return-1;if(0<I&&(d===0||O!==1))return-1;for(J[1]=0,T=1;T<15;T++)J[T+1]=J[T]+Q[T];for($=0;$<h;$++)m[y+$]!==0&&(b[J[m[y+$]]++]=$);if(j=d===0?(P=ve=b,19):d===1?(P=o,se-=257,ve=a,Ee-=257,256):(P=c,ve=u,-1),T=p,C=g,V=$=M=0,N=-1,_=(G=1<<(U=W))-1,d===1&&852<G||d===2&&592<G)return 1;for(;;){for(R=T-V,B=b[$]<j?(A=0,b[$]):b[$]>j?(A=ve[Ee+b[$]],P[se+b[$]]):(A=96,0),x=1<<T-V,p=k=1<<U;v[C+(M>>V)+(k-=x)]=R<<24|A<<16|B|0,k!==0;);for(x=1<<T-1;M&x;)x>>=1;if(x!==0?(M&=x-1,M+=x):M=0,$++,--Q[T]==0){if(T===O)break;T=m[y+b[$]]}if(W<T&&(M&_)!==N){for(V===0&&(V=W),C+=p,I=1<<(U=T-V);U+V<O&&!((I-=Q[U+V])<=0);)U++,I<<=1;if(G+=1<<U,d===1&&852<G||d===2&&592<G)return 1;v[N=M&_]=W<<24|U<<16|C-g|0}}return M!==0&&(v[C+M]=T-V<<24|64<<16|0),f.bits=W,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var i=n("../utils/common"),o=0,a=1;function c(z){for(var F=z.length;0<=--F;)z[F]=0}var u=0,d=29,m=256,y=m+1+d,h=30,v=19,g=2*y+1,b=15,f=16,x=7,k=256,N=16,_=17,C=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(y+2));c(K);var T=new Array(2*h);c(T);var $=new Array(512);c($);var p=new Array(256);c(p);var O=new Array(d);c(O);var W,U,V,I=new Array(h);function G(z,F,ne,oe,Y){this.static_tree=z,this.extra_bits=F,this.extra_base=ne,this.elems=oe,this.max_length=Y,this.has_stree=z&&z.length}function M(z,F){this.dyn_tree=z,this.max_code=0,this.stat_desc=F}function P(z){return z<256?$[z]:$[256+(z>>>7)]}function se(z,F){z.pending_buf[z.pending++]=255&F,z.pending_buf[z.pending++]=F>>>8&255}function Q(z,F,ne){z.bi_valid>f-ne?(z.bi_buf|=F<<z.bi_valid&65535,se(z,z.bi_buf),z.bi_buf=F>>f-z.bi_valid,z.bi_valid+=ne-f):(z.bi_buf|=F<<z.bi_valid&65535,z.bi_valid+=ne)}function J(z,F,ne){Q(z,ne[2*F],ne[2*F+1])}function ve(z,F){for(var ne=0;ne|=1&z,z>>>=1,ne<<=1,0<--F;);return ne>>>1}function Ee(z,F,ne){var oe,Y,fe=new Array(b+1),Se=0;for(oe=1;oe<=b;oe++)fe[oe]=Se=Se+ne[oe-1]<<1;for(Y=0;Y<=F;Y++){var me=z[2*Y+1];me!==0&&(z[2*Y]=ve(fe[me]++,me))}}function ke(z){var F;for(F=0;F<y;F++)z.dyn_ltree[2*F]=0;for(F=0;F<h;F++)z.dyn_dtree[2*F]=0;for(F=0;F<v;F++)z.bl_tree[2*F]=0;z.dyn_ltree[2*k]=1,z.opt_len=z.static_len=0,z.last_lit=z.matches=0}function ze(z){8<z.bi_valid?se(z,z.bi_buf):0<z.bi_valid&&(z.pending_buf[z.pending++]=z.bi_buf),z.bi_buf=0,z.bi_valid=0}function q(z,F,ne,oe){var Y=2*F,fe=2*ne;return z[Y]<z[fe]||z[Y]===z[fe]&&oe[F]<=oe[ne]}function ue(z,F,ne){for(var oe=z.heap[ne],Y=ne<<1;Y<=z.heap_len&&(Y<z.heap_len&&q(F,z.heap[Y+1],z.heap[Y],z.depth)&&Y++,!q(F,oe,z.heap[Y],z.depth));)z.heap[ne]=z.heap[Y],ne=Y,Y<<=1;z.heap[ne]=oe}function ee(z,F,ne){var oe,Y,fe,Se,me=0;if(z.last_lit!==0)for(;oe=z.pending_buf[z.d_buf+2*me]<<8|z.pending_buf[z.d_buf+2*me+1],Y=z.pending_buf[z.l_buf+me],me++,oe===0?J(z,Y,F):(J(z,(fe=p[Y])+m+1,F),(Se=j[fe])!==0&&Q(z,Y-=O[fe],Se),J(z,fe=P(--oe),ne),(Se=R[fe])!==0&&Q(z,oe-=I[fe],Se)),me<z.last_lit;);J(z,k,F)}function ce(z,F){var ne,oe,Y,fe=F.dyn_tree,Se=F.stat_desc.static_tree,me=F.stat_desc.has_stree,De=F.stat_desc.elems,Oe=-1;for(z.heap_len=0,z.heap_max=g,ne=0;ne<De;ne++)fe[2*ne]!==0?(z.heap[++z.heap_len]=Oe=ne,z.depth[ne]=0):fe[2*ne+1]=0;for(;z.heap_len<2;)fe[2*(Y=z.heap[++z.heap_len]=Oe<2?++Oe:0)]=1,z.depth[Y]=0,z.opt_len--,me&&(z.static_len-=Se[2*Y+1]);for(F.max_code=Oe,ne=z.heap_len>>1;1<=ne;ne--)ue(z,fe,ne);for(Y=De;ne=z.heap[1],z.heap[1]=z.heap[z.heap_len--],ue(z,fe,1),oe=z.heap[1],z.heap[--z.heap_max]=ne,z.heap[--z.heap_max]=oe,fe[2*Y]=fe[2*ne]+fe[2*oe],z.depth[Y]=(z.depth[ne]>=z.depth[oe]?z.depth[ne]:z.depth[oe])+1,fe[2*ne+1]=fe[2*oe+1]=Y,z.heap[1]=Y++,ue(z,fe,1),2<=z.heap_len;);z.heap[--z.heap_max]=z.heap[1],function(Le,Ge){var mt,Ue,X,te,de,ge,ye=Ge.dyn_tree,pe=Ge.max_code,Pe=Ge.stat_desc.static_tree,$e=Ge.stat_desc.has_stree,Fe=Ge.stat_desc.extra_bits,Ze=Ge.stat_desc.extra_base,ut=Ge.stat_desc.max_length,Je=0;for(te=0;te<=b;te++)Le.bl_count[te]=0;for(ye[2*Le.heap[Le.heap_max]+1]=0,mt=Le.heap_max+1;mt<g;mt++)ut<(te=ye[2*ye[2*(Ue=Le.heap[mt])+1]+1]+1)&&(te=ut,Je++),ye[2*Ue+1]=te,pe<Ue||(Le.bl_count[te]++,de=0,Ze<=Ue&&(de=Fe[Ue-Ze]),ge=ye[2*Ue],Le.opt_len+=ge*(te+de),$e&&(Le.static_len+=ge*(Pe[2*Ue+1]+de)));if(Je!==0){do{for(te=ut-1;Le.bl_count[te]===0;)te--;Le.bl_count[te]--,Le.bl_count[te+1]+=2,Le.bl_count[ut]--,Je-=2}while(0<Je);for(te=ut;te!==0;te--)for(Ue=Le.bl_count[te];Ue!==0;)pe<(X=Le.heap[--mt])||(ye[2*X+1]!==te&&(Le.opt_len+=(te-ye[2*X+1])*ye[2*X],ye[2*X+1]=te),Ue--)}}(z,F),Ee(fe,Oe,z.bl_count)}function w(z,F,ne){var oe,Y,fe=-1,Se=F[1],me=0,De=7,Oe=4;for(Se===0&&(De=138,Oe=3),F[2*(ne+1)+1]=65535,oe=0;oe<=ne;oe++)Y=Se,Se=F[2*(oe+1)+1],++me<De&&Y===Se||(me<Oe?z.bl_tree[2*Y]+=me:Y!==0?(Y!==fe&&z.bl_tree[2*Y]++,z.bl_tree[2*N]++):me<=10?z.bl_tree[2*_]++:z.bl_tree[2*C]++,fe=Y,Oe=(me=0)===Se?(De=138,3):Y===Se?(De=6,3):(De=7,4))}function E(z,F,ne){var oe,Y,fe=-1,Se=F[1],me=0,De=7,Oe=4;for(Se===0&&(De=138,Oe=3),oe=0;oe<=ne;oe++)if(Y=Se,Se=F[2*(oe+1)+1],!(++me<De&&Y===Se)){if(me<Oe)for(;J(z,Y,z.bl_tree),--me!=0;);else Y!==0?(Y!==fe&&(J(z,Y,z.bl_tree),me--),J(z,N,z.bl_tree),Q(z,me-3,2)):me<=10?(J(z,_,z.bl_tree),Q(z,me-3,3)):(J(z,C,z.bl_tree),Q(z,me-11,7));fe=Y,Oe=(me=0)===Se?(De=138,3):Y===Se?(De=6,3):(De=7,4)}}c(I);var H=!1;function S(z,F,ne,oe){Q(z,(u<<1)+(oe?1:0),3),function(Y,fe,Se,me){ze(Y),se(Y,Se),se(Y,~Se),i.arraySet(Y.pending_buf,Y.window,fe,Se,Y.pending),Y.pending+=Se}(z,F,ne)}s._tr_init=function(z){H||(function(){var F,ne,oe,Y,fe,Se=new Array(b+1);for(Y=oe=0;Y<d-1;Y++)for(O[Y]=oe,F=0;F<1<<j[Y];F++)p[oe++]=Y;for(p[oe-1]=Y,Y=fe=0;Y<16;Y++)for(I[Y]=fe,F=0;F<1<<R[Y];F++)$[fe++]=Y;for(fe>>=7;Y<h;Y++)for(I[Y]=fe<<7,F=0;F<1<<R[Y]-7;F++)$[256+fe++]=Y;for(ne=0;ne<=b;ne++)Se[ne]=0;for(F=0;F<=143;)K[2*F+1]=8,F++,Se[8]++;for(;F<=255;)K[2*F+1]=9,F++,Se[9]++;for(;F<=279;)K[2*F+1]=7,F++,Se[7]++;for(;F<=287;)K[2*F+1]=8,F++,Se[8]++;for(Ee(K,y+1,Se),F=0;F<h;F++)T[2*F+1]=5,T[2*F]=ve(F,5);W=new G(K,j,m+1,y,b),U=new G(T,R,0,h,b),V=new G(new Array(0),A,0,v,x)}(),H=!0),z.l_desc=new M(z.dyn_ltree,W),z.d_desc=new M(z.dyn_dtree,U),z.bl_desc=new M(z.bl_tree,V),z.bi_buf=0,z.bi_valid=0,ke(z)},s._tr_stored_block=S,s._tr_flush_block=function(z,F,ne,oe){var Y,fe,Se=0;0<z.level?(z.strm.data_type===2&&(z.strm.data_type=function(me){var De,Oe=4093624447;for(De=0;De<=31;De++,Oe>>>=1)if(1&Oe&&me.dyn_ltree[2*De]!==0)return o;if(me.dyn_ltree[18]!==0||me.dyn_ltree[20]!==0||me.dyn_ltree[26]!==0)return a;for(De=32;De<m;De++)if(me.dyn_ltree[2*De]!==0)return a;return o}(z)),ce(z,z.l_desc),ce(z,z.d_desc),Se=function(me){var De;for(w(me,me.dyn_ltree,me.l_desc.max_code),w(me,me.dyn_dtree,me.d_desc.max_code),ce(me,me.bl_desc),De=v-1;3<=De&&me.bl_tree[2*B[De]+1]===0;De--);return me.opt_len+=3*(De+1)+5+5+4,De}(z),Y=z.opt_len+3+7>>>3,(fe=z.static_len+3+7>>>3)<=Y&&(Y=fe)):Y=fe=ne+5,ne+4<=Y&&F!==-1?S(z,F,ne,oe):z.strategy===4||fe===Y?(Q(z,2+(oe?1:0),3),ee(z,K,T)):(Q(z,4+(oe?1:0),3),function(me,De,Oe,Le){var Ge;for(Q(me,De-257,5),Q(me,Oe-1,5),Q(me,Le-4,4),Ge=0;Ge<Le;Ge++)Q(me,me.bl_tree[2*B[Ge]+1],3);E(me,me.dyn_ltree,De-1),E(me,me.dyn_dtree,Oe-1)}(z,z.l_desc.max_code+1,z.d_desc.max_code+1,Se+1),ee(z,z.dyn_ltree,z.dyn_dtree)),ke(z),oe&&ze(z)},s._tr_tally=function(z,F,ne){return z.pending_buf[z.d_buf+2*z.last_lit]=F>>>8&255,z.pending_buf[z.d_buf+2*z.last_lit+1]=255&F,z.pending_buf[z.l_buf+z.last_lit]=255&ne,z.last_lit++,F===0?z.dyn_ltree[2*ne]++:(z.matches++,F--,z.dyn_ltree[2*(p[ne]+m+1)]++,z.dyn_dtree[2*P(F)]++),z.last_lit===z.lit_bufsize-1},s._tr_align=function(z){Q(z,2,3),J(z,k,K),function(F){F.bi_valid===16?(se(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):8<=F.bi_valid&&(F.pending_buf[F.pending++]=255&F.bi_buf,F.bi_buf>>=8,F.bi_valid-=8)}(z)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(i){(function(o,a){if(!o.setImmediate){var c,u,d,m,y=1,h={},v=!1,g=o.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(o);b=b&&b.setTimeout?b:o,c={}.toString.call(o.process)==="[object process]"?function(N){process.nextTick(function(){x(N)})}:function(){if(o.postMessage&&!o.importScripts){var N=!0,_=o.onmessage;return o.onmessage=function(){N=!1},o.postMessage("","*"),o.onmessage=_,N}}()?(m="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",k,!1):o.attachEvent("onmessage",k),function(N){o.postMessage(m+N,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(N){x(N.data)},function(N){d.port2.postMessage(N)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(N){var _=g.createElement("script");_.onreadystatechange=function(){x(N),_.onreadystatechange=null,u.removeChild(_),_=null},u.appendChild(_)}):function(N){setTimeout(x,0,N)},b.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var _=new Array(arguments.length-1),C=0;C<_.length;C++)_[C]=arguments[C+1];var j={callback:N,args:_};return h[y]=j,c(y),y++},b.clearImmediate=f}function f(N){delete h[N]}function x(N){if(v)setTimeout(x,0,N);else{var _=h[N];if(_){v=!0;try{(function(C){var j=C.callback,R=C.args;switch(R.length){case 0:j();break;case 1:j(R[0]);break;case 2:j(R[0],R[1]);break;case 3:j(R[0],R[1],R[2]);break;default:j.apply(a,R)}})(_)}finally{f(N),v=!1}}}}function k(N){N.source===o&&typeof N.data=="string"&&N.data.indexOf(m)===0&&x(+N.data.slice(m.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Xi<"u"?Xi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(V0);var q1=V0.exports;const Q1=Yc(q1),J1=({projects:e,onSelectProject:t,onCreateProject:n,onExportProject:r,onDeleteProject:s,onImportFolder:i})=>{const[o,a]=D.useState(!1),[c,u]=D.useState(""),[d,m]=D.useState("Software"),y=v=>{v.preventDefault(),c.trim()&&(n(c,d),a(!1),u(""))},h=v=>{switch(v){case"Game":return l.jsx(b1,{className:"w-6 h-6 text-purple-400"});case"Web":return l.jsx(k1,{className:"w-6 h-6 text-blue-400"});default:return l.jsx($0,{className:"w-6 h-6 text-emerald-400"})}};return l.jsxs("div",{className:"p-8 max-w-7xl mx-auto w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:"Projects"}),l.jsx("p",{className:"text-zinc-400 mt-2",children:"Manage your development plans, specs, and architectures."})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:i,className:"flex items-center gap-2 bg-zinc-800 text-zinc-200 px-5 py-2.5 rounded-lg font-semibold hover:bg-zinc-700 transition-colors border border-zinc-700",children:[l.jsx(j1,{className:"w-5 h-5"}),"Import Local Folder"]}),l.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-white text-zinc-950 px-5 py-2.5 rounded-lg font-semibold hover:bg-zinc-200 transition-colors shadow-lg shadow-white/5",children:[l.jsx(Ln,{className:"w-5 h-5"}),"New Project"]})]})]}),e.length===0?l.jsxs("div",{className:"text-center py-20 border border-dashed border-zinc-800 rounded-2xl bg-zinc-900/30",children:[l.jsx(v1,{className:"w-16 h-16 text-zinc-700 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-medium text-zinc-300",children:"No projects yet"}),l.jsx("p",{className:"text-zinc-500 mt-2 max-w-sm mx-auto",children:"Start planning by creating a new project or importing an existing folder."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>l.jsxs("div",{className:"group relative bg-zinc-900 border border-zinc-800 rounded-xl p-6 hover:border-zinc-600 transition-all hover:shadow-xl hover:shadow-black/50 overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"cursor-pointer flex-1 relative z-10",onClick:()=>t(v.id),children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:"p-3 bg-zinc-950 rounded-lg inline-block border border-zinc-800 group-hover:border-zinc-700 transition-colors",children:h(v.type)}),v.isLocal&&l.jsxs("div",{className:"flex items-center gap-1 bg-blue-500/10 border border-blue-500/20 px-2 py-1 rounded text-[10px] text-blue-400 font-bold uppercase tracking-wider",children:[l.jsx(N1,{className:"w-3 h-3"}),"Local"]})]}),l.jsx("h3",{className:"text-xl font-semibold text-zinc-100 mb-2 group-hover:text-blue-400 transition-colors",children:v.name}),l.jsx("p",{className:"text-zinc-400 text-sm line-clamp-2 mb-4 h-10",children:v.description||"No description yet."}),l.jsxs("div",{className:"text-xs text-zinc-500 mb-4",children:[v.files.length," files"]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-zinc-800 mt-auto relative z-20",children:[l.jsxs("div",{className:"flex items-center text-xs text-zinc-500",children:[l.jsx(p1,{className:"w-3.5 h-3.5 mr-1.5"}),new Date(v.lastModified).toLocaleDateString()]}),l.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:g=>{g.preventDefault(),g.stopPropagation(),r(v)},className:"p-2 hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-blue-400 transition-colors",title:"Export JSON",children:l.jsx(Zu,{className:"w-4 h-4"})}),l.jsx("button",{onClick:g=>{g.preventDefault(),g.stopPropagation(),s(v.id)},className:"p-2 hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-red-400 transition-colors",title:v.isLocal?"Remove from List":"Delete Permanently",children:l.jsx(an,{className:"w-4 h-4"})})]})]})]},v.id))}),o&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-md p-6 shadow-2xl",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Create New Project"}),l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Project Name"}),l.jsx("input",{autoFocus:!0,type:"text",required:!0,value:c,onChange:v=>u(v.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all",placeholder:"e.g., Space Explorer RPG"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Type"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Software","Game","Web"].map(v=>l.jsx("button",{type:"button",onClick:()=>m(v),className:`py-2 px-3 rounded-lg text-sm font-medium border transition-all ${d===v?"bg-blue-600/10 border-blue-600 text-blue-400":"bg-zinc-950 border-zinc-800 text-zinc-400 hover:bg-zinc-800"}`,children:v},v))})]}),l.jsxs("div",{className:"flex gap-3 mt-8 pt-4 border-t border-zinc-800",children:[l.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 px-4 py-2 rounded-lg text-zinc-300 hover:bg-zinc-800 transition-colors text-sm font-medium",children:"Cancel"}),l.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Create"})]})]})]})})]})};function zt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=zt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Z0={exports:{}},G0={},Y0={exports:{}},K0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ts=D;function ev(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tv=typeof Object.is=="function"?Object.is:ev,nv=Ts.useState,rv=Ts.useEffect,sv=Ts.useLayoutEffect,iv=Ts.useDebugValue;function ov(e,t){var n=t(),r=nv({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return sv(function(){s.value=n,s.getSnapshot=t,Sl(s)&&i({inst:s})},[e,n,t]),rv(function(){return Sl(s)&&i({inst:s}),e(function(){Sl(s)&&i({inst:s})})},[e]),iv(n),n}function Sl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tv(e,n)}catch{return!0}}function av(e,t){return t()}var lv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?av:ov;K0.useSyncExternalStore=Ts.useSyncExternalStore!==void 0?Ts.useSyncExternalStore:lv;Y0.exports=K0;var cv=Y0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ha=D,uv=cv;function dv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fv=typeof Object.is=="function"?Object.is:dv,hv=uv.useSyncExternalStore,pv=Ha.useRef,mv=Ha.useEffect,gv=Ha.useMemo,xv=Ha.useDebugValue;G0.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=pv(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=gv(function(){function c(h){if(!u){if(u=!0,d=h,h=r(h),s!==void 0&&o.hasValue){var v=o.value;if(s(v,h))return m=v}return m=h}if(v=m,fv(d,h))return v;var g=r(h);return s!==void 0&&s(v,g)?(d=h,v):(d=h,m=g)}var u=!1,d,m,y=n===void 0?null:n;return[function(){return c(t())},y===null?void 0:function(){return c(y())}]},[t,n,r,s]);var a=hv(e,i[0],i[1]);return mv(function(){o.hasValue=!0,o.value=a},[a]),xv(a),a};Z0.exports=G0;var yv=Z0.exports;const vv=Yc(yv),wv={},jf=e=>{let t;const n=new Set,r=(d,m)=>{const y=typeof d=="function"?d(t):d;if(!Object.is(y,t)){const h=t;t=m??(typeof y!="object"||y===null)?y:Object.assign({},t,y),n.forEach(v=>v(t,h))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(wv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},bv=e=>e?jf(e):jf,{useDebugValue:kv}=ie,{useSyncExternalStoreWithSelector:Nv}=vv,_v=e=>e;function X0(e,t=_v,n){const r=Nv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return kv(r),r}const Cf=(e,t)=>{const n=bv(e),r=(s,i=t)=>X0(n,s,i);return Object.assign(r,n),r},Sv=(e,t)=>e?Cf(e,t):Cf;function kt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var zv={value:()=>{}};function Ua(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Lo(n)}function Lo(e){this._=e}function Ev(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Lo.prototype=Ua.prototype={constructor:Lo,on:function(e,t){var n=this._,r=Ev(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=jv(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=Df(n[s],e.name,t);else if(t==null)for(s in n)n[s]=Df(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Lo(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function jv(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function Df(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=zv,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ic="http://www.w3.org/1999/xhtml";const Tf={svg:"http://www.w3.org/2000/svg",xhtml:Ic,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wa(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Tf.hasOwnProperty(t)?{space:Tf[t],local:e}:e}function Cv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ic&&t.documentElement.namespaceURI===Ic?t.createElement(e):t.createElementNS(n,e)}}function Dv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function q0(e){var t=Wa(e);return(t.local?Dv:Cv)(t)}function Tv(){}function Xu(e){return e==null?Tv:function(){return this.querySelector(e)}}function Iv(e){typeof e!="function"&&(e=Xu(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=new Array(o),c,u,d=0;d<o;++d)(c=i[d])&&(u=e.call(c,c.__data__,d,i))&&("__data__"in c&&(u.__data__=c.__data__),a[d]=u);return new Gt(r,this._parents)}function Av(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Mv(){return[]}function Q0(e){return e==null?Mv:function(){return this.querySelectorAll(e)}}function Pv(e){return function(){return Av(e.apply(this,arguments))}}function Rv(e){typeof e=="function"?e=Pv(e):e=Q0(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],a=o.length,c,u=0;u<a;++u)(c=o[u])&&(r.push(e.call(c,c.__data__,u,o)),s.push(c));return new Gt(r,s)}function J0(e){return function(){return this.matches(e)}}function em(e){return function(t){return t.matches(e)}}var Lv=Array.prototype.find;function Ov(e){return function(){return Lv.call(this.children,e)}}function $v(){return this.firstElementChild}function Fv(e){return this.select(e==null?$v:Ov(typeof e=="function"?e:em(e)))}var Bv=Array.prototype.filter;function Hv(){return Array.from(this.children)}function Uv(e){return function(){return Bv.call(this.children,e)}}function Wv(e){return this.selectAll(e==null?Hv:Uv(typeof e=="function"?e:em(e)))}function Vv(e){typeof e!="function"&&(e=J0(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],c,u=0;u<o;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&a.push(c);return new Gt(r,this._parents)}function tm(e){return new Array(e.length)}function Zv(){return new Gt(this._enter||this._groups.map(tm),this._parents)}function pa(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}pa.prototype={constructor:pa,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Gv(e){return function(){return e}}function Yv(e,t,n,r,s,i){for(var o=0,a,c=t.length,u=i.length;o<u;++o)(a=t[o])?(a.__data__=i[o],r[o]=a):n[o]=new pa(e,i[o]);for(;o<c;++o)(a=t[o])&&(s[o]=a)}function Kv(e,t,n,r,s,i,o){var a,c,u=new Map,d=t.length,m=i.length,y=new Array(d),h;for(a=0;a<d;++a)(c=t[a])&&(y[a]=h=o.call(c,c.__data__,a,t)+"",u.has(h)?s[a]=c:u.set(h,c));for(a=0;a<m;++a)h=o.call(e,i[a],a,i)+"",(c=u.get(h))?(r[a]=c,c.__data__=i[a],u.delete(h)):n[a]=new pa(e,i[a]);for(a=0;a<d;++a)(c=t[a])&&u.get(y[a])===c&&(s[a]=c)}function Xv(e){return e.__data__}function qv(e,t){if(!arguments.length)return Array.from(this,Xv);var n=t?Kv:Yv,r=this._parents,s=this._groups;typeof e!="function"&&(e=Gv(e));for(var i=s.length,o=new Array(i),a=new Array(i),c=new Array(i),u=0;u<i;++u){var d=r[u],m=s[u],y=m.length,h=Qv(e.call(d,d&&d.__data__,u,r)),v=h.length,g=a[u]=new Array(v),b=o[u]=new Array(v),f=c[u]=new Array(y);n(d,m,g,b,f,h,t);for(var x=0,k=0,N,_;x<v;++x)if(N=g[x]){for(x>=k&&(k=x+1);!(_=b[k])&&++k<v;);N._next=_||null}}return o=new Gt(o,r),o._enter=a,o._exit=c,o}function Qv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Jv(){return new Gt(this._exit||this._groups.map(tm),this._parents)}function ew(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function tw(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),a=new Array(s),c=0;c<o;++c)for(var u=n[c],d=r[c],m=u.length,y=a[c]=new Array(m),h,v=0;v<m;++v)(h=u[v]||d[v])&&(y[v]=h);for(;c<s;++c)a[c]=n[c];return new Gt(a,this._parents)}function nw(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function rw(e){e||(e=sw);function t(m,y){return m&&y?e(m.__data__,y.__data__):!m-!y}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],a=o.length,c=s[i]=new Array(a),u,d=0;d<a;++d)(u=o[d])&&(c[d]=u);c.sort(t)}return new Gt(s,this._parents).order()}function sw(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function iw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ow(){return Array.from(this)}function aw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function lw(){let e=0;for(const t of this)++e;return e}function cw(){return!this.node()}function uw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,a;i<o;++i)(a=s[i])&&e.call(a,a.__data__,i,s);return this}function dw(e){return function(){this.removeAttribute(e)}}function fw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hw(e,t){return function(){this.setAttribute(e,t)}}function pw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function mw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function gw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function xw(e,t){var n=Wa(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?fw:dw:typeof t=="function"?n.local?gw:mw:n.local?pw:hw)(n,t))}function nm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function yw(e){return function(){this.style.removeProperty(e)}}function vw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ww(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function bw(e,t,n){return arguments.length>1?this.each((t==null?yw:typeof t=="function"?ww:vw)(e,t,n??"")):Is(this.node(),e)}function Is(e,t){return e.style.getPropertyValue(t)||nm(e).getComputedStyle(e,null).getPropertyValue(t)}function kw(e){return function(){delete this[e]}}function Nw(e,t){return function(){this[e]=t}}function _w(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Sw(e,t){return arguments.length>1?this.each((t==null?kw:typeof t=="function"?_w:Nw)(e,t)):this.node()[e]}function rm(e){return e.trim().split(/^|\s+/)}function qu(e){return e.classList||new sm(e)}function sm(e){this._node=e,this._names=rm(e.getAttribute("class")||"")}sm.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function im(e,t){for(var n=qu(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function om(e,t){for(var n=qu(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function zw(e){return function(){im(this,e)}}function Ew(e){return function(){om(this,e)}}function jw(e,t){return function(){(t.apply(this,arguments)?im:om)(this,e)}}function Cw(e,t){var n=rm(e+"");if(arguments.length<2){for(var r=qu(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?jw:t?zw:Ew)(n,t))}function Dw(){this.textContent=""}function Tw(e){return function(){this.textContent=e}}function Iw(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Aw(e){return arguments.length?this.each(e==null?Dw:(typeof e=="function"?Iw:Tw)(e)):this.node().textContent}function Mw(){this.innerHTML=""}function Pw(e){return function(){this.innerHTML=e}}function Rw(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Lw(e){return arguments.length?this.each(e==null?Mw:(typeof e=="function"?Rw:Pw)(e)):this.node().innerHTML}function Ow(){this.nextSibling&&this.parentNode.appendChild(this)}function $w(){return this.each(Ow)}function Fw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Bw(){return this.each(Fw)}function Hw(e){var t=typeof e=="function"?e:q0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Uw(){return null}function Ww(e,t){var n=typeof e=="function"?e:q0(e),r=t==null?Uw:typeof t=="function"?t:Xu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Vw(){var e=this.parentNode;e&&e.removeChild(this)}function Zw(){return this.each(Vw)}function Gw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Yw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Kw(e){return this.select(e?Yw:Gw)}function Xw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function qw(e){return function(t){e.call(this,t,this.__data__)}}function Qw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Jw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function e2(e,t,n){return function(){var r=this.__on,s,i=qw(t);if(r){for(var o=0,a=r.length;o<a;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function t2(e,t,n){var r=Qw(e+""),s,i=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,d;c<u;++c)for(s=0,d=a[c];s<i;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(a=t?e2:Jw,s=0;s<i;++s)this.each(a(r[s],t,n));return this}function am(e,t,n){var r=nm(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function n2(e,t){return function(){return am(this,e,t)}}function r2(e,t){return function(){return am(this,e,t.apply(this,arguments))}}function s2(e,t){return this.each((typeof t=="function"?r2:n2)(e,t))}function*i2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var lm=[null];function Gt(e,t){this._groups=e,this._parents=t}function Gi(){return new Gt([[document.documentElement]],lm)}function o2(){return this}Gt.prototype=Gi.prototype={constructor:Gt,select:Iv,selectAll:Rv,selectChild:Fv,selectChildren:Wv,filter:Vv,data:qv,enter:Zv,exit:Jv,join:ew,merge:tw,selection:o2,order:nw,sort:rw,call:iw,nodes:ow,node:aw,size:lw,empty:cw,each:uw,attr:xw,style:bw,property:Sw,classed:Cw,text:Aw,html:Lw,raise:$w,lower:Bw,append:Hw,insert:Ww,remove:Zw,clone:Kw,datum:Xw,on:t2,dispatch:s2,[Symbol.iterator]:i2};function Jt(e){return typeof e=="string"?new Gt([[document.querySelector(e)]],[document.documentElement]):new Gt([[e]],lm)}function a2(e){let t;for(;t=e.sourceEvent;)e=t;return e}function fn(e,t){if(e=a2(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const l2={passive:!1},Ii={capture:!0,passive:!1};function zl(e){e.stopImmediatePropagation()}function ws(e){e.preventDefault(),e.stopImmediatePropagation()}function cm(e){var t=e.document.documentElement,n=Jt(e).on("dragstart.drag",ws,Ii);"onselectstart"in t?n.on("selectstart.drag",ws,Ii):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function um(e,t){var n=e.document.documentElement,r=Jt(e).on("dragstart.drag",null);t&&(r.on("click.drag",ws,Ii),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const go=e=>()=>e;function Ac(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:o,y:a,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Ac.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function c2(e){return!e.ctrlKey&&!e.button}function u2(){return this.parentNode}function d2(e,t){return t??{x:e.x,y:e.y}}function f2(){return navigator.maxTouchPoints||"ontouchstart"in this}function h2(){var e=c2,t=u2,n=d2,r=f2,s={},i=Ua("start","drag","end"),o=0,a,c,u,d,m=0;function y(N){N.on("mousedown.drag",h).filter(r).on("touchstart.drag",b).on("touchmove.drag",f,l2).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(N,_){if(!(d||!e.call(this,N,_))){var C=k(this,t.call(this,N,_),N,_,"mouse");C&&(Jt(N.view).on("mousemove.drag",v,Ii).on("mouseup.drag",g,Ii),cm(N.view),zl(N),u=!1,a=N.clientX,c=N.clientY,C("start",N))}}function v(N){if(ws(N),!u){var _=N.clientX-a,C=N.clientY-c;u=_*_+C*C>m}s.mouse("drag",N)}function g(N){Jt(N.view).on("mousemove.drag mouseup.drag",null),um(N.view,u),ws(N),s.mouse("end",N)}function b(N,_){if(e.call(this,N,_)){var C=N.changedTouches,j=t.call(this,N,_),R=C.length,A,B;for(A=0;A<R;++A)(B=k(this,j,N,_,C[A].identifier,C[A]))&&(zl(N),B("start",N,C[A]))}}function f(N){var _=N.changedTouches,C=_.length,j,R;for(j=0;j<C;++j)(R=s[_[j].identifier])&&(ws(N),R("drag",N,_[j]))}function x(N){var _=N.changedTouches,C=_.length,j,R;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),j=0;j<C;++j)(R=s[_[j].identifier])&&(zl(N),R("end",N,_[j]))}function k(N,_,C,j,R,A){var B=i.copy(),K=fn(A||C,_),T,$,p;if((p=n.call(N,new Ac("beforestart",{sourceEvent:C,target:y,identifier:R,active:o,x:K[0],y:K[1],dx:0,dy:0,dispatch:B}),j))!=null)return T=p.x-K[0]||0,$=p.y-K[1]||0,function O(W,U,V){var I=K,G;switch(W){case"start":s[R]=O,G=o++;break;case"end":delete s[R],--o;case"drag":K=fn(V||U,_),G=o;break}B.call(W,N,new Ac(W,{sourceEvent:U,subject:p,target:y,identifier:R,active:G,x:K[0]+T,y:K[1]+$,dx:K[0]-I[0],dy:K[1]-I[1],dispatch:B}),j)}}return y.filter=function(N){return arguments.length?(e=typeof N=="function"?N:go(!!N),y):e},y.container=function(N){return arguments.length?(t=typeof N=="function"?N:go(N),y):t},y.subject=function(N){return arguments.length?(n=typeof N=="function"?N:go(N),y):n},y.touchable=function(N){return arguments.length?(r=typeof N=="function"?N:go(!!N),y):r},y.on=function(){var N=i.on.apply(i,arguments);return N===i?y:N},y.clickDistance=function(N){return arguments.length?(m=(N=+N)*N,y):Math.sqrt(m)},y}function Qu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Yi(){}var Ai=.7,ma=1/Ai,bs="\\s*([+-]?\\d+)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p2=/^#([0-9a-f]{3,8})$/,m2=new RegExp(`^rgb\\(${bs},${bs},${bs}\\)$`),g2=new RegExp(`^rgb\\(${_n},${_n},${_n}\\)$`),x2=new RegExp(`^rgba\\(${bs},${bs},${bs},${Mi}\\)$`),y2=new RegExp(`^rgba\\(${_n},${_n},${_n},${Mi}\\)$`),v2=new RegExp(`^hsl\\(${Mi},${_n},${_n}\\)$`),w2=new RegExp(`^hsla\\(${Mi},${_n},${_n},${Mi}\\)$`),If={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qu(Yi,Pi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Af,formatHex:Af,formatHex8:b2,formatHsl:k2,formatRgb:Mf,toString:Mf});function Af(){return this.rgb().formatHex()}function b2(){return this.rgb().formatHex8()}function k2(){return fm(this).formatHsl()}function Mf(){return this.rgb().formatRgb()}function Pi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=p2.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Pf(t):n===3?new $t(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?xo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?xo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=m2.exec(e))?new $t(t[1],t[2],t[3],1):(t=g2.exec(e))?new $t(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=x2.exec(e))?xo(t[1],t[2],t[3],t[4]):(t=y2.exec(e))?xo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=v2.exec(e))?Of(t[1],t[2]/100,t[3]/100,1):(t=w2.exec(e))?Of(t[1],t[2]/100,t[3]/100,t[4]):If.hasOwnProperty(e)?Pf(If[e]):e==="transparent"?new $t(NaN,NaN,NaN,0):null}function Pf(e){return new $t(e>>16&255,e>>8&255,e&255,1)}function xo(e,t,n,r){return r<=0&&(e=t=n=NaN),new $t(e,t,n,r)}function N2(e){return e instanceof Yi||(e=Pi(e)),e?(e=e.rgb(),new $t(e.r,e.g,e.b,e.opacity)):new $t}function Mc(e,t,n,r){return arguments.length===1?N2(e):new $t(e,t,n,r??1)}function $t(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Qu($t,Mc,dm(Yi,{brighter(e){return e=e==null?ma:Math.pow(ma,e),new $t(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ai:Math.pow(Ai,e),new $t(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $t(Pr(this.r),Pr(this.g),Pr(this.b),ga(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rf,formatHex:Rf,formatHex8:_2,formatRgb:Lf,toString:Lf}));function Rf(){return`#${Tr(this.r)}${Tr(this.g)}${Tr(this.b)}`}function _2(){return`#${Tr(this.r)}${Tr(this.g)}${Tr(this.b)}${Tr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lf(){const e=ga(this.opacity);return`${e===1?"rgb(":"rgba("}${Pr(this.r)}, ${Pr(this.g)}, ${Pr(this.b)}${e===1?")":`, ${e})`}`}function ga(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tr(e){return e=Pr(e),(e<16?"0":"")+e.toString(16)}function Of(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pn(e,t,n,r)}function fm(e){if(e instanceof pn)return new pn(e.h,e.s,e.l,e.opacity);if(e instanceof Yi||(e=Pi(e)),!e)return new pn;if(e instanceof pn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,a=i-s,c=(i+s)/2;return a?(t===i?o=(n-r)/a+(n<r)*6:n===i?o=(r-t)/a+2:o=(t-n)/a+4,a/=c<.5?i+s:2-i-s,o*=60):a=c>0&&c<1?0:o,new pn(o,a,c,e.opacity)}function S2(e,t,n,r){return arguments.length===1?fm(e):new pn(e,t,n,r??1)}function pn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Qu(pn,S2,dm(Yi,{brighter(e){return e=e==null?ma:Math.pow(ma,e),new pn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ai:Math.pow(Ai,e),new pn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new $t(El(e>=240?e-240:e+120,s,r),El(e,s,r),El(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new pn($f(this.h),yo(this.s),yo(this.l),ga(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ga(this.opacity);return`${e===1?"hsl(":"hsla("}${$f(this.h)}, ${yo(this.s)*100}%, ${yo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $f(e){return e=(e||0)%360,e<0?e+360:e}function yo(e){return Math.max(0,Math.min(1,e||0))}function El(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const hm=e=>()=>e;function z2(e,t){return function(n){return e+n*t}}function E2(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function j2(e){return(e=+e)==1?pm:function(t,n){return n-t?E2(t,n,e):hm(isNaN(t)?n:t)}}function pm(e,t){var n=t-e;return n?z2(e,n):hm(isNaN(e)?t:e)}const Ff=function e(t){var n=j2(t);function r(s,i){var o=n((s=Mc(s)).r,(i=Mc(i)).r),a=n(s.g,i.g),c=n(s.b,i.b),u=pm(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=a(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function qn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Pc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jl=new RegExp(Pc.source,"g");function C2(e){return function(){return e}}function D2(e){return function(t){return e(t)+""}}function T2(e,t){var n=Pc.lastIndex=jl.lastIndex=0,r,s,i,o=-1,a=[],c=[];for(e=e+"",t=t+"";(r=Pc.exec(e))&&(s=jl.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,c.push({i:o,x:qn(r,s)})),n=jl.lastIndex;return n<t.length&&(i=t.slice(n),a[o]?a[o]+=i:a[++o]=i),a.length<2?c[0]?D2(c[0].x):C2(t):(t=c.length,function(u){for(var d=0,m;d<t;++d)a[(m=c[d]).i]=m.x(u);return a.join("")})}var Bf=180/Math.PI,Rc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mm(e,t,n,r,s,i){var o,a,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*Bf,skewX:Math.atan(c)*Bf,scaleX:o,scaleY:a}}var vo;function I2(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Rc:mm(t.a,t.b,t.c,t.d,t.e,t.f)}function A2(e){return e==null||(vo||(vo=document.createElementNS("http://www.w3.org/2000/svg","g")),vo.setAttribute("transform",e),!(e=vo.transform.baseVal.consolidate()))?Rc:(e=e.matrix,mm(e.a,e.b,e.c,e.d,e.e,e.f))}function gm(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function i(u,d,m,y,h,v){if(u!==m||d!==y){var g=h.push("translate(",null,t,null,n);v.push({i:g-4,x:qn(u,m)},{i:g-2,x:qn(d,y)})}else(m||y)&&h.push("translate("+m+t+y+n)}function o(u,d,m,y){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),y.push({i:m.push(s(m)+"rotate(",null,r)-2,x:qn(u,d)})):d&&m.push(s(m)+"rotate("+d+r)}function a(u,d,m,y){u!==d?y.push({i:m.push(s(m)+"skewX(",null,r)-2,x:qn(u,d)}):d&&m.push(s(m)+"skewX("+d+r)}function c(u,d,m,y,h,v){if(u!==m||d!==y){var g=h.push(s(h)+"scale(",null,",",null,")");v.push({i:g-4,x:qn(u,m)},{i:g-2,x:qn(d,y)})}else(m!==1||y!==1)&&h.push(s(h)+"scale("+m+","+y+")")}return function(u,d){var m=[],y=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,m,y),o(u.rotate,d.rotate,m,y),a(u.skewX,d.skewX,m,y),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,m,y),u=d=null,function(h){for(var v=-1,g=y.length,b;++v<g;)m[(b=y[v]).i]=b.x(h);return m.join("")}}}var M2=gm(I2,"px, ","px)","deg)"),P2=gm(A2,", ",")",")"),R2=1e-12;function Hf(e){return((e=Math.exp(e))+1/e)/2}function L2(e){return((e=Math.exp(e))-1/e)/2}function O2(e){return((e=Math.exp(2*e))-1)/(e+1)}const $2=function e(t,n,r){function s(i,o){var a=i[0],c=i[1],u=i[2],d=o[0],m=o[1],y=o[2],h=d-a,v=m-c,g=h*h+v*v,b,f;if(g<R2)f=Math.log(y/u)/t,b=function(j){return[a+j*h,c+j*v,u*Math.exp(t*j*f)]};else{var x=Math.sqrt(g),k=(y*y-u*u+r*g)/(2*u*n*x),N=(y*y-u*u-r*g)/(2*y*n*x),_=Math.log(Math.sqrt(k*k+1)-k),C=Math.log(Math.sqrt(N*N+1)-N);f=(C-_)/t,b=function(j){var R=j*f,A=Hf(_),B=u/(n*x)*(A*O2(t*R+_)-L2(_));return[a+B*h,c+B*v,u*A/Hf(t*R+_)]}}return b.duration=f*1e3*t/Math.SQRT2,b}return s.rho=function(i){var o=Math.max(.001,+i),a=o*o,c=a*a;return e(o,a,c)},s}(Math.SQRT2,2,4);var As=0,ni=0,Gs=0,xm=1e3,xa,ri,ya=0,Hr=0,Va=0,Ri=typeof performance=="object"&&performance.now?performance:Date,ym=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ju(){return Hr||(ym(F2),Hr=Ri.now()+Va)}function F2(){Hr=0}function va(){this._call=this._time=this._next=null}va.prototype=vm.prototype={constructor:va,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ju():+n)+(t==null?0:+t),!this._next&&ri!==this&&(ri?ri._next=this:xa=this,ri=this),this._call=e,this._time=n,Lc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Lc())}};function vm(e,t,n){var r=new va;return r.restart(e,t,n),r}function B2(){Ju(),++As;for(var e=xa,t;e;)(t=Hr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--As}function Uf(){Hr=(ya=Ri.now())+Va,As=ni=0;try{B2()}finally{As=0,U2(),Hr=0}}function H2(){var e=Ri.now(),t=e-ya;t>xm&&(Va-=t,ya=e)}function U2(){for(var e,t=xa,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:xa=n);ri=e,Lc(r)}function Lc(e){if(!As){ni&&(ni=clearTimeout(ni));var t=e-Hr;t>24?(e<1/0&&(ni=setTimeout(Uf,e-Ri.now()-Va)),Gs&&(Gs=clearInterval(Gs))):(Gs||(ya=Ri.now(),Gs=setInterval(H2,xm)),As=1,ym(Uf))}}function Wf(e,t,n){var r=new va;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var W2=Ua("start","end","cancel","interrupt"),V2=[],wm=0,Vf=1,Oc=2,Oo=3,Zf=4,$c=5,$o=6;function Za(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Z2(e,n,{name:t,index:r,group:s,on:W2,tween:V2,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:wm})}function ed(e,t){var n=yn(e,t);if(n.state>wm)throw new Error("too late; already scheduled");return n}function Sn(e,t){var n=yn(e,t);if(n.state>Oo)throw new Error("too late; already running");return n}function yn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Z2(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=vm(i,0,n.time);function i(u){n.state=Vf,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,m,y,h;if(n.state!==Vf)return c();for(d in r)if(h=r[d],h.name===n.name){if(h.state===Oo)return Wf(o);h.state===Zf?(h.state=$o,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[d]):+d<t&&(h.state=$o,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[d])}if(Wf(function(){n.state===Oo&&(n.state=Zf,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Oc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Oc){for(n.state=Oo,s=new Array(y=n.tween.length),d=0,m=-1;d<y;++d)(h=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++m]=h);s.length=m+1}}function a(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=$c,1),m=-1,y=s.length;++m<y;)s[m].call(e,d);n.state===$c&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=$o,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Fo(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>Oc&&r.state<$c,r.state=$o,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function G2(e){return this.each(function(){Fo(this,e)})}function Y2(e,t){var n,r;return function(){var s=Sn(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function K2(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=Sn(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var a={name:t,value:n},c=0,u=s.length;c<u;++c)if(s[c].name===t){s[c]=a;break}c===u&&s.push(a)}i.tween=s}}function X2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=yn(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?Y2:K2)(n,e,t))}function td(e,t,n){var r=e._id;return e.each(function(){var s=Sn(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return yn(s,r).value[t]}}function bm(e,t){var n;return(typeof t=="number"?qn:t instanceof Pi?Ff:(n=Pi(t))?(t=n,Ff):T2)(e,t)}function q2(e){return function(){this.removeAttribute(e)}}function Q2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function J2(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function eb(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function tb(e,t,n){var r,s,i;return function(){var o,a=n(this),c;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=a+"",o===c?null:o===r&&c===s?i:(s=c,i=t(r=o,a)))}}function nb(e,t,n){var r,s,i;return function(){var o,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=a+"",o===c?null:o===r&&c===s?i:(s=c,i=t(r=o,a)))}}function rb(e,t){var n=Wa(e),r=n==="transform"?P2:bm;return this.attrTween(e,typeof t=="function"?(n.local?nb:tb)(n,r,td(this,"attr."+e,t)):t==null?(n.local?Q2:q2)(n):(n.local?eb:J2)(n,r,t))}function sb(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ib(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ob(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&ib(e,i)),n}return s._value=t,s}function ab(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&sb(e,i)),n}return s._value=t,s}function lb(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Wa(e);return this.tween(n,(r.local?ob:ab)(r,t))}function cb(e,t){return function(){ed(this,e).delay=+t.apply(this,arguments)}}function ub(e,t){return t=+t,function(){ed(this,e).delay=t}}function db(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?cb:ub)(t,e)):yn(this.node(),t).delay}function fb(e,t){return function(){Sn(this,e).duration=+t.apply(this,arguments)}}function hb(e,t){return t=+t,function(){Sn(this,e).duration=t}}function pb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?fb:hb)(t,e)):yn(this.node(),t).duration}function mb(e,t){if(typeof t!="function")throw new Error;return function(){Sn(this,e).ease=t}}function gb(e){var t=this._id;return arguments.length?this.each(mb(t,e)):yn(this.node(),t).ease}function xb(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Sn(this,e).ease=n}}function yb(e){if(typeof e!="function")throw new Error;return this.each(xb(this._id,e))}function vb(e){typeof e!="function"&&(e=J0(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],c,u=0;u<o;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&a.push(c);return new Un(r,this._parents,this._name,this._id)}function wb(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),a=0;a<i;++a)for(var c=t[a],u=n[a],d=c.length,m=o[a]=new Array(d),y,h=0;h<d;++h)(y=c[h]||u[h])&&(m[h]=y);for(;a<r;++a)o[a]=t[a];return new Un(o,this._parents,this._name,this._id)}function bb(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function kb(e,t,n){var r,s,i=bb(t)?ed:Sn;return function(){var o=i(this,e),a=o.on;a!==r&&(s=(r=a).copy()).on(t,n),o.on=s}}function Nb(e,t){var n=this._id;return arguments.length<2?yn(this.node(),n).on.on(e):this.each(kb(n,e,t))}function _b(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Sb(){return this.on("end.remove",_b(this._id))}function zb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Xu(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var a=r[o],c=a.length,u=i[o]=new Array(c),d,m,y=0;y<c;++y)(d=a[y])&&(m=e.call(d,d.__data__,y,a))&&("__data__"in d&&(m.__data__=d.__data__),u[y]=m,Za(u[y],t,n,y,u,yn(d,n)));return new Un(i,this._parents,t,n)}function Eb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Q0(e));for(var r=this._groups,s=r.length,i=[],o=[],a=0;a<s;++a)for(var c=r[a],u=c.length,d,m=0;m<u;++m)if(d=c[m]){for(var y=e.call(d,d.__data__,m,c),h,v=yn(d,n),g=0,b=y.length;g<b;++g)(h=y[g])&&Za(h,t,n,g,y,v);i.push(y),o.push(d)}return new Un(i,o,t,n)}var jb=Gi.prototype.constructor;function Cb(){return new jb(this._groups,this._parents)}function Db(e,t){var n,r,s;return function(){var i=Is(this,e),o=(this.style.removeProperty(e),Is(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function km(e){return function(){this.style.removeProperty(e)}}function Tb(e,t,n){var r,s=n+"",i;return function(){var o=Is(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function Ib(e,t,n){var r,s,i;return function(){var o=Is(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),Is(this,e))),o===c?null:o===r&&c===s?i:(s=c,i=t(r=o,a))}}function Ab(e,t){var n,r,s,i="style."+t,o="end."+i,a;return function(){var c=Sn(this,e),u=c.on,d=c.value[i]==null?a||(a=km(t)):void 0;(u!==n||s!==d)&&(r=(n=u).copy()).on(o,s=d),c.on=r}}function Mb(e,t,n){var r=(e+="")=="transform"?M2:bm;return t==null?this.styleTween(e,Db(e,r)).on("end.style."+e,km(e)):typeof t=="function"?this.styleTween(e,Ib(e,r,td(this,"style."+e,t))).each(Ab(this._id,e)):this.styleTween(e,Tb(e,r,t),n).on("end.style."+e,null)}function Pb(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Rb(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&Pb(e,o,n)),r}return i._value=t,i}function Lb(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Rb(e,t,n??""))}function Ob(e){return function(){this.textContent=e}}function $b(e){return function(){var t=e(this);this.textContent=t??""}}function Fb(e){return this.tween("text",typeof e=="function"?$b(td(this,"text",e)):Ob(e==null?"":e+""))}function Bb(e){return function(t){this.textContent=e.call(this,t)}}function Hb(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Bb(s)),t}return r._value=e,r}function Ub(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Hb(e))}function Wb(){for(var e=this._name,t=this._id,n=Nm(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,c,u=0;u<a;++u)if(c=o[u]){var d=yn(c,t);Za(c,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Un(r,this._parents,e,n)}function Vb(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var a={value:o},c={value:function(){--s===0&&i()}};n.each(function(){var u=Sn(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),u.on=t}),s===0&&i()})}var Zb=0;function Un(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Nm(){return++Zb}var jn=Gi.prototype;Un.prototype={constructor:Un,select:zb,selectAll:Eb,selectChild:jn.selectChild,selectChildren:jn.selectChildren,filter:vb,merge:wb,selection:Cb,transition:Wb,call:jn.call,nodes:jn.nodes,node:jn.node,size:jn.size,empty:jn.empty,each:jn.each,on:Nb,attr:rb,attrTween:lb,style:Mb,styleTween:Lb,text:Fb,textTween:Ub,remove:Sb,tween:X2,delay:db,duration:pb,ease:gb,easeVarying:yb,end:Vb,[Symbol.iterator]:jn[Symbol.iterator]};function Gb(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Yb={time:null,delay:0,duration:250,ease:Gb};function Kb(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Xb(e){var t,n;e instanceof Un?(t=e._id,e=e._name):(t=Nm(),(n=Yb).time=Ju(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,c,u=0;u<a;++u)(c=o[u])&&Za(c,e,t,u,o,n||Kb(c,t));return new Un(r,this._parents,e,t)}Gi.prototype.interrupt=G2;Gi.prototype.transition=Xb;const wo=e=>()=>e;function qb(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Mn(e,t,n){this.k=e,this.x=t,this.y=n}Mn.prototype={constructor:Mn,scale:function(e){return e===1?this:new Mn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Mn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var On=new Mn(1,0,0);Mn.prototype;function Cl(e){e.stopImmediatePropagation()}function Ys(e){e.preventDefault(),e.stopImmediatePropagation()}function Qb(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Jb(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Gf(){return this.__zoom||On}function ek(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function tk(){return navigator.maxTouchPoints||"ontouchstart"in this}function nk(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function _m(){var e=Qb,t=Jb,n=nk,r=ek,s=tk,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,c=$2,u=Ua("start","zoom","end"),d,m,y,h=500,v=150,g=0,b=10;function f(p){p.property("__zoom",Gf).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",B).filter(s).on("touchstart.zoom",K).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}f.transform=function(p,O,W,U){var V=p.selection?p.selection():p;V.property("__zoom",Gf),p!==V?_(p,O,W,U):V.interrupt().each(function(){C(this,arguments).event(U).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},f.scaleBy=function(p,O,W,U){f.scaleTo(p,function(){var V=this.__zoom.k,I=typeof O=="function"?O.apply(this,arguments):O;return V*I},W,U)},f.scaleTo=function(p,O,W,U){f.transform(p,function(){var V=t.apply(this,arguments),I=this.__zoom,G=W==null?N(V):typeof W=="function"?W.apply(this,arguments):W,M=I.invert(G),P=typeof O=="function"?O.apply(this,arguments):O;return n(k(x(I,P),G,M),V,o)},W,U)},f.translateBy=function(p,O,W,U){f.transform(p,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof W=="function"?W.apply(this,arguments):W),t.apply(this,arguments),o)},null,U)},f.translateTo=function(p,O,W,U,V){f.transform(p,function(){var I=t.apply(this,arguments),G=this.__zoom,M=U==null?N(I):typeof U=="function"?U.apply(this,arguments):U;return n(On.translate(M[0],M[1]).scale(G.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof W=="function"?-W.apply(this,arguments):-W),I,o)},U,V)};function x(p,O){return O=Math.max(i[0],Math.min(i[1],O)),O===p.k?p:new Mn(O,p.x,p.y)}function k(p,O,W){var U=O[0]-W[0]*p.k,V=O[1]-W[1]*p.k;return U===p.x&&V===p.y?p:new Mn(p.k,U,V)}function N(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function _(p,O,W,U){p.on("start.zoom",function(){C(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(U).end()}).tween("zoom",function(){var V=this,I=arguments,G=C(V,I).event(U),M=t.apply(V,I),P=W==null?N(M):typeof W=="function"?W.apply(V,I):W,se=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),Q=V.__zoom,J=typeof O=="function"?O.apply(V,I):O,ve=c(Q.invert(P).concat(se/Q.k),J.invert(P).concat(se/J.k));return function(Ee){if(Ee===1)Ee=J;else{var ke=ve(Ee),ze=se/ke[2];Ee=new Mn(ze,P[0]-ke[0]*ze,P[1]-ke[1]*ze)}G.zoom(null,Ee)}})}function C(p,O,W){return!W&&p.__zooming||new j(p,O)}function j(p,O){this.that=p,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(p,O),this.taps=0}j.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,O){return this.mouse&&p!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var O=Jt(this.that).datum();u.call(p,this.that,new qb(p,{sourceEvent:this.sourceEvent,target:f,transform:this.that.__zoom,dispatch:u}),O)}};function R(p,...O){if(!e.apply(this,arguments))return;var W=C(this,O).event(p),U=this.__zoom,V=Math.max(i[0],Math.min(i[1],U.k*Math.pow(2,r.apply(this,arguments)))),I=fn(p);if(W.wheel)(W.mouse[0][0]!==I[0]||W.mouse[0][1]!==I[1])&&(W.mouse[1]=U.invert(W.mouse[0]=I)),clearTimeout(W.wheel);else{if(U.k===V)return;W.mouse=[I,U.invert(I)],Fo(this),W.start()}Ys(p),W.wheel=setTimeout(G,v),W.zoom("mouse",n(k(x(U,V),W.mouse[0],W.mouse[1]),W.extent,o));function G(){W.wheel=null,W.end()}}function A(p,...O){if(y||!e.apply(this,arguments))return;var W=p.currentTarget,U=C(this,O,!0).event(p),V=Jt(p.view).on("mousemove.zoom",P,!0).on("mouseup.zoom",se,!0),I=fn(p,W),G=p.clientX,M=p.clientY;cm(p.view),Cl(p),U.mouse=[I,this.__zoom.invert(I)],Fo(this),U.start();function P(Q){if(Ys(Q),!U.moved){var J=Q.clientX-G,ve=Q.clientY-M;U.moved=J*J+ve*ve>g}U.event(Q).zoom("mouse",n(k(U.that.__zoom,U.mouse[0]=fn(Q,W),U.mouse[1]),U.extent,o))}function se(Q){V.on("mousemove.zoom mouseup.zoom",null),um(Q.view,U.moved),Ys(Q),U.event(Q).end()}}function B(p,...O){if(e.apply(this,arguments)){var W=this.__zoom,U=fn(p.changedTouches?p.changedTouches[0]:p,this),V=W.invert(U),I=W.k*(p.shiftKey?.5:2),G=n(k(x(W,I),U,V),t.apply(this,O),o);Ys(p),a>0?Jt(this).transition().duration(a).call(_,G,U,p):Jt(this).call(f.transform,G,U,p)}}function K(p,...O){if(e.apply(this,arguments)){var W=p.touches,U=W.length,V=C(this,O,p.changedTouches.length===U).event(p),I,G,M,P;for(Cl(p),G=0;G<U;++G)M=W[G],P=fn(M,this),P=[P,this.__zoom.invert(P),M.identifier],V.touch0?!V.touch1&&V.touch0[2]!==P[2]&&(V.touch1=P,V.taps=0):(V.touch0=P,I=!0,V.taps=1+!!d);d&&(d=clearTimeout(d)),I&&(V.taps<2&&(m=P[0],d=setTimeout(function(){d=null},h)),Fo(this),V.start())}}function T(p,...O){if(this.__zooming){var W=C(this,O).event(p),U=p.changedTouches,V=U.length,I,G,M,P;for(Ys(p),I=0;I<V;++I)G=U[I],M=fn(G,this),W.touch0&&W.touch0[2]===G.identifier?W.touch0[0]=M:W.touch1&&W.touch1[2]===G.identifier&&(W.touch1[0]=M);if(G=W.that.__zoom,W.touch1){var se=W.touch0[0],Q=W.touch0[1],J=W.touch1[0],ve=W.touch1[1],Ee=(Ee=J[0]-se[0])*Ee+(Ee=J[1]-se[1])*Ee,ke=(ke=ve[0]-Q[0])*ke+(ke=ve[1]-Q[1])*ke;G=x(G,Math.sqrt(Ee/ke)),M=[(se[0]+J[0])/2,(se[1]+J[1])/2],P=[(Q[0]+ve[0])/2,(Q[1]+ve[1])/2]}else if(W.touch0)M=W.touch0[0],P=W.touch0[1];else return;W.zoom("touch",n(k(G,M,P),W.extent,o))}}function $(p,...O){if(this.__zooming){var W=C(this,O).event(p),U=p.changedTouches,V=U.length,I,G;for(Cl(p),y&&clearTimeout(y),y=setTimeout(function(){y=null},h),I=0;I<V;++I)G=U[I],W.touch0&&W.touch0[2]===G.identifier?delete W.touch0:W.touch1&&W.touch1[2]===G.identifier&&delete W.touch1;if(W.touch1&&!W.touch0&&(W.touch0=W.touch1,delete W.touch1),W.touch0)W.touch0[1]=this.__zoom.invert(W.touch0[0]);else if(W.end(),W.taps===2&&(G=fn(G,this),Math.hypot(m[0]-G[0],m[1]-G[1])<b)){var M=Jt(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return f.wheelDelta=function(p){return arguments.length?(r=typeof p=="function"?p:wo(+p),f):r},f.filter=function(p){return arguments.length?(e=typeof p=="function"?p:wo(!!p),f):e},f.touchable=function(p){return arguments.length?(s=typeof p=="function"?p:wo(!!p),f):s},f.extent=function(p){return arguments.length?(t=typeof p=="function"?p:wo([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),f):t},f.scaleExtent=function(p){return arguments.length?(i[0]=+p[0],i[1]=+p[1],f):[i[0],i[1]]},f.translateExtent=function(p){return arguments.length?(o[0][0]=+p[0][0],o[1][0]=+p[1][0],o[0][1]=+p[0][1],o[1][1]=+p[1][1],f):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},f.constrain=function(p){return arguments.length?(n=p,f):n},f.duration=function(p){return arguments.length?(a=+p,f):a},f.interpolate=function(p){return arguments.length?(c=p,f):c},f.on=function(){var p=u.on.apply(u,arguments);return p===u?f:p},f.clickDistance=function(p){return arguments.length?(g=(p=+p)*p,f):Math.sqrt(g)},f.tapDistance=function(p){return arguments.length?(b=+p,f):b},f}const Ga=D.createContext(null),rk=Ga.Provider,Wn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Sm=Wn.error001();function nt(e,t){const n=D.useContext(Ga);if(n===null)throw new Error(Sm);return X0(n,e,t)}const vt=()=>{const e=D.useContext(Ga);if(e===null)throw new Error(Sm);return D.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},sk=e=>e.userSelectionActive?"none":"all";function nd({position:e,children:t,className:n,style:r,...s}){const i=nt(sk),o=`${e}`.split("-");return ie.createElement("div",{className:zt(["react-flow__panel",n,...o]),style:{...r,pointerEvents:i},...s},t)}function ik({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:ie.createElement(nd,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ie.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const ok=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:c,className:u,...d})=>{const m=D.useRef(null),[y,h]=D.useState({x:0,y:0,width:0,height:0}),v=zt(["react-flow__edge-textwrapper",u]);return D.useEffect(()=>{if(m.current){const g=m.current.getBBox();h({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:ie.createElement("g",{transform:`translate(${e-y.width/2} ${t-y.height/2})`,className:v,visibility:y.width?"visible":"hidden",...d},s&&ie.createElement("rect",{width:y.width+2*o[0],x:-o[0],y:-o[1],height:y.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),ie.createElement("text",{className:"react-flow__edge-text",y:y.height/2,dy:"0.3em",ref:m,style:r},n),c)};var ak=D.memo(ok);const rd=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ms=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),sd=(e={x:0,y:0},t)=>({x:Ms(e.x,t[0][0],t[1][0]),y:Ms(e.y,t[0][1],t[1][1])}),Yf=(e,t,n)=>e<t?Ms(Math.abs(e-t),1,50)/50:e>n?-Ms(Math.abs(e-n),1,50)/50:0,zm=(e,t)=>{const n=Yf(e.x,35,t.width-35)*20,r=Yf(e.y,35,t.height-35)*20;return[n,r]},Em=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},jm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Li=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Cm=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Kf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),lk=(e,t)=>Cm(jm(Li(e),Li(t))),Fc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},ck=e=>tn(e.width)&&tn(e.height)&&tn(e.x)&&tn(e.y),tn=e=>!isNaN(e)&&isFinite(e),ft=Symbol.for("internals"),Dm=["Enter"," ","Escape"],uk=(e,t)=>{},dk=e=>"nativeEvent"in e;function Bc(e){var s,i;const t=dk(e)?e.nativeEvent:e,n=((i=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Tm=e=>"clientX"in e,fr=(e,t)=>{var i,o;const n=Tm(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},wa=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Ki=({id:e,path:t,labelX:n,labelY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:y,interactionWidth:h=20})=>ie.createElement(ie.Fragment,null,ie.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:m,markerStart:y}),h&&ie.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),s&&tn(n)&&tn(r)?ie.createElement(ak,{x:n,y:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u}):null);Ki.displayName="BaseEdge";function Ks(e,t,n){return n===void 0?n:r=>{const s=t().edges.find(i=>i.id===e);s&&n(r,{...s})}}function Im({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[i,a,s,o]}function Am({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:a}){const c=e*.125+s*.375+o*.375+n*.125,u=t*.125+i*.375+a*.375+r*.125,d=Math.abs(c-e),m=Math.abs(u-t);return[c,u,d,m]}var mr;(function(e){e.Strict="strict",e.Loose="loose"})(mr||(mr={}));var Ir;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Ir||(Ir={}));var Oi;(function(e){e.Partial="partial",e.Full="full"})(Oi||(Oi={}));var tr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(tr||(tr={}));var $i;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})($i||($i={}));var Ce;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ce||(Ce={}));function Xf({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===Ce.Left||e===Ce.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function Mm({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:s,targetPosition:i=Ce.Top}){const[o,a]=Xf({pos:n,x1:e,y1:t,x2:r,y2:s}),[c,u]=Xf({pos:i,x1:r,y1:s,x2:e,y2:t}),[d,m,y,h]=Am({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:a,targetControlX:c,targetControlY:u});return[`M${e},${t} C${o},${a} ${c},${u} ${r},${s}`,d,m,y,h]}const id=D.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=Ce.Bottom,targetPosition:i=Ce.Top,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:h,markerStart:v,interactionWidth:g})=>{const[b,f,x]=Mm({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i});return ie.createElement(Ki,{path:b,labelX:f,labelY:x,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:h,markerStart:v,interactionWidth:g})});id.displayName="SimpleBezierEdge";const qf={[Ce.Left]:{x:-1,y:0},[Ce.Right]:{x:1,y:0},[Ce.Top]:{x:0,y:-1},[Ce.Bottom]:{x:0,y:1}},fk=({source:e,sourcePosition:t=Ce.Bottom,target:n})=>t===Ce.Left||t===Ce.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Qf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function hk({source:e,sourcePosition:t=Ce.Bottom,target:n,targetPosition:r=Ce.Top,center:s,offset:i}){const o=qf[t],a=qf[r],c={x:e.x+o.x*i,y:e.y+o.y*i},u={x:n.x+a.x*i,y:n.y+a.y*i},d=fk({source:c,sourcePosition:t,target:u}),m=d.x!==0?"x":"y",y=d[m];let h=[],v,g;const b={x:0,y:0},f={x:0,y:0},[x,k,N,_]=Im({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[m]*a[m]===-1){v=s.x??x,g=s.y??k;const j=[{x:v,y:c.y},{x:v,y:u.y}],R=[{x:c.x,y:g},{x:u.x,y:g}];o[m]===y?h=m==="x"?j:R:h=m==="x"?R:j}else{const j=[{x:c.x,y:u.y}],R=[{x:u.x,y:c.y}];if(m==="x"?h=o.x===y?R:j:h=o.y===y?j:R,t===r){const $=Math.abs(e[m]-n[m]);if($<=i){const p=Math.min(i-1,i-$);o[m]===y?b[m]=(c[m]>e[m]?-1:1)*p:f[m]=(u[m]>n[m]?-1:1)*p}}if(t!==r){const $=m==="x"?"y":"x",p=o[m]===a[$],O=c[$]>u[$],W=c[$]<u[$];(o[m]===1&&(!p&&O||p&&W)||o[m]!==1&&(!p&&W||p&&O))&&(h=m==="x"?j:R)}const A={x:c.x+b.x,y:c.y+b.y},B={x:u.x+f.x,y:u.y+f.y},K=Math.max(Math.abs(A.x-h[0].x),Math.abs(B.x-h[0].x)),T=Math.max(Math.abs(A.y-h[0].y),Math.abs(B.y-h[0].y));K>=T?(v=(A.x+B.x)/2,g=h[0].y):(v=h[0].x,g=(A.y+B.y)/2)}return[[e,{x:c.x+b.x,y:c.y+b.y},...h,{x:u.x+f.x,y:u.y+f.y},n],v,g,N,_]}function pk(e,t,n,r){const s=Math.min(Qf(e,t)/2,Qf(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+s*u},${o}Q ${i},${o} ${i},${o+s*d}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${o+s*c}Q ${i},${o} ${i+s*a},${o}`}function Hc({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:s,targetPosition:i=Ce.Top,borderRadius:o=5,centerX:a,centerY:c,offset:u=20}){const[d,m,y,h,v]=hk({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:a,y:c},offset:u});return[d.reduce((b,f,x)=>{let k="";return x>0&&x<d.length-1?k=pk(d[x-1],f,d[x+1],o):k=`${x===0?"M":"L"}${f.x} ${f.y}`,b+=k,b},""),m,y,h,v]}const Ya=D.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:m=Ce.Bottom,targetPosition:y=Ce.Top,markerEnd:h,markerStart:v,pathOptions:g,interactionWidth:b})=>{const[f,x,k]=Hc({sourceX:e,sourceY:t,sourcePosition:m,targetX:n,targetY:r,targetPosition:y,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return ie.createElement(Ki,{path:f,labelX:x,labelY:k,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:v,interactionWidth:b})});Ya.displayName="SmoothStepEdge";const od=D.memo(e=>{var t;return ie.createElement(Ya,{...e,pathOptions:D.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});od.displayName="StepEdge";function mk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,o,a]=Im({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,o,a]}const ad=D.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:y,interactionWidth:h})=>{const[v,g,b]=mk({sourceX:e,sourceY:t,targetX:n,targetY:r});return ie.createElement(Ki,{path:v,labelX:g,labelY:b,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:y,interactionWidth:h})});ad.displayName="StraightEdge";function bo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Jf({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case Ce.Left:return[t-bo(t-r,i),n];case Ce.Right:return[t+bo(r-t,i),n];case Ce.Top:return[t,n-bo(n-s,i)];case Ce.Bottom:return[t,n+bo(s-n,i)]}}function Pm({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:s,targetPosition:i=Ce.Top,curvature:o=.25}){const[a,c]=Jf({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[u,d]=Jf({pos:i,x1:r,y1:s,x2:e,y2:t,c:o}),[m,y,h,v]=Am({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${a},${c} ${u},${d} ${r},${s}`,m,y,h,v]}const ba=D.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=Ce.Bottom,targetPosition:i=Ce.Top,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:h,markerStart:v,pathOptions:g,interactionWidth:b})=>{const[f,x,k]=Pm({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i,curvature:g==null?void 0:g.curvature});return ie.createElement(Ki,{path:f,labelX:x,labelY:k,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:h,markerStart:v,interactionWidth:b})});ba.displayName="BezierEdge";const ld=D.createContext(null),gk=ld.Provider;ld.Consumer;const xk=()=>D.useContext(ld),yk=e=>"id"in e&&"source"in e&&"target"in e,vk=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Uc=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,wk=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Rm=(e,t)=>{if(!e.source||!e.target)return t;let n;return yk(e)?n={...e}:n={...e,id:vk(e)},wk(n,t)?t:t.concat(n)},Wc=({x:e,y:t},[n,r,s],i,[o,a])=>{const c={x:(e-n)/s,y:(t-r)/s};return i?{x:o*Math.round(c.x/o),y:a*Math.round(c.y/a)}:c},Lm=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r}),Rr=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],s={x:e.position.x-n,y:e.position.y-r};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:s}},Ka=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const{x:i,y:o}=Rr(s,t).positionAbsolute;return jm(r,Li({x:i,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Cm(n)},Om=(e,t,[n,r,s]=[0,0,1],i=!1,o=!1,a=[0,0])=>{const c={x:(t.x-n)/s,y:(t.y-r)/s,width:t.width/s,height:t.height/s},u=[];return e.forEach(d=>{const{width:m,height:y,selectable:h=!0,hidden:v=!1}=d;if(o&&!h||v)return!1;const{positionAbsolute:g}=Rr(d,a),b={x:g.x,y:g.y,width:m||0,height:y||0},f=Fc(c,b),x=typeof m>"u"||typeof y>"u"||m===null||y===null,k=i&&f>0,N=(m||0)*(y||0);(x||k||f>=N||d.dragging)&&u.push(d)}),u},$m=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},Fm=(e,t,n,r,s,i=.1)=>{const o=t/(e.width*(1+i)),a=n/(e.height*(1+i)),c=Math.min(o,a),u=Ms(c,r,s),d=e.x+e.width/2,m=e.y+e.height/2,y=t/2-d*u,h=n/2-m*u;return{x:y,y:h,zoom:u}},Sr=(e,t=0)=>e.transition().duration(t);function eh(e,t,n,r){return(t[n]||[]).reduce((s,i)=>{var o,a;return`${e.id}-${i.id}-${n}`!==r&&s.push({id:i.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+i.y+i.height/2}),s},[])}function bk(e,t,n,r,s,i){const{x:o,y:a}=fr(e),u=t.elementsFromPoint(o,a).find(v=>v.classList.contains("react-flow__handle"));if(u){const v=u.getAttribute("data-nodeid");if(v){const g=cd(void 0,u),b=u.getAttribute("data-handleid"),f=i({nodeId:v,id:b,type:g});if(f){const x=s.find(k=>k.nodeId===v&&k.type===g&&k.id===b);return{handle:{id:b,type:g,nodeId:v,x:(x==null?void 0:x.x)||n.x,y:(x==null?void 0:x.y)||n.y},validHandleResult:f}}}}let d=[],m=1/0;if(s.forEach(v=>{const g=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(g<=r){const b=i(v);g<=m&&(g<m?d=[{handle:v,validHandleResult:b}]:g===m&&d.push({handle:v,validHandleResult:b}),m=g)}}),!d.length)return{handle:null,validHandleResult:Bm()};if(d.length===1)return d[0];const y=d.some(({validHandleResult:v})=>v.isValid),h=d.some(({handle:v})=>v.type==="target");return d.find(({handle:v,validHandleResult:g})=>h?v.type==="target":y?g.isValid:!0)||d[0]}const kk={source:null,target:null,sourceHandle:null,targetHandle:null},Bm=()=>({handleDomNode:null,isValid:!1,connection:kk,endHandle:null});function Hm(e,t,n,r,s,i,o){const a=s==="target",c=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...Bm(),handleDomNode:c};if(c){const d=cd(void 0,c),m=c.getAttribute("data-nodeid"),y=c.getAttribute("data-handleid"),h=c.classList.contains("connectable"),v=c.classList.contains("connectableend"),g={source:a?m:n,sourceHandle:a?y:r,target:a?n:m,targetHandle:a?r:y};u.connection=g,h&&v&&(t===mr.Strict?a&&d==="source"||!a&&d==="target":m!==n||y!==r)&&(u.endHandle={nodeId:m,handleId:y,type:d},u.isValid=i(g))}return u}function Nk({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((s,i)=>{if(i[ft]){const{handleBounds:o}=i[ft];let a=[],c=[];o&&(a=eh(i,o,"source",`${t}-${n}-${r}`),c=eh(i,o,"target",`${t}-${n}-${r}`)),s.push(...a,...c)}return s},[])}function cd(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Dl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function _k(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Um({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:s,getState:i,setState:o,isValidConnection:a,edgeUpdaterType:c,onReconnectEnd:u}){const d=Em(e.target),{connectionMode:m,domNode:y,autoPanOnConnect:h,connectionRadius:v,onConnectStart:g,panBy:b,getNodes:f,cancelConnection:x}=i();let k=0,N;const{x:_,y:C}=fr(e),j=d==null?void 0:d.elementFromPoint(_,C),R=cd(c,j),A=y==null?void 0:y.getBoundingClientRect();if(!A||!R)return;let B,K=fr(e,A),T=!1,$=null,p=!1,O=null;const W=Nk({nodes:f(),nodeId:n,handleId:t,handleType:R}),U=()=>{if(!h)return;const[G,M]=zm(K,A);b({x:G,y:M}),k=requestAnimationFrame(U)};o({connectionPosition:K,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:R,connectionStartHandle:{nodeId:n,handleId:t,type:R},connectionEndHandle:null}),g==null||g(e,{nodeId:n,handleId:t,handleType:R});function V(G){const{transform:M}=i();K=fr(G,A);const{handle:P,validHandleResult:se}=bk(G,d,Wc(K,M,!1,[1,1]),v,W,Q=>Hm(Q,m,n,t,s?"target":"source",a,d));if(N=P,T||(U(),T=!0),O=se.handleDomNode,$=se.connection,p=se.isValid,o({connectionPosition:N&&p?Lm({x:N.x,y:N.y},M):K,connectionStatus:_k(!!N,p),connectionEndHandle:se.endHandle}),!N&&!p&&!O)return Dl(B);$.source!==$.target&&O&&(Dl(B),B=O,O.classList.add("connecting","react-flow__handle-connecting"),O.classList.toggle("valid",p),O.classList.toggle("react-flow__handle-valid",p))}function I(G){var M,P;(N||O)&&$&&p&&(r==null||r($)),(P=(M=i()).onConnectEnd)==null||P.call(M,G),c&&(u==null||u(G)),Dl(B),x(),cancelAnimationFrame(k),T=!1,p=!1,$=null,O=null,d.removeEventListener("mousemove",V),d.removeEventListener("mouseup",I),d.removeEventListener("touchmove",V),d.removeEventListener("touchend",I)}d.addEventListener("mousemove",V),d.addEventListener("mouseup",I),d.addEventListener("touchmove",V),d.addEventListener("touchend",I)}const th=()=>!0,Sk=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),zk=(e,t,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:o}=r;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},Wm=D.forwardRef(({type:e="source",position:t=Ce.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:a,children:c,className:u,onMouseDown:d,onTouchStart:m,...y},h)=>{var A,B;const v=o||null,g=e==="target",b=vt(),f=xk(),{connectOnClick:x,noPanClassName:k}=nt(Sk,kt),{connecting:N,clickConnecting:_}=nt(zk(f,v,e),kt);f||(B=(A=b.getState()).onError)==null||B.call(A,"010",Wn.error010());const C=K=>{const{defaultEdgeOptions:T,onConnect:$,hasDefaultEdges:p}=b.getState(),O={...T,...K};if(p){const{edges:W,setEdges:U}=b.getState();U(Rm(O,W))}$==null||$(O),a==null||a(O)},j=K=>{if(!f)return;const T=Tm(K);s&&(T&&K.button===0||!T)&&Um({event:K,handleId:v,nodeId:f,onConnect:C,isTarget:g,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||th}),T?d==null||d(K):m==null||m(K)},R=K=>{const{onClickConnectStart:T,onClickConnectEnd:$,connectionClickStartHandle:p,connectionMode:O,isValidConnection:W}=b.getState();if(!f||!p&&!s)return;if(!p){T==null||T(K,{nodeId:f,handleId:v,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:f,type:e,handleId:v}});return}const U=Em(K.target),V=n||W||th,{connection:I,isValid:G}=Hm({nodeId:f,id:v,type:e},O,p.nodeId,p.handleId||null,p.type,V,U);G&&C(I),$==null||$(K),b.setState({connectionClickStartHandle:null})};return ie.createElement("div",{"data-handleid":v,"data-nodeid":f,"data-handlepos":t,"data-id":`${f}-${v}-${e}`,className:zt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",k,u,{source:!g,target:g,connectable:r,connectablestart:s,connectableend:i,connecting:_,connectionindicator:r&&(s&&!N||i&&N)}]),onMouseDown:j,onTouchStart:j,onClick:x?R:void 0,ref:h,...y},c)});Wm.displayName="Handle";var Qe=D.memo(Wm);const Vm=({data:e,isConnectable:t,targetPosition:n=Ce.Top,sourcePosition:r=Ce.Bottom})=>ie.createElement(ie.Fragment,null,ie.createElement(Qe,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,ie.createElement(Qe,{type:"source",position:r,isConnectable:t}));Vm.displayName="DefaultNode";var Vc=D.memo(Vm);const Zm=({data:e,isConnectable:t,sourcePosition:n=Ce.Bottom})=>ie.createElement(ie.Fragment,null,e==null?void 0:e.label,ie.createElement(Qe,{type:"source",position:n,isConnectable:t}));Zm.displayName="InputNode";var Gm=D.memo(Zm);const Ym=({data:e,isConnectable:t,targetPosition:n=Ce.Top})=>ie.createElement(ie.Fragment,null,ie.createElement(Qe,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);Ym.displayName="OutputNode";var Km=D.memo(Ym);const ud=()=>null;ud.displayName="GroupNode";const Ek=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),ko=e=>e.id;function jk(e,t){return kt(e.selectedNodes.map(ko),t.selectedNodes.map(ko))&&kt(e.selectedEdges.map(ko),t.selectedEdges.map(ko))}const Xm=D.memo(({onSelectionChange:e})=>{const t=vt(),{selectedNodes:n,selectedEdges:r}=nt(Ek,jk);return D.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChange.forEach(i=>i(s))},[n,r,e]),null});Xm.displayName="SelectionListener";const Ck=e=>!!e.onSelectionChange;function Dk({onSelectionChange:e}){const t=nt(Ck);return e||t?ie.createElement(Xm,{onSelectionChange:e}):null}const Tk=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Kr(e,t){D.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Be(e,t,n){D.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const Ik=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:i,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:m,edgesFocusable:y,edgesUpdatable:h,elevateNodesOnSelect:v,minZoom:g,maxZoom:b,nodeExtent:f,onNodesChange:x,onEdgesChange:k,elementsSelectable:N,connectionMode:_,snapGrid:C,snapToGrid:j,translateExtent:R,connectOnClick:A,defaultEdgeOptions:B,fitView:K,fitViewOptions:T,onNodesDelete:$,onEdgesDelete:p,onNodeDrag:O,onNodeDragStart:W,onNodeDragStop:U,onSelectionDrag:V,onSelectionDragStart:I,onSelectionDragStop:G,noPanClassName:M,nodeOrigin:P,rfId:se,autoPanOnConnect:Q,autoPanOnNodeDrag:J,onError:ve,connectionRadius:Ee,isValidConnection:ke,nodeDragThreshold:ze})=>{const{setNodes:q,setEdges:ue,setDefaultNodesAndEdges:ee,setMinZoom:ce,setMaxZoom:w,setTranslateExtent:E,setNodeExtent:H,reset:S}=nt(Tk,kt),z=vt();return D.useEffect(()=>{const F=r==null?void 0:r.map(ne=>({...ne,...B}));return ee(n,F),()=>{S()}},[]),Be("defaultEdgeOptions",B,z.setState),Be("connectionMode",_,z.setState),Be("onConnect",s,z.setState),Be("onConnectStart",i,z.setState),Be("onConnectEnd",o,z.setState),Be("onClickConnectStart",a,z.setState),Be("onClickConnectEnd",c,z.setState),Be("nodesDraggable",u,z.setState),Be("nodesConnectable",d,z.setState),Be("nodesFocusable",m,z.setState),Be("edgesFocusable",y,z.setState),Be("edgesUpdatable",h,z.setState),Be("elementsSelectable",N,z.setState),Be("elevateNodesOnSelect",v,z.setState),Be("snapToGrid",j,z.setState),Be("snapGrid",C,z.setState),Be("onNodesChange",x,z.setState),Be("onEdgesChange",k,z.setState),Be("connectOnClick",A,z.setState),Be("fitViewOnInit",K,z.setState),Be("fitViewOnInitOptions",T,z.setState),Be("onNodesDelete",$,z.setState),Be("onEdgesDelete",p,z.setState),Be("onNodeDrag",O,z.setState),Be("onNodeDragStart",W,z.setState),Be("onNodeDragStop",U,z.setState),Be("onSelectionDrag",V,z.setState),Be("onSelectionDragStart",I,z.setState),Be("onSelectionDragStop",G,z.setState),Be("noPanClassName",M,z.setState),Be("nodeOrigin",P,z.setState),Be("rfId",se,z.setState),Be("autoPanOnConnect",Q,z.setState),Be("autoPanOnNodeDrag",J,z.setState),Be("onError",ve,z.setState),Be("connectionRadius",Ee,z.setState),Be("isValidConnection",ke,z.setState),Be("nodeDragThreshold",ze,z.setState),Kr(e,q),Kr(t,ue),Kr(g,ce),Kr(b,w),Kr(R,E),Kr(f,H),null},nh={display:"none"},Ak={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},qm="react-flow__node-desc",Qm="react-flow__edge-desc",Mk="react-flow__aria-live",Pk=e=>e.ariaLiveMessage;function Rk({rfId:e}){const t=nt(Pk);return ie.createElement("div",{id:`${Mk}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Ak},t)}function Lk({rfId:e,disableKeyboardA11y:t}){return ie.createElement(ie.Fragment,null,ie.createElement("div",{id:`${qm}-${e}`,style:nh},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ie.createElement("div",{id:`${Qm}-${e}`,style:nh},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&ie.createElement(Rk,{rfId:e}))}var Fi=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=D.useState(!1),s=D.useRef(!1),i=D.useRef(new Set([])),[o,a]=D.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.split("+")),d=u.reduce((m,y)=>m.concat(...y),[]);return[u,d]}return[[],[]]},[e]);return D.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=h=>{if(s.current=h.ctrlKey||h.metaKey||h.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&Bc(h))return!1;const g=sh(h.code,a);i.current.add(h[g]),rh(o,i.current,!1)&&(h.preventDefault(),r(!0))},m=h=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&Bc(h))return!1;const g=sh(h.code,a);rh(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(h[g]),h.key==="Meta"&&i.current.clear(),s.current=!1},y=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",m),window.addEventListener("blur",y),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",m),window.removeEventListener("blur",y)}}},[e,r]),n};function rh(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function sh(e,t){return t.includes(e)?"code":"key"}function Jm(e,t,n,r){var a,c;const s=e.parentNode||e.parentId;if(!s)return n;const i=t.get(s),o=Rr(i,r);return Jm(i,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=i[ft])==null?void 0:a.z)??0)>(n.z??0)?((c=i[ft])==null?void 0:c.z)??0:n.z??0},r)}function eg(e,t,n){e.forEach(r=>{var i;const s=r.parentNode||r.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:o,y:a,z:c}=Jm(r,e,{...r.position,z:((i=r[ft])==null?void 0:i.z)??0},t);r.positionAbsolute={x:o,y:a},r[ft].z=c,n!=null&&n[r.id]&&(r[ft].isParent=!0)}})}function Tl(e,t,n,r){const s=new Map,i={},o=r?1e3:0;return e.forEach(a=>{var h;const c=(tn(a.zIndex)?a.zIndex:0)+(a.selected?o:0),u=t.get(a.id),d={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},m=a.parentNode||a.parentId;m&&(i[m]=!0);const y=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(d,ft,{enumerable:!1,value:{handleBounds:y||(h=u==null?void 0:u[ft])==null?void 0:h.handleBounds,z:c}}),s.set(a.id,d)}),eg(s,n,i),s}function tg(e,t={}){const{getNodes:n,width:r,height:s,minZoom:i,maxZoom:o,d3Zoom:a,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:m}=e(),y=t.initial&&!u&&d;if(a&&c&&(y||!t.initial)){const v=n().filter(b=>{var x;const f=t.includeHiddenNodes?b.width&&b.height:!b.hidden;return(x=t.nodes)!=null&&x.length?f&&t.nodes.some(k=>k.id===b.id):f}),g=v.every(b=>b.width&&b.height);if(v.length>0&&g){const b=Ka(v,m),{x:f,y:x,zoom:k}=Fm(b,r,s,t.minZoom??i,t.maxZoom??o,t.padding??.1),N=On.translate(f,x).scale(k);return typeof t.duration=="number"&&t.duration>0?a.transform(Sr(c,t.duration),N):a.transform(c,N),!0}}return!1}function Ok(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[ft]:r[ft],selected:n.selected})}),new Map(t)}function $k(e,t){return t.map(n=>{const r=e.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function No({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:s,edges:i,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:Ok(e,s)}),o==null||o(e)),t!=null&&t.length&&(u&&r({edges:$k(t,i)}),a==null||a(t))}const Xr=()=>{},Fk={zoomIn:Xr,zoomOut:Xr,zoomTo:Xr,getZoom:()=>1,setViewport:Xr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Xr,fitBounds:Xr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Bk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Hk=()=>{const e=vt(),{d3Zoom:t,d3Selection:n}=nt(Bk,kt);return D.useMemo(()=>n&&t?{zoomIn:s=>t.scaleBy(Sr(n,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(Sr(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>t.scaleTo(Sr(n,i==null?void 0:i.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,i)=>{const[o,a,c]=e.getState().transform,u=On.translate(s.x??o,s.y??a).scale(s.zoom??c);t.transform(Sr(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[s,i,o]=e.getState().transform;return{x:s,y:i,zoom:o}},fitView:s=>tg(e.getState,s),setCenter:(s,i,o)=>{const{width:a,height:c,maxZoom:u}=e.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,m=a/2-s*d,y=c/2-i*d,h=On.translate(m,y).scale(d);t.transform(Sr(n,o==null?void 0:o.duration),h)},fitBounds:(s,i)=>{const{width:o,height:a,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:m,zoom:y}=Fm(s,o,a,c,u,(i==null?void 0:i.padding)??.1),h=On.translate(d,m).scale(y);t.transform(Sr(n,i==null?void 0:i.duration),h)},project:s=>{const{transform:i,snapToGrid:o,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Wc(s,i,o,a)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:o,snapGrid:a,domNode:c}=e.getState();if(!c)return s;const{x:u,y:d}=c.getBoundingClientRect(),m={x:s.x-u,y:s.y-d};return Wc(m,i,o,a)},flowToScreenPosition:s=>{const{transform:i,domNode:o}=e.getState();if(!o)return s;const{x:a,y:c}=o.getBoundingClientRect(),u=Lm(s,i);return{x:u.x+a,y:u.y+c}},viewportInitialized:!0}:Fk,[t,n])};function Xa(){const e=Hk(),t=vt(),n=D.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),r=D.useCallback(g=>t.getState().nodeInternals.get(g),[]),s=D.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(b=>({...b}))},[]),i=D.useCallback(g=>{const{edges:b=[]}=t.getState();return b.find(f=>f.id===g)},[]),o=D.useCallback(g=>{const{getNodes:b,setNodes:f,hasDefaultNodes:x,onNodesChange:k}=t.getState(),N=b(),_=typeof g=="function"?g(N):g;if(x)f(_);else if(k){const C=_.length===0?N.map(j=>({type:"remove",id:j.id})):_.map(j=>({item:j,type:"reset"}));k(C)}},[]),a=D.useCallback(g=>{const{edges:b=[],setEdges:f,hasDefaultEdges:x,onEdgesChange:k}=t.getState(),N=typeof g=="function"?g(b):g;if(x)f(N);else if(k){const _=N.length===0?b.map(C=>({type:"remove",id:C.id})):N.map(C=>({item:C,type:"reset"}));k(_)}},[]),c=D.useCallback(g=>{const b=Array.isArray(g)?g:[g],{getNodes:f,setNodes:x,hasDefaultNodes:k,onNodesChange:N}=t.getState();if(k){const C=[...f(),...b];x(C)}else if(N){const _=b.map(C=>({item:C,type:"add"}));N(_)}},[]),u=D.useCallback(g=>{const b=Array.isArray(g)?g:[g],{edges:f=[],setEdges:x,hasDefaultEdges:k,onEdgesChange:N}=t.getState();if(k)x([...f,...b]);else if(N){const _=b.map(C=>({item:C,type:"add"}));N(_)}},[]),d=D.useCallback(()=>{const{getNodes:g,edges:b=[],transform:f}=t.getState(),[x,k,N]=f;return{nodes:g().map(_=>({..._})),edges:b.map(_=>({..._})),viewport:{x,y:k,zoom:N}}},[]),m=D.useCallback(({nodes:g,edges:b})=>{const{nodeInternals:f,getNodes:x,edges:k,hasDefaultNodes:N,hasDefaultEdges:_,onNodesDelete:C,onEdgesDelete:j,onNodesChange:R,onEdgesChange:A}=t.getState(),B=(g||[]).map(O=>O.id),K=(b||[]).map(O=>O.id),T=x().reduce((O,W)=>{const U=W.parentNode||W.parentId,V=!B.includes(W.id)&&U&&O.find(G=>G.id===U);return(typeof W.deletable=="boolean"?W.deletable:!0)&&(B.includes(W.id)||V)&&O.push(W),O},[]),$=k.filter(O=>typeof O.deletable=="boolean"?O.deletable:!0),p=$.filter(O=>K.includes(O.id));if(T||p){const O=$m(T,$),W=[...p,...O],U=W.reduce((V,I)=>(V.includes(I.id)||V.push(I.id),V),[]);if((_||N)&&(_&&t.setState({edges:k.filter(V=>!U.includes(V.id))}),N&&(T.forEach(V=>{f.delete(V.id)}),t.setState({nodeInternals:new Map(f)}))),U.length>0&&(j==null||j(W),A&&A(U.map(V=>({id:V,type:"remove"})))),T.length>0&&(C==null||C(T),R)){const V=T.map(I=>({id:I.id,type:"remove"}));R(V)}}},[]),y=D.useCallback(g=>{const b=ck(g),f=b?null:t.getState().nodeInternals.get(g.id);return!b&&!f?[null,null,b]:[b?g:Kf(f),f,b]},[]),h=D.useCallback((g,b=!0,f)=>{const[x,k,N]=y(g);return x?(f||t.getState().getNodes()).filter(_=>{if(!N&&(_.id===k.id||!_.positionAbsolute))return!1;const C=Kf(_),j=Fc(C,x);return b&&j>0||j>=x.width*x.height}):[]},[]),v=D.useCallback((g,b,f=!0)=>{const[x]=y(g);if(!x)return!1;const k=Fc(x,b);return f&&k>0||k>=x.width*x.height},[]);return D.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:s,getEdge:i,setNodes:o,setEdges:a,addNodes:c,addEdges:u,toObject:d,deleteElements:m,getIntersectingNodes:h,isNodeIntersecting:v}),[e,n,r,s,i,o,a,c,u,d,m,h,v])}const Uk={actInsideInputWithModifier:!1};var Wk=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=vt(),{deleteElements:r}=Xa(),s=Fi(e,Uk),i=Fi(t);D.useEffect(()=>{if(s){const{edges:o,getNodes:a}=n.getState(),c=a().filter(d=>d.selected),u=o.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[s]),D.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function Vk(e){const t=vt();D.useEffect(()=>{let n;const r=()=>{var i,o;if(!e.current)return;const s=rd(e.current);(s.height===0||s.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",Wn.error004())),t.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const dd={position:"absolute",width:"100%",height:"100%",top:0,left:0},Zk=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,_o=e=>({x:e.x,y:e.y,zoom:e.k}),qr=(e,t)=>e.target.closest(`.${t}`),ih=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),oh=e=>{const t=e.ctrlKey&&wa()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},Gk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Yk=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:c=Ir.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:m=!0,defaultViewport:y,translateExtent:h,minZoom:v,maxZoom:g,zoomActivationKeyCode:b,preventScrolling:f=!0,children:x,noWheelClassName:k,noPanClassName:N})=>{const _=D.useRef(),C=vt(),j=D.useRef(!1),R=D.useRef(!1),A=D.useRef(null),B=D.useRef({x:0,y:0,zoom:0}),{d3Zoom:K,d3Selection:T,d3ZoomHandler:$,userSelectionActive:p}=nt(Gk,kt),O=Fi(b),W=D.useRef(0),U=D.useRef(!1),V=D.useRef();return Vk(A),D.useEffect(()=>{if(A.current){const I=A.current.getBoundingClientRect(),G=_m().scaleExtent([v,g]).translateExtent(h),M=Jt(A.current).call(G),P=On.translate(y.x,y.y).scale(Ms(y.zoom,v,g)),se=[[0,0],[I.width,I.height]],Q=G.constrain()(P,se,h);G.transform(M,Q),G.wheelDelta(oh),C.setState({d3Zoom:G,d3Selection:M,d3ZoomHandler:M.on("wheel.zoom"),transform:[Q.x,Q.y,Q.k],domNode:A.current.closest(".react-flow")})}},[]),D.useEffect(()=>{T&&K&&(o&&!O&&!p?T.on("wheel.zoom",I=>{if(qr(I,k))return!1;I.preventDefault(),I.stopImmediatePropagation();const G=T.property("__zoom").k||1;if(I.ctrlKey&&i){const ke=fn(I),ze=oh(I),q=G*Math.pow(2,ze);K.scaleTo(T,q,ke,I);return}const M=I.deltaMode===1?20:1;let P=c===Ir.Vertical?0:I.deltaX*M,se=c===Ir.Horizontal?0:I.deltaY*M;!wa()&&I.shiftKey&&c!==Ir.Vertical&&(P=I.deltaY*M,se=0),K.translateBy(T,-(P/G)*a,-(se/G)*a,{internal:!0});const Q=_o(T.property("__zoom")),{onViewportChangeStart:J,onViewportChange:ve,onViewportChangeEnd:Ee}=C.getState();clearTimeout(V.current),U.current||(U.current=!0,t==null||t(I,Q),J==null||J(Q)),U.current&&(e==null||e(I,Q),ve==null||ve(Q),V.current=setTimeout(()=>{n==null||n(I,Q),Ee==null||Ee(Q),U.current=!1},150))},{passive:!1}):typeof $<"u"&&T.on("wheel.zoom",function(I,G){if(!f&&I.type==="wheel"&&!I.ctrlKey||qr(I,k))return null;I.preventDefault(),$.call(this,I,G)},{passive:!1}))},[p,o,c,T,K,$,O,i,f,k,t,e,n]),D.useEffect(()=>{K&&K.on("start",I=>{var P,se;if(!I.sourceEvent||I.sourceEvent.internal)return null;W.current=(P=I.sourceEvent)==null?void 0:P.button;const{onViewportChangeStart:G}=C.getState(),M=_o(I.transform);j.current=!0,B.current=M,((se=I.sourceEvent)==null?void 0:se.type)==="mousedown"&&C.setState({paneDragging:!0}),G==null||G(M),t==null||t(I.sourceEvent,M)})},[K,t]),D.useEffect(()=>{K&&(p&&!j.current?K.on("zoom",null):p||K.on("zoom",I=>{var M;const{onViewportChange:G}=C.getState();if(C.setState({transform:[I.transform.x,I.transform.y,I.transform.k]}),R.current=!!(r&&ih(m,W.current??0)),(e||G)&&!((M=I.sourceEvent)!=null&&M.internal)){const P=_o(I.transform);G==null||G(P),e==null||e(I.sourceEvent,P)}}))},[p,K,e,m,r]),D.useEffect(()=>{K&&K.on("end",I=>{if(!I.sourceEvent||I.sourceEvent.internal)return null;const{onViewportChangeEnd:G}=C.getState();if(j.current=!1,C.setState({paneDragging:!1}),r&&ih(m,W.current??0)&&!R.current&&r(I.sourceEvent),R.current=!1,(n||G)&&Zk(B.current,I.transform)){const M=_o(I.transform);B.current=M,clearTimeout(_.current),_.current=setTimeout(()=>{G==null||G(M),n==null||n(I.sourceEvent,M)},o?150:0)}})},[K,o,m,n,r]),D.useEffect(()=>{K&&K.filter(I=>{const G=O||s,M=i&&I.ctrlKey;if((m===!0||Array.isArray(m)&&m.includes(1))&&I.button===1&&I.type==="mousedown"&&(qr(I,"react-flow__node")||qr(I,"react-flow__edge")))return!0;if(!m&&!G&&!o&&!u&&!i||p||!u&&I.type==="dblclick"||qr(I,k)&&I.type==="wheel"||qr(I,N)&&(I.type!=="wheel"||o&&I.type==="wheel"&&!O)||!i&&I.ctrlKey&&I.type==="wheel"||!G&&!o&&!M&&I.type==="wheel"||!m&&(I.type==="mousedown"||I.type==="touchstart")||Array.isArray(m)&&!m.includes(I.button)&&I.type==="mousedown")return!1;const P=Array.isArray(m)&&m.includes(I.button)||!I.button||I.button<=1;return(!I.ctrlKey||I.type==="wheel")&&P})},[p,K,s,i,o,u,m,d,O]),ie.createElement("div",{className:"react-flow__renderer",ref:A,style:dd},x)},Kk=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Xk(){const{userSelectionActive:e,userSelectionRect:t}=nt(Kk,kt);return e&&t?ie.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function ah(e,t){const n=t.parentNode||t.parentId,r=e.find(s=>s.id===n);if(r){const s=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(s>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),i>0&&(r.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function ng(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,s)=>{const i=e.filter(a=>a.id===s.id);if(i.length===0)return r.push(s),r;const o={...s};for(const a of i)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&ah(r,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&ah(r,o);break}case"remove":return r}return r.push(o),r},n)}function rg(e,t){return ng(e,t)}function qk(e,t){return ng(e,t)}const Qn=(e,t)=>({id:e,type:"select",selected:t});function hs(e,t){return e.reduce((n,r)=>{const s=t.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(Qn(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(Qn(r.id,!1))),n},[])}const Il=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Qk=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),sg=D.memo(({isSelecting:e,selectionMode:t=Oi.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:m})=>{const y=D.useRef(null),h=vt(),v=D.useRef(0),g=D.useRef(0),b=D.useRef(),{userSelectionActive:f,elementsSelectable:x,dragging:k}=nt(Qk,kt),N=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,g.current=0},_=$=>{i==null||i($),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},C=$=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){$.preventDefault();return}o==null||o($)},j=a?$=>a($):void 0,R=$=>{const{resetSelectedElements:p,domNode:O}=h.getState();if(b.current=O==null?void 0:O.getBoundingClientRect(),!x||!e||$.button!==0||$.target!==y.current||!b.current)return;const{x:W,y:U}=fr($,b.current);p(),h.setState({userSelectionRect:{width:0,height:0,startX:W,startY:U,x:W,y:U}}),r==null||r($)},A=$=>{const{userSelectionRect:p,nodeInternals:O,edges:W,transform:U,onNodesChange:V,onEdgesChange:I,nodeOrigin:G,getNodes:M}=h.getState();if(!e||!b.current||!p)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const P=fr($,b.current),se=p.startX??0,Q=p.startY??0,J={...p,x:P.x<se?P.x:se,y:P.y<Q?P.y:Q,width:Math.abs(P.x-se),height:Math.abs(P.y-Q)},ve=M(),Ee=Om(O,J,U,t===Oi.Partial,!0,G),ke=$m(Ee,W).map(q=>q.id),ze=Ee.map(q=>q.id);if(v.current!==ze.length){v.current=ze.length;const q=hs(ve,ze);q.length&&(V==null||V(q))}if(g.current!==ke.length){g.current=ke.length;const q=hs(W,ke);q.length&&(I==null||I(q))}h.setState({userSelectionRect:J})},B=$=>{if($.button!==0)return;const{userSelectionRect:p}=h.getState();!f&&p&&$.target===y.current&&(_==null||_($)),h.setState({nodesSelectionActive:v.current>0}),N(),s==null||s($)},K=$=>{f&&(h.setState({nodesSelectionActive:v.current>0}),s==null||s($)),N()},T=x&&(e||f);return ie.createElement("div",{className:zt(["react-flow__pane",{dragging:k,selection:e}]),onClick:T?void 0:Il(_,y),onContextMenu:Il(C,y),onWheel:Il(j,y),onMouseEnter:T?void 0:c,onMouseDown:T?R:void 0,onMouseMove:T?A:u,onMouseUp:T?B:void 0,onMouseLeave:T?K:d,ref:y,style:dd},m,ie.createElement(Xk,null))});sg.displayName="Pane";function ig(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:ig(r,t):!1}function lh(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Jk(e,t,n,r){return Array.from(e.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!ig(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var i,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function eN(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function og(e,t,n,r,s=[0,0],i){const o=eN(e,e.extent||r);let a=o;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const m=n.get(c),{x:y,y:h}=Rr(m,s).positionAbsolute;a=m&&tn(y)&&tn(h)&&tn(m.width)&&tn(m.height)?[[y+e.width*s[0],h+e.height*s[1]],[y+m.width-e.width+e.width*s[0],h+m.height-e.height+e.height*s[1]]]:a}else i==null||i("005",Wn.error005()),a=o;else if(e.extent&&c&&e.extent!=="parent"){const m=n.get(c),{x:y,y:h}=Rr(m,s).positionAbsolute;a=[[e.extent[0][0]+y,e.extent[0][1]+h],[e.extent[1][0]+y,e.extent[1][1]+h]]}let u={x:0,y:0};if(c){const m=n.get(c);u=Rr(m,s).positionAbsolute}const d=a&&a!=="parent"?sd(t,a):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Al({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?r.find(s=>s.id===e):r[0],r]}const ch=(e,t,n,r)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const i=Array.from(s),o=t.getBoundingClientRect(),a={x:o.width*r[0],y:o.height*r[1]};return i.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-o.left-a.x)/n,y:(u.top-o.top-a.y)/n,...rd(c)}})};function Xs(e,t,n){return n===void 0?n:r=>{const s=t().nodeInternals.get(e);s&&n(r,{...s})}}function Zc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:a,onError:c}=t.getState(),u=a.get(e);if(!u){c==null||c("012",Wn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function tN(){const e=vt();return D.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:i}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,c={x:(o-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:i?s[0]*Math.round(c.x/s[0]):c.x,ySnapped:i?s[1]*Math.round(c.y/s[1]):c.y,...c}},[])}function Ml(e){return(t,n,r)=>e==null?void 0:e(t,r)}function ag({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,selectNodesOnDrag:o}){const a=vt(),[c,u]=D.useState(!1),d=D.useRef([]),m=D.useRef({x:null,y:null}),y=D.useRef(0),h=D.useRef(null),v=D.useRef({x:0,y:0}),g=D.useRef(null),b=D.useRef(!1),f=D.useRef(!1),x=D.useRef(!1),k=tN();return D.useEffect(()=>{if(e!=null&&e.current){const N=Jt(e.current),_=({x:R,y:A})=>{const{nodeInternals:B,onNodeDrag:K,onSelectionDrag:T,updateNodePositions:$,nodeExtent:p,snapGrid:O,snapToGrid:W,nodeOrigin:U,onError:V}=a.getState();m.current={x:R,y:A};let I=!1,G={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&p){const P=Ka(d.current,U);G=Li(P)}if(d.current=d.current.map(P=>{const se={x:R-P.distance.x,y:A-P.distance.y};W&&(se.x=O[0]*Math.round(se.x/O[0]),se.y=O[1]*Math.round(se.y/O[1]));const Q=[[p[0][0],p[0][1]],[p[1][0],p[1][1]]];d.current.length>1&&p&&!P.extent&&(Q[0][0]=P.positionAbsolute.x-G.x+p[0][0],Q[1][0]=P.positionAbsolute.x+(P.width??0)-G.x2+p[1][0],Q[0][1]=P.positionAbsolute.y-G.y+p[0][1],Q[1][1]=P.positionAbsolute.y+(P.height??0)-G.y2+p[1][1]);const J=og(P,se,B,Q,U,V);return I=I||P.position.x!==J.position.x||P.position.y!==J.position.y,P.position=J.position,P.positionAbsolute=J.positionAbsolute,P}),!I)return;$(d.current,!0,!0),u(!0);const M=s?K:Ml(T);if(M&&g.current){const[P,se]=Al({nodeId:s,dragItems:d.current,nodeInternals:B});M(g.current,P,se)}},C=()=>{if(!h.current)return;const[R,A]=zm(v.current,h.current);if(R!==0||A!==0){const{transform:B,panBy:K}=a.getState();m.current.x=(m.current.x??0)-R/B[2],m.current.y=(m.current.y??0)-A/B[2],K({x:R,y:A})&&_(m.current)}y.current=requestAnimationFrame(C)},j=R=>{var U;const{nodeInternals:A,multiSelectionActive:B,nodesDraggable:K,unselectNodesAndEdges:T,onNodeDragStart:$,onSelectionDragStart:p}=a.getState();f.current=!0;const O=s?$:Ml(p);(!o||!i)&&!B&&s&&((U=A.get(s))!=null&&U.selected||T()),s&&i&&o&&Zc({id:s,store:a,nodeRef:e});const W=k(R);if(m.current=W,d.current=Jk(A,K,W,s),O&&d.current){const[V,I]=Al({nodeId:s,dragItems:d.current,nodeInternals:A});O(R.sourceEvent,V,I)}};if(t)N.on(".drag",null);else{const R=h2().on("start",A=>{const{domNode:B,nodeDragThreshold:K}=a.getState();K===0&&j(A),x.current=!1;const T=k(A);m.current=T,h.current=(B==null?void 0:B.getBoundingClientRect())||null,v.current=fr(A.sourceEvent,h.current)}).on("drag",A=>{var $,p;const B=k(A),{autoPanOnNodeDrag:K,nodeDragThreshold:T}=a.getState();if(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1&&(x.current=!0),!x.current){if(!b.current&&f.current&&K&&(b.current=!0,C()),!f.current){const O=B.xSnapped-((($=m==null?void 0:m.current)==null?void 0:$.x)??0),W=B.ySnapped-(((p=m==null?void 0:m.current)==null?void 0:p.y)??0);Math.sqrt(O*O+W*W)>T&&j(A)}(m.current.x!==B.xSnapped||m.current.y!==B.ySnapped)&&d.current&&f.current&&(g.current=A.sourceEvent,v.current=fr(A.sourceEvent,h.current),_(B))}}).on("end",A=>{if(!(!f.current||x.current)&&(u(!1),b.current=!1,f.current=!1,cancelAnimationFrame(y.current),d.current)){const{updateNodePositions:B,nodeInternals:K,onNodeDragStop:T,onSelectionDragStop:$}=a.getState(),p=s?T:Ml($);if(B(d.current,!1,!1),p){const[O,W]=Al({nodeId:s,dragItems:d.current,nodeInternals:K});p(A.sourceEvent,O,W)}}}).filter(A=>{const B=A.target;return!A.button&&(!n||!lh(B,`.${n}`,e))&&(!r||lh(B,r,e))});return N.call(R),()=>{N.on(".drag",null)}}}},[e,t,n,r,i,a,s,o,k]),c}function lg(){const e=vt();return D.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:i,getNodes:o,snapToGrid:a,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),m=o().filter(x=>x.selected&&(x.draggable||d&&typeof x.draggable>"u")),y=a?c[0]:5,h=a?c[1]:5,v=n.isShiftPressed?4:1,g=n.x*y*v,b=n.y*h*v,f=m.map(x=>{if(x.positionAbsolute){const k={x:x.positionAbsolute.x+g,y:x.positionAbsolute.y+b};a&&(k.x=c[0]*Math.round(k.x/c[0]),k.y=c[1]*Math.round(k.y/c[1]));const{positionAbsolute:N,position:_}=og(x,k,r,s,void 0,u);x.position=_,x.positionAbsolute=N}return x});i(f,!0,!1)},[])}const ks={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var qs=e=>{const t=({id:n,type:r,data:s,xPos:i,yPos:o,xPosOrigin:a,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:m,onMouseMove:y,onMouseLeave:h,onContextMenu:v,onDoubleClick:g,style:b,className:f,isDraggable:x,isSelectable:k,isConnectable:N,isFocusable:_,selectNodesOnDrag:C,sourcePosition:j,targetPosition:R,hidden:A,resizeObserver:B,dragHandle:K,zIndex:T,isParent:$,noDragClassName:p,noPanClassName:O,initialized:W,disableKeyboardA11y:U,ariaLabel:V,rfId:I,hasHandleBounds:G})=>{const M=vt(),P=D.useRef(null),se=D.useRef(null),Q=D.useRef(j),J=D.useRef(R),ve=D.useRef(r),Ee=k||x||d||m||y||h,ke=lg(),ze=Xs(n,M.getState,m),q=Xs(n,M.getState,y),ue=Xs(n,M.getState,h),ee=Xs(n,M.getState,v),ce=Xs(n,M.getState,g),w=S=>{const{nodeDragThreshold:z}=M.getState();if(k&&(!C||!x||z>0)&&Zc({id:n,store:M,nodeRef:P}),d){const F=M.getState().nodeInternals.get(n);F&&d(S,{...F})}},E=S=>{if(!Bc(S)&&!U)if(Dm.includes(S.key)&&k){const z=S.key==="Escape";Zc({id:n,store:M,unselect:z,nodeRef:P})}else x&&u&&Object.prototype.hasOwnProperty.call(ks,S.key)&&(M.setState({ariaLiveMessage:`Moved selected node ${S.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),ke({x:ks[S.key].x,y:ks[S.key].y,isShiftPressed:S.shiftKey}))};D.useEffect(()=>()=>{se.current&&(B==null||B.unobserve(se.current),se.current=null)},[]),D.useEffect(()=>{if(P.current&&!A){const S=P.current;(!W||!G||se.current!==S)&&(se.current&&(B==null||B.unobserve(se.current)),B==null||B.observe(S),se.current=S)}},[A,W,G]),D.useEffect(()=>{const S=ve.current!==r,z=Q.current!==j,F=J.current!==R;P.current&&(S||z||F)&&(S&&(ve.current=r),z&&(Q.current=j),F&&(J.current=R),M.getState().updateNodeDimensions([{id:n,nodeElement:P.current,forceUpdate:!0}]))},[n,r,j,R]);const H=ag({nodeRef:P,disabled:A||!x,noDragClassName:p,handleSelector:K,nodeId:n,isSelectable:k,selectNodesOnDrag:C});return A?null:ie.createElement("div",{className:zt(["react-flow__node",`react-flow__node-${r}`,{[O]:x},f,{selected:u,selectable:k,parent:$,dragging:H}]),ref:P,style:{zIndex:T,transform:`translate(${a}px,${c}px)`,pointerEvents:Ee?"all":"none",visibility:W?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ze,onMouseMove:q,onMouseLeave:ue,onContextMenu:ee,onClick:w,onDoubleClick:ce,onKeyDown:_?E:void 0,tabIndex:_?0:void 0,role:_?"button":void 0,"aria-describedby":U?void 0:`${qm}-${I}`,"aria-label":V},ie.createElement(gk,{value:n},ie.createElement(e,{id:n,data:s,type:r,xPos:i,yPos:o,selected:u,isConnectable:N,sourcePosition:j,targetPosition:R,dragging:H,dragHandle:K,zIndex:T})))};return t.displayName="NodeWrapper",D.memo(t)};const nN=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Ka(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function rN({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=vt(),{width:s,height:i,x:o,y:a,transformString:c,userSelectionActive:u}=nt(nN,kt),d=lg(),m=D.useRef(null);if(D.useEffect(()=>{var v;n||(v=m.current)==null||v.focus({preventScroll:!0})},[n]),ag({nodeRef:m}),u||!s||!i)return null;const y=e?v=>{const g=r.getState().getNodes().filter(b=>b.selected);e(v,g)}:void 0,h=v=>{Object.prototype.hasOwnProperty.call(ks,v.key)&&d({x:ks[v.key].x,y:ks[v.key].y,isShiftPressed:v.shiftKey})};return ie.createElement("div",{className:zt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},ie.createElement("div",{ref:m,className:"react-flow__nodesselection-rect",onContextMenu:y,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:s,height:i,top:a,left:o}}))}var sN=D.memo(rN);const iN=e=>e.nodesSelectionActive,cg=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:a,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:m,selectionOnDrag:y,selectionMode:h,onSelectionStart:v,onSelectionEnd:g,multiSelectionKeyCode:b,panActivationKeyCode:f,zoomActivationKeyCode:x,elementsSelectable:k,zoomOnScroll:N,zoomOnPinch:_,panOnScroll:C,panOnScrollSpeed:j,panOnScrollMode:R,zoomOnDoubleClick:A,panOnDrag:B,defaultViewport:K,translateExtent:T,minZoom:$,maxZoom:p,preventScrolling:O,onSelectionContextMenu:W,noWheelClassName:U,noPanClassName:V,disableKeyboardA11y:I})=>{const G=nt(iN),M=Fi(m),P=Fi(f),se=P||B,Q=P||C,J=M||y&&se!==!0;return Wk({deleteKeyCode:a,multiSelectionKeyCode:b}),ie.createElement(Yk,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:k,zoomOnScroll:N,zoomOnPinch:_,panOnScroll:Q,panOnScrollSpeed:j,panOnScrollMode:R,zoomOnDoubleClick:A,panOnDrag:!M&&se,defaultViewport:K,translateExtent:T,minZoom:$,maxZoom:p,zoomActivationKeyCode:x,preventScrolling:O,noWheelClassName:U,noPanClassName:V},ie.createElement(sg,{onSelectionStart:v,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:se,isSelecting:!!J,selectionMode:h},e,G&&ie.createElement(sN,{onSelectionContextMenu:W,noPanClassName:V,disableKeyboardA11y:I})))};cg.displayName="FlowRenderer";var oN=D.memo(cg);function aN(e){return nt(D.useCallback(n=>e?Om(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function lN(e){const t={input:qs(e.input||Gm),default:qs(e.default||Vc),output:qs(e.output||Km),group:qs(e.group||ud)},n={},r=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=qs(e[i]||Vc),s),n);return{...t,...r}}const cN=({x:e,y:t,width:n,height:r,origin:s})=>!n||!r?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-n*s[0],y:t-r*s[1]},uN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),ug=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:i,onError:o}=nt(uN,kt),a=aN(e.onlyRenderVisibleElements),c=D.useRef(),u=D.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(m=>{const y=m.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));i(y)});return c.current=d,d},[]);return D.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),ie.createElement("div",{className:"react-flow__nodes",style:dd},a.map(d=>{var _,C,j;let m=d.type||"default";e.nodeTypes[m]||(o==null||o("003",Wn.error003(m)),m="default");const y=e.nodeTypes[m]||e.nodeTypes.default,h=!!(d.draggable||t&&typeof d.draggable>"u"),v=!!(d.selectable||s&&typeof d.selectable>"u"),g=!!(d.connectable||n&&typeof d.connectable>"u"),b=!!(d.focusable||r&&typeof d.focusable>"u"),f=e.nodeExtent?sd(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,x=(f==null?void 0:f.x)??0,k=(f==null?void 0:f.y)??0,N=cN({x,y:k,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return ie.createElement(y,{key:d.id,id:d.id,className:d.className,style:d.style,type:m,data:d.data,sourcePosition:d.sourcePosition||Ce.Bottom,targetPosition:d.targetPosition||Ce.Top,hidden:d.hidden,xPos:x,yPos:k,xPosOrigin:N.x,yPosOrigin:N.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:h,isSelectable:v,isConnectable:g,isFocusable:b,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((_=d[ft])==null?void 0:_.z)??0,isParent:!!((C=d[ft])!=null&&C.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((j=d[ft])!=null&&j.handleBounds)})}))};ug.displayName="NodeRenderer";var dN=D.memo(ug);const fN=(e,t,n)=>n===Ce.Left?e-t:n===Ce.Right?e+t:e,hN=(e,t,n)=>n===Ce.Top?e-t:n===Ce.Bottom?e+t:e,uh="react-flow__edgeupdater",dh=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:a})=>ie.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:zt([uh,`${uh}-${a}`]),cx:fN(t,r,e),cy:hN(n,r,e),r,stroke:"transparent",fill:"transparent"}),pN=()=>!0;var Qr=e=>{const t=({id:n,className:r,type:s,data:i,onClick:o,onEdgeDoubleClick:a,selected:c,animated:u,label:d,labelStyle:m,labelShowBg:y,labelBgStyle:h,labelBgPadding:v,labelBgBorderRadius:g,style:b,source:f,target:x,sourceX:k,sourceY:N,targetX:_,targetY:C,sourcePosition:j,targetPosition:R,elementsSelectable:A,hidden:B,sourceHandleId:K,targetHandleId:T,onContextMenu:$,onMouseEnter:p,onMouseMove:O,onMouseLeave:W,reconnectRadius:U,onReconnect:V,onReconnectStart:I,onReconnectEnd:G,markerEnd:M,markerStart:P,rfId:se,ariaLabel:Q,isFocusable:J,isReconnectable:ve,pathOptions:Ee,interactionWidth:ke,disableKeyboardA11y:ze})=>{const q=D.useRef(null),[ue,ee]=D.useState(!1),[ce,w]=D.useState(!1),E=vt(),H=D.useMemo(()=>`url('#${Uc(P,se)}')`,[P,se]),S=D.useMemo(()=>`url('#${Uc(M,se)}')`,[M,se]);if(B)return null;const z=Ue=>{var pe;const{edges:X,addSelectedEdges:te,unselectNodesAndEdges:de,multiSelectionActive:ge}=E.getState(),ye=X.find(Pe=>Pe.id===n);ye&&(A&&(E.setState({nodesSelectionActive:!1}),ye.selected&&ge?(de({nodes:[],edges:[ye]}),(pe=q.current)==null||pe.blur()):te([n])),o&&o(Ue,ye))},F=Ks(n,E.getState,a),ne=Ks(n,E.getState,$),oe=Ks(n,E.getState,p),Y=Ks(n,E.getState,O),fe=Ks(n,E.getState,W),Se=(Ue,X)=>{if(Ue.button!==0)return;const{edges:te,isValidConnection:de}=E.getState(),ge=X?x:f,ye=(X?T:K)||null,pe=X?"target":"source",Pe=de||pN,$e=X,Fe=te.find(Je=>Je.id===n);w(!0),I==null||I(Ue,Fe,pe);const Ze=Je=>{w(!1),G==null||G(Je,Fe,pe)};Um({event:Ue,handleId:ye,nodeId:ge,onConnect:Je=>V==null?void 0:V(Fe,Je),isTarget:$e,getState:E.getState,setState:E.setState,isValidConnection:Pe,edgeUpdaterType:pe,onReconnectEnd:Ze})},me=Ue=>Se(Ue,!0),De=Ue=>Se(Ue,!1),Oe=()=>ee(!0),Le=()=>ee(!1),Ge=!A&&!o,mt=Ue=>{var X;if(!ze&&Dm.includes(Ue.key)&&A){const{unselectNodesAndEdges:te,addSelectedEdges:de,edges:ge}=E.getState();Ue.key==="Escape"?((X=q.current)==null||X.blur(),te({edges:[ge.find(pe=>pe.id===n)]})):de([n])}};return ie.createElement("g",{className:zt(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:c,animated:u,inactive:Ge,updating:ue}]),onClick:z,onDoubleClick:F,onContextMenu:ne,onMouseEnter:oe,onMouseMove:Y,onMouseLeave:fe,onKeyDown:J?mt:void 0,tabIndex:J?0:void 0,role:J?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":Q===null?void 0:Q||`Edge from ${f} to ${x}`,"aria-describedby":J?`${Qm}-${se}`:void 0,ref:q},!ce&&ie.createElement(e,{id:n,source:f,target:x,selected:c,animated:u,label:d,labelStyle:m,labelShowBg:y,labelBgStyle:h,labelBgPadding:v,labelBgBorderRadius:g,data:i,style:b,sourceX:k,sourceY:N,targetX:_,targetY:C,sourcePosition:j,targetPosition:R,sourceHandleId:K,targetHandleId:T,markerStart:H,markerEnd:S,pathOptions:Ee,interactionWidth:ke}),ve&&ie.createElement(ie.Fragment,null,(ve==="source"||ve===!0)&&ie.createElement(dh,{position:j,centerX:k,centerY:N,radius:U,onMouseDown:me,onMouseEnter:Oe,onMouseOut:Le,type:"source"}),(ve==="target"||ve===!0)&&ie.createElement(dh,{position:R,centerX:_,centerY:C,radius:U,onMouseDown:De,onMouseEnter:Oe,onMouseOut:Le,type:"target"})))};return t.displayName="EdgeWrapper",D.memo(t)};function mN(e){const t={default:Qr(e.default||ba),straight:Qr(e.bezier||ad),step:Qr(e.step||od),smoothstep:Qr(e.step||Ya),simplebezier:Qr(e.simplebezier||id)},n={},r=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=Qr(e[i]||ba),s),n);return{...t,...r}}function fh(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,s=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case Ce.Top:return{x:r+i/2,y:s};case Ce.Right:return{x:r+i,y:s+o/2};case Ce.Bottom:return{x:r+i/2,y:s+o};case Ce.Left:return{x:r,y:s+o/2}}}function hh(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const gN=(e,t,n,r,s,i)=>{const o=fh(n,e,t),a=fh(i,r,s);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function xN({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:i,width:o,height:a,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+r,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Li({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:o/c[2],height:a/c[2]}),m=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),y=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(m*y)>0}function ph(e){var r,s,i,o,a;const t=((r=e==null?void 0:e[ft])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const yN=[{level:0,isMaxLevel:!0,edges:[]}];function vN(e,t,n=!1){let r=-1;const s=e.reduce((o,a)=>{var d,m;const c=tn(a.zIndex);let u=c?a.zIndex:0;if(n){const y=t.get(a.target),h=t.get(a.source),v=a.selected||(y==null?void 0:y.selected)||(h==null?void 0:h.selected),g=Math.max(((d=h==null?void 0:h[ft])==null?void 0:d.z)||0,((m=y==null?void 0:y[ft])==null?void 0:m.z)||0,1e3);u=(c?a.zIndex:0)+(v?g:0)}return o[u]?o[u].push(a):o[u]=[a],r=u>r?u:r,o},{}),i=Object.entries(s).map(([o,a])=>{const c=+o;return{edges:a,level:c,isMaxLevel:c===r}});return i.length===0?yN:i}function wN(e,t,n){const r=nt(D.useCallback(s=>e?s.edges.filter(i=>{const o=t.get(i.source),a=t.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&xN({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return vN(r,t,n)}const bN=({color:e="none",strokeWidth:t=1})=>ie.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),kN=({color:e="none",strokeWidth:t=1})=>ie.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),mh={[$i.Arrow]:bN,[$i.ArrowClosed]:kN};function NN(e){const t=vt();return D.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(mh,e)?mh[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",Wn.error009(e)),null)},[e])}const _N=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const c=NN(t);return c?ie.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0"},ie.createElement(c,{color:n,strokeWidth:o})):null},SN=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=Uc(o,t);r.includes(a)||(s.push({id:a,color:o.color||e,...o}),r.push(a))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},dg=({defaultColor:e,rfId:t})=>{const n=nt(D.useCallback(SN({defaultColor:e,rfId:t}),[e,t]),(r,s)=>!(r.length!==s.length||r.some((i,o)=>i.id!==s[o].id)));return ie.createElement("defs",null,n.map(r=>ie.createElement(_N,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};dg.displayName="MarkerDefinitions";var zN=D.memo(dg);const EN=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),fg=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:m,onReconnect:y,onReconnectStart:h,onReconnectEnd:v,reconnectRadius:g,children:b,disableKeyboardA11y:f})=>{const{edgesFocusable:x,edgesUpdatable:k,elementsSelectable:N,width:_,height:C,connectionMode:j,nodeInternals:R,onError:A}=nt(EN,kt),B=wN(t,R,n);return _?ie.createElement(ie.Fragment,null,B.map(({level:K,edges:T,isMaxLevel:$})=>ie.createElement("svg",{key:K,style:{zIndex:K},width:_,height:C,className:"react-flow__edges react-flow__container"},$&&ie.createElement(zN,{defaultColor:e,rfId:r}),ie.createElement("g",null,T.map(p=>{const[O,W,U]=ph(R.get(p.source)),[V,I,G]=ph(R.get(p.target));if(!U||!G)return null;let M=p.type||"default";s[M]||(A==null||A("011",Wn.error011(M)),M="default");const P=s[M]||s.default,se=j===mr.Strict?I.target:(I.target??[]).concat(I.source??[]),Q=hh(W.source,p.sourceHandle),J=hh(se,p.targetHandle),ve=(Q==null?void 0:Q.position)||Ce.Bottom,Ee=(J==null?void 0:J.position)||Ce.Top,ke=!!(p.focusable||x&&typeof p.focusable>"u"),ze=p.reconnectable||p.updatable,q=typeof y<"u"&&(ze||k&&typeof ze>"u");if(!Q||!J)return A==null||A("008",Wn.error008(Q,p)),null;const{sourceX:ue,sourceY:ee,targetX:ce,targetY:w}=gN(O,Q,ve,V,J,Ee);return ie.createElement(P,{key:p.id,id:p.id,className:zt([p.className,i]),type:M,data:p.data,selected:!!p.selected,animated:!!p.animated,hidden:!!p.hidden,label:p.label,labelStyle:p.labelStyle,labelShowBg:p.labelShowBg,labelBgStyle:p.labelBgStyle,labelBgPadding:p.labelBgPadding,labelBgBorderRadius:p.labelBgBorderRadius,style:p.style,source:p.source,target:p.target,sourceHandleId:p.sourceHandle,targetHandleId:p.targetHandle,markerEnd:p.markerEnd,markerStart:p.markerStart,sourceX:ue,sourceY:ee,targetX:ce,targetY:w,sourcePosition:ve,targetPosition:Ee,elementsSelectable:N,onContextMenu:o,onMouseEnter:a,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:m,onReconnect:y,onReconnectStart:h,onReconnectEnd:v,reconnectRadius:g,rfId:r,ariaLabel:p.ariaLabel,isFocusable:ke,isReconnectable:q,pathOptions:"pathOptions"in p?p.pathOptions:void 0,interactionWidth:p.interactionWidth,disableKeyboardA11y:f})})))),b):null};fg.displayName="EdgeRenderer";var jN=D.memo(fg);const CN=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function DN({children:e}){const t=nt(CN);return ie.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function TN(e){const t=Xa(),n=D.useRef(!1);D.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const IN={[Ce.Left]:Ce.Right,[Ce.Right]:Ce.Left,[Ce.Top]:Ce.Bottom,[Ce.Bottom]:Ce.Top},hg=({nodeId:e,handleType:t,style:n,type:r=tr.Bezier,CustomComponent:s,connectionStatus:i})=>{var C,j,R;const{fromNode:o,handleId:a,toX:c,toY:u,connectionMode:d}=nt(D.useCallback(A=>({fromNode:A.nodeInternals.get(e),handleId:A.connectionHandleId,toX:(A.connectionPosition.x-A.transform[0])/A.transform[2],toY:(A.connectionPosition.y-A.transform[1])/A.transform[2],connectionMode:A.connectionMode}),[e]),kt),m=(C=o==null?void 0:o[ft])==null?void 0:C.handleBounds;let y=m==null?void 0:m[t];if(d===mr.Loose&&(y=y||(m==null?void 0:m[t==="source"?"target":"source"])),!o||!y)return null;const h=a?y.find(A=>A.id===a):y[0],v=h?h.x+h.width/2:(o.width??0)/2,g=h?h.y+h.height/2:o.height??0,b=(((j=o.positionAbsolute)==null?void 0:j.x)??0)+v,f=(((R=o.positionAbsolute)==null?void 0:R.y)??0)+g,x=h==null?void 0:h.position,k=x?IN[x]:null;if(!x||!k)return null;if(s)return ie.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:h,fromX:b,fromY:f,toX:c,toY:u,fromPosition:x,toPosition:k,connectionStatus:i});let N="";const _={sourceX:b,sourceY:f,sourcePosition:x,targetX:c,targetY:u,targetPosition:k};return r===tr.Bezier?[N]=Pm(_):r===tr.Step?[N]=Hc({..._,borderRadius:0}):r===tr.SmoothStep?[N]=Hc(_):r===tr.SimpleBezier?[N]=Mm(_):N=`M${b},${f} ${c},${u}`,ie.createElement("path",{d:N,fill:"none",className:"react-flow__connection-path",style:n})};hg.displayName="ConnectionLine";const AN=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function MN({containerStyle:e,style:t,type:n,component:r}){const{nodeId:s,handleType:i,nodesConnectable:o,width:a,height:c,connectionStatus:u}=nt(AN,kt);return!(s&&i&&a&&o)?null:ie.createElement("svg",{style:e,width:a,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},ie.createElement("g",{className:zt(["react-flow__connection",u])},ie.createElement(hg,{nodeId:s,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function gh(e,t){return D.useRef(null),vt(),D.useMemo(()=>t(e),[e])}const pg=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:i,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:m,onNodeMouseLeave:y,onNodeContextMenu:h,onSelectionContextMenu:v,onSelectionStart:g,onSelectionEnd:b,connectionLineType:f,connectionLineStyle:x,connectionLineComponent:k,connectionLineContainerStyle:N,selectionKeyCode:_,selectionOnDrag:C,selectionMode:j,multiSelectionKeyCode:R,panActivationKeyCode:A,zoomActivationKeyCode:B,deleteKeyCode:K,onlyRenderVisibleElements:T,elementsSelectable:$,selectNodesOnDrag:p,defaultViewport:O,translateExtent:W,minZoom:U,maxZoom:V,preventScrolling:I,defaultMarkerColor:G,zoomOnScroll:M,zoomOnPinch:P,panOnScroll:se,panOnScrollSpeed:Q,panOnScrollMode:J,zoomOnDoubleClick:ve,panOnDrag:Ee,onPaneClick:ke,onPaneMouseEnter:ze,onPaneMouseMove:q,onPaneMouseLeave:ue,onPaneScroll:ee,onPaneContextMenu:ce,onEdgeContextMenu:w,onEdgeMouseEnter:E,onEdgeMouseMove:H,onEdgeMouseLeave:S,onReconnect:z,onReconnectStart:F,onReconnectEnd:ne,reconnectRadius:oe,noDragClassName:Y,noWheelClassName:fe,noPanClassName:Se,elevateEdgesOnSelect:me,disableKeyboardA11y:De,nodeOrigin:Oe,nodeExtent:Le,rfId:Ge})=>{const mt=gh(e,lN),Ue=gh(t,mN);return TN(i),ie.createElement(oN,{onPaneClick:ke,onPaneMouseEnter:ze,onPaneMouseMove:q,onPaneMouseLeave:ue,onPaneContextMenu:ce,onPaneScroll:ee,deleteKeyCode:K,selectionKeyCode:_,selectionOnDrag:C,selectionMode:j,onSelectionStart:g,onSelectionEnd:b,multiSelectionKeyCode:R,panActivationKeyCode:A,zoomActivationKeyCode:B,elementsSelectable:$,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:M,zoomOnPinch:P,zoomOnDoubleClick:ve,panOnScroll:se,panOnScrollSpeed:Q,panOnScrollMode:J,panOnDrag:Ee,defaultViewport:O,translateExtent:W,minZoom:U,maxZoom:V,onSelectionContextMenu:v,preventScrolling:I,noDragClassName:Y,noWheelClassName:fe,noPanClassName:Se,disableKeyboardA11y:De},ie.createElement(DN,null,ie.createElement(jN,{edgeTypes:Ue,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:T,onEdgeContextMenu:w,onEdgeMouseEnter:E,onEdgeMouseMove:H,onEdgeMouseLeave:S,onReconnect:z,onReconnectStart:F,onReconnectEnd:ne,reconnectRadius:oe,defaultMarkerColor:G,noPanClassName:Se,elevateEdgesOnSelect:!!me,disableKeyboardA11y:De,rfId:Ge},ie.createElement(MN,{style:x,type:f,component:k,containerStyle:N})),ie.createElement("div",{className:"react-flow__edgelabel-renderer"}),ie.createElement(dN,{nodeTypes:mt,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:m,onNodeMouseLeave:y,onNodeContextMenu:h,selectNodesOnDrag:p,onlyRenderVisibleElements:T,noPanClassName:Se,noDragClassName:Y,disableKeyboardA11y:De,nodeOrigin:Oe,nodeExtent:Le,rfId:Ge})))};pg.displayName="GraphView";var PN=D.memo(pg);const Gc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Gn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Gc,nodeExtent:Gc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:mr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:uk,isValidConnection:void 0},RN=()=>Sv((e,t)=>({...Gn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:i}=t();e({nodeInternals:Tl(n,r,s,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",i=typeof r<"u",o=s?Tl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:i?r:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const m=window.getComputedStyle(d),{m22:y}=new window.DOMMatrixReadOnly(m.transform),h=n.reduce((g,b)=>{const f=s.get(b.id);if(f!=null&&f.hidden)s.set(f.id,{...f,[ft]:{...f[ft],handleBounds:void 0}});else if(f){const x=rd(b.nodeElement);!!(x.width&&x.height&&(f.width!==x.width||f.height!==x.height||b.forceUpdate))&&(s.set(f.id,{...f,[ft]:{...f[ft],handleBounds:{source:ch(".source",b.nodeElement,y,u),target:ch(".target",b.nodeElement,y,u)}},...x}),g.push({id:f.id,type:"dimensions",dimensions:x}))}return g},[]);eg(s,u);const v=o||i&&!o&&tg(t,{initial:!0,...a});e({nodeInternals:new Map(s),fitViewOnInitDone:v}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:i}=t(),o=n.map(a=>{const c={id:a.id,type:"position",dragging:s};return r&&(c.positionAbsolute=a.positionAbsolute,c.position=a.position),c});i(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(i){const u=rg(n,a()),d=Tl(u,s,o,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,a=null;r?o=n.map(c=>Qn(c,!0)):(o=hs(i(),n),a=hs(s,[])),No({changedNodes:o,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,a=null;r?o=n.map(c=>Qn(c,!0)):(o=hs(s,n),a=hs(i(),[])),No({changedNodes:a,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:i}=t(),o=n||i(),a=r||s,c=o.map(d=>(d.selected=!1,Qn(d.id,!1))),u=a.map(d=>Qn(d.id,!1));No({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=t();r==null||r.scaleExtent([n,s]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=t();r==null||r.scaleExtent([s,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(a=>a.selected).map(a=>Qn(a.id,!1)),o=n.filter(a=>a.selected).map(a=>Qn(a.id,!1));No({changedNodes:i,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(s=>{s.positionAbsolute=sd(s.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:i,d3Zoom:o,d3Selection:a,translateExtent:c}=t();if(!o||!a||!n.x&&!n.y)return!1;const u=On.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,i]],m=o==null?void 0:o.constrain()(u,d,c);return o.transform(a,m),r[0]!==m.x||r[1]!==m.y||r[2]!==m.k},cancelConnection:()=>e({connectionNodeId:Gn.connectionNodeId,connectionHandleId:Gn.connectionHandleId,connectionHandleType:Gn.connectionHandleType,connectionStatus:Gn.connectionStatus,connectionStartHandle:Gn.connectionStartHandle,connectionEndHandle:Gn.connectionEndHandle}),reset:()=>e({...Gn})}),Object.is),fd=({children:e})=>{const t=D.useRef(null);return t.current||(t.current=RN()),ie.createElement(rk,{value:t.current},e)};fd.displayName="ReactFlowProvider";const mg=({children:e})=>D.useContext(Ga)?ie.createElement(ie.Fragment,null,e):ie.createElement(fd,null,e);mg.displayName="ReactFlowWrapper";const LN={input:Gm,default:Vc,output:Km,group:ud},ON={default:ba,straight:ad,step:od,smoothstep:Ya,simplebezier:id},$N=[0,0],FN=[15,15],BN={x:0,y:0,zoom:1},HN={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},gg=D.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i=LN,edgeTypes:o=ON,onNodeClick:a,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:m,onMoveEnd:y,onConnect:h,onConnectStart:v,onConnectEnd:g,onClickConnectStart:b,onClickConnectEnd:f,onNodeMouseEnter:x,onNodeMouseMove:k,onNodeMouseLeave:N,onNodeContextMenu:_,onNodeDoubleClick:C,onNodeDragStart:j,onNodeDrag:R,onNodeDragStop:A,onNodesDelete:B,onEdgesDelete:K,onSelectionChange:T,onSelectionDragStart:$,onSelectionDrag:p,onSelectionDragStop:O,onSelectionContextMenu:W,onSelectionStart:U,onSelectionEnd:V,connectionMode:I=mr.Strict,connectionLineType:G=tr.Bezier,connectionLineStyle:M,connectionLineComponent:P,connectionLineContainerStyle:se,deleteKeyCode:Q="Backspace",selectionKeyCode:J="Shift",selectionOnDrag:ve=!1,selectionMode:Ee=Oi.Full,panActivationKeyCode:ke="Space",multiSelectionKeyCode:ze=wa()?"Meta":"Control",zoomActivationKeyCode:q=wa()?"Meta":"Control",snapToGrid:ue=!1,snapGrid:ee=FN,onlyRenderVisibleElements:ce=!1,selectNodesOnDrag:w=!0,nodesDraggable:E,nodesConnectable:H,nodesFocusable:S,nodeOrigin:z=$N,edgesFocusable:F,edgesUpdatable:ne,elementsSelectable:oe,defaultViewport:Y=BN,minZoom:fe=.5,maxZoom:Se=2,translateExtent:me=Gc,preventScrolling:De=!0,nodeExtent:Oe,defaultMarkerColor:Le="#b1b1b7",zoomOnScroll:Ge=!0,zoomOnPinch:mt=!0,panOnScroll:Ue=!1,panOnScrollSpeed:X=.5,panOnScrollMode:te=Ir.Free,zoomOnDoubleClick:de=!0,panOnDrag:ge=!0,onPaneClick:ye,onPaneMouseEnter:pe,onPaneMouseMove:Pe,onPaneMouseLeave:$e,onPaneScroll:Fe,onPaneContextMenu:Ze,children:ut,onEdgeContextMenu:Je,onEdgeDoubleClick:re,onEdgeMouseEnter:he,onEdgeMouseMove:Re,onEdgeMouseLeave:L,onEdgeUpdate:Z,onEdgeUpdateStart:le,onEdgeUpdateEnd:xe,onReconnect:we,onReconnectStart:Ie,onReconnectEnd:Xe,reconnectRadius:Ye=10,edgeUpdaterRadius:qe=10,onNodesChange:ln,onEdgesChange:zn,noDragClassName:Gr="nodrag",noWheelClassName:wr="nowheel",noPanClassName:ae="nopan",fitView:Ne=!1,fitViewOptions:Te,connectOnClick:be=!0,attributionPosition:We,proOptions:ot,defaultEdgeOptions:En,elevateNodesOnSelect:et=!0,elevateEdgesOnSelect:Ae=!1,disableKeyboardA11y:br=!1,autoPanOnConnect:_g=!0,autoPanOnNodeDrag:Sg=!0,connectionRadius:zg=20,isValidConnection:Eg,onError:jg,style:Cg,id:hd,nodeDragThreshold:Dg,...Tg},Ig)=>{const qa=hd||"1";return ie.createElement("div",{...Tg,style:{...Cg,...HN},ref:Ig,className:zt(["react-flow",s]),"data-testid":"rf__wrapper",id:hd},ie.createElement(mg,null,ie.createElement(PN,{onInit:u,onMove:d,onMoveStart:m,onMoveEnd:y,onNodeClick:a,onEdgeClick:c,onNodeMouseEnter:x,onNodeMouseMove:k,onNodeMouseLeave:N,onNodeContextMenu:_,onNodeDoubleClick:C,nodeTypes:i,edgeTypes:o,connectionLineType:G,connectionLineStyle:M,connectionLineComponent:P,connectionLineContainerStyle:se,selectionKeyCode:J,selectionOnDrag:ve,selectionMode:Ee,deleteKeyCode:Q,multiSelectionKeyCode:ze,panActivationKeyCode:ke,zoomActivationKeyCode:q,onlyRenderVisibleElements:ce,selectNodesOnDrag:w,defaultViewport:Y,translateExtent:me,minZoom:fe,maxZoom:Se,preventScrolling:De,zoomOnScroll:Ge,zoomOnPinch:mt,zoomOnDoubleClick:de,panOnScroll:Ue,panOnScrollSpeed:X,panOnScrollMode:te,panOnDrag:ge,onPaneClick:ye,onPaneMouseEnter:pe,onPaneMouseMove:Pe,onPaneMouseLeave:$e,onPaneScroll:Fe,onPaneContextMenu:Ze,onSelectionContextMenu:W,onSelectionStart:U,onSelectionEnd:V,onEdgeContextMenu:Je,onEdgeDoubleClick:re,onEdgeMouseEnter:he,onEdgeMouseMove:Re,onEdgeMouseLeave:L,onReconnect:we??Z,onReconnectStart:Ie??le,onReconnectEnd:Xe??xe,reconnectRadius:Ye??qe,defaultMarkerColor:Le,noDragClassName:Gr,noWheelClassName:wr,noPanClassName:ae,elevateEdgesOnSelect:Ae,rfId:qa,disableKeyboardA11y:br,nodeOrigin:z,nodeExtent:Oe}),ie.createElement(Ik,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:v,onConnectEnd:g,onClickConnectStart:b,onClickConnectEnd:f,nodesDraggable:E,nodesConnectable:H,nodesFocusable:S,edgesFocusable:F,edgesUpdatable:ne,elementsSelectable:oe,elevateNodesOnSelect:et,minZoom:fe,maxZoom:Se,nodeExtent:Oe,onNodesChange:ln,onEdgesChange:zn,snapToGrid:ue,snapGrid:ee,connectionMode:I,translateExtent:me,connectOnClick:be,defaultEdgeOptions:En,fitView:Ne,fitViewOptions:Te,onNodesDelete:B,onEdgesDelete:K,onNodeDragStart:j,onNodeDrag:R,onNodeDragStop:A,onSelectionDrag:p,onSelectionDragStart:$,onSelectionDragStop:O,noPanClassName:ae,nodeOrigin:z,rfId:qa,autoPanOnConnect:_g,autoPanOnNodeDrag:Sg,onError:jg,connectionRadius:zg,isValidConnection:Eg,nodeDragThreshold:Dg}),ie.createElement(Dk,{onSelectionChange:T}),ut,ie.createElement(ik,{proOptions:ot,position:We}),ie.createElement(Lk,{rfId:qa,disableKeyboardA11y:br})))});gg.displayName="ReactFlow";function xg(e){return t=>{const[n,r]=D.useState(t),s=D.useCallback(i=>r(o=>e(i,o)),[]);return[n,r,s]}}const UN=xg(rg),WN=xg(qk),yg=({id:e,x:t,y:n,width:r,height:s,style:i,color:o,strokeColor:a,strokeWidth:c,className:u,borderRadius:d,shapeRendering:m,onClick:y,selected:h})=>{const{background:v,backgroundColor:g}=i||{},b=o||v||g;return ie.createElement("rect",{className:zt(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:d,ry:d,width:r,height:s,fill:b,stroke:a,strokeWidth:c,shapeRendering:m,onClick:y?f=>y(f,e):void 0})};yg.displayName="MiniMapNode";var VN=D.memo(yg);const ZN=e=>e.nodeOrigin,GN=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Pl=e=>e instanceof Function?e:()=>e;function YN({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:i=VN,onClick:o}){const a=nt(GN,kt),c=nt(ZN),u=Pl(t),d=Pl(e),m=Pl(n),y=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return ie.createElement(ie.Fragment,null,a.map(h=>{const{x:v,y:g}=Rr(h,c).positionAbsolute;return ie.createElement(i,{key:h.id,x:v,y:g,width:h.width,height:h.height,style:h.style,selected:h.selected,className:m(h),color:u(h),borderRadius:r,strokeColor:d(h),strokeWidth:s,shapeRendering:y,onClick:o,id:h.id})}))}var KN=D.memo(YN);const XN=200,qN=150,QN=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?lk(Ka(t,e.nodeOrigin),n):n,rfId:e.rfId}},JN="react-flow__minimap-desc";function vg({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:m="bottom-right",onClick:y,onNodeClick:h,pannable:v=!1,zoomable:g=!1,ariaLabel:b="React Flow mini map",inversePan:f=!1,zoomStep:x=10,offsetScale:k=5}){const N=vt(),_=D.useRef(null),{boundingRect:C,viewBB:j,rfId:R}=nt(QN,kt),A=(e==null?void 0:e.width)??XN,B=(e==null?void 0:e.height)??qN,K=C.width/A,T=C.height/B,$=Math.max(K,T),p=$*A,O=$*B,W=k*$,U=C.x-(p-C.width)/2-W,V=C.y-(O-C.height)/2-W,I=p+W*2,G=O+W*2,M=`${JN}-${R}`,P=D.useRef(0);P.current=$,D.useEffect(()=>{if(_.current){const J=Jt(_.current),ve=ze=>{const{transform:q,d3Selection:ue,d3Zoom:ee}=N.getState();if(ze.sourceEvent.type!=="wheel"||!ue||!ee)return;const ce=-ze.sourceEvent.deltaY*(ze.sourceEvent.deltaMode===1?.05:ze.sourceEvent.deltaMode?1:.002)*x,w=q[2]*Math.pow(2,ce);ee.scaleTo(ue,w)},Ee=ze=>{const{transform:q,d3Selection:ue,d3Zoom:ee,translateExtent:ce,width:w,height:E}=N.getState();if(ze.sourceEvent.type!=="mousemove"||!ue||!ee)return;const H=P.current*Math.max(1,q[2])*(f?-1:1),S={x:q[0]-ze.sourceEvent.movementX*H,y:q[1]-ze.sourceEvent.movementY*H},z=[[0,0],[w,E]],F=On.translate(S.x,S.y).scale(q[2]),ne=ee.constrain()(F,z,ce);ee.transform(ue,ne)},ke=_m().on("zoom",v?Ee:null).on("zoom.wheel",g?ve:null);return J.call(ke),()=>{J.on("zoom",null)}}},[v,g,f,x]);const se=y?J=>{const ve=fn(J);y(J,{x:ve[0],y:ve[1]})}:void 0,Q=h?(J,ve)=>{const Ee=N.getState().nodeInternals.get(ve);h(J,Ee)}:void 0;return ie.createElement(nd,{position:m,style:e,className:zt(["react-flow__minimap",t]),"data-testid":"rf__minimap"},ie.createElement("svg",{width:A,height:B,viewBox:`${U} ${V} ${I} ${G}`,role:"img","aria-labelledby":M,ref:_,onClick:se},b&&ie.createElement("title",{id:M},b),ie.createElement(KN,{onClick:Q,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:a}),ie.createElement("path",{className:"react-flow__minimap-mask",d:`M${U-W},${V-W}h${I+W*2}v${G+W*2}h${-I-W*2}z
        M${j.x},${j.y}h${j.width}v${j.height}h${-j.width}z`,fill:c,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}vg.displayName="MiniMap";var e_=D.memo(vg);function t_(){return ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ie.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function n_(){return ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ie.createElement("path",{d:"M0 0h32v4.2H0z"}))}function r_(){return ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ie.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function s_(){return ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ie.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function i_(){return ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ie.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const si=({children:e,className:t,...n})=>ie.createElement("button",{type:"button",className:zt(["react-flow__controls-button",t]),...n},e);si.displayName="ControlButton";const o_=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),wg=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:a,onInteractiveChange:c,className:u,children:d,position:m="bottom-left"})=>{const y=vt(),[h,v]=D.useState(!1),{isInteractive:g,minZoomReached:b,maxZoomReached:f}=nt(o_,kt),{zoomIn:x,zoomOut:k,fitView:N}=Xa();if(D.useEffect(()=>{v(!0)},[]),!h)return null;const _=()=>{x(),i==null||i()},C=()=>{k(),o==null||o()},j=()=>{N(s),a==null||a()},R=()=>{y.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),c==null||c(!g)};return ie.createElement(nd,{className:zt(["react-flow__controls",u]),position:m,style:e,"data-testid":"rf__controls"},t&&ie.createElement(ie.Fragment,null,ie.createElement(si,{onClick:_,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:f},ie.createElement(t_,null)),ie.createElement(si,{onClick:C,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},ie.createElement(n_,null))),n&&ie.createElement(si,{className:"react-flow__controls-fitview",onClick:j,title:"fit view","aria-label":"fit view"},ie.createElement(r_,null)),r&&ie.createElement(si,{className:"react-flow__controls-interactive",onClick:R,title:"toggle interactivity","aria-label":"toggle interactivity"},g?ie.createElement(i_,null):ie.createElement(s_,null)),d)};wg.displayName="Controls";var a_=D.memo(wg),rn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(rn||(rn={}));function l_({color:e,dimensions:t,lineWidth:n}){return ie.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function c_({color:e,radius:t}){return ie.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const u_={[rn.Dots]:"#91919a",[rn.Lines]:"#eee",[rn.Cross]:"#e2e2e2"},d_={[rn.Dots]:1,[rn.Lines]:1,[rn.Cross]:6},f_=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function bg({id:e,variant:t=rn.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=2,color:o,style:a,className:c}){const u=D.useRef(null),{transform:d,patternId:m}=nt(f_,kt),y=o||u_[t],h=r||d_[t],v=t===rn.Dots,g=t===rn.Cross,b=Array.isArray(n)?n:[n,n],f=[b[0]*d[2]||1,b[1]*d[2]||1],x=h*d[2],k=g?[x,x]:f,N=v?[x/i,x/i]:[k[0]/i,k[1]/i];return ie.createElement("svg",{className:zt(["react-flow__background",c]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},ie.createElement("pattern",{id:m+e,x:d[0]%f[0],y:d[1]%f[1],width:f[0],height:f[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`},v?ie.createElement(c_,{color:y,radius:x/i}):ie.createElement(l_,{dimensions:k,color:y,lineWidth:s})),ie.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${m+e})`}))}bg.displayName="Background";var h_=D.memo(bg);const ht="w-3 h-3 !bg-zinc-400 border border-zinc-900 z-50 transition-colors hover:!bg-blue-400",p_=({data:e,selected:t})=>l.jsxs("div",{className:`px-6 py-3 rounded-full flex items-center justify-center min-w-[120px] bg-zinc-900 border-2 shadow-sm transition-all ${t?"border-emerald-500 shadow-emerald-500/20":"border-emerald-500/50"}`,children:[l.jsx("div",{className:"text-center text-xs text-white font-semibold",children:e.label}),l.jsx(Qe,{type:"target",position:Ce.Top,id:"top",className:`${ht} -mt-[2px]`}),l.jsx(Qe,{type:"source",position:Ce.Bottom,id:"bottom",className:`${ht} -mb-[2px]`}),l.jsx(Qe,{type:"source",position:Ce.Right,id:"right",className:`${ht} -mr-[2px]`}),l.jsx(Qe,{type:"target",position:Ce.Left,id:"left",className:`${ht} -ml-[2px]`})]}),m_=({data:e,selected:t})=>l.jsxs("div",{className:`px-4 py-4 rounded-lg flex items-center justify-center min-w-[140px] bg-zinc-900 border-2 shadow-sm transition-all ${t?"border-blue-500 shadow-blue-500/20":"border-zinc-600"}`,children:[l.jsx("div",{className:"text-center text-xs text-white font-medium",children:e.label}),l.jsx(Qe,{type:"target",position:Ce.Top,id:"top",className:`${ht} -mt-[2px]`}),l.jsx(Qe,{type:"source",position:Ce.Bottom,id:"bottom",className:`${ht} -mb-[2px]`}),l.jsx(Qe,{type:"source",position:Ce.Right,id:"right",className:`${ht} -mr-[2px]`}),l.jsx(Qe,{type:"target",position:Ce.Left,id:"left",className:`${ht} -ml-[2px]`})]}),g_=({data:e,selected:t})=>l.jsxs("div",{className:"w-28 h-28 relative flex items-center justify-center",children:[l.jsx("div",{className:`absolute inset-0 transform rotate-45 bg-zinc-900 border-2 transition-all shadow-sm ${t?"border-purple-500 shadow-purple-500/20":"border-purple-500/60"}`}),l.jsx("div",{className:"relative z-10 p-2 text-[10px] text-white font-bold text-center leading-tight max-w-[70%]",children:e.label}),l.jsx(Qe,{type:"target",position:Ce.Top,id:"top",className:`${ht} -mt-1`}),l.jsx(Qe,{type:"source",position:Ce.Bottom,id:"bottom",className:`${ht} -mb-1`}),l.jsx(Qe,{type:"source",position:Ce.Right,id:"right",className:`${ht} -mr-1`}),l.jsx(Qe,{type:"source",position:Ce.Left,id:"left",className:`${ht} -ml-1`})]}),x_=({data:e,selected:t})=>l.jsxs("div",{className:"relative p-1",children:[l.jsx("div",{className:`px-6 py-3 min-w-[140px] transform -skew-x-12 bg-zinc-900 border-2 transition-all shadow-sm flex items-center justify-center ${t?"border-orange-500 shadow-orange-500/20":"border-orange-500/60"}`,children:l.jsx("div",{className:"transform skew-x-12 text-center text-xs text-white font-medium",children:e.label})}),l.jsx(Qe,{type:"target",position:Ce.Top,id:"top",className:`${ht} top-0`}),l.jsx(Qe,{type:"source",position:Ce.Bottom,id:"bottom",className:`${ht} bottom-0`}),l.jsx(Qe,{type:"source",position:Ce.Right,id:"right",className:`${ht} right-1`}),l.jsx(Qe,{type:"target",position:Ce.Left,id:"left",className:`${ht} left-1`})]}),y_=({data:e,selected:t})=>l.jsxs("div",{className:`w-24 h-24 relative flex flex-col items-center justify-center bg-zinc-900 border-x-2 border-zinc-500 ${t?"ring-2 ring-blue-500 border-blue-500":""}`,children:[l.jsx("div",{className:"absolute top-0 w-full h-6 bg-zinc-800 border-2 border-zinc-500 rounded-[50%] -mt-3 z-10"}),l.jsx("div",{className:"text-[10px] text-zinc-300 text-center px-1 z-0 mt-2 font-mono",children:e.label}),l.jsx("div",{className:"absolute bottom-0 w-full h-6 bg-zinc-900 border-b-2 border-x-2 border-zinc-500 rounded-[50%] -mb-3 z-0"}),l.jsx(Qe,{type:"target",position:Ce.Top,id:"top",className:`${ht} -mt-3`}),l.jsx(Qe,{type:"source",position:Ce.Bottom,id:"bottom",className:`${ht} -mb-3`}),l.jsx(Qe,{type:"source",position:Ce.Right,id:"right",className:`${ht} -mr-[2px]`}),l.jsx(Qe,{type:"target",position:Ce.Left,id:"left",className:`${ht} -ml-[2px]`})]}),v_=({data:e,selected:t})=>l.jsxs("div",{className:"w-32 h-16 relative flex items-center justify-center",children:[l.jsx("div",{className:`absolute inset-0 bg-zinc-900 border-2 transition-all ${t?"border-yellow-500 bg-yellow-500/10":"border-yellow-500/60"}`,style:{clipPath:"polygon(15% 0%, 85% 0%, 100% 50%, 85% 100%, 15% 100%, 0% 50%)"}}),l.jsx("div",{className:"relative z-10 text-[10px] uppercase tracking-wider font-bold text-yellow-500 text-center px-6",children:e.label}),l.jsx(Qe,{type:"target",position:Ce.Top,id:"top",className:`${ht} -mt-[2px]`}),l.jsx(Qe,{type:"source",position:Ce.Bottom,id:"bottom",className:`${ht} -mb-[2px]`})]}),w_=({data:e,selected:t})=>l.jsxs("div",{className:`w-40 min-h-[80px] bg-yellow-100/10 border-l-4 border-yellow-400 rounded p-2 flex flex-col relative ${t?"ring-1 ring-yellow-400":""}`,children:[l.jsx("div",{className:"text-[9px] text-yellow-500/80 font-bold uppercase mb-1",children:"Note"}),l.jsx("div",{className:"text-xs text-zinc-300 italic text-left whitespace-pre-wrap",children:e.label}),l.jsx(Qe,{type:"target",position:Ce.Left,id:"left",className:"w-2 h-2 !bg-yellow-400/50 opacity-0 hover:opacity-100"})]}),b_=({initialContent:e,onSave:t,fileName:n})=>{const r=(e==null?void 0:e.nodes)||[],s=(e==null?void 0:e.edges)||[],[i,o,a]=UN(r),[c,u,d]=WN(s),{deleteElements:m}=Xa(),[y,h]=D.useState("saved"),v=D.useRef(JSON.stringify({nodes:r,edges:s}));D.useEffect(()=>{if(JSON.stringify({nodes:i,edges:c})===v.current)return;h("unsaved");const R=setTimeout(()=>g(),2e3);return()=>clearTimeout(R)},[i,c]),D.useEffect(()=>{const j=R=>{(R.ctrlKey||R.metaKey)&&R.key==="s"&&(R.preventDefault(),g())};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[i,c]);const g=()=>{h("saving"),t({nodes:i,edges:c}),v.current=JSON.stringify({nodes:i,edges:c}),setTimeout(()=>h("saved"),500)},b=D.useMemo(()=>({terminal:p_,process:m_,decision:g_,io:x_,database:y_,event:v_,note:w_}),[]);ie.useEffect(()=>{o(r),u(s),v.current=JSON.stringify({nodes:r,edges:s})},[r,s,o,u]);const f=D.useCallback(j=>u(R=>Rm({...j,animated:!1,type:"smoothstep",style:{stroke:"#a1a1aa",strokeWidth:2},markerEnd:{type:$i.ArrowClosed,color:"#a1a1aa",width:20,height:20}},R)),[u]),x=(j,R)=>{const A=crypto.randomUUID(),B={x:Math.random()*200+200,y:Math.random()*200+100},K={id:A,position:B,data:{label:R},type:j};o(T=>T.concat(K))},k=()=>{const j=i.filter(A=>A.selected),R=c.filter(A=>A.selected);m({nodes:j,edges:R})},N=(j,R)=>{const A=prompt("Enter text for this node:",R.data.label);A!==null&&o(B=>B.map(K=>K.id===R.id?{...K,data:{...K.data,label:A}}:K))},_=(j,R)=>{const A=prompt("Enter label for this connection (e.g., 'Yes', 'No', 'True'):",R.label||"");A!==null&&u(B=>B.map(K=>K.id===R.id?{...K,label:A,labelStyle:{fill:"#ffffff",fontWeight:700,fontSize:12},labelBgStyle:{fill:"#18181b",fillOpacity:.8},labelBgPadding:[4,4],labelBgBorderRadius:4}:K))},C=({onClick:j,icon:R,label:A,colorClass:B})=>l.jsxs("button",{onClick:j,className:"flex flex-col items-center justify-center p-2 rounded-lg hover:bg-zinc-800 transition-colors gap-1 group w-16 h-16 border border-transparent hover:border-zinc-700",title:`Add ${A}`,children:[l.jsx(R,{className:`w-6 h-6 ${B} group-hover:scale-110 transition-transform`}),l.jsx("span",{className:"text-[9px] text-zinc-500 group-hover:text-zinc-300",children:A})]});return l.jsxs("div",{className:"h-full w-full flex flex-col bg-zinc-900",children:[l.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center px-4 justify-between bg-zinc-900/50 backdrop-blur-sm z-10 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("h3",{className:"text-zinc-200 font-medium ml-2",children:n}),l.jsx("div",{className:"h-6 w-px bg-zinc-800"}),l.jsxs("button",{onClick:k,className:"p-2 hover:bg-red-500/10 rounded text-zinc-400 hover:text-red-400 transition-colors flex items-center gap-2",title:"Delete Selected (Backspace)",children:[l.jsx(an,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Delete Selected"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center mr-2",children:[y==="saving"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[l.jsx(Vr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),y==="saved"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[l.jsx(vr,{className:"w-3 h-3"})," Saved"]}),y==="unsaved"&&l.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[l.jsx(Rn,{className:"w-3 h-3"})," Unsaved"]})]}),l.jsxs("button",{onClick:g,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${y==="unsaved"?"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[l.jsx(Zr,{className:"w-4 h-4"}),"Save"]})]})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsxs("div",{className:"w-20 bg-zinc-950 border-r border-zinc-800 flex flex-col items-center py-4 gap-2 overflow-y-auto custom-scrollbar z-10",children:[l.jsx("div",{className:"text-[10px] font-bold text-zinc-600 uppercase mb-2",children:"Flow"}),l.jsx(C,{onClick:()=>x("terminal","Start"),icon:O1,label:"Start",colorClass:"text-emerald-400"}),l.jsx(C,{onClick:()=>x("terminal","End"),icon:U1,label:"End",colorClass:"text-red-400"}),l.jsx(C,{onClick:()=>x("process","Action"),icon:Tc,label:"Process",colorClass:"text-blue-400"}),l.jsx(C,{onClick:()=>x("decision","Condition?"),icon:g1,label:"Decision",colorClass:"text-purple-400"}),l.jsx("div",{className:"w-10 h-px bg-zinc-800 my-2"}),l.jsx("div",{className:"text-[10px] font-bold text-zinc-600 uppercase mb-2",children:"Data"}),l.jsx(C,{onClick:()=>x("io","Input/Output"),icon:l1,label:"I/O",colorClass:"text-orange-400"}),l.jsx(C,{onClick:()=>x("database","Database"),icon:m1,label:"Data",colorClass:"text-zinc-300"}),l.jsx(C,{onClick:()=>x("event","On Trigger"),icon:z1,label:"Event",colorClass:"text-yellow-400"}),l.jsx("div",{className:"w-10 h-px bg-zinc-800 my-2"}),l.jsx(C,{onClick:()=>x("note","Add comment..."),icon:H1,label:"Note",colorClass:"text-yellow-200"})]}),l.jsx("div",{className:"flex-1 h-full w-full relative",children:l.jsxs(gg,{nodes:i,edges:c,onNodesChange:a,onEdgesChange:d,onConnect:f,onNodeDoubleClick:N,onEdgeDoubleClick:_,nodeTypes:b,fitView:!0,className:"bg-zinc-900",deleteKeyCode:["Backspace","Delete"],connectionMode:mr.Loose,children:[l.jsx(h_,{variant:rn.Dots,gap:24,size:1,color:"#3f3f46"}),l.jsx(a_,{className:"bg-zinc-800 border-zinc-700 fill-zinc-200 text-zinc-200 [&>button]:border-zinc-700 [&>button:hover]:bg-zinc-700"}),l.jsx(e_,{nodeStrokeColor:"#52525b",nodeColor:"#18181b",maskColor:"rgba(9, 9, 11, 0.6)",className:"bg-zinc-950 border border-zinc-800 rounded-lg overflow-hidden"})]})})]})]})},k_=e=>l.jsx(fd,{children:l.jsx(b_,{...e})}),N_="application/x-gdpm-file-id",__=(e,t,n)=>{var a;const r=c=>{if(!c)return"";if(c.startsWith("asset://")){const u=c.replace("asset://","");return t[u]||c}return c},s=e.split(`
`);let i="",o=!1;for(let c=0;c<s.length;c++){let u=s[c];if(u.trim().startsWith("```")){o=!o,i+=o?'<div class="bg-zinc-950 p-4 rounded-lg my-4 border border-zinc-800 font-mono text-sm text-zinc-300 overflow-x-auto"><pre>':"</pre></div>";continue}if(o){const m=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");i+=`${m}
`;continue}if(u.startsWith("# ")){i+=`<h1 class="text-3xl font-bold text-zinc-100 mb-4 pb-2 border-b border-zinc-800 mt-6">${kr(u.slice(2),t,n)}</h1>`;continue}if(u.startsWith("## ")){i+=`<h2 class="text-2xl font-semibold text-zinc-100 mb-3 mt-8">${kr(u.slice(3),t,n)}</h2>`;continue}if(u.startsWith("### ")){i+=`<h3 class="text-xl font-medium text-zinc-200 mb-2 mt-6">${kr(u.slice(4),t,n)}</h3>`;continue}if(u.startsWith("> ")){i+=`<blockquote class="border-l-4 border-blue-500 pl-4 py-2 my-4 text-zinc-400 italic bg-zinc-800/30 rounded-r">${kr(u.slice(2),t,n)}</blockquote>`;continue}if(u.match(/^\s*-\s/)){i+=`<div class="flex gap-2 ml-4 mb-1 text-zinc-300"><span class="text-zinc-500"></span><span>${kr(u.replace(/^\s*-\s/,""),t,n)}</span></div>`;continue}if(u.match(/^\s*\d+\.\s/)){const m=((a=u.match(/^\s*(\d+)\./))==null?void 0:a[1])||"1";i+=`<div class="flex gap-2 ml-4 mb-1 text-zinc-300"><span class="text-zinc-500 font-mono">${m}.</span><span>${kr(u.replace(/^\s*\d+\.\s/,""),t,n)}</span></div>`;continue}const d=u.match(/^!\[(.*?)\]\((.*?)\)$/);if(d){const[m,y,h]=d,v=r(h),g=v.startsWith("data:video")||h.match(/\.(mp4|webm|mov)$/i),b=v.startsWith("data:audio")||h.match(/\.(mp3|wav|ogg)$/i);g?i+=`<div class="my-6"><video controls src="${v}" class="max-w-full rounded-lg shadow-lg border border-zinc-800 bg-black max-h-[500px]"></video><div class="text-xs text-zinc-500 mt-2 text-center italic">${y}</div></div>`:b?i+=`<div class="my-4 p-4 bg-zinc-800/50 rounded-lg border border-zinc-800 flex flex-col gap-2"><div class="text-xs text-zinc-400 flex items-center gap-2 font-mono uppercase"><span class="w-2 h-2 rounded-full bg-purple-500"></span> ${y||"Audio Track"}</div><audio controls src="${v}" class="w-full h-8"></audio></div>`:i+=`<div class="my-6"><img src="${v}" alt="${y}" class="max-w-full rounded-lg shadow-lg border border-zinc-800" /><div class="text-xs text-zinc-500 mt-2 text-center italic">${y}</div></div>`;continue}if(u.trim()==="---"||u.trim()==="***"){i+='<hr class="border-zinc-800 my-8" />';continue}if(u.trim()===""){i+='<div class="h-4"></div>';continue}i+=`<p class="mb-2 leading-relaxed text-zinc-300">${kr(u,t,n)}</p>`}return i},kr=(e,t,n)=>{let r=e;return r=r.replace(/\*\*(.*?)\*\*/g,'<strong class="text-zinc-100 font-bold">$1</strong>'),r=r.replace(/\*(.*?)\*/g,'<em class="text-zinc-200 italic">$1</em>'),r=r.replace(/~~(.*?)~~/g,'<s class="opacity-60 text-zinc-500 decoration-zinc-500">$1</s>'),r=r.replace(/<u>(.*?)<\/u>/g,'<u class="decoration-blue-500 decoration-2 underline-offset-4">$1</u>'),r=r.replace(/<span style="color: (.*?)">(.*?)<\/span>/g,'<span style="color: $1">$2</span>'),r=r.replace(/`([^`]+)`/g,'<code class="bg-zinc-800 text-red-400 px-1.5 py-0.5 rounded text-sm font-mono border border-zinc-700/50">$1</code>'),r=r.replace(/\[(.*?)\]\((.*?)\)/g,(s,i,o)=>{if(o.startsWith("file://")){const a=o.replace("file://",""),c=n.get(a);return`<a href="${o}" data-file-id="${a}" class="${c?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"} hover:underline cursor-pointer transition-colors">${i||c||"Open file"}</a>`}return`<a href="${o}" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-300 hover:underline cursor-pointer transition-colors">${i}</a>`}),r},S_=({initialContent:e,onSave:t,fileName:n,assets:r={},onAddAsset:s,projectFiles:i=[],activeFileId:o,onOpenFile:a})=>{const[c,u]=D.useState(e),[d,m]=D.useState("edit"),[y,h]=D.useState(!1),[v,g]=D.useState(""),[b,f]=D.useState(!1),[x,k]=D.useState("#ef4444"),[N,_]=D.useState(!1),[C,j]=D.useState(""),[R,A]=D.useState("saved"),B=D.useRef(e),K=D.useRef(null),T=D.useRef(null),$=D.useRef(null),p=D.useRef(null),O=D.useRef(null),W=ie.useMemo(()=>new Map(i.map(ee=>[ee.id,ee.name])),[i]),U=ie.useMemo(()=>i.filter(ee=>ee.id!==o).sort((ee,ce)=>ee.name.localeCompare(ce.name,void 0,{sensitivity:"base"})),[i,o]),V=ie.useMemo(()=>{const ee=C.trim().toLowerCase();return ee?U.filter(ce=>ce.name.toLowerCase().includes(ee)||ce.id.toLowerCase().includes(ee)):U},[U,C]);D.useEffect(()=>{e!==c&&e!==B.current&&(u(e),B.current=e)},[e]),D.useEffect(()=>{if(d==="edit")return;const ee=setTimeout(()=>{g(__(c,r,W))},500);return()=>clearTimeout(ee)},[c,r,W,d]),D.useEffect(()=>{U.length>0||(_(!1),j(""))},[U]),D.useEffect(()=>{if(c===B.current)return;A("unsaved");const ee=setTimeout(I,1500);return()=>clearTimeout(ee)},[c]),D.useEffect(()=>{const ee=ce=>{const w=ce.target;$.current&&!$.current.contains(w)&&f(!1),p.current&&!p.current.contains(w)&&(_(!1),j(""))};if(!(!b&&!N))return document.addEventListener("mousedown",ee),()=>document.removeEventListener("mousedown",ee)},[b,N]),D.useEffect(()=>{const ee=ce=>{(ce.ctrlKey||ce.metaKey)&&ce.key==="s"&&(ce.preventDefault(),I())};return window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)},[c]);const I=()=>{A("saving"),t(c),B.current=c,setTimeout(()=>A("saved"),500)},G=()=>{confirm("Are you sure you want to clear the entire document?")&&u("")},M=(ee,ce="")=>{const w=K.current;if(!w){u(F=>`${F}${F&&!F.endsWith(`
`)?`
`:""}${ee}${ce}`),d==="preview"&&m("edit");return}const E=w.selectionStart,H=w.selectionEnd,S=w.value.substring(E,H),z=w.value.substring(0,E)+ee+S+ce+w.value.substring(H);u(z),setTimeout(()=>{w.focus(),w.setSelectionRange(E+ee.length,H+ee.length)},0)},P=async ee=>{var w;const ce=(w=ee.target.files)==null?void 0:w[0];if(!(!ce||!s)){h(!0);try{const E=await s(ce),H=ce.name.replace(/[\[\]\(\)]/g,"");M(`
![${H}](${E})
`)}catch(E){console.error("Upload failed",E),alert("Failed to add media.")}finally{h(!1),T.current&&(T.current.value="")}}},se=ee=>{M(`<span style="color: ${ee}">`,"</span>"),f(!1)},Q=ee=>{const ce=i.find(w=>w.id===ee);ce&&(M(`[${ce.name}](file://${ce.id})`),_(!1),j(""))},J=()=>{U.length!==0&&(f(!1),_(ee=>!ee),j(""))},ve=ee=>{var z;const ce=ee.dataTransfer.getData(N_);if(ce)try{const F=JSON.parse(ce);if(F!=null&&F.id)return{id:F.id,name:F.name||((z=i.find(ne=>ne.id===F.id))==null?void 0:z.name)||"Linked File"}}catch{const F=i.find(ne=>ne.id===ce);if(F)return{id:F.id,name:F.name}}const w=ee.dataTransfer.getData("text/uri-list");if(w!=null&&w.startsWith("file://")){const F=w.replace("file://","").trim(),ne=i.find(oe=>oe.id===F);if(ne)return{id:ne.id,name:ne.name}}const E=ee.dataTransfer.getData("text/plain"),H=E.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(H){const F=H[2],ne=i.find(oe=>oe.id===F);if(ne)return{id:ne.id,name:ne.name}}const S=i.find(F=>F.id===E.trim());return S?{id:S.id,name:S.name}:null},Ee=ee=>{ve(ee)&&(ee.preventDefault(),ee.dataTransfer.dropEffect="copy")},ke=ee=>{const ce=ve(ee);ce&&(ee.preventDefault(),M(`[${ce.name}](file://${ce.id})`))},ze=ee=>{const w=ee.target.closest("a[data-file-id]");if(!w)return;ee.preventDefault();const E=w.dataset.fileId;!E||!a||a(E)},q=({icon:ee,onClick:ce,title:w,active:E=!1,disabled:H=!1,color:S})=>l.jsx("button",{onClick:ce,disabled:H,className:`p-1.5 rounded-md transition-all flex items-center justify-center shrink-0 ${E?"bg-blue-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800"} ${H?"opacity-50 cursor-not-allowed":""}`,title:w,children:l.jsx(ee,{className:`w-4 h-4 ${S}`})}),ue=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#a855f7","#ec4899","#71717a","#ffffff"];return l.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[l.jsxs("div",{className:"min-h-[3.5rem] border-b border-zinc-800 flex flex-wrap items-center justify-between px-4 py-2 bg-zinc-950/90 backdrop-blur-sm sticky top-0 z-30 shrink-0 gap-y-2",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[l.jsx("h3",{className:"text-zinc-200 font-medium mr-2 truncate shrink-0 max-w-[150px]",children:n}),l.jsx("div",{className:"h-6 w-px bg-zinc-800 hidden sm:block shrink-0"}),l.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[l.jsx(q,{icon:u1,onClick:()=>M("**","**"),title:"Bold"}),l.jsx(q,{icon:C1,onClick:()=>M("*","*"),title:"Italic"}),l.jsx(q,{icon:Y1,onClick:()=>M("<u>","</u>"),title:"Underline"}),l.jsx(q,{icon:W1,onClick:()=>M("~~","~~"),title:"Strikethrough"}),l.jsxs("div",{className:"relative",ref:p,children:[l.jsx(q,{icon:P1,onClick:()=>f(!b),title:"Text Color",color:"text-pink-400",active:b}),b&&l.jsxs("div",{ref:$,className:"absolute top-full left-0 mt-2 bg-zinc-900 border border-zinc-700 rounded-xl shadow-xl p-3 z-50 w-48 flex flex-col gap-3 animate-in fade-in slide-in-from-top-2 duration-200",children:[l.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:ue.map(ee=>l.jsx("button",{onClick:()=>se(ee),className:"w-6 h-6 rounded-full border border-zinc-700 hover:scale-110 transition-transform shadow-sm",style:{backgroundColor:ee},title:ee},ee))}),l.jsx("div",{className:"h-px bg-zinc-800 w-full"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"color",value:x,onChange:ee=>k(ee.target.value),className:"w-8 h-8 rounded cursor-pointer border-0 p-0 bg-transparent"}),l.jsx("button",{onClick:()=>se(x),className:"flex-1 bg-zinc-800 hover:bg-zinc-700 text-xs text-white py-1.5 rounded transition-colors",children:"Apply"})]})]})]}),l.jsx("div",{className:"w-px h-4 bg-zinc-800 mx-1"}),l.jsx(q,{icon:_1,onClick:()=>M("# "),title:"Heading 1"}),l.jsx(q,{icon:S1,onClick:()=>M("## "),title:"Heading 2"}),l.jsx(q,{icon:T1,onClick:()=>M("- "),title:"Bullet List"}),l.jsx(q,{icon:$1,onClick:()=>M("> "),title:"Quote"}),l.jsx(q,{icon:$0,onClick:()=>M("```\n","\n```"),title:"Code Block"}),l.jsxs("div",{className:"relative",children:[l.jsx(q,{icon:$a,onClick:J,title:U.length===0?"No files available to link":"Insert File Link",color:"text-cyan-400",disabled:U.length===0,active:N}),N&&l.jsxs("div",{className:"absolute left-0 top-full mt-2 z-50 w-72 rounded-lg border border-zinc-700 bg-zinc-900 p-2 shadow-xl",children:[l.jsx("input",{type:"text",value:C,onChange:ee=>j(ee.target.value),placeholder:"Search files...",className:"mb-2 w-full rounded border border-zinc-700 bg-zinc-950 px-2 py-1.5 text-xs text-zinc-200 focus:border-zinc-500 focus:outline-none",autoFocus:!0}),l.jsx("div",{className:"max-h-48 space-y-1 overflow-y-auto custom-scrollbar",children:V.length===0?l.jsx("p",{className:"px-2 py-2 text-xs text-zinc-500",children:"No matching files."}):V.map(ee=>l.jsxs("button",{type:"button",onClick:()=>Q(ee.id),className:"flex w-full items-center justify-between rounded px-2 py-1.5 text-left text-xs text-zinc-300 transition hover:bg-zinc-800 hover:text-white",title:ee.id,children:[l.jsx("span",{className:"truncate pr-2",children:ee.name}),l.jsx("span",{className:"text-[10px] text-zinc-500",children:ee.id.slice(0,8)})]},ee.id))})]})]}),l.jsx("div",{className:"w-px h-4 bg-zinc-800 mx-1"}),l.jsx("input",{type:"file",ref:T,className:"hidden",accept:"image/*,video/*,audio/*",onChange:P}),l.jsx(q,{icon:Os,onClick:()=>{var ee;return(ee=T.current)==null?void 0:ee.click()},title:"Insert Image",color:"text-emerald-400"}),l.jsx(q,{icon:X1,onClick:()=>{var ee;return(ee=T.current)==null?void 0:ee.click()},title:"Insert Video",color:"text-blue-400"}),l.jsx(q,{icon:M1,onClick:()=>{var ee;return(ee=T.current)==null?void 0:ee.click()},title:"Insert Audio",color:"text-purple-400"})]})]}),l.jsxs("div",{className:"flex items-center gap-3 shrink-0 ml-auto",children:[l.jsxs("div",{className:"flex items-center mr-2 hidden sm:flex",children:[R==="saving"&&l.jsx("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:l.jsx(Vr,{className:"w-3 h-3 animate-spin"})}),R==="saved"&&l.jsx("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:l.jsx(vr,{className:"w-3 h-3"})}),R==="unsaved"&&l.jsx("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:l.jsx(Rn,{className:"w-3 h-3"})})]}),l.jsxs("div",{className:"flex bg-zinc-800 p-1 rounded-lg border border-zinc-700 hidden sm:flex",children:[l.jsx("button",{onClick:()=>m("edit"),className:`p-1.5 rounded transition-all ${d==="edit"?"bg-zinc-600 text-white":"text-zinc-400"}`,title:"Edit Only",children:l.jsx(Fa,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>m("split"),className:`p-1.5 rounded transition-all ${d==="split"?"bg-zinc-600 text-white":"text-zinc-400"}`,title:"Split View",children:l.jsx(F0,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>m("preview"),className:`p-1.5 rounded transition-all ${d==="preview"?"bg-zinc-600 text-white":"text-zinc-400"}`,title:"Preview Only",children:l.jsx(y1,{className:"w-4 h-4"})})]}),l.jsx("button",{onClick:G,className:"p-2 hover:bg-red-500/10 rounded text-zinc-500 hover:text-red-400 transition-colors",title:"Clear Document",children:l.jsx(an,{className:"w-4 h-4"})}),l.jsx("button",{onClick:I,className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors shadow-lg ${R==="unsaved"?"bg-blue-600 text-white":"bg-zinc-700 text-zinc-200"}`,children:l.jsx(Zr,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[(d==="edit"||d==="split")&&l.jsx("div",{className:`h-full flex flex-col ${d==="split"?"w-1/2 border-r border-zinc-800":"w-full"}`,children:l.jsx("textarea",{ref:K,className:"w-full h-full bg-zinc-950 p-6 text-zinc-300 font-mono text-sm resize-none focus:outline-none leading-relaxed custom-scrollbar selection:bg-blue-500/30",value:c,onChange:ee=>u(ee.target.value),onDragOver:Ee,onDrop:ke,placeholder:"# Start writing...",spellCheck:!1})}),(d==="preview"||d==="split")&&l.jsx("div",{className:`h-full overflow-auto custom-scrollbar bg-zinc-900 ${d==="split"?"w-1/2":"w-full"}`,children:l.jsx("div",{ref:O,onClick:ze,className:"max-w-3xl mx-auto p-8 prose prose-invert prose-headings:border-b-0",dangerouslySetInnerHTML:{__html:v}})})]})]})},z_="application/x-gdpm-file-id",E_=["General","Design","Programming","Art","Audio","QA","Production"],Jr=({value:e,onChange:t,options:n,className:r="",selectClassName:s="",disabled:i=!1})=>l.jsxs("div",{className:`relative ${r}`,children:[l.jsx("select",{value:e,onChange:o=>t(o.target.value),disabled:i,className:`w-full appearance-none rounded-md border border-zinc-700 bg-zinc-900 px-2 py-1.5 pr-7 text-xs text-zinc-200 transition focus:border-zinc-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 ${s}`,children:n.map(o=>l.jsx("option",{value:o.value,className:"bg-zinc-900 text-zinc-200",children:o.label},o.value))}),l.jsx(Wu,{className:"pointer-events-none absolute right-2 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-zinc-500"})]}),j_=({initialContent:e,onSave:t,fileName:n,projectFiles:r=[],onOpenFile:s,activeFileId:i})=>{const[o,a]=D.useState(()=>((e==null?void 0:e.items)||[]).map(Ne=>({...Ne,status:Ne.status||(Ne.completed?"Done":"To Do")}))),[c,u]=D.useState("saved"),d=D.useRef(JSON.stringify(o)),[m,y]=D.useState(null),[h,v]=D.useState(null),[g,b]=D.useState(""),[f,x]=D.useState("Medium"),[k,N]=D.useState(""),[_,C]=D.useState("General"),[j,R]=D.useState("To Do"),[A,B]=D.useState(""),[K,T]=D.useState(""),[$,p]=D.useState(""),[O,W]=D.useState(""),[U,V]=D.useState(!1),[I,G]=D.useState(""),[M,P]=D.useState("All"),[se,Q]=D.useState("All"),[J,ve]=D.useState("All"),[Ee,ke]=D.useState("All"),[ze,q]=D.useState("Newest"),[ue,ee]=D.useState(null),[ce,w]=D.useState(""),[E,H]=D.useState(null),[S,z]=D.useState(""),[F,ne]=D.useState(null),[oe,Y]=D.useState(""),fe=D.useRef(null),Se=ie.useMemo(()=>new Map(r.map(ae=>[ae.id,ae.name])),[r]),me=ie.useMemo(()=>r.filter(ae=>ae.id!==i).sort((ae,Ne)=>ae.name.localeCompare(Ne.name,void 0,{sensitivity:"base"})),[r,i]),De=ie.useMemo(()=>{const ae=oe.trim().toLowerCase();return ae?me.filter(Ne=>Ne.name.toLowerCase().includes(ae)||Ne.id.toLowerCase().includes(ae)):me},[me,oe]);ie.useMemo(()=>Array.from(new Set(o.map(ae=>(ae.assignee||"").trim()).filter(Boolean))).sort((ae,Ne)=>ae.localeCompare(Ne,void 0,{sensitivity:"base"})),[o]);const Oe=ie.useMemo(()=>Array.from(new Set([...E_,...o.map(ae=>ae.category||"General")])).sort((ae,Ne)=>ae.localeCompare(Ne,void 0,{sensitivity:"base"})),[o]),Le=["To Do","In Progress","Done"];D.useEffect(()=>{const Ne=((e==null?void 0:e.items)||[]).map(Te=>({...Te,status:Te.status||(Te.completed?"Done":"To Do")}));a(Ne),d.current=JSON.stringify(Ne)},[e]),D.useEffect(()=>{if(!F)return;const ae=Ne=>{const Te=Ne.target;Te!=null&&Te.closest('[data-link-picker-toggle="true"]')||fe.current&&(fe.current.contains(Ne.target)||(ne(null),Y("")))};return document.addEventListener("mousedown",ae),()=>document.removeEventListener("mousedown",ae)},[F]),D.useEffect(()=>{F&&ue!==F&&(ne(null),Y(""))},[ue,F]),D.useEffect(()=>{if(JSON.stringify(o)===d.current)return;u("unsaved");const Ne=setTimeout(()=>Ge(),2e3);return()=>clearTimeout(Ne)},[o]),D.useEffect(()=>{const ae=Ne=>{(Ne.ctrlKey||Ne.metaKey)&&Ne.key==="s"&&(Ne.preventDefault(),Ge())};return window.addEventListener("keydown",ae),()=>window.removeEventListener("keydown",ae)},[o]);const Ge=()=>{u("saving"),t({items:o}),d.current=JSON.stringify(o),setTimeout(()=>u("saved"),500)},mt=ae=>{if(ae&&ae.preventDefault(),!g.trim())return;const Ne=K.trim()?Number(K.trim()):void 0,Te=Pe($),be={id:crypto.randomUUID(),text:g.trim(),completed:j==="Done",status:j,priority:f,dueDate:k||void 0,category:_,assignee:A.trim()||void 0,estimateHours:typeof Ne=="number"&&!Number.isNaN(Ne)?Ne:void 0,tags:Te.length?Te:void 0,description:O,subTasks:[]};a([be,...o]),b(""),R("To Do"),x("Medium"),N(""),C("General"),B(""),T(""),p(""),W(""),V(!1)},Ue=()=>{V(!0)},X=()=>{V(!1),b(""),R("To Do"),x("Medium"),N(""),C("General"),B(""),T(""),p(""),W("")},te=(ae,Ne)=>{ae.stopPropagation(),confirm("Delete this task?")&&a(o.filter(Te=>Te.id!==Ne))},de=ae=>{const Ne=o.find(be=>be.id===ae);if(!Ne)return;const Te={...Ne,id:crypto.randomUUID(),text:`${Ne.text} (Copy)`,subTasks:(Ne.subTasks||[]).map(be=>({...be,id:crypto.randomUUID()}))};a([Te,...o])},ge=(ae,Ne)=>{a(o.map(Te=>Te.id===ae?{...Te,status:Ne,completed:Ne==="Done"}:Te))},ye=(ae,Ne)=>{a(o.map(Te=>Te.id===ae?{...Te,description:Ne}:Te))},pe=(ae,Ne)=>{a(o.map(Te=>Te.id===ae?{...Te,...Ne}:Te))},Pe=ae=>Array.from(new Set(ae.split(",").map(Ne=>Ne.trim()).filter(Boolean))).slice(0,8),$e=ae=>{H(ae.id),z(ae.text)},Fe=()=>{if(!E)return;const ae=S.trim();ae&&pe(E,{text:ae}),H(null),z("")},Ze=()=>{H(null),z("")},ut=(ae,Ne)=>{const Te=r.find(We=>We.id===Ne);if(!Te)return;const be=`[${Te.name}](file://${Te.id})`;a(We=>We.map(ot=>ot.id===ae?{...ot,description:`${ot.description||""}${ot.description?`
`:""}${be}`}:ot)),ne(null),Y("")},Je=ae=>{me.length!==0&&(ne(Ne=>Ne===ae?null:ae),Y(""))},re=ae=>{var En;const Ne=ae.dataTransfer.getData(z_);if(Ne)try{const et=JSON.parse(Ne);if(et!=null&&et.id)return{id:et.id,name:et.name||((En=r.find(Ae=>Ae.id===et.id))==null?void 0:En.name)||"Linked File"}}catch{const et=r.find(Ae=>Ae.id===Ne);if(et)return{id:et.id,name:et.name}}const Te=ae.dataTransfer.getData("text/uri-list");if(Te!=null&&Te.startsWith("file://")){const et=Te.replace("file://","").trim(),Ae=r.find(br=>br.id===et);if(Ae)return{id:Ae.id,name:Ae.name}}const be=ae.dataTransfer.getData("text/plain"),We=be.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(We!=null&&We[2]){const et=r.find(Ae=>Ae.id===We[2]);if(et)return{id:et.id,name:et.name}}const ot=r.find(et=>et.id===be.trim());return ot?{id:ot.id,name:ot.name}:null},he=ae=>{re(ae)&&(ae.preventDefault(),ae.dataTransfer.dropEffect="copy")},Re=(ae,Ne)=>{const Te=re(ae);if(!Te)return;ae.preventDefault();const be=`[${Te.name}](file://${Te.id})`;a(o.map(We=>We.id===Ne?{...We,description:`${We.description||""}${We.description?`
`:""}${be}`}:We))},L=ae=>{const Ne=[],Te=/\[([^\]]+)\]\(file:\/\/([^)]+)\)/g;let be=0,We=null;for(;(We=Te.exec(ae))!==null;){We.index>be&&Ne.push(l.jsx("span",{children:ae.slice(be,We.index)},`txt-${be}`));const ot=We[2],En=Se.has(ot);Ne.push(l.jsx("button",{onClick:et=>{et.stopPropagation(),s==null||s(ot)},className:`underline underline-offset-2 ${En?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"}`,title:En?`Open ${Se.get(ot)}`:"Linked file not found",children:We[1]},`lnk-${ot}-${We.index}`)),be=Te.lastIndex}return be<ae.length&&Ne.push(l.jsx("span",{children:ae.slice(be)},`txt-end-${be}`)),Ne.length?Ne:ae},Z=ae=>{if(!ce.trim())return;const Ne={id:crypto.randomUUID(),text:ce.trim(),completed:!1};a(o.map(Te=>Te.id===ae?{...Te,subTasks:[...Te.subTasks||[],Ne]}:Te)),w("")},le=(ae,Ne)=>{a(o.map(Te=>Te.id===ae&&Te.subTasks?{...Te,subTasks:Te.subTasks.map(be=>be.id===Ne?{...be,completed:!be.completed}:be)}:Te))},xe=(ae,Ne)=>{a(o.map(Te=>Te.id===ae&&Te.subTasks?{...Te,subTasks:Te.subTasks.filter(be=>be.id!==Ne)}:Te))},we=(ae,Ne)=>{y(Ne),ae.dataTransfer.effectAllowed="move",ae.dataTransfer.setData("text/plain",Ne)},Ie=(ae,Ne)=>{ae.preventDefault(),h!==Ne&&v(Ne)},Xe=(ae,Ne)=>{ae.preventDefault(),v(null);const Te=ae.dataTransfer.getData("text/plain");Te&&Te===m&&ge(Te,Ne),y(null)},Ye=ae=>{switch(ae){case"High":return"text-red-400 bg-red-400/10 border-red-400/20";case"Medium":return"text-yellow-400 bg-yellow-400/10 border-yellow-400/20";case"Low":return"text-blue-400 bg-blue-400/10 border-blue-400/20"}},qe=ae=>{switch(ae){case"To Do":return"border-t-zinc-600";case"In Progress":return"border-t-blue-500";case"Done":return"border-t-emerald-500"}},ln={High:3,Medium:2,Low:1},zn=new Map(o.map((ae,Ne)=>[ae.id,Ne])),Gr=[...o].filter(ae=>{if(I){const Ne=I.toLowerCase();if(![ae.text,ae.description||"",ae.assignee||"",ae.category||"",...ae.tags||[]].join(" ").toLowerCase().includes(Ne))return!1}if(M!=="All"&&ae.priority!==M||se!=="All"&&ae.status!==se||J!=="All"&&(ae.category||"General")!==J)return!1;if(Ee!=="All"){if(Ee==="Unassigned"){if((ae.assignee||"").trim())return!1}else if((ae.assignee||"").trim()!==Ee)return!1}return!0}).sort((ae,Ne)=>{const Te=zn.get(ae.id)??0,be=zn.get(Ne.id)??0;switch(ze){case"Oldest":return be-Te;case"Priority":return ln[Ne.priority]-ln[ae.priority];case"Due Date":{const We=ae.dueDate?new Date(ae.dueDate).getTime():Number.POSITIVE_INFINITY,ot=Ne.dueDate?new Date(Ne.dueDate).getTime():Number.POSITIVE_INFINITY;return We-ot}case"Effort":{const We=typeof ae.estimateHours=="number"?ae.estimateHours:Number.POSITIVE_INFINITY,ot=typeof Ne.estimateHours=="number"?Ne.estimateHours:Number.POSITIVE_INFINITY;return We-ot}case"Alphabetical":return ae.text.localeCompare(Ne.text,void 0,{sensitivity:"base"});case"Newest":default:return Te-be}}),wr=se==="All"?Le:[se];return l.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[l.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-10 shrink-0",children:[l.jsx("h3",{className:"text-zinc-200 font-medium",children:n}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center mr-2",children:[c==="saving"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[l.jsx(Vr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),c==="saved"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[l.jsx(vr,{className:"w-3 h-3"})," Saved"]}),c==="unsaved"&&l.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[l.jsx(Rn,{className:"w-3 h-3"})," Unsaved"]})]}),l.jsxs("button",{onClick:Ue,className:"flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors border border-zinc-700 bg-zinc-800 hover:bg-zinc-700 text-zinc-200",children:[l.jsx(Ln,{className:"w-4 h-4"})," Add Task"]}),l.jsxs("button",{onClick:Ge,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${c==="unsaved"?"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[l.jsx(Zr,{className:"w-4 h-4"})," Save"]})]})]}),l.jsx("div",{className:"flex-1 overflow-x-auto p-6 bg-zinc-900",children:l.jsx("div",{className:`flex gap-6 h-full ${wr.length===1?"min-w-[320px]":"min-w-[900px]"}`,children:wr.map(ae=>{const Ne=Gr.filter(be=>be.status===ae),Te=h===ae;return l.jsxs("div",{onDragOver:be=>Ie(be,ae),onDrop:be=>Xe(be,ae),className:`flex-1 flex flex-col min-w-[280px] bg-zinc-950/50 rounded-xl border transition-colors ${Te?"border-blue-500/50 bg-zinc-900":"border-zinc-800"}`,children:[l.jsxs("div",{className:`p-4 border-b border-zinc-800 flex justify-between items-center rounded-t-xl border-t-4 ${qe(ae)} bg-zinc-900`,children:[l.jsx("h4",{className:"font-semibold text-zinc-300 text-sm tracking-wide",children:ae}),l.jsx("span",{className:"bg-zinc-800 text-zinc-500 text-xs px-2 py-0.5 rounded-full font-medium",children:Ne.length})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 custom-scrollbar",children:[Ne.map(be=>{const We=be.subTasks||[],ot=We.filter(Ae=>Ae.completed).length,En=We.length>0?ot/We.length*100:0,et=ue===be.id;return l.jsxs("div",{draggable:!0,onDragStart:Ae=>we(Ae,be.id),className:`group bg-zinc-900 border border-zinc-800 rounded-lg p-3 shadow-sm hover:border-zinc-700 hover:shadow-md transition-all cursor-grab active:cursor-grabbing ${m===be.id?"opacity-50 grayscale":"opacity-100"}`,children:[l.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[l.jsx("button",{onClick:()=>ge(be.id,be.status==="Done"?"To Do":"Done"),className:`mt-0.5 shrink-0 transition-colors ${be.status==="Done"?"text-emerald-500":"text-zinc-600 hover:text-emerald-500"}`,children:be.status==="Done"?l.jsx(Ti,{className:"w-5 h-5"}):l.jsx(Tc,{className:"w-5 h-5"})}),l.jsx("div",{className:"flex-1 min-w-0",children:E===be.id?l.jsx("input",{autoFocus:!0,value:S,onChange:Ae=>z(Ae.target.value),onBlur:Fe,onKeyDown:Ae=>{Ae.key==="Enter"&&Fe(),Ae.key==="Escape"&&Ze()},className:"w-full bg-zinc-950 border border-zinc-700 rounded px-2 py-1 text-sm text-zinc-100 focus:outline-none"}):l.jsx("p",{onDoubleClick:()=>$e(be),title:"Double-click to rename task",className:`text-sm font-medium leading-snug break-words cursor-text ${be.status==="Done"?"text-zinc-500 line-through":"text-zinc-200"}`,children:be.text})}),l.jsx("button",{onClick:()=>ee(et?null:be.id),className:"text-zinc-600 hover:text-white transition-colors",children:et?l.jsx(h1,{className:"w-4 h-4"}):l.jsx(A1,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[l.jsx("span",{className:`text-[10px] uppercase font-bold px-1.5 py-0.5 rounded border ${Ye(be.priority)}`,children:be.priority}),l.jsx("span",{className:"text-[10px] text-zinc-400 bg-zinc-950 border border-zinc-800 px-1.5 py-0.5 rounded",children:be.category||"General"}),be.dueDate&&l.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-zinc-500 bg-zinc-950 border border-zinc-800 px-1.5 py-0.5 rounded",children:[l.jsx(Uu,{className:"w-3 h-3"})," ",new Date(be.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]}),be.assignee&&l.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-zinc-500 bg-zinc-950 border border-zinc-800 px-1.5 py-0.5 rounded",children:[l.jsx(W0,{className:"w-3 h-3"})," ",be.assignee]}),typeof be.estimateHours=="number"&&l.jsxs("span",{className:"text-[10px] text-zinc-500 bg-zinc-950 border border-zinc-800 px-1.5 py-0.5 rounded",children:[be.estimateHours,"h"]}),be.tags&&be.tags.length>0&&l.jsxs("div",{className:"flex items-center gap-1",children:[be.tags.slice(0,2).map(Ae=>l.jsxs("span",{className:"text-[10px] text-zinc-400 bg-zinc-800 px-1.5 py-0.5 rounded",children:["#",Ae]},`${be.id}-${Ae}`)),be.tags.length>2&&l.jsxs("span",{className:"text-[10px] text-zinc-500",children:["+",be.tags.length-2]})]}),We.length>0&&l.jsxs("div",{className:"flex items-center gap-1.5 ml-auto",children:[l.jsx(D1,{className:"w-3 h-3 text-zinc-500"}),l.jsxs("span",{className:"text-[10px] text-zinc-500 font-medium",children:[ot,"/",We.length]}),l.jsx("div",{className:"w-8 h-1 bg-zinc-800 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-blue-500/80",style:{width:`${En}%`}})})]})]}),et&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-800/50 space-y-3 animate-in fade-in slide-in-from-top-1 duration-200",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[l.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Status"}),l.jsx(Jr,{value:be.status,onChange:Ae=>ge(be.id,Ae),options:[{value:"To Do",label:"To Do"},{value:"In Progress",label:"In Progress"},{value:"Done",label:"Done"}],className:"mt-1",selectClassName:"w-full border-zinc-800 bg-zinc-900"})]}),l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[l.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Priority"}),l.jsx(Jr,{value:be.priority,onChange:Ae=>pe(be.id,{priority:Ae}),options:[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],className:"mt-1",selectClassName:"w-full border-zinc-800 bg-zinc-900"})]}),l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[l.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Due Date"}),l.jsx("input",{type:"date",value:be.dueDate||"",onChange:Ae=>pe(be.id,{dueDate:Ae.target.value||void 0}),className:"mt-1 w-full bg-transparent text-xs text-zinc-200 focus:outline-none [color-scheme:dark]"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[l.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Category"}),l.jsx(Jr,{value:be.category||"General",onChange:Ae=>pe(be.id,{category:Ae}),options:Oe.map(Ae=>({value:Ae,label:Ae})),className:"mt-1",selectClassName:"w-full border-zinc-800 bg-zinc-900"})]}),l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[l.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Assignee"}),l.jsx("input",{type:"text",value:be.assignee||"",onChange:Ae=>pe(be.id,{assignee:Ae.target.value||void 0}),placeholder:"Name",className:"mt-1 w-full bg-transparent text-xs text-zinc-200 focus:outline-none"})]}),l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[l.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Effort (Hours)"}),l.jsx("input",{type:"number",min:"0.5",step:"0.5",value:be.estimateHours??"",onChange:Ae=>{const br=Ae.target.value.trim();pe(be.id,{estimateHours:br?Number(br):void 0})},placeholder:"e.g. 2",className:"mt-1 w-full bg-transparent text-xs text-zinc-200 focus:outline-none"})]})]}),l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[l.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Tags"}),l.jsx("input",{type:"text",value:(be.tags||[]).join(", "),onChange:Ae=>pe(be.id,{tags:Pe(Ae.target.value)}),placeholder:"bugfix, polish, ui",className:"mt-1 w-full bg-transparent text-xs text-zinc-200 focus:outline-none"}),l.jsx("p",{className:"mt-1 text-[10px] text-zinc-500",children:"Comma-separated, up to 8 tags."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"relative flex items-center justify-between gap-2",children:[l.jsx("span",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Notes"}),l.jsxs("button",{onClick:()=>Je(be.id),"data-link-picker-toggle":"true",disabled:me.length===0,className:"text-[10px] text-cyan-400 hover:text-cyan-300 flex items-center gap-1 disabled:text-zinc-600 disabled:cursor-not-allowed",title:me.length===0?"No files available to link":"Insert file link",children:[l.jsx($a,{className:"w-3 h-3"})," Link File"]}),F===be.id&&l.jsxs("div",{ref:fe,className:"absolute right-0 top-5 z-20 w-[280px] rounded-md border border-zinc-700 bg-zinc-900 p-2 shadow-lg",children:[l.jsx("input",{type:"text",value:oe,onChange:Ae=>Y(Ae.target.value),placeholder:"Search files...",className:"mb-2 w-full rounded border border-zinc-700 bg-zinc-950 px-2 py-1.5 text-xs text-zinc-200 focus:outline-none focus:border-zinc-500",autoFocus:!0}),l.jsx("div",{className:"max-h-44 overflow-y-auto space-y-1 custom-scrollbar",children:De.length===0?l.jsx("p",{className:"px-2 py-2 text-[11px] text-zinc-500",children:"No matching files."}):De.map(Ae=>l.jsxs("button",{onClick:()=>ut(be.id,Ae.id),className:"flex w-full items-center justify-between rounded px-2 py-1.5 text-left text-xs text-zinc-300 transition hover:bg-zinc-800 hover:text-white",title:Ae.id,children:[l.jsx("span",{className:"truncate pr-2",children:Ae.name}),l.jsx("span",{className:"text-[10px] text-zinc-500",children:Ae.id.slice(0,8)})]},Ae.id))})]})]}),l.jsx("textarea",{value:be.description||"",onChange:Ae=>ye(be.id,Ae.target.value),onDragOver:he,onDrop:Ae=>Re(Ae,be.id),placeholder:"Add notes...",className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-xs text-zinc-300 focus:outline-none focus:border-zinc-700 min-h-[60px] resize-y"}),be.description&&be.description.includes("file://")&&l.jsx("div",{className:"text-xs text-zinc-400 bg-zinc-950 border border-zinc-800 rounded p-2 break-words",children:L(be.description)})]}),l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",value:ce,onChange:Ae=>w(Ae.target.value),onKeyDown:Ae=>{Ae.key==="Enter"&&Z(be.id)},placeholder:"Sub-task...",className:"flex-1 bg-transparent text-xs text-white focus:outline-none"}),l.jsx("button",{onClick:()=>Z(be.id),disabled:!ce.trim(),className:"text-zinc-400 hover:text-white disabled:opacity-30",children:l.jsx(Ln,{className:"w-3 h-3"})})]}),l.jsx("div",{className:"space-y-1",children:We.map(Ae=>l.jsxs("div",{className:"flex items-center gap-2 group/sub",children:[l.jsx("button",{onClick:()=>le(be.id,Ae.id),className:`text-zinc-600 hover:text-blue-500 ${Ae.completed?"text-blue-500":""}`,children:Ae.completed?l.jsx(Ti,{className:"w-3 h-3"}):l.jsx(Tc,{className:"w-3 h-3"})}),l.jsx("span",{className:`text-xs flex-1 truncate ${Ae.completed?"line-through text-zinc-600":"text-zinc-400"}`,children:Ae.text}),l.jsx("button",{onClick:()=>xe(be.id,Ae.id),className:"text-zinc-700 hover:text-red-400 opacity-0 group-hover/sub:opacity-100 transition-opacity",children:l.jsx(an,{className:"w-3 h-3"})})]},Ae.id))})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsxs("button",{onClick:()=>de(be.id),className:"flex items-center gap-1 text-xs text-zinc-300 hover:text-white px-2 py-1 rounded hover:bg-zinc-800 transition-colors",children:[l.jsx(Ln,{className:"w-3 h-3"})," Duplicate"]}),l.jsxs("button",{onClick:Ae=>te(Ae,be.id),className:"flex items-center gap-1 text-xs text-red-400 hover:text-red-300 px-2 py-1 rounded hover:bg-red-900/20 transition-colors",children:[l.jsx(an,{className:"w-3 h-3"})," Delete Task"]})]})]})]},be.id)}),Ne.length===0&&l.jsxs("div",{className:"text-center py-10 opacity-30 text-zinc-500 select-none",children:[l.jsx("p",{className:"text-xs italic",children:"No tasks here"}),l.jsx("p",{className:"text-[11px] mt-1",children:"Use Add Task or drag one into this column."})]})]})]},ae)})})}),U&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-2xl p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Create Task"}),l.jsx("button",{onClick:X,className:"text-zinc-500 hover:text-white",children:l.jsx(Ds,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:mt,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Task Title"}),l.jsx("input",{autoFocus:!0,type:"text",required:!0,value:g,onChange:ae=>b(ae.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all",placeholder:"What needs to be done?"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Status"}),l.jsx(Jr,{value:j,onChange:ae=>R(ae),options:[{value:"To Do",label:"To Do"},{value:"In Progress",label:"In Progress"},{value:"Done",label:"Done"}],selectClassName:"w-full bg-zinc-950 border-zinc-800 p-2.5 text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Priority"}),l.jsx(Jr,{value:f,onChange:ae=>x(ae),options:[{value:"Low",label:"Low"},{value:"Medium",label:"Medium"},{value:"High",label:"High"}],selectClassName:"w-full bg-zinc-950 border-zinc-800 p-2.5 text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Category"}),l.jsx(Jr,{value:_,onChange:C,options:Oe.map(ae=>({value:ae,label:ae})),selectClassName:"w-full bg-zinc-950 border-zinc-800 p-2.5 text-sm"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Due Date"}),l.jsx("input",{type:"date",value:k,onChange:ae=>N(ae.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all [color-scheme:dark]"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Assignee"}),l.jsx("input",{type:"text",value:A,onChange:ae=>B(ae.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all",placeholder:"Optional"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Effort (Hours)"}),l.jsx("input",{type:"number",min:"0.5",step:"0.5",value:K,onChange:ae=>T(ae.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all",placeholder:"e.g. 2"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Tags"}),l.jsx("input",{type:"text",value:$,onChange:ae=>p(ae.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all",placeholder:"ui, polish, animation"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Description"}),l.jsx("textarea",{value:O,onChange:ae=>W(ae.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all min-h-[100px]",placeholder:"Add notes or implementation details..."})]}),l.jsxs("div",{className:"pt-4 border-t border-zinc-800 flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:X,className:"px-4 py-2 text-zinc-400 hover:text-white",children:"Cancel"}),l.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-lg text-sm font-medium transition-colors",children:"Create Task"})]})]})]})})]})},C_="application/x-gdpm-file-id",xh=["General","Gameplay","UI/UX","Audio","Performance","Networking","Build/CI"],D_=({initialContent:e,onSave:t,fileName:n,projectFiles:r=[],onOpenFile:s,activeFileId:i})=>{const[o,a]=D.useState((e==null?void 0:e.tasks)||[]),[c,u]=D.useState("saved"),d=D.useRef(JSON.stringify((e==null?void 0:e.tasks)||[])),[m,y]=D.useState(!1),[h,v]=D.useState(null),[g,b]=D.useState(""),[f,x]=D.useState("All"),[k,N]=D.useState("All"),[_,C]=D.useState("All"),[j,R]=D.useState("Newest"),[A,B]=D.useState(""),[K,T]=D.useState("Medium"),[$,p]=D.useState("Open"),[O,W]=D.useState(""),[U,V]=D.useState(""),[I,G]=D.useState("General"),[M,P]=D.useState(""),[se,Q]=D.useState(!0),[J,ve]=D.useState(""),[Ee,ke]=D.useState(!1),[ze,q]=D.useState(""),ue=D.useRef(null),[ee,ce]=D.useState(null),[w,E]=D.useState(null),H=ie.useMemo(()=>new Map(r.map(re=>[re.id,re.name])),[r]),S=ie.useMemo(()=>r.filter(re=>re.id!==i).sort((re,he)=>re.name.localeCompare(he.name,void 0,{sensitivity:"base"})),[r,i]),z=ie.useMemo(()=>{const re=ze.trim().toLowerCase();return re?S.filter(he=>he.name.toLowerCase().includes(re)||he.id.toLowerCase().includes(re)):S},[S,ze]);D.useEffect(()=>{a((e==null?void 0:e.tasks)||[]),d.current=JSON.stringify((e==null?void 0:e.tasks)||[])},[e]),D.useEffect(()=>{S.length>0||(ke(!1),q(""))},[S]),D.useEffect(()=>{if(!m||!Ee)return;const re=he=>{ue.current&&(ue.current.contains(he.target)||(ke(!1),q("")))};return document.addEventListener("mousedown",re),()=>document.removeEventListener("mousedown",re)},[m,Ee]),D.useEffect(()=>{if(JSON.stringify(o)===d.current)return;u("unsaved");const he=setTimeout(()=>{F()},2e3);return()=>clearTimeout(he)},[o]),D.useEffect(()=>{const re=he=>{(he.ctrlKey||he.metaKey)&&he.key==="s"&&(he.preventDefault(),F())};return window.addEventListener("keydown",re),()=>window.removeEventListener("keydown",re)},[o]);const F=()=>{u("saving"),t({tasks:o}),d.current=JSON.stringify(o),setTimeout(()=>u("saved"),500)},ne=["Open","In Progress","Resolved","Closed"],oe=()=>{B(""),ve(""),T("Medium"),p("Open"),W(""),V(""),G("General"),P(""),Q(!0),ke(!1),q(""),v(null),y(!1)},Y=()=>{v(null),B(""),ve(""),T("Medium"),p("Open"),W(""),V(""),G("General"),P(""),Q(!0),ke(!1),q(""),y(!0)},fe=(re,he)=>{re.stopPropagation(),re.preventDefault(),v(he),B(he.title),ve(he.description),T(he.severity),p(he.status),W(he.assignee||""),V(he.dueDate||""),G(he.category||"General"),P((he.tags||[]).join(", ")),Q(he.reproducible??!0),ke(!1),q(""),y(!0)},Se=re=>Array.from(new Set(re.split(",").map(he=>he.trim()).filter(Boolean))).slice(0,8),me=re=>{if(re.preventDefault(),!A.trim())return;const he=Se(M);if(h)a(Re=>Re.map(L=>L.id===h.id?{...L,title:A,description:J,severity:K,status:$,assignee:O.trim()||void 0,dueDate:U||void 0,category:I,tags:he.length?he:void 0,reproducible:se}:L));else{const Re={id:crypto.randomUUID(),title:A,description:J,severity:K,status:$,createdAt:Date.now(),assignee:O.trim()||void 0,dueDate:U||void 0,category:I,tags:he.length?he:void 0,reproducible:se};a([...o,Re])}oe()},De=(re,he)=>{a(Re=>Re.map(L=>L.id===re?{...L,status:he}:L))},Oe=re=>{confirm("Delete this bug ticket?")&&a(he=>he.filter(Re=>Re.id!==re))},Le=(re,he)=>{ce(he),re.dataTransfer.effectAllowed="move",re.dataTransfer.setData("text/plain",he)},Ge=(re,he)=>{re.preventDefault(),re.dataTransfer.dropEffect="move",w!==he&&E(he)},mt=(re,he)=>{re.preventDefault(),E(null);const Re=re.dataTransfer.getData("text/plain");Re&&Re===ee&&De(Re,he),ce(null)},Ue=()=>{ce(null),E(null)},X=re=>{switch(re){case"Critical":return"bg-red-500 text-white border-red-600";case"High":return"bg-orange-500 text-white border-orange-600";case"Medium":return"bg-yellow-500/20 text-yellow-500 border-yellow-500/40";case"Low":return"bg-blue-500/20 text-blue-500 border-blue-500/40"}},te=re=>re==="Critical"?l.jsx(Rn,{className:"w-3 h-3 fill-white text-red-600"}):l.jsx(Rn,{className:"w-3 h-3"}),de=re=>{const he=r.find(Re=>Re.id===re);he&&(ve(Re=>`${Re}${Re?`
`:""}[${he.name}](file://${he.id})`),ke(!1),q(""))},ge=()=>{S.length!==0&&(ke(re=>!re),q(""))},ye=re=>{var xe;const he=re.dataTransfer.getData(C_);if(he)try{const we=JSON.parse(he);if(we!=null&&we.id)return{id:we.id,name:we.name||((xe=r.find(Ie=>Ie.id===we.id))==null?void 0:xe.name)||"Linked File"}}catch{const we=r.find(Ie=>Ie.id===he);if(we)return{id:we.id,name:we.name}}const Re=re.dataTransfer.getData("text/uri-list");if(Re!=null&&Re.startsWith("file://")){const we=Re.replace("file://","").trim(),Ie=r.find(Xe=>Xe.id===we);if(Ie)return{id:Ie.id,name:Ie.name}}const L=re.dataTransfer.getData("text/plain"),Z=L.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(Z!=null&&Z[2]){const we=r.find(Ie=>Ie.id===Z[2]);if(we)return{id:we.id,name:we.name}}const le=r.find(we=>we.id===L.trim());return le?{id:le.id,name:le.name}:null},pe=re=>{ye(re)&&(re.preventDefault(),re.dataTransfer.dropEffect="copy")},Pe=re=>{const he=ye(re);he&&(re.preventDefault(),ve(Re=>`${Re}${Re?`
`:""}[${he.name}](file://${he.id})`))},$e=re=>{const he=[],Re=/\[([^\]]+)\]\(file:\/\/([^)]+)\)/g;let L=0,Z=null;for(;(Z=Re.exec(re))!==null;){Z.index>L&&he.push(l.jsx("span",{children:re.slice(L,Z.index)},`txt-${L}`));const le=Z[1],xe=Z[2],we=H.get(xe);he.push(l.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),s==null||s(xe)},className:`underline underline-offset-2 ${we?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"}`,title:we?`Open ${we}`:"Linked file not found",children:le},`lnk-${xe}-${Z.index}`)),L=Re.lastIndex}return L<re.length&&he.push(l.jsx("span",{children:re.slice(L)},`txt-end-${L}`)),he.length>0?he:re},Fe=()=>{b(""),x("All"),N("All"),C("All"),R("Newest")},Ze={Critical:4,High:3,Medium:2,Low:1},ut=[...o].filter(re=>{if(f!=="All"&&re.severity!==f||k!=="All"&&re.status!==k||_!=="All"&&(re.category||"General")!==_)return!1;if(g){const he=g.toLowerCase();if(![re.title,re.description,re.assignee||"",re.category||"",...re.tags||[]].join(" ").toLowerCase().includes(he))return!1}return!0}).sort((re,he)=>{switch(j){case"Oldest":return re.createdAt-he.createdAt;case"Severity":return Ze[he.severity]-Ze[re.severity];case"Due Date":{const Re=re.dueDate?new Date(re.dueDate).getTime():Number.POSITIVE_INFINITY,L=he.dueDate?new Date(he.dueDate).getTime():Number.POSITIVE_INFINITY;return Re-L}case"Newest":default:return he.createdAt-re.createdAt}}),Je=k==="All"?ne:[k];return l.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[l.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-10 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg",children:l.jsx(Oa,{className:"w-5 h-5 text-red-500"})}),l.jsx("h3",{className:"text-zinc-200 font-medium",children:n})]}),l.jsx("div",{className:"flex gap-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center mr-2",children:[c==="saving"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[l.jsx(Vr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),c==="saved"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[l.jsx(vr,{className:"w-3 h-3"})," Saved"]}),c==="unsaved"&&l.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[l.jsx(Rn,{className:"w-3 h-3"})," Unsaved"]})]}),l.jsxs("button",{onClick:Y,className:"flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 text-zinc-200 px-4 py-2 rounded-md text-sm font-medium transition-colors border border-zinc-700",children:[l.jsx(Ln,{className:"w-4 h-4"}),"Report Bug"]}),l.jsxs("button",{onClick:F,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${c==="unsaved"?"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[l.jsx(Zr,{className:"w-4 h-4"}),"Save Board"]})]})})]}),l.jsxs("div",{className:"px-6 py-4 border-b border-zinc-800 flex flex-wrap gap-3 items-center bg-zinc-900",children:[l.jsxs("div",{className:"relative w-56",children:[l.jsx(Ba,{className:"w-4 h-4 text-zinc-500 absolute left-3 top-1/2 -translate-y-1/2"}),l.jsx("input",{type:"text",value:g,onChange:re=>b(re.target.value),placeholder:"Search bugs...",className:"w-full bg-zinc-950 border border-zinc-800 rounded-md py-1.5 pl-9 pr-3 text-sm text-zinc-200 focus:outline-none focus:border-zinc-600"})]}),l.jsx("div",{className:"h-6 w-px bg-zinc-800 hidden lg:block"}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[l.jsx(B0,{className:"w-4 h-4"}),l.jsx("span",{children:"Severity:"}),l.jsx("div",{className:"flex gap-1 bg-zinc-950 p-1 rounded-lg border border-zinc-800",children:["All","Low","Medium","High","Critical"].map(re=>l.jsx("button",{onClick:()=>x(re),className:`px-2 py-0.5 rounded text-xs font-medium transition-all ${f===re?"bg-zinc-800 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:re},re))})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-2 py-1.5 text-xs text-zinc-300",children:[l.jsx("span",{children:"Status"}),l.jsxs("select",{value:k,onChange:re=>N(re.target.value),className:"bg-transparent focus:outline-none text-xs text-zinc-200",children:[l.jsx("option",{value:"All",children:"All"}),ne.map(re=>l.jsx("option",{value:re,children:re},re))]})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-2 py-1.5 text-xs text-zinc-300",children:[l.jsx("span",{children:"Category"}),l.jsxs("select",{value:_,onChange:re=>C(re.target.value),className:"bg-transparent focus:outline-none text-xs text-zinc-200",children:[l.jsx("option",{value:"All",children:"All"}),xh.map(re=>l.jsx("option",{value:re,children:re},re))]})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-2 py-1.5 text-xs text-zinc-300",children:[l.jsx(c1,{className:"w-3.5 h-3.5 text-zinc-500"}),l.jsxs("select",{value:j,onChange:re=>R(re.target.value),className:"bg-transparent focus:outline-none text-xs text-zinc-200",children:[l.jsx("option",{value:"Newest",children:"Newest"}),l.jsx("option",{value:"Oldest",children:"Oldest"}),l.jsx("option",{value:"Severity",children:"Severity"}),l.jsx("option",{value:"Due Date",children:"Due Date"})]})]}),l.jsx("button",{onClick:Fe,className:"px-2.5 py-1.5 rounded-md border border-zinc-800 bg-zinc-950 text-xs text-zinc-300 hover:text-white",children:"Reset Filters"}),l.jsxs("div",{className:"ml-auto text-xs text-zinc-500",children:["Showing ",ut.length," of ",o.length," bugs"]})]}),l.jsx("div",{className:"flex-1 overflow-x-auto p-6",children:l.jsx("div",{className:`flex gap-6 h-full ${Je.length===1?"min-w-[320px]":"min-w-[1000px]"}`,children:Je.map(re=>{const he=ut.filter(L=>L.status===re),Re=w===re;return l.jsxs("div",{onDragOver:L=>Ge(L,re),onDrop:L=>mt(L,re),className:`
                    flex-1 flex flex-col min-w-[300px] h-full rounded-xl overflow-hidden transition-all duration-200
                    ${Re?"bg-zinc-900 border-2 border-blue-500/50 shadow-[0_0_30px_-5px_rgba(59,130,246,0.2)]":"bg-zinc-950/50 border border-zinc-800"}
                  `,children:[l.jsxs("div",{className:"p-4 border-b flex justify-between items-center sticky top-0 bg-zinc-900 border-zinc-800",children:[l.jsx("h4",{className:`font-semibold transition-colors ${Re?"text-blue-400":"text-zinc-300"}`,children:re}),l.jsx("span",{className:"text-xs bg-zinc-800 text-zinc-400 px-2 py-1 rounded-full",children:he.length})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 custom-scrollbar",children:[he.map(L=>l.jsxs("div",{draggable:!0,onDragStart:Z=>Le(Z,L.id),onDragEnd:Ue,className:`bg-zinc-900 border border-zinc-800 p-4 rounded-lg shadow-sm hover:border-zinc-700 transition-colors group cursor-grab active:cursor-grabbing ${ee===L.id?"opacity-40 grayscale border-dashed border-zinc-600":"opacity-100"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-2 relative",children:[l.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border flex items-center gap-1 pointer-events-none ${X(L.severity)}`,children:[te(L.severity),L.severity]}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity relative z-20",children:[l.jsx("button",{onClick:Z=>fe(Z,L),className:"p-1 text-zinc-500 hover:text-blue-400 hover:bg-zinc-800 rounded cursor-pointer",title:"Edit Bug",children:l.jsx(L1,{className:"w-4 h-4"})}),l.jsx("button",{onClick:Z=>{Z.preventDefault(),Z.stopPropagation(),Oe(L.id)},className:"p-1 text-zinc-500 hover:text-red-400 hover:bg-zinc-800 rounded cursor-pointer",title:"Delete Bug",children:l.jsx(an,{className:"w-4 h-4"})})]})]}),l.jsx("h5",{className:"text-sm font-medium text-zinc-200 mb-1 pointer-events-none",children:L.title}),l.jsxs("div",{className:"mb-2 flex flex-wrap items-center gap-1.5 text-[10px] text-zinc-500",children:[L.assignee&&l.jsxs("span",{className:"inline-flex items-center gap-1 rounded border border-zinc-700 bg-zinc-950 px-1.5 py-0.5",children:[l.jsx(W0,{className:"h-3 w-3"})," ",L.assignee]}),L.category&&l.jsxs("span",{className:"inline-flex items-center gap-1 rounded border border-zinc-700 bg-zinc-950 px-1.5 py-0.5",children:[l.jsx(V1,{className:"h-3 w-3"})," ",L.category]}),L.dueDate&&l.jsxs("span",{className:"inline-flex items-center gap-1 rounded border border-zinc-700 bg-zinc-950 px-1.5 py-0.5",children:[l.jsx(Uu,{className:"h-3 w-3"})," ",new Date(L.dueDate).toLocaleDateString()]}),L.reproducible===!1&&l.jsx("span",{className:"rounded border border-zinc-700 bg-zinc-950 px-1.5 py-0.5 text-zinc-400",children:"Intermittent"})]}),L.tags&&L.tags.length>0&&l.jsx("div",{className:"mb-2 flex flex-wrap gap-1",children:L.tags.map(Z=>l.jsxs("span",{className:"rounded bg-zinc-800/80 px-1.5 py-0.5 text-[10px] text-zinc-300",children:["#",Z]},`${L.id}-${Z}`))}),l.jsx("p",{className:"text-xs text-zinc-500 line-clamp-2 mb-3 break-words",children:L.description?$e(L.description):"No description provided."}),l.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-zinc-800 pointer-events-auto relative z-10",children:[re!=="Open"?l.jsxs("button",{onClick:()=>De(L.id,ne[ne.indexOf(re)-1]),className:"text-xs text-zinc-500 hover:text-zinc-300 flex items-center gap-1 hover:bg-zinc-800 px-2 py-1 rounded transition-colors",children:[l.jsx(f1,{className:"w-3 h-3"})," Prev"]}):l.jsx("div",{}),re!=="Closed"?l.jsxs("button",{onClick:()=>De(L.id,ne[ne.indexOf(re)+1]),className:"text-xs text-zinc-500 hover:text-zinc-300 flex items-center gap-1 hover:bg-zinc-800 px-2 py-1 rounded transition-colors",children:["Next ",l.jsx(Vu,{className:"w-3 h-3"})]}):l.jsx("div",{})]})]},L.id)),he.length===0&&l.jsx("div",{className:`text-center py-8 pointer-events-none transition-opacity ${Re?"opacity-50 text-blue-400":"opacity-30 text-zinc-500"}`,children:l.jsx("div",{className:"text-sm italic",children:Re?"Drop to move here":"Drop items here"})})]})]},re)})})}),m&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-2xl p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:h?"Edit Bug Report":"Report Bug"}),l.jsx("button",{onClick:oe,className:"text-zinc-500 hover:text-white",children:l.jsx(Ds,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:me,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Title"}),l.jsx("input",{autoFocus:!0,type:"text",required:!0,value:A,onChange:re=>B(re.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all",placeholder:"e.g., Crash on startup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Severity"}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:["Low","Medium","High","Critical"].map(re=>l.jsx("button",{type:"button",onClick:()=>T(re),className:`py-2 px-1 rounded-lg text-xs font-medium border transition-all ${K===re?"bg-zinc-800 border-zinc-600 text-white ring-1 ring-zinc-500":"bg-zinc-950 border-zinc-800 text-zinc-400 hover:bg-zinc-800"}`,children:re},re))})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Status"}),l.jsx("select",{value:$,onChange:re=>p(re.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all",children:ne.map(re=>l.jsx("option",{value:re,children:re},re))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Category"}),l.jsx("select",{value:I,onChange:re=>G(re.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all",children:xh.map(re=>l.jsx("option",{value:re,children:re},re))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Assignee"}),l.jsx("input",{type:"text",value:O,onChange:re=>W(re.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all",placeholder:"e.g., Alex"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Target Date"}),l.jsx("input",{type:"date",value:U,onChange:re=>V(re.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all [color-scheme:dark]"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Tags"}),l.jsx("input",{type:"text",value:M,onChange:re=>P(re.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all",placeholder:"rendering, crash, multiplayer"}),l.jsx("p",{className:"mt-1 text-[11px] text-zinc-500",children:"Comma-separated. Up to 8 tags."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Reproducibility"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("button",{type:"button",onClick:()=>Q(!0),className:`rounded-lg border px-3 py-2 text-xs font-medium transition ${se?"border-zinc-600 bg-zinc-800 text-white":"border-zinc-800 bg-zinc-950 text-zinc-400 hover:bg-zinc-800"}`,children:"Always Reproducible"}),l.jsx("button",{type:"button",onClick:()=>Q(!1),className:`rounded-lg border px-3 py-2 text-xs font-medium transition ${se?"border-zinc-800 bg-zinc-950 text-zinc-400 hover:bg-zinc-800":"border-zinc-600 bg-zinc-800 text-white"}`,children:"Intermittent"})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"Description"}),l.jsxs("div",{className:"relative",ref:ue,children:[l.jsxs("button",{type:"button",onClick:ge,disabled:S.length===0,className:"text-xs text-cyan-400 hover:text-cyan-300 disabled:text-zinc-600 disabled:cursor-not-allowed flex items-center gap-1",title:S.length===0?"No files available to link":"Insert File Link",children:[l.jsx($a,{className:"w-3 h-3"})," Link File"]}),Ee&&l.jsxs("div",{className:"absolute right-0 top-5 z-30 w-72 rounded-md border border-zinc-700 bg-zinc-900 p-2 shadow-lg",children:[l.jsx("input",{type:"text",value:ze,onChange:re=>q(re.target.value),placeholder:"Search files...",className:"mb-2 w-full rounded border border-zinc-700 bg-zinc-950 px-2 py-1.5 text-xs text-zinc-200 focus:outline-none focus:border-zinc-500",autoFocus:!0}),l.jsx("div",{className:"max-h-44 overflow-y-auto space-y-1 custom-scrollbar",children:z.length===0?l.jsx("p",{className:"px-2 py-2 text-xs text-zinc-500",children:"No matching files."}):z.map(re=>l.jsxs("button",{type:"button",onClick:()=>de(re.id),className:"flex w-full items-center justify-between rounded px-2 py-1.5 text-left text-xs text-zinc-300 transition hover:bg-zinc-800 hover:text-white",title:re.id,children:[l.jsx("span",{className:"truncate pr-2",children:re.name}),l.jsx("span",{className:"text-[10px] text-zinc-500",children:re.id.slice(0,8)})]},re.id))})]})]})]}),l.jsx("textarea",{value:J,onChange:re=>ve(re.target.value),onDragOver:pe,onDrop:Pe,className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all min-h-[100px]",placeholder:"Steps to reproduce..."})]}),l.jsx("div",{className:"pt-4 border-t border-zinc-800",children:l.jsx("button",{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2.5 rounded-lg text-sm font-medium transition-colors",children:h?"Save Changes":"Create Ticket"})})]})]})})]})},T_="application/x-gdpm-file-id",yh=["planned","in-progress","completed","delayed","dropped"],vh=["phase","milestone"],I_=({initialContent:e,onSave:t,fileName:n,projectFiles:r=[],onOpenFile:s,activeFileId:i})=>{const[o,a]=D.useState((e==null?void 0:e.items)||[]),[c,u]=D.useState("saved"),d=D.useRef(JSON.stringify((e==null?void 0:e.items)||[])),[m,y]=D.useState(null),[h,v]=D.useState(!1),[g,b]=D.useState({title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+864e5*7).toISOString().split("T")[0],type:"phase",status:"planned",progress:0,description:""}),[f,x]=D.useState(""),[k,N]=D.useState("All"),[_,C]=D.useState("All"),[j,R]=D.useState(!1),[A,B]=D.useState(""),K=D.useRef(null),T=D.useMemo(()=>new Map(r.map(E=>[E.id,E.name])),[r]),$=D.useMemo(()=>r.filter(E=>E.id!==i).sort((E,H)=>E.name.localeCompare(H.name,void 0,{sensitivity:"base"})),[r,i]),p=D.useMemo(()=>{const E=A.trim().toLowerCase();return E?$.filter(H=>H.name.toLowerCase().includes(E)||H.id.toLowerCase().includes(E)):$},[$,A]);D.useEffect(()=>{a((e==null?void 0:e.items)||[]),d.current=JSON.stringify((e==null?void 0:e.items)||[])},[e]),D.useEffect(()=>{$.length>0||(R(!1),B(""))},[$]),D.useEffect(()=>{if(!h||!j)return;const E=H=>{K.current&&(K.current.contains(H.target)||(R(!1),B("")))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[h,j]),D.useEffect(()=>{if(JSON.stringify(o)===d.current)return;u("unsaved");const H=setTimeout(()=>O(),2e3);return()=>clearTimeout(H)},[o]),D.useEffect(()=>{const E=H=>{(H.ctrlKey||H.metaKey)&&H.key==="s"&&(H.preventDefault(),O())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[o]);const O=()=>{u("saving"),t({items:o}),d.current=JSON.stringify(o),setTimeout(()=>u("saved"),500)},W=()=>{x(""),N("All"),C("All")},U=(E,H)=>{if(!E)return"";const S=new Date(E);return Number.isNaN(S.getTime())?"":(S.setDate(S.getDate()+H),S.toISOString().split("T")[0])},V=()=>{y(null),b({title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+864e5*14).toISOString().split("T")[0],type:"phase",status:"planned",progress:0,description:""}),R(!1),B(""),v(!0)},I=E=>{y(E.id),b({...E}),R(!1),B(""),v(!0)},G=E=>{confirm("Delete this roadmap item?")&&(a(o.filter(H=>H.id!==E)),m===E&&v(!1))},M=E=>{const H=r.find(S=>S.id===E);H&&(b(S=>({...S,description:`${S.description||""}${S.description?`
`:""}[${H.name}](file://${H.id})`})),R(!1),B(""))},P=()=>{$.length!==0&&(R(E=>!E),B(""))},se=E=>{var oe;const H=E.dataTransfer.getData(T_);if(H)try{const Y=JSON.parse(H);if(Y!=null&&Y.id)return{id:Y.id,name:Y.name||((oe=r.find(fe=>fe.id===Y.id))==null?void 0:oe.name)||"Linked File"}}catch{const Y=r.find(fe=>fe.id===H);if(Y)return{id:Y.id,name:Y.name}}const S=E.dataTransfer.getData("text/uri-list");if(S!=null&&S.startsWith("file://")){const Y=S.replace("file://","").trim(),fe=r.find(Se=>Se.id===Y);if(fe)return{id:fe.id,name:fe.name}}const z=E.dataTransfer.getData("text/plain"),F=z.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(F!=null&&F[2]){const Y=r.find(fe=>fe.id===F[2]);if(Y)return{id:Y.id,name:Y.name}}const ne=r.find(Y=>Y.id===z.trim());return ne?{id:ne.id,name:ne.name}:null},Q=E=>{se(E)&&(E.preventDefault(),E.dataTransfer.dropEffect="copy")},J=E=>{const H=se(E);H&&(E.preventDefault(),b(S=>({...S,description:`${S.description||""}${S.description?`
`:""}[${H.name}](file://${H.id})`})))},ve=E=>{const H=[],S=/\[([^\]]+)\]\(file:\/\/([^)]+)\)/g;let z=0,F=null;for(;(F=S.exec(E))!==null;){F.index>z&&H.push(l.jsx("span",{children:E.slice(z,F.index)},`txt-${z}`));const ne=F[1],oe=F[2],Y=T.has(oe);H.push(l.jsx("button",{onClick:fe=>{fe.stopPropagation(),s==null||s(oe)},className:`underline underline-offset-2 ${Y?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"}`,title:Y?`Open ${T.get(oe)}`:"Linked file not found",children:ne},`lnk-${oe}-${F.index}`)),z=S.lastIndex}return z<E.length&&H.push(l.jsx("span",{children:E.slice(z)},`txt-end-${z}`)),H.length?H:E},Ee=E=>{E.preventDefault();const H=(g.title||"").trim();if(!H)return;const S=g.startDate||new Date().toISOString().split("T")[0],z=g.type==="milestone"?S:g.endDate||S,F=new Date(z)<new Date(S)?S:z,ne={id:m||crypto.randomUUID(),title:H,startDate:S,endDate:F,type:g.type,status:g.status,progress:Number(g.progress)||0,description:g.description||""};a(m?o.map(oe=>oe.id===m?ne:oe):[...o,ne]),v(!1)},ke=[...o].filter(E=>{if(k!=="All"&&E.status!==k||_!=="All"&&E.type!==_)return!1;if(f){const H=f.toLowerCase();if(!`${E.title} ${E.description||""}`.toLowerCase().includes(H))return!1}return!0}).sort((E,H)=>new Date(E.startDate).getTime()-new Date(H.startDate).getTime()),ze=D.useMemo(()=>{if(ke.length===0)return{months:[],totalDays:0,startTs:0,endTs:0};const E=ke.flatMap(Y=>[new Date(Y.startDate).getTime(),new Date(Y.endDate).getTime()]);let H=Math.min(...E),S=Math.max(...E);H-=26298e5,S+=26298e5;const z=new Date(H),F=(S-H)/(1e3*60*60*24),ne=[];let oe=new Date(z.getFullYear(),z.getMonth(),1);for(;oe.getTime()<S;){const Y=(oe.getTime()-H)/(S-H)*100;ne.push({label:oe.toLocaleDateString(void 0,{month:"short",year:"2-digit"}),offset:Y}),oe.setMonth(oe.getMonth()+1)}return{months:ne,totalDays:F,startTs:H,endTs:S}},[ke]),q=(E,H)=>{if(!ze.totalDays)return{left:"0%",width:"0%"};const S=new Date(E).getTime(),z=new Date(H).getTime(),F=ze.endTs-ze.startTs,ne=(S-ze.startTs)/F*100,oe=Math.max((z-S)/F*100,.5);return{left:`${ne}%`,width:`${oe}%`}},ue=E=>{switch(E){case"completed":return"bg-emerald-500";case"in-progress":return"bg-blue-500";case"delayed":return"bg-red-500";case"dropped":return"bg-zinc-600";default:return"bg-zinc-500"}},ee=E=>{switch(E){case"completed":return l.jsx("span",{className:"text-emerald-400 bg-emerald-400/10 px-2 py-0.5 rounded text-[10px] uppercase font-bold border border-emerald-400/20",children:"Done"});case"in-progress":return l.jsx("span",{className:"text-blue-400 bg-blue-400/10 px-2 py-0.5 rounded text-[10px] uppercase font-bold border border-blue-400/20",children:"Active"});case"delayed":return l.jsx("span",{className:"text-red-400 bg-red-400/10 px-2 py-0.5 rounded text-[10px] uppercase font-bold border border-red-400/20",children:"Delayed"});default:return l.jsx("span",{className:"text-zinc-400 bg-zinc-800 px-2 py-0.5 rounded text-[10px] uppercase font-bold border border-zinc-700",children:"Planned"})}},ce=ze.totalDays?`${Math.min(100,Math.max(0,(Date.now()-ze.startTs)/(ze.endTs-ze.startTs||1)*100))}%`:"0%",w=D.useMemo(()=>({total:ke.length,active:ke.filter(E=>E.status==="in-progress").length,delayed:ke.filter(E=>E.status==="delayed").length,milestones:ke.filter(E=>E.type==="milestone").length}),[ke]);return l.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[l.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-20",children:[l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("h3",{className:"text-zinc-200 font-medium",children:n})}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center mr-2",children:[c==="saving"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[l.jsx(Vr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),c==="saved"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[l.jsx(vr,{className:"w-3 h-3"})," Saved"]}),c==="unsaved"&&l.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[l.jsx(Rn,{className:"w-3 h-3"})," Unsaved"]})]}),l.jsxs("button",{onClick:V,className:"flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 text-zinc-200 px-4 py-2 rounded-md text-sm font-medium transition-colors border border-zinc-700",children:[l.jsx(Ln,{className:"w-4 h-4"})," Add Item"]}),l.jsxs("button",{onClick:O,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${c==="unsaved"?"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[l.jsx(Zr,{className:"w-4 h-4"})," Save"]})]})]}),l.jsxs("div",{className:"px-6 py-3 border-b border-zinc-800 bg-zinc-900 flex flex-wrap items-center gap-3",children:[l.jsxs("div",{className:"relative w-60",children:[l.jsx(Ba,{className:"w-4 h-4 text-zinc-500 absolute left-3 top-1/2 -translate-y-1/2"}),l.jsx("input",{type:"text",value:f,onChange:E=>x(E.target.value),placeholder:"Search roadmap items...",className:"w-full bg-zinc-950 border border-zinc-800 rounded-md py-1.5 pl-9 pr-3 text-sm text-zinc-200 focus:outline-none focus:border-zinc-600"})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-2 py-1.5 text-xs text-zinc-300",children:[l.jsx(B0,{className:"w-3.5 h-3.5 text-zinc-500"}),l.jsx("span",{children:"Status"}),l.jsxs("select",{value:k,onChange:E=>N(E.target.value),className:"bg-transparent focus:outline-none text-xs text-zinc-200",children:[l.jsx("option",{value:"All",children:"All"}),yh.map(E=>l.jsx("option",{value:E,children:E},E))]})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-2 py-1.5 text-xs text-zinc-300",children:[l.jsx("span",{children:"Type"}),l.jsxs("select",{value:_,onChange:E=>C(E.target.value),className:"bg-transparent focus:outline-none text-xs text-zinc-200",children:[l.jsx("option",{value:"All",children:"All"}),vh.map(E=>l.jsx("option",{value:E,children:E},E))]})]}),l.jsxs("button",{onClick:W,className:"px-2.5 py-1.5 rounded-md border border-zinc-800 bg-zinc-950 text-xs text-zinc-300 hover:text-white flex items-center gap-1",children:[l.jsx(B1,{className:"w-3 h-3"})," Reset"]}),l.jsxs("div",{className:"ml-auto flex items-center gap-2 text-[11px] text-zinc-500",children:[l.jsxs("span",{className:"rounded border border-zinc-800 bg-zinc-950 px-2 py-1",children:["Total ",w.total]}),l.jsxs("span",{className:"rounded border border-zinc-800 bg-zinc-950 px-2 py-1",children:["Active ",w.active]}),l.jsxs("span",{className:"rounded border border-zinc-800 bg-zinc-950 px-2 py-1",children:["Delayed ",w.delayed]}),l.jsxs("span",{className:"rounded border border-zinc-800 bg-zinc-950 px-2 py-1",children:["Milestones ",w.milestones]})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[l.jsxs("div",{className:"w-full lg:w-1/3 border-r border-zinc-800 flex flex-col bg-zinc-950/50",children:[l.jsxs("div",{className:"p-4 border-b border-zinc-800 bg-zinc-950 font-semibold text-sm text-zinc-400 uppercase tracking-wider",children:["Items List",l.jsxs("span",{className:"ml-2 text-[10px] font-normal text-zinc-500 normal-case",children:[ke.length," shown / ",o.length," total"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:ke.length===0?l.jsx("div",{className:"text-center py-10 text-zinc-600 text-sm",children:o.length===0?"No roadmap items yet.":"No items match the current filters."}):ke.map(E=>l.jsxs("div",{onClick:()=>I(E),className:`p-3 rounded-lg border cursor-pointer hover:border-zinc-600 transition-all ${m===E.id?"bg-zinc-900 border-blue-500/50 shadow-md":"bg-zinc-900/50 border-zinc-800"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[E.type==="milestone"?l.jsx(w1,{className:"w-4 h-4 text-amber-500"}):l.jsx(Uu,{className:"w-4 h-4 text-blue-500"}),l.jsx("span",{className:"font-medium text-zinc-200 text-sm",children:E.title})]}),ee(E.status)]}),l.jsxs("div",{className:"flex justify-between items-center text-xs text-zinc-500",children:[l.jsxs("span",{children:[new Date(E.startDate).toLocaleDateString()," ",E.type==="phase"&&` - ${new Date(E.endDate).toLocaleDateString()}`]}),E.type==="phase"&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Z1,{className:"w-3 h-3"})," ",E.progress,"%"]})]}),E.type==="phase"&&l.jsx("div",{className:"w-full h-1 bg-zinc-800 rounded-full mt-2 overflow-hidden",children:l.jsx("div",{className:`h-full ${ue(E.status)}`,style:{width:`${E.progress}%`,opacity:.7}})})]},E.id))})]}),l.jsxs("div",{className:"flex-1 flex flex-col bg-zinc-900 overflow-hidden relative",children:[l.jsx("div",{className:"h-10 bg-zinc-950 border-b border-zinc-800 relative overflow-hidden shrink-0 select-none",children:ze.months.map((E,H)=>l.jsx("div",{className:"absolute top-0 bottom-0 border-l border-zinc-800 text-[10px] text-zinc-500 pl-1 pt-2 truncate",style:{left:`${E.offset}%`},children:E.label},H))}),l.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar relative p-4 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMSIgY3k9IjEiIHI9IjEiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4wNSkiLz48L3N2Zz4=')]",children:[l.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0",children:[ze.months.map((E,H)=>l.jsx("div",{className:"absolute top-0 bottom-0 border-l border-zinc-800/30",style:{left:`${E.offset}%`}},H)),l.jsx("div",{className:"absolute top-0 bottom-0 border-l border-red-500/50 z-0",style:{left:ce},children:l.jsx("div",{className:"text-[9px] text-red-500 bg-red-500/10 px-1 ml-1 mt-1 rounded",children:"Today"})})]}),l.jsxs("div",{className:"relative z-10 space-y-6 mt-2",children:[ke.length===0&&l.jsx("div",{className:"rounded-lg border border-zinc-800 bg-zinc-950/70 p-4 text-center text-sm text-zinc-500",children:"No timeline items for the current filters."}),ke.map(E=>{const H=q(E.startDate,E.endDate);return E.type==="milestone"?l.jsx("div",{className:"relative h-6 group",children:l.jsxs("div",{className:"absolute transform -translate-x-1/2 flex flex-col items-center cursor-pointer",style:{left:H.left},onClick:()=>I(E),children:[l.jsx("div",{className:`w-3 h-3 rotate-45 border border-zinc-900 ${ue(E.status)} shadow-lg shadow-black/50 hover:scale-125 transition-transform`}),l.jsx("div",{className:"w-0.5 h-full bg-zinc-700/50 absolute top-3"}),l.jsx("span",{className:"text-xs text-zinc-300 mt-1 whitespace-nowrap bg-zinc-950/80 px-1.5 rounded border border-zinc-800",children:E.title}),l.jsx("span",{className:"text-[10px] text-zinc-500 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:new Date(E.startDate).toLocaleDateString()})]})},E.id):l.jsxs("div",{className:"relative h-8 group cursor-pointer",style:{marginLeft:H.left,width:H.width},onClick:()=>I(E),children:[l.jsxs("div",{className:"h-full rounded-md border border-white/5 overflow-hidden relative shadow-sm hover:shadow-lg transition-shadow bg-zinc-800",children:[l.jsx("div",{className:`absolute top-0 left-0 bottom-0 ${ue(E.status)} opacity-20`,style:{width:"100%"}}),l.jsx("div",{className:`absolute top-0 left-0 bottom-0 ${ue(E.status)}`,style:{width:`${E.progress}%`}}),l.jsx("div",{className:"absolute inset-0 flex items-center px-2",children:l.jsx("span",{className:"text-xs font-medium text-white drop-shadow-md truncate sticky left-0",children:E.title})})]}),l.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-black text-white text-[10px] px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-zinc-800",children:[new Date(E.startDate).toLocaleDateString()," - ",new Date(E.endDate).toLocaleDateString()," (",E.progress,"%)"]})]},E.id)})]})]})]})]}),h&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-md p-6 shadow-2xl",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:m?"Edit Item":"Add Roadmap Item"}),l.jsxs("form",{onSubmit:Ee,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Title"}),l.jsx("input",{type:"text",required:!0,value:g.title,onChange:E=>b({...g,title:E.target.value}),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Type"}),l.jsx("select",{value:g.type,onChange:E=>{const H=E.target.value;b(S=>({...S,type:H,endDate:H==="milestone"?S.startDate:S.endDate}))},className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none",children:vh.map(E=>l.jsx("option",{value:E,children:E},E))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Status"}),l.jsx("select",{value:g.status,onChange:E=>b({...g,status:E.target.value}),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none",children:yh.map(E=>l.jsx("option",{value:E,children:E},E))})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:g.type==="milestone"?"Date":"Start Date"}),l.jsx("input",{type:"date",required:!0,value:g.startDate,onChange:E=>b({...g,startDate:E.target.value}),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none [color-scheme:dark]"})]}),g.type==="phase"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"End Date"}),l.jsx("input",{type:"date",required:!0,value:g.endDate,onChange:E=>b({...g,endDate:E.target.value}),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none [color-scheme:dark]"}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:[7,14,30,60].map(E=>l.jsxs("button",{type:"button",onClick:()=>b(H=>({...H,endDate:U(H.startDate,E)||H.endDate})),className:"px-2 py-1 text-[10px] rounded border border-zinc-700 bg-zinc-900 text-zinc-300 hover:text-white",children:["+",E,"d"]},E))})]})]}),g.type==="phase"&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm text-zinc-400 mb-1",children:["Progress (",g.progress,"%)"]}),l.jsx("input",{type:"range",min:"0",max:"100",value:g.progress,onChange:E=>b({...g,progress:parseInt(E.target.value)}),className:"w-full accent-blue-500"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("label",{className:"block text-sm text-zinc-400",children:"Description"}),l.jsxs("div",{className:"relative",ref:K,children:[l.jsxs("button",{type:"button",onClick:P,disabled:$.length===0,className:"text-xs text-cyan-400 hover:text-cyan-300 disabled:text-zinc-600 disabled:cursor-not-allowed flex items-center gap-1",title:$.length===0?"No files available to link":"Insert File Link",children:[l.jsx($a,{className:"w-3 h-3"})," Link File"]}),j&&l.jsxs("div",{className:"absolute right-0 top-5 z-30 w-72 rounded-md border border-zinc-700 bg-zinc-900 p-2 shadow-lg",children:[l.jsx("input",{type:"text",value:A,onChange:E=>B(E.target.value),placeholder:"Search files...",className:"mb-2 w-full rounded border border-zinc-700 bg-zinc-950 px-2 py-1.5 text-xs text-zinc-200 focus:outline-none focus:border-zinc-500",autoFocus:!0}),l.jsx("div",{className:"max-h-44 overflow-y-auto space-y-1 custom-scrollbar",children:p.length===0?l.jsx("p",{className:"px-2 py-2 text-xs text-zinc-500",children:"No matching files."}):p.map(E=>l.jsxs("button",{type:"button",onClick:()=>M(E.id),className:"flex w-full items-center justify-between rounded px-2 py-1.5 text-left text-xs text-zinc-300 transition hover:bg-zinc-800 hover:text-white",title:E.id,children:[l.jsx("span",{className:"truncate pr-2",children:E.name}),l.jsx("span",{className:"text-[10px] text-zinc-500",children:E.id.slice(0,8)})]},E.id))})]})]})]}),l.jsx("textarea",{value:g.description,onChange:E=>b({...g,description:E.target.value}),onDragOver:Q,onDrop:J,className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none min-h-[80px]"}),g.description&&g.description.includes("file://")&&l.jsx("div",{className:"mt-2 text-xs text-zinc-400 bg-zinc-950 border border-zinc-800 rounded p-2 break-words",children:ve(g.description)})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t border-zinc-800 mt-4",children:[m&&l.jsx("button",{type:"button",onClick:()=>G(m),className:"px-4 py-2 bg-red-500/10 text-red-500 hover:bg-red-500/20 rounded font-medium text-sm border border-red-500/20",children:"Delete"}),l.jsx("div",{className:"flex-1"}),l.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-zinc-400 hover:text-white font-medium text-sm",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded font-medium text-sm",children:m?"Save Changes":"Create Item"})]})]})]})})]})},A_=({initialContent:e,onSave:t,fileName:n})=>{const[r,s]=D.useState((e==null?void 0:e.columns)||[{id:"col_1",name:"ID",type:"text"},{id:"col_2",name:"Name",type:"text"},{id:"col_3",name:"Value",type:"number"}]),[i,o]=D.useState((e==null?void 0:e.rows)||[]),[a,c]=D.useState("saved"),u=D.useRef(JSON.stringify({columns:e==null?void 0:e.columns,rows:e==null?void 0:e.rows}));D.useEffect(()=>{if(JSON.stringify({columns:r,rows:i})===u.current)return;c("unsaved");const x=setTimeout(()=>d(),2e3);return()=>clearTimeout(x)},[r,i]);const d=()=>{c("saving"),t({columns:r,rows:i}),u.current=JSON.stringify({columns:r,rows:i}),setTimeout(()=>c("saved"),500)},m=()=>{const f=prompt("Column Name:");if(!f)return;const x={id:crypto.randomUUID(),name:f,type:"text"};s([...r,x])},y=()=>{const f={id:crypto.randomUUID()};r.forEach(x=>f[x.id]=x.type==="number"?0:""),o([...i,f])},h=(f,x,k)=>{o(i.map(N=>N.id===f?{...N,[x]:k}:N))},v=f=>{o(i.filter(x=>x.id!==f))},g=f=>{confirm("Delete column? Data will be lost.")&&s(r.filter(x=>x.id!==f))},b=()=>{const f=r.map(C=>C.name).join(","),x=i.map(C=>r.map(j=>C[j.id]).join(",")),k="data:text/csv;charset=utf-8,"+[f,...x].join(`
`),N=encodeURI(k),_=document.createElement("a");_.setAttribute("href",N),_.setAttribute("download",`${n}.csv`),document.body.appendChild(_),_.click(),document.body.removeChild(_)};return l.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[l.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-20",children:[l.jsxs("h3",{className:"text-zinc-200 font-medium flex items-center gap-2",children:[l.jsx(F0,{className:"w-4 h-4 text-emerald-500"})," ",n]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center mr-2",children:[a==="saving"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[l.jsx(Vr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),a==="saved"&&l.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[l.jsx(vr,{className:"w-3 h-3"})," Saved"]}),a==="unsaved"&&l.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[l.jsx(Rn,{className:"w-3 h-3"})," Unsaved"]})]}),l.jsx("button",{onClick:b,className:"text-zinc-400 hover:text-white p-2",title:"Export CSV",children:l.jsx(Zu,{className:"w-4 h-4"})}),l.jsxs("button",{onClick:d,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${a==="unsaved"?"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[l.jsx(Zr,{className:"w-4 h-4"})," Save"]})]})]}),l.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-6",children:l.jsxs("div",{className:"inline-block min-w-full align-middle",children:[l.jsx("div",{className:"border border-zinc-700 rounded-lg overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-zinc-700",children:[l.jsx("thead",{className:"bg-zinc-800",children:l.jsxs("tr",{children:[l.jsx("th",{className:"w-10 px-3 py-3 text-left text-xs font-medium text-zinc-400 uppercase tracking-wider",children:"#"}),r.map(f=>l.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider group relative min-w-[150px]",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("input",{value:f.name,onChange:x=>s(r.map(k=>k.id===f.id?{...k,name:x.target.value}:k)),className:"bg-transparent border-none focus:ring-0 text-zinc-300 font-bold w-full"}),l.jsx("button",{onClick:()=>g(f.id),className:"opacity-0 group-hover:opacity-100 text-zinc-500 hover:text-red-400",children:l.jsx(an,{className:"w-3 h-3"})})]})},f.id)),l.jsx("th",{className:"w-10 px-3 py-3",children:l.jsx("button",{onClick:m,className:"text-blue-400 hover:text-blue-300",children:l.jsx(Ln,{className:"w-4 h-4"})})})]})}),l.jsx("tbody",{className:"bg-zinc-900 divide-y divide-zinc-800",children:i.map((f,x)=>l.jsxs("tr",{className:"hover:bg-zinc-800/50 transition-colors",children:[l.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-zinc-500",children:x+1}),r.map(k=>l.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:l.jsx("input",{type:k.type==="number"?"number":"text",value:f[k.id]||"",onChange:N=>h(f.id,k.id,N.target.value),className:"w-full bg-transparent border-none focus:ring-1 focus:ring-blue-500 rounded px-1 py-0.5 text-sm text-zinc-200 placeholder-zinc-700"})},k.id)),l.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-right text-sm font-medium",children:l.jsx("button",{onClick:()=>v(f.id),className:"text-zinc-600 hover:text-red-400",children:l.jsx(an,{className:"w-4 h-4"})})})]},f.id))})]})}),l.jsxs("button",{onClick:y,className:"mt-4 flex items-center gap-2 text-zinc-400 hover:text-white text-sm font-medium px-4 py-2 border border-zinc-700 rounded-lg border-dashed hover:border-zinc-500 transition-colors w-full justify-center",children:[l.jsx(Ln,{className:"w-4 h-4"})," Add Row"]})]})})]})},wh=200,Rt=2e3,Bo=.2,bh=e=>e.map(t=>({...t,points:t.points.map(n=>({...n}))})),kh=e=>e.map(t=>({...t})),Nh=e=>e.map(t=>({...t})),M_=e=>Array.isArray(e)?e.map(t=>{const n=Array.isArray(t==null?void 0:t.points)?t.points.filter(o=>Number.isFinite(o==null?void 0:o.x)&&Number.isFinite(o==null?void 0:o.y)).map(o=>({x:Number(o.x),y:Number(o.y)})):[];if(n.length===0)return null;const r=typeof(t==null?void 0:t.color)=="string"?t.color:"#facc15",s=Number.isFinite(t==null?void 0:t.width)?Math.max(1,Number(t.width)):18,i=Number.isFinite(t==null?void 0:t.opacity)?Math.min(1,Math.max(.05,Number(t.opacity))):Bo;return{id:typeof(t==null?void 0:t.id)=="string"?t.id:crypto.randomUUID(),color:r,width:s,opacity:i,points:n}}).filter(t=>t!==null):[],P_=e=>Array.isArray(e)?e.map(t=>!Number.isFinite(t==null?void 0:t.x)||!Number.isFinite(t==null?void 0:t.y)||typeof(t==null?void 0:t.text)!="string"?null:{id:typeof(t==null?void 0:t.id)=="string"?t.id:crypto.randomUUID(),x:Number(t.x),y:Number(t.y),text:t.text,color:typeof(t==null?void 0:t.color)=="string"?t.color:"#ffffff",fontSize:Number.isFinite(t==null?void 0:t.fontSize)?Math.max(8,Number(t.fontSize)):28,fontWeight:(t==null?void 0:t.fontWeight)==="bold"?"bold":"normal",fontStyle:(t==null?void 0:t.fontStyle)==="italic"?"italic":"normal"}).filter(t=>t!==null):[],R_=e=>Array.isArray(e)?e.map(t=>{const n=t==null?void 0:t.type;return n!=="image"&&n!=="video"&&n!=="audio"||typeof(t==null?void 0:t.src)!="string"||!Number.isFinite(t==null?void 0:t.x)||!Number.isFinite(t==null?void 0:t.y)||!Number.isFinite(t==null?void 0:t.width)||!Number.isFinite(t==null?void 0:t.height)?null:{id:typeof(t==null?void 0:t.id)=="string"?t.id:crypto.randomUUID(),type:n,src:t.src,name:typeof(t==null?void 0:t.name)=="string"?t.name:`${n}-${Date.now()}`,x:Number(t.x),y:Number(t.y),width:Math.max(40,Number(t.width)),height:Math.max(30,Number(t.height))}}).filter(t=>t!==null):[],Yn=(e,t,n)=>Math.min(n,Math.max(t,e)),L_=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=s=>{var i;if(typeof((i=s.target)==null?void 0:i.result)=="string"){t(s.target.result);return}n(new Error("Failed to read file data"))},r.onerror=()=>n(r.error||new Error("Failed to read file")),r.onabort=()=>n(new Error("Read aborted")),r.readAsDataURL(e)}),O_=e=>e.type.startsWith("image/")?"image":e.type.startsWith("video/")?"video":e.type.startsWith("audio/")?"audio":/\.(png|jpe?g|gif|webp|bmp|svg|avif|ico)$/i.test(e.name)?"image":/\.(mp4|webm|ogg|mov|m4v)$/i.test(e.name)?"video":/\.(mp3|wav|ogg|m4a|aac|flac)$/i.test(e.name)?"audio":null,$_=({initialContent:e,onSave:t,fileName:n,assets:r={}})=>{const s=D.useRef(null),i=D.useRef(null),o=D.useRef(null),a=D.useRef(null),c=D.useRef(null),u=D.useRef(null),[d,m]=D.useState("pen"),[y,h]=D.useState({pen:{color:"#ffffff",width:2},highlighter:{color:"#facc15",width:18},eraser:{color:"#09090b",width:20},text:{color:"#ffffff",width:28}}),[v,g]=D.useState(Bo),[b,f]=D.useState(!1),[x,k]=D.useState(!1),[N,_]=D.useState(null),[C,j]=D.useState(null),[R,A]=D.useState(""),[B,K]=D.useState("saved"),T=D.useRef(""),$=D.useRef([]),p=D.useRef(-1),[O,W]=D.useState({index:-1,length:0}),[U,V]=D.useState([]),[I,G]=D.useState([]),M=D.useRef([]),P=D.useRef([]),se=D.useRef([]),Q=D.useRef(null),J=()=>{const L=s.current,Z=i.current;if(!L||!Z)return null;const le=L.getContext("2d",{willReadFrequently:!0}),xe=Z.getContext("2d",{willReadFrequently:!0});return!le||!xe?null:{baseCanvas:L,highlighterCanvas:Z,baseCtx:le,highlighterCtx:xe}},ve=L=>{V(Z=>{const le=L(Z);return M.current=le,le})},Ee=L=>{G(Z=>{const le=L(Z);return P.current=le,le})},ke=(L,Z)=>{L.globalCompositeOperation="source-over",L.globalAlpha=1,L.fillStyle="#09090b",L.fillRect(0,0,Z.width,Z.height)},ze=()=>{const L=J();if(!L)return;const{highlighterCtx:Z,highlighterCanvas:le}=L;Z.globalAlpha=1,Z.globalCompositeOperation="source-over",Z.clearRect(0,0,le.width,le.height)},q=(L,Z)=>{if(Z.points.length!==0){if(L.globalCompositeOperation="destination-over",L.globalAlpha=Z.opacity,L.strokeStyle=Z.color,L.lineWidth=Z.width,L.lineCap="round",L.lineJoin="round",Z.points.length===1){const le=Z.points[0];L.beginPath(),L.fillStyle=Z.color,L.arc(le.x,le.y,Z.width/2,0,Math.PI*2),L.fill();return}L.beginPath(),L.moveTo(Z.points[0].x,Z.points[0].y);for(let le=1;le<Z.points.length;le++)L.lineTo(Z.points[le].x,Z.points[le].y);L.stroke()}},ue=(L=se.current)=>{const Z=J();if(!Z)return;const{highlighterCtx:le,highlighterCanvas:xe}=Z;le.globalAlpha=1,le.globalCompositeOperation="source-over",le.clearRect(0,0,xe.width,xe.height),L.forEach(we=>q(le,we)),le.globalAlpha=1,le.globalCompositeOperation="source-over"},ee=async L=>{const Z=J();if(!Z)return;const{baseCanvas:le,baseCtx:xe}=Z;ke(xe,le),L&&await new Promise(we=>{const Ie=new Image;Ie.src=L,Ie.onload=()=>{xe.drawImage(Ie,0,0),we()},Ie.onerror=()=>we()})},ce=L=>({version:2,baseData:L,highlighterStrokes:bh(se.current),highlighterOpacity:v,textElements:kh(M.current),mediaElements:Nh(P.current)}),w=()=>{const L=J();if(!L)return null;const Z=L.baseCanvas.toDataURL("image/png");if(!Z)return null;const le=ce(Z);return{...le,signature:JSON.stringify(le)}},E=()=>{W({index:p.current,length:$.current.length})},H=L=>{var le;const Z=$.current.slice(0,p.current+1);return((le=Z[Z.length-1])==null?void 0:le.signature)===L.signature?!1:(Z.push(L),Z.length>wh&&Z.splice(0,Z.length-wh),$.current=Z,p.current=Z.length-1,E(),!0)},S=(L=!0)=>{const Z=w();if(!Z)return;H(Z)&&(K("unsaved"),L&&setTimeout(()=>Fe(),250))},z=async L=>{const Z=$.current[L];Z&&(await ee(Z.baseData),se.current=bh(Z.highlighterStrokes),Q.current=null,g(typeof Z.highlighterOpacity=="number"?Z.highlighterOpacity:Bo),M.current=kh(Z.textElements),P.current=Nh(Z.mediaElements),V(M.current),G(P.current),j(null),_(null),ue(),p.current=L,E(),K("unsaved"),setTimeout(()=>Fe(),150))},F=async()=>{p.current<=0||(_(null),j(null),await z(p.current-1))},ne=async()=>{p.current>=$.current.length-1||(_(null),j(null),await z(p.current+1))};D.useEffect(()=>{(async()=>{let Z=null,le=[],xe=Bo,we=[],Ie=[];if(typeof e=="string")Z=e;else if(e&&typeof e=="object"){typeof e.baseData=="string"?Z=e.baseData:typeof e.imageData=="string"?Z=e.imageData:typeof e.dataUrl=="string"&&(Z=e.dataUrl),le=M_(e.highlighterStrokes),we=P_(e.textElements),Ie=R_(e.mediaElements);const Ye=e.highlighterOpacity;Number.isFinite(Ye)&&(xe=Math.min(1,Math.max(.05,Number(Ye))))}await ee(Z),g(xe),se.current=le,M.current=we,P.current=Ie,V(we),G(Ie),ue();const Xe=w();$.current=Xe?[Xe]:[],p.current=$.current.length-1,E(),Xe&&(T.current=Xe.signature)})()},[]),D.useEffect(()=>{if(!N)return;const L=setTimeout(()=>{var Z;return(Z=a.current)==null?void 0:Z.focus()},0);return()=>clearTimeout(L)},[N]);const oe=L=>{const Z=i.current||s.current;if(!Z)return{x:0,y:0};const le=Z.getBoundingClientRect();return{x:(L.clientX-le.left)*(Z.width/le.width),y:(L.clientY-le.top)*(Z.height/le.height)}},Y=(L,Z)=>{const le=i.current||s.current;if(!le)return{x:0,y:0};const xe=le.getBoundingClientRect();return{x:(L-xe.left)*(le.width/xe.width),y:(Z-xe.top)*(le.height/xe.height)}},fe=(L,Z)=>{const le=o.current;if(!le)return{x:50,y:50};const xe=le.getBoundingClientRect(),we=le.scrollLeft+xe.width/2-L/2,Ie=le.scrollTop+xe.height/2-Z/2;return{x:Yn(we,0,Rt-L),y:Yn(Ie,0,Rt-Z)}},Se=(L,Z)=>{const le=crypto.randomUUID(),xe={id:le,x:L,y:Z,text:"",color:y.text.color,fontSize:y.text.width,fontWeight:"normal",fontStyle:"normal"};ve(we=>[...we,xe]),j({kind:"text",id:le}),_(le),K("unsaved")},me=(L,Z)=>{let le=!1;ve(xe=>{const we=xe.find(Ie=>Ie.id===L);return we?(le=!0,we.text.trim()?xe:xe.filter(Ie=>Ie.id!==L)):xe}),_(null),le&&S(!0)},De=(L,Z)=>{ve(le=>le.map(xe=>xe.id===L?Z(xe):xe))},Oe=async(L,Z,le)=>{let xe=360,we=L==="audio"?72:220;L==="image"&&await new Promise(Ye=>{const qe=new Image;qe.src=Z,qe.onload=()=>{const zn=qe.width>480?480/qe.width:1;xe=Math.max(80,Math.round(qe.width*zn)),we=Math.max(60,Math.round(qe.height*zn)),Ye()},qe.onerror=()=>Ye()}),L==="video"&&await new Promise(Ye=>{const qe=document.createElement("video");qe.preload="metadata",qe.src=Z,qe.onloadedmetadata=()=>{const ln=Number.isFinite(qe.videoWidth)&&qe.videoWidth>0?qe.videoWidth:640,zn=Number.isFinite(qe.videoHeight)&&qe.videoHeight>0?qe.videoHeight:360,Gr=560,wr=ln>Gr?Gr/ln:1;xe=Math.max(220,Math.round(ln*wr)),we=Math.max(140,Math.round(zn*wr)),Ye()},qe.onerror=()=>Ye()});const Ie=fe(xe,we),Xe={id:crypto.randomUUID(),type:L,src:Z,name:le,x:Ie.x,y:Ie.y,width:xe,height:we};Ee(Ye=>[...Ye,Xe]),j({kind:"media",id:Xe.id}),S(!0)},Le=()=>{const L=J();!L||se.current.length===0||(L.baseCtx.globalCompositeOperation="source-over",L.baseCtx.globalAlpha=1,L.baseCtx.drawImage(L.highlighterCanvas,0,0),L.baseCtx.globalAlpha=1,se.current=[],Q.current=null,ze())},Ge=L=>{x&&k(!1);const Z=J();if(!Z)return;const{x:le,y:xe}=oe(L),we=y[d];if(d==="text"){Se(le,xe);return}if(N&&me(N),j(null),d==="eraser"&&Le(),d==="highlighter"){const Ie={id:crypto.randomUUID(),color:we.color,width:we.width,opacity:v,points:[{x:le,y:xe}]};Q.current=Ie,Z.highlighterCtx.globalCompositeOperation="destination-over",Z.highlighterCtx.globalAlpha=Ie.opacity,Z.highlighterCtx.strokeStyle=Ie.color,Z.highlighterCtx.lineWidth=Ie.width,Z.highlighterCtx.lineCap="round",Z.highlighterCtx.lineJoin="round",Z.highlighterCtx.beginPath(),Z.highlighterCtx.moveTo(le,xe)}else Z.baseCtx.globalCompositeOperation="source-over",Z.baseCtx.globalAlpha=1,Z.baseCtx.strokeStyle=we.color,d==="eraser"&&(Z.baseCtx.globalCompositeOperation="destination-out",Z.baseCtx.strokeStyle="rgba(0,0,0,1)"),Z.baseCtx.lineWidth=we.width,Z.baseCtx.lineCap="round",Z.baseCtx.lineJoin="round",Z.baseCtx.beginPath(),Z.baseCtx.moveTo(le,xe);f(!0),K("unsaved")},mt=L=>{if(!b)return;const Z=J();if(!Z)return;const{x:le,y:xe}=oe(L);if(d==="highlighter"){const we=Q.current;if(!we)return;we.points.push({x:le,y:xe}),Z.highlighterCtx.lineTo(le,xe),Z.highlighterCtx.stroke(),Z.highlighterCtx.beginPath(),Z.highlighterCtx.moveTo(le,xe);return}Z.baseCtx.lineTo(le,xe),Z.baseCtx.stroke(),Z.baseCtx.beginPath(),Z.baseCtx.moveTo(le,xe)},Ue=()=>{if(!b)return;f(!1);const L=J();if(L){if(d==="highlighter"){L.highlighterCtx.closePath(),L.highlighterCtx.globalAlpha=1,L.highlighterCtx.globalCompositeOperation="source-over";const Z=Q.current;Z&&(Z.points.length===1&&Z.points.push({...Z.points[0]}),se.current=[...se.current,{...Z,points:Z.points.map(le=>({...le}))}],Q.current=null,ue())}else L.baseCtx.closePath(),L.baseCtx.globalAlpha=1,L.baseCtx.globalCompositeOperation="source-over";S(!0)}},X=async L=>{await Oe("image",L,"asset-image"),k(!1)},te=()=>{const L=document.createElement("input");L.type="file",L.multiple=!0,L.accept="image/*,video/*,audio/*",L.style.position="fixed",L.style.left="-9999px",document.body.appendChild(L),L.onchange=async Z=>{const le=Z.target.files;if(!le||le.length===0){L.remove();return}let xe=0;const we=[];for(let Ie=0;Ie<le.length;Ie++){const Xe=le[Ie],Ye=O_(Xe);if(!Ye){we.push(Xe.name);continue}try{const qe=await L_(Xe);await Oe(Ye,qe,Xe.name),xe++}catch(qe){console.error("Failed adding media",Xe.name,qe),we.push(Xe.name)}}we.length===0?A(`Added ${xe} media file${xe===1?"":"s"}.`):A(xe===0?`Failed to add ${we.length} file${we.length===1?"":"s"}.`:`Added ${xe}/${le.length}. Failed ${we.length}.`),setTimeout(()=>A(""),3200),L.remove()},L.oncancel=()=>L.remove(),L.click()},de=(L,Z)=>{if(N===Z)return;L.stopPropagation();const le=Y(L.clientX,L.clientY),xe=M.current.find(we=>we.id===Z);xe&&(c.current={kind:"text",id:Z,offsetX:le.x-xe.x,offsetY:le.y-xe.y,moved:!1},j({kind:"text",id:Z}))},ge=(L,Z)=>{L.stopPropagation();const le=Y(L.clientX,L.clientY),xe=P.current.find(we=>we.id===Z);xe&&(c.current={kind:"media",id:Z,offsetX:le.x-xe.x,offsetY:le.y-xe.y,moved:!1},j({kind:"media",id:Z}))},ye=(L,Z)=>{L.stopPropagation();const le=Y(L.clientX,L.clientY),xe=P.current.find(we=>we.id===Z);xe&&(u.current={id:Z,originX:le.x,originY:le.y,startWidth:xe.width,startHeight:xe.height,moved:!1},j({kind:"media",id:Z}))},pe=L=>{const Z=Y(L.clientX,L.clientY),le=u.current;if(le){const we=Z.x-le.originX,Ie=Z.y-le.originY;(Math.abs(we)>.5||Math.abs(Ie)>.5)&&(le.moved=!0),Ee(Xe=>Xe.map(Ye=>{if(Ye.id!==le.id)return Ye;const qe=Yn(le.startWidth+we,40,Rt-Ye.x),ln=Yn(le.startHeight+Ie,30,Rt-Ye.y);return{...Ye,width:qe,height:ln}}));return}const xe=c.current;if(xe){if(xe.kind==="text"){ve(we=>we.map(Ie=>{if(Ie.id!==xe.id)return Ie;const Xe=Yn(Z.x-xe.offsetX,0,Rt-30),Ye=Yn(Z.y-xe.offsetY,0,Rt-20);return(Math.abs(Xe-Ie.x)>.5||Math.abs(Ye-Ie.y)>.5)&&(xe.moved=!0),{...Ie,x:Xe,y:Ye}}));return}Ee(we=>we.map(Ie=>{if(Ie.id!==xe.id)return Ie;const Xe=Yn(Z.x-xe.offsetX,0,Rt-Ie.width),Ye=Yn(Z.y-xe.offsetY,0,Rt-Ie.height);return(Math.abs(Xe-Ie.x)>.5||Math.abs(Ye-Ie.y)>.5)&&(xe.moved=!0),{...Ie,x:Xe,y:Ye}}))}},Pe=()=>{var Z,le;const L=!!((Z=c.current)!=null&&Z.moved||(le=u.current)!=null&&le.moved);c.current=null,u.current=null,L&&(K("unsaved"),S(!0))},$e=(L,Z)=>{h(le=>({...le,[d]:{...le[d],[L]:Z}}))},Fe=()=>{try{const L=w();if(!L)return;L.signature!==T.current&&(K("saving"),t({version:2,baseData:L.baseData,highlighterStrokes:L.highlighterStrokes,highlighterOpacity:L.highlighterOpacity,textElements:L.textElements,mediaElements:L.mediaElements}),T.current=L.signature,setTimeout(()=>K("saved"),500))}catch(L){console.error("Canvas save blocked",L),K("unsaved")}};D.useEffect(()=>{const L=Z=>{const le=Z.target,xe=!!le&&(le.tagName==="INPUT"||le.tagName==="TEXTAREA"||le.isContentEditable);if((Z.ctrlKey||Z.metaKey)&&Z.key.toLowerCase()==="s"){Z.preventDefault(),Fe();return}if((Z.ctrlKey||Z.metaKey)&&Z.key.toLowerCase()==="z"&&!Z.shiftKey){Z.preventDefault(),F();return}if((Z.ctrlKey||Z.metaKey)&&Z.key.toLowerCase()==="y"||(Z.ctrlKey||Z.metaKey)&&Z.shiftKey&&Z.key.toLowerCase()==="z"){Z.preventDefault(),ne();return}if(!xe&&(Z.key==="Delete"||Z.key==="Backspace")&&C){Z.preventDefault(),C.kind==="text"?(ve(we=>we.filter(Ie=>Ie.id!==C.id)),N===C.id&&_(null)):Ee(we=>we.filter(Ie=>Ie.id!==C.id)),j(null),S(!0);return}Z.key==="Escape"&&(N?me(N):j(null))};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[C,N]);const Ze=()=>{if(!confirm("Clear whiteboard? This cannot be undone."))return;const L=J();L&&(ke(L.baseCtx,L.baseCanvas),_(null),j(null),M.current=[],P.current=[],V([]),G([]),se.current=[],Q.current=null,ze(),S(!0))},ut=Object.entries(r),Je=O.index>0,re=O.index>=0&&O.index<O.length-1,he=D.useMemo(()=>(C==null?void 0:C.kind)==="text"&&U.find(L=>L.id===C.id)||null,[C,U]),Re=D.useMemo(()=>(C==null?void 0:C.kind)==="media"&&I.find(L=>L.id===C.id)||null,[C,I]);return l.jsxs("div",{className:"h-full flex flex-col bg-zinc-900 relative",onMouseMove:pe,onMouseUp:Pe,onMouseLeave:Pe,children:[l.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-4 sm:px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-20 shrink-0 select-none",children:[l.jsx("h3",{className:"text-zinc-200 font-medium truncate max-w-[100px] sm:max-w-none",children:n}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex bg-zinc-800 p-1 rounded-lg border border-zinc-700",children:[l.jsx("button",{onClick:()=>m("pen"),className:`p-2 rounded transition-all ${d==="pen"?"bg-blue-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Pen",children:l.jsx(R1,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>m("highlighter"),className:`p-2 rounded transition-all ${d==="highlighter"?"bg-yellow-500 text-black shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Highlighter",children:l.jsx(E1,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>m("eraser"),className:`p-2 rounded transition-all ${d==="eraser"?"bg-zinc-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Eraser",children:l.jsx(x1,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>m("text"),className:`p-2 rounded transition-all ${d==="text"?"bg-indigo-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Text",children:l.jsx(G1,{className:"w-4 h-4"})}),l.jsx("div",{className:"w-px h-full bg-zinc-700 mx-1"}),l.jsx("button",{onClick:()=>k(!x),className:`p-2 rounded transition-all ${x?"bg-purple-600 text-white":"text-zinc-400 hover:text-zinc-200"}`,title:"Import Image",children:l.jsx(Os,{className:"w-4 h-4"})}),l.jsx("button",{onClick:te,className:"p-2 rounded transition-all text-zinc-400 hover:text-zinc-200",title:"Upload Image / Video / Audio",children:l.jsx(U0,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-center gap-3 bg-zinc-800/50 px-3 py-1.5 rounded-lg border border-zinc-800 hidden md:flex",children:[(d==="pen"||d==="highlighter"||d==="text")&&l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("input",{type:"color",value:d==="text"?(he==null?void 0:he.color)||y.text.color:y[d].color,onChange:L=>{d==="text"?(h(Z=>({...Z,text:{...Z.text,color:L.target.value}})),he&&(De(he.id,Z=>({...Z,color:L.target.value})),S(!0))):$e("color",L.target.value)},className:"w-8 h-8 rounded cursor-pointer bg-transparent border-none",title:d==="highlighter"?"Highlighter Color":d==="text"?"Text Color":"Pen Color"})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${d==="eraser"?"bg-zinc-500":"bg-current"}`,style:{color:y[d].color}}),l.jsx("input",{type:"range",min:d==="text"?"8":"1",max:d==="eraser"?"100":d==="highlighter"?"80":d==="text"?"96":"50",value:d==="text"?(he==null?void 0:he.fontSize)||y.text.width:y[d].width,onChange:L=>{const Z=parseInt(L.target.value,10);d==="text"?(h(le=>({...le,text:{...le.text,width:Z}})),he&&(De(he.id,le=>({...le,fontSize:Z})),S(!0))):$e("width",Z)},className:"w-24 h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),d==="highlighter"&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-[11px] uppercase tracking-wide text-zinc-500",children:"Opacity"}),l.jsx("input",{type:"range",min:"0.05",max:"1",step:"0.05",value:v,onChange:L=>g(parseFloat(L.target.value)),className:"w-24 h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-yellow-400"}),l.jsx("span",{className:"text-[11px] text-zinc-400 w-8 text-right",children:Math.round(v*100)})]}),d==="text"&&he&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{De(he.id,L=>({...L,fontWeight:L.fontWeight==="bold"?"normal":"bold"})),S(!0)},className:`px-2 py-1 text-xs rounded ${he.fontWeight==="bold"?"bg-zinc-600 text-white":"bg-zinc-800 text-zinc-300"}`,title:"Toggle Bold",children:"B"}),l.jsx("button",{onClick:()=>{De(he.id,L=>({...L,fontStyle:L.fontStyle==="italic"?"normal":"italic"})),S(!0)},className:`px-2 py-1 text-xs rounded ${he.fontStyle==="italic"?"bg-zinc-600 text-white":"bg-zinc-800 text-zinc-300"}`,title:"Toggle Italic",children:"I"})]}),Re&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-[11px] text-zinc-500",children:"W"}),l.jsx("input",{type:"range",min:"40",max:"1200",value:Re.width,onChange:L=>Ee(Z=>Z.map(le=>le.id===Re.id?{...le,width:parseInt(L.target.value,10)}:le)),onMouseUp:()=>S(!0),className:"w-16 h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"}),l.jsx("span",{className:"text-[11px] text-zinc-500",children:"H"}),l.jsx("input",{type:"range",min:"30",max:"900",value:Re.height,onChange:L=>Ee(Z=>Z.map(le=>le.id===Re.id?{...le,height:parseInt(L.target.value,10)}:le)),onMouseUp:()=>S(!0),className:"w-16 h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:F,disabled:!Je,className:"text-zinc-500 hover:text-zinc-200 p-2 disabled:opacity-40 disabled:cursor-not-allowed",title:"Undo (Ctrl/Cmd+Z)",children:l.jsx(K1,{className:"w-4 h-4"})}),l.jsx("button",{onClick:ne,disabled:!re,className:"text-zinc-500 hover:text-zinc-200 p-2 disabled:opacity-40 disabled:cursor-not-allowed",title:"Redo (Ctrl/Cmd+Y)",children:l.jsx(F1,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex items-center mr-2 hidden sm:flex",children:[B==="saving"&&l.jsx("span",{className:"text-xs text-zinc-500",children:l.jsx(Vr,{className:"w-3 h-3 animate-spin"})}),B==="saved"&&l.jsx("span",{className:"text-xs text-zinc-500 opacity-50",children:l.jsx(vr,{className:"w-3 h-3"})}),B==="unsaved"&&l.jsx("span",{className:"text-xs text-orange-400",children:l.jsx(Rn,{className:"w-3 h-3"})})]}),l.jsx("button",{onClick:Ze,className:"text-zinc-500 hover:text-red-400 p-2",children:l.jsx(an,{className:"w-4 h-4"})}),l.jsxs("button",{onClick:Fe,className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors shadow-lg ${B==="unsaved"?"bg-blue-600 text-white":"bg-zinc-700 text-zinc-200"}`,children:[l.jsx(Zr,{className:"w-4 h-4"})," Save"]})]})]}),R&&l.jsx("div",{className:"px-4 py-2 text-xs text-zinc-300 border-b border-zinc-800 bg-zinc-900/70",children:R}),x&&l.jsxs("div",{className:"absolute top-16 left-1/2 -translate-x-1/2 z-30 bg-zinc-900 border border-zinc-700 rounded-xl shadow-2xl p-4 w-80 max-h-[400px] flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h4",{className:"text-sm font-semibold text-zinc-200",children:"Select Asset"}),l.jsx("button",{onClick:()=>k(!1),className:"text-zinc-500 hover:text-white",children:l.jsx(Ds,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"grid grid-cols-3 gap-2 overflow-y-auto custom-scrollbar flex-1",children:ut.length>0?ut.map(([L,Z])=>l.jsx("button",{onClick:()=>X(Z),className:"aspect-square bg-zinc-950 border border-zinc-800 rounded-md overflow-hidden hover:border-purple-500 transition-colors relative",children:l.jsx("img",{src:Z,alt:"asset",className:"w-full h-full object-contain pointer-events-none"})},L)):l.jsx("div",{className:"col-span-3 text-center py-4 text-xs text-zinc-500",children:"No assets found."})})]}),l.jsx("div",{className:`flex-1 overflow-auto bg-[#09090b] relative custom-scrollbar touch-none ${d==="text"?"cursor-text":"cursor-crosshair"}`,ref:o,children:l.jsx("div",{className:"min-w-full min-h-full inline-block relative",children:l.jsxs("div",{className:"relative",style:{width:Rt,height:Rt},children:[l.jsx("canvas",{ref:s,width:Rt,height:Rt,className:"absolute inset-0 block"}),l.jsx("canvas",{ref:i,width:Rt,height:Rt,onMouseDown:Ge,onMouseMove:mt,onMouseUp:Ue,onMouseLeave:Ue,className:"absolute inset-0 block"}),U.map(L=>{const Z=(C==null?void 0:C.kind)==="text"&&C.id===L.id,le=N===L.id,xe=Math.max(10,Math.round(L.fontSize*1.3));return le?l.jsx("textarea",{ref:a,value:L.text,onChange:we=>De(L.id,Ie=>({...Ie,text:we.target.value})),onBlur:()=>me(L.id),onMouseDown:we=>we.stopPropagation(),onKeyDown:we=>{(we.ctrlKey||we.metaKey)&&we.key==="Enter"&&(we.preventDefault(),me(L.id)),we.key==="Escape"&&(we.preventDefault(),me(L.id))},className:"absolute z-20 min-w-[220px] max-w-[500px] min-h-[90px] bg-zinc-900/95 border border-blue-500 rounded-md p-2 text-zinc-100 resize-y focus:outline-none",style:{left:L.x,top:L.y,color:L.color,fontSize:`${L.fontSize}px`,fontWeight:L.fontWeight,fontStyle:L.fontStyle,lineHeight:`${xe}px`}},L.id):l.jsx("div",{className:`absolute z-20 px-1 py-0.5 rounded cursor-move whitespace-pre-wrap ${Z?"ring-1 ring-blue-500 bg-blue-500/10":""}`,style:{left:L.x,top:L.y,color:L.color,fontSize:`${L.fontSize}px`,fontWeight:L.fontWeight,fontStyle:L.fontStyle,lineHeight:`${xe}px`,userSelect:"none"},onMouseDown:we=>de(we,L.id),onClick:we=>{we.stopPropagation(),j({kind:"text",id:L.id})},onDoubleClick:we=>{we.stopPropagation(),m("text"),j({kind:"text",id:L.id}),_(L.id)},children:L.text||"Text"},L.id)}),I.map(L=>{const Z=(C==null?void 0:C.kind)==="media"&&C.id===L.id,le=Math.max(10,L.height-24);return l.jsxs("div",{className:`absolute z-20 overflow-hidden rounded-md border ${Z?"border-blue-500 shadow-[0_0_0_1px_rgba(59,130,246,.4)]":"border-zinc-700"}`,style:{left:L.x,top:L.y,width:L.width,height:L.height,background:"#0a0a0a"},onMouseDown:xe=>{xe.stopPropagation(),j({kind:"media",id:L.id})},children:[l.jsxs("div",{className:"h-6 px-2 flex items-center justify-between text-[11px] text-zinc-200 bg-zinc-900/90 border-b border-zinc-700 cursor-move",onMouseDown:xe=>ge(xe,L.id),children:[l.jsx("span",{className:"truncate",children:L.name}),l.jsx("button",{className:"text-zinc-400 hover:text-red-400",onClick:xe=>{xe.stopPropagation(),Ee(we=>we.filter(Ie=>Ie.id!==L.id)),(C==null?void 0:C.kind)==="media"&&C.id===L.id&&j(null),S(!0)},children:l.jsx(Ds,{className:"w-3 h-3"})})]}),l.jsxs("div",{className:"w-full",style:{height:le},children:[L.type==="image"&&l.jsx("img",{src:L.src,alt:L.name,className:"w-full h-full object-contain",draggable:!1,onMouseDown:xe=>ge(xe,L.id)}),L.type==="video"&&l.jsx("video",{src:L.src,controls:!0,className:"w-full h-full object-contain bg-black"}),L.type==="audio"&&l.jsx("div",{className:"w-full h-full flex items-center justify-center px-2",children:l.jsx("audio",{src:L.src,controls:!0,className:"w-full"})})]}),l.jsx("div",{className:"absolute right-0 bottom-0 w-4 h-4 bg-blue-500 cursor-nwse-resize",onMouseDown:xe=>ye(xe,L.id),title:"Resize",children:l.jsx(I1,{className:"w-3 h-3 text-white"})})]},L.id)})]})})})]})},_h=(e,t)=>{const n=Array.isArray(e==null?void 0:e.folders)?e.folders.filter(a=>typeof(a==null?void 0:a.id)=="string"&&typeof(a==null?void 0:a.name)=="string").map(a=>({id:a.id,name:a.name,parentId:typeof a.parentId=="string"?a.parentId:null})):[],r=new Set(n.map(a=>a.id)),s=n.map(a=>({...a,parentId:a.parentId&&r.has(a.parentId)?a.parentId:null})),i=e!=null&&e.assetFolderMap&&typeof e.assetFolderMap=="object"?e.assetFolderMap:{},o={};return Object.keys(t).forEach(a=>{const c=i[a];o[a]=typeof c=="string"&&r.has(c)?c:null}),{folders:s,assetFolderMap:o}},F_=({initialContent:e,assets:t={},onAddAsset:n,onDeleteAsset:r,onSave:s,fileName:i})=>{const[o,a]=D.useState(""),[c,u]=D.useState(null),[d,m]=D.useState(!1),[y,h]=D.useState(""),[v,g]=D.useState(()=>_h(e,t)),[b,f]=D.useState(null),[x,k]=D.useState(new Set),[N,_]=D.useState(null),[C,j]=D.useState(null);D.useEffect(()=>{const q=_h(e,t);g(q),f(ue=>ue&&q.folders.some(ee=>ee.id===ue)?ue:null)},[e,t]);const R=q=>{g(ue=>{const ee=q(ue);return s(ee),ee})},A=D.useMemo(()=>Object.entries(t).map(([q,ue])=>({id:q,data:ue})),[t]),B=D.useMemo(()=>A.filter(q=>q.id.toLowerCase().includes(o.toLowerCase())).filter(q=>(v.assetFolderMap[q.id]??null)===b).sort((q,ue)=>q.id.localeCompare(ue.id)),[A,o,v.assetFolderMap,b]),K=D.useMemo(()=>v.folders.filter(q=>q.parentId===null).sort((q,ue)=>q.name.localeCompare(ue.name,void 0,{sensitivity:"base"})),[v.folders]),T=q=>v.folders.filter(ue=>ue.parentId===q).sort((ue,ee)=>ue.name.localeCompare(ee.name,void 0,{sensitivity:"base"})),$=q=>{const ue=prompt("Folder name:"),ee=ue==null?void 0:ue.trim();if(!ee)return;const ce=crypto.randomUUID();R(w=>({...w,folders:[...w.folders,{id:ce,name:ee,parentId:q}]})),k(w=>new Set(w).add(ce).add(q||"")),f(ce)},p=(q,ue)=>{R(ee=>({...ee,assetFolderMap:{...ee.assetFolderMap,[q]:ue}}))},O=(q,ue)=>{_(ue),q.dataTransfer.effectAllowed="move",q.dataTransfer.setData("text/plain",ue)},W=()=>{_(null),j(null)},U=(q,ue)=>{q.preventDefault(),q.stopPropagation(),q.dataTransfer.dropEffect="move",C!==ue&&j(ue)},V=(q,ue)=>{q.preventDefault(),q.stopPropagation();const ee=q.dataTransfer.getData("text/plain")||N;j(null),_(null),ee&&(p(ee,ue),k(ce=>new Set(ce).add(ue)))},I=q=>{q.preventDefault(),q.dataTransfer.dropEffect="move",C!=="root"&&j("root")},G=q=>{q.preventDefault();const ue=q.dataTransfer.getData("text/plain")||N;j(null),_(null),ue&&p(ue,null)},M=(q,ue=0)=>{const ee=T(q.id),ce=ee.length>0,w=x.has(q.id),E=b===q.id,H=C===q.id;return l.jsxs("div",{children:[l.jsxs("div",{style:{marginLeft:ue*10},className:`group flex items-center justify-between rounded-md px-1 py-1 mb-0.5 transition-colors ${H?"bg-blue-500/10 ring-1 ring-blue-500/40":"hover:bg-zinc-900"}`,onDragOver:S=>U(S,q.id),onDrop:S=>V(S,q.id),children:[l.jsxs("button",{onClick:()=>{ce&&k(S=>{const z=new Set(S);return z.has(q.id)?z.delete(q.id):z.add(q.id),z}),f(q.id)},className:`flex-1 flex items-center gap-2 px-1.5 py-1 text-sm text-left rounded ${E?"text-white bg-zinc-800":"text-zinc-300"}`,children:[ce?w?l.jsx(Wu,{className:"w-3.5 h-3.5 text-zinc-500"}):l.jsx(Vu,{className:"w-3.5 h-3.5 text-zinc-500"}):l.jsx("span",{className:"w-3.5 h-3.5"}),l.jsx(Dc,{className:"w-4 h-4 text-blue-400/90"}),l.jsx("span",{className:"truncate",children:q.name})]}),l.jsx("button",{onClick:()=>$(q.id),className:"p-1 text-zinc-500 hover:text-white hover:bg-zinc-800 rounded opacity-0 group-hover:opacity-100",title:"New Subfolder",children:l.jsx(ha,{className:"w-3.5 h-3.5"})})]}),w&&ee.map(S=>M(S,ue+1))]},q.id)},P=q=>q.type.startsWith("image/")?!0:/\.(png|jpe?g|gif|webp|bmp|svg|avif|ico)$/i.test(q.name),se=async(q,ue)=>{var ce;if(!q||!n)return;const ee=Array.from(q).filter(P);if(ee.length===0){alert(`No image files found in selected ${ue}.`);return}m(!0);try{const w=[],E=[];for(let S=0;S<ee.length;S++){h(`Uploading ${S+1}/${ee.length}...`);try{const z=await n(ee[S]),F=typeof z=="string"&&z.startsWith("asset://")?z.slice(8):"";F?w.push(F):E.push(ee[S].name||`file-${S+1}`)}catch(z){console.error("Asset upload failed for file",(ce=ee[S])==null?void 0:ce.name,z),E.push(ee[S].name||`file-${S+1}`)}}w.length>0&&R(S=>{const z={...S.assetFolderMap};return w.forEach(F=>{z[F]=b}),{...S,assetFolderMap:z}});const H=w.length;H===ee.length?h(`Uploaded ${H} image${H===1?"":"s"}.`):h(H===0?`Upload failed for ${E.length} file${E.length===1?"":"s"}.`:`Uploaded ${H}/${ee.length}. Failed ${E.length}.`),setTimeout(()=>h(""),3500)}finally{m(!1)}},Q=q=>{const ue=document.createElement("input");if(ue.type="file",ue.multiple=!0,ue.accept="image/*",q==="folder"){const ee=ue;ee.webkitdirectory=!0,ee.directory=!0}ue.style.position="fixed",ue.style.left="-9999px",document.body.appendChild(ue),ue.onchange=async ee=>{try{await se(ee.target.files,q)}finally{ue.remove()}},ue.oncancel=()=>{ue.remove()},ue.click()},J=()=>{Q("files")},ve=()=>{Q("folder")},Ee=q=>{navigator.clipboard.writeText(`asset://${q}`),u(q),setTimeout(()=>u(null),2e3)},ke=q=>{if(!r){alert("Delete functionality not available.");return}confirm("Delete this asset permanently? It will disappear from all documents/whiteboards using it.")&&(r(q),R(ue=>{const ee={...ue.assetFolderMap};return delete ee[q],{...ue,assetFolderMap:ee}}))},ze=(q,ue)=>{const ee=document.createElement("a");ee.href=q,ee.download=`asset-${ue.substring(0,8)}.png`,ee.click()};return l.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[l.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-20",children:[l.jsxs("h3",{className:"text-zinc-200 font-medium flex items-center gap-2",children:[l.jsx(Os,{className:"w-4 h-4 text-purple-500"})," ",i]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ba,{className:"w-4 h-4 text-zinc-500 absolute left-3 top-1/2 -translate-y-1/2"}),l.jsx("input",{type:"text",placeholder:"Search ID...",value:o,onChange:q=>a(q.target.value),className:"bg-zinc-950 border border-zinc-800 rounded-full py-1.5 pl-9 pr-4 text-sm text-zinc-300 focus:outline-none focus:border-zinc-700 w-48"})]}),l.jsxs("button",{onClick:J,disabled:d,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-60 disabled:cursor-not-allowed text-white px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg shadow-purple-900/20",children:[l.jsx(U0,{className:"w-4 h-4"})," Upload Files"]}),l.jsxs("button",{onClick:ve,disabled:d,className:"flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 disabled:opacity-60 disabled:cursor-not-allowed text-zinc-200 px-4 py-2 rounded-md text-sm font-medium transition-colors border border-zinc-700",children:[l.jsx(Sf,{className:"w-4 h-4"})," Upload Folder"]})]})]}),y&&l.jsx("div",{className:"px-6 py-2 text-xs text-zinc-400 border-b border-zinc-800 bg-zinc-900/70",children:y}),l.jsxs("div",{className:"flex-1 min-h-0 flex",children:[l.jsxs("aside",{className:"w-64 border-r border-zinc-800 p-3 overflow-y-auto custom-scrollbar",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-[11px] uppercase tracking-wide text-zinc-500",children:"Folders"}),l.jsx("button",{onClick:()=>$(b),className:"p-1.5 text-zinc-400 hover:text-white hover:bg-zinc-800 rounded",title:b?"New Subfolder":"New Folder",children:l.jsx(ha,{className:"w-4 h-4"})})]}),l.jsxs("button",{onClick:()=>f(null),onDragOver:I,onDrop:G,className:`w-full mb-2 flex items-center gap-2 px-2 py-2 rounded-md text-sm transition-colors ${b===null?"bg-zinc-800 text-white":"text-zinc-300 hover:bg-zinc-900"} ${C==="root"?"ring-1 ring-blue-500/40 bg-blue-500/10":""}`,title:"Drop here to move asset to root",children:[l.jsx(Sf,{className:"w-4 h-4 text-zinc-500"}),l.jsx("span",{children:"Root (No Folder)"})]}),l.jsxs("div",{children:[K.map(q=>M(q)),K.length===0&&l.jsx("div",{className:"text-xs text-zinc-600 px-2 py-3",children:"No folders yet."})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:A.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-500 opacity-50",children:[l.jsx(zf,{className:"w-16 h-16 mb-4"}),l.jsx("p",{children:"No assets in this project yet."}),l.jsx("p",{className:"text-sm mt-2",children:"Upload images or paste them into Documents."})]}):B.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-500 opacity-60",children:[l.jsx(zf,{className:"w-12 h-12 mb-3"}),l.jsx("p",{children:"No assets in this folder."}),l.jsx("p",{className:"text-xs mt-2",children:"Drag assets onto folders to reorganize."})]}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:B.map(({id:q,data:ue})=>l.jsxs("div",{draggable:!0,onDragStart:ee=>O(ee,q),onDragEnd:W,className:`group bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden hover:border-zinc-600 transition-all shadow-sm hover:shadow-xl cursor-grab active:cursor-grabbing ${N===q?"opacity-45 grayscale":""}`,children:[l.jsxs("div",{className:"aspect-square bg-[#101012] relative flex items-center justify-center overflow-hidden bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTAgMGgyMHYyMEgwem0xMCAxMGgxMHYxMEgxMHoiIGZpbGw9IiMxODE4MWIiIGZpbGwtb3BhY2l0eT0iMC40Ii8+PC9zdmc+')]",children:[l.jsx("img",{src:ue,alt:q,className:"max-w-full max-h-full object-contain"}),l.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 backdrop-blur-sm",children:[l.jsx("button",{onClick:()=>Ee(q),className:"p-2 bg-white text-black rounded-full hover:scale-110 transition-transform",title:"Copy ID",children:c===q?l.jsx(vr,{className:"w-4 h-4"}):l.jsx(Cc,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>ze(ue,q),className:"p-2 bg-zinc-800 text-white rounded-full hover:scale-110 transition-transform",title:"Download",children:l.jsx(Zu,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>ke(q),className:"p-2 bg-red-600 text-white rounded-full hover:scale-110 transition-transform",title:"Delete Asset",children:l.jsx(an,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"p-3 border-t border-zinc-800 bg-zinc-900/50",children:[l.jsx("div",{className:"text-[10px] font-mono text-zinc-500 truncate",title:q,children:q}),l.jsxs("div",{className:"text-[10px] text-zinc-600 mt-1",children:[(ue.length/1024).toFixed(1)," KB  ",ue.split(";")[0].split(":")[1]]})]})]},q))})})]})]})},B_=({isOpen:e,onClose:t,projects:n,activeProject:r,onSelectFile:s,onSelectProject:i,onCreateFile:o})=>{const[a,c]=D.useState(""),[u,d]=D.useState(0),m=D.useRef(null);if(D.useEffect(()=>{e&&(c(""),d(0),setTimeout(()=>{var b;return(b=m.current)==null?void 0:b.focus()},50))},[e]),!e)return null;const y=b=>{switch(b){case"doc":return l.jsx(fa,{className:"w-4 h-4"});case"flowchart":return l.jsx(Yu,{className:"w-4 h-4"});case"todo":return l.jsx(Ti,{className:"w-4 h-4"});case"kanban":return l.jsx(Oa,{className:"w-4 h-4"});case"roadmap":return l.jsx(Gu,{className:"w-4 h-4"});case"grid":return l.jsx(Ku,{className:"w-4 h-4"});case"whiteboard":return l.jsx(Fa,{className:"w-4 h-4"});case"asset-gallery":return l.jsx(Os,{className:"w-4 h-4"});case"project":return l.jsx(H0,{className:"w-4 h-4"});case"create":return l.jsx(Ln,{className:"w-4 h-4"});default:return l.jsx(fa,{className:"w-4 h-4"})}};let h=[];if(r){const b=f=>r.files.some(x=>x.type===f);r.files.forEach(f=>{h.push({id:f.id,type:f.type,label:f.name,subLabel:"Go to file",action:()=>{s(f.id),t()}})}),h.push({id:"new-doc",type:"create",label:"Create Document",action:()=>{o("doc"),t()}}),h.push({id:"new-flow",type:"create",label:"Create Flowchart",action:()=>{o("flowchart"),t()}}),b("todo")||h.push({id:"new-todo",type:"create",label:"Create Task List",action:()=>{o("todo"),t()}}),b("kanban")||h.push({id:"new-kanban",type:"create",label:"Create Bug Tracker",action:()=>{o("kanban"),t()}}),b("roadmap")||h.push({id:"new-roadmap",type:"create",label:"Create Roadmap",action:()=>{o("roadmap"),t()}}),h.push({id:"new-grid",type:"create",label:"Create Data Grid",action:()=>{o("grid"),t()}}),h.push({id:"new-wb",type:"create",label:"Create Whiteboard",action:()=>{o("whiteboard"),t()}})}n.forEach(b=>{b.id!==(r==null?void 0:r.id)&&h.push({id:b.id,type:"project",label:b.name,subLabel:b.isLocal?"Switch to Local Repo":"Switch Project",action:()=>{i(b.id),t()}})});const v=h.filter(b=>b.label.toLowerCase().includes(a.toLowerCase())||b.type.toLowerCase().includes(a.toLowerCase()));u>=v.length&&v.length>0&&d(v.length-1);const g=b=>{b.key==="ArrowDown"?(b.preventDefault(),d(f=>(f+1)%v.length)):b.key==="ArrowUp"?(b.preventDefault(),d(f=>(f-1+v.length)%v.length)):b.key==="Enter"?(b.preventDefault(),v[u]&&v[u].action()):b.key==="Escape"&&t()};return l.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-[20vh] bg-black/50 backdrop-blur-sm p-4",onClick:t,children:l.jsxs("div",{className:"w-full max-w-2xl bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl overflow-hidden flex flex-col",onClick:b=>b.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center px-4 py-3 border-b border-zinc-800",children:[l.jsx(Ba,{className:"w-5 h-5 text-zinc-500 mr-3"}),l.jsx("input",{ref:m,type:"text",className:"flex-1 bg-transparent text-lg text-white placeholder-zinc-600 focus:outline-none",placeholder:r?`Search files in ${r.name}...`:"Search projects...",value:a,onChange:b=>{c(b.target.value),d(0)},onKeyDown:g}),l.jsx("div",{className:"text-xs text-zinc-600 border border-zinc-800 rounded px-2 py-1",children:"ESC"})]}),l.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar p-2",children:v.length===0?l.jsx("div",{className:"p-4 text-center text-zinc-500",children:"No results found."}):v.map((b,f)=>l.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg cursor-pointer transition-colors ${f===u?"bg-blue-600 text-white":"text-zinc-300 hover:bg-zinc-800"}`,onClick:()=>b.action(),onMouseEnter:()=>d(f),children:[l.jsx("div",{className:`p-2 rounded-md ${f===u?"bg-white/20":"bg-zinc-800"}`,children:y(b.type)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-sm",children:b.label}),b.subLabel&&l.jsx("div",{className:`text-xs ${f===u?"text-blue-200":"text-zinc-500"}`,children:b.subLabel})]}),f===u&&l.jsx("div",{className:"text-xs opacity-70",children:"Enter"})]},`${b.type}-${b.id}`))}),l.jsxs("div",{className:"px-4 py-2 bg-zinc-950 border-t border-zinc-800 text-[10px] text-zinc-500 flex justify-between",children:[l.jsx("span",{children:"Navigate with "}),l.jsx("span",{children:'Use keywords like "create", "todo", "doc"'})]})]})})},H_=({isOpen:e,onClose:t})=>{if(!e)return null;const n=[{icon:fa,color:"text-blue-400",title:"Documents",desc:"Markdown-based text editor. Use this for Game Design Documents (GDD), technical specifications, story drafts, and general notes. Supports inserting images from the Asset Library."},{icon:Yu,color:"text-purple-400",title:"Flowcharts",desc:"Node-based diagram editor. Perfect for visualizing game loops, dialogue trees, quest branching, or finite state machines (FSM) for AI behavior."},{icon:Ti,color:"text-emerald-400",title:"Task Lists",desc:"Simple, prioritized checklist for daily tasks. Supports sub-tasks and drag-and-drop reordering to keep track of immediate to-dos."},{icon:Oa,color:"text-red-400",title:"Bug Tracker",desc:"A Kanban board (To Do, In Progress, Done) designed for tracking bugs, glitches, and feature requests. Allows assigning severity levels to issues."},{icon:Gu,color:"text-amber-400",title:"Roadmap",desc:"Timeline view for long-term project planning. Create phases and milestones to visualize your development schedule over weeks or months."},{icon:Ku,color:"text-cyan-400",title:"Data Grid",desc:"Spreadsheet-like database editor. Essential for balancing game stats (e.g., weapon damage, enemy HP), managing item lists, or localized strings."},{icon:Fa,color:"text-pink-400",title:"Whiteboard",desc:"Infinite canvas for freehand drawing and brainstorming. Great for quick level layout sketches, UI mockups, or scribbling ideas during meetings."},{icon:Os,color:"text-indigo-400",title:"Asset Library",desc:"Central repository for project images. Upload reference art or screenshots here to use them inside Documents and Whiteboards."}];return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-800 bg-zinc-950/50 rounded-t-2xl",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:l.jsx(d1,{className:"w-6 h-6 text-blue-500"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"DevArchitect Guide"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Project management suite for game developers"})]})]}),l.jsx("button",{onClick:t,className:"p-2 text-zinc-500 hover:text-white hover:bg-zinc-800 rounded-full transition-colors",children:l.jsx(Ds,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar bg-zinc-900/50",children:[l.jsxs("div",{className:"mb-10 bg-zinc-800/30 border border-zinc-700/50 rounded-xl p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-zinc-100 mb-2",children:"What is this tool?"}),l.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"DevArchitect is an offline-capable workspace designed to centralize the messy process of game development planning. Instead of scattering your GDDs in Word, tasks in Trello, and stats in Excel, this tool keeps everything in one project file that can be saved locally to your disk or version control system."})]}),l.jsx("h3",{className:"text-sm font-bold text-zinc-500 uppercase tracking-wider mb-4 px-2",children:"Available Tools"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(r=>l.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border border-zinc-800 bg-zinc-950 hover:border-zinc-700 transition-colors",children:[l.jsx("div",{className:`shrink-0 p-3 rounded-lg bg-zinc-900 h-fit ${r.color}`,children:l.jsx(r.icon,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-zinc-200 mb-1",children:r.title}),l.jsx("p",{className:"text-sm text-zinc-500 leading-snug",children:r.desc})]})]},r.title))}),l.jsx("div",{className:"mt-10 p-4 border-t border-zinc-800 text-center text-xs text-zinc-600",children:l.jsxs("p",{children:["Use ",l.jsx("span",{className:"font-mono bg-zinc-800 px-1 rounded text-zinc-400",children:"Ctrl + K"})," to open the Command Palette anywhere."]})})]})]})})};var zr=(e=>(e.DASHBOARD="DASHBOARD",e.PROJECT="PROJECT",e))(zr||{});const U_=e=>{try{const t=e.split(","),n=t[0].match(/:(.*?);/),r=n?n[1]:"application/octet-stream",s=atob(t[1]);let i=s.length;const o=new Uint8Array(i);for(;i--;)o[i]=s.charCodeAt(i);return new Blob([o],{type:r})}catch(t){return console.error("Failed to convert base64 to blob",t),new Blob([])}},Cn={DB_NAME:"devarchitect_db",STORE_PROJECTS:"projects",STORE_HANDLES:"handles",init:function(){return new Promise((e,t)=>{const n=indexedDB.open(this.DB_NAME,2);n.onerror=()=>t(n.error),n.onupgradeneeded=r=>{const s=r.target.result;s.objectStoreNames.contains(this.STORE_PROJECTS)||s.createObjectStore(this.STORE_PROJECTS,{keyPath:"id"}),s.objectStoreNames.contains(this.STORE_HANDLES)||s.createObjectStore(this.STORE_HANDLES)},n.onsuccess=()=>e()})},saveProject:function(e){return new Promise((t,n)=>{const r=indexedDB.open(this.DB_NAME,2);r.onsuccess=s=>{const i=s.target.result.transaction([this.STORE_PROJECTS],"readwrite");i.objectStore(this.STORE_PROJECTS).put(e),i.oncomplete=()=>t(),i.onerror=()=>n(i.error)}})},saveHandle:function(e,t){return new Promise((n,r)=>{const s=indexedDB.open(this.DB_NAME,2);s.onsuccess=i=>{const o=i.target.result.transaction([this.STORE_HANDLES],"readwrite");o.objectStore(this.STORE_HANDLES).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>r(o.error)}})},loadAllProjects:function(){return new Promise((e,t)=>{const n=indexedDB.open(this.DB_NAME,2);n.onsuccess=r=>{const i=r.target.result.transaction([this.STORE_PROJECTS],"readonly").objectStore(this.STORE_PROJECTS).getAll();i.onsuccess=()=>e(i.result),i.onerror=()=>t(i.error)},n.onerror=()=>e([])})},loadHandle:function(e){return new Promise((t,n)=>{const r=indexedDB.open(this.DB_NAME,2);r.onsuccess=s=>{const o=s.target.result.transaction([this.STORE_HANDLES],"readonly").objectStore(this.STORE_HANDLES).get(e);o.onsuccess=()=>t(o.result),o.onerror=()=>t(null)},r.onerror=()=>t(null)})},delete:function(e){return new Promise((t,n)=>{const r=indexedDB.open(this.DB_NAME,2);r.onsuccess=s=>{const i=s.target.result.transaction([this.STORE_PROJECTS,this.STORE_HANDLES],"readwrite");i.objectStore(this.STORE_PROJECTS).delete(e),i.objectStore(this.STORE_HANDLES).delete(e),i.oncomplete=()=>t()}})}},Xt=[{type:"doc",label:"Document",pluralLabel:"Documents",icon:fa,component:S_,createDefaultContent:e=>`# ${e}

Created on ${new Date().toLocaleDateString()}`},{type:"flowchart",label:"Flowchart",pluralLabel:"Flowcharts",icon:Yu,component:k_,createDefaultContent:()=>({nodes:[],edges:[]})},{type:"todo",label:"Task List",pluralLabel:"Task Lists",icon:Ti,component:j_,createDefaultContent:()=>({items:[]})},{type:"kanban",label:"Bug Tracker",pluralLabel:"Bug Trackers",icon:Oa,component:D_,createDefaultContent:()=>({tasks:[]})},{type:"roadmap",label:"Roadmap",pluralLabel:"Roadmaps",icon:Gu,component:I_,createDefaultContent:()=>({items:[]})},{type:"grid",label:"Data Grid",pluralLabel:"Data Grids",icon:Ku,component:A_,createDefaultContent:()=>({columns:[],rows:[]})},{type:"whiteboard",label:"Whiteboard",pluralLabel:"Whiteboards",icon:Fa,component:$_,createDefaultContent:()=>""},{type:"asset-gallery",label:"Asset Library",pluralLabel:"Asset Libraries",icon:Os,component:F_,createDefaultContent:()=>({})}],It="asset-gallery",Bi="Asset Library",Sh="application/x-gdpm-file-id",Er=new Set([It,"todo","kanban","roadmap"]),kg=[{type:It,name:Bi},{type:"todo",name:"Task List"},{type:"kanban",name:"Bug Tracker"},{type:"roadmap",name:"Roadmap"}],W_=()=>({id:crypto.randomUUID(),name:Bi,type:It,content:{},folderId:null}),V_=(e,t)=>{const n=Xt.find(r=>r.type===e);return{id:crypto.randomUUID(),name:t,type:e,content:n?n.createDefaultContent(t):"",folderId:null}},es=e=>{const t=e.files||[],n=t.filter(o=>o.type===It),r=new Map,s=[];for(const o of t.filter(a=>a.type!==It)){if(Er.has(o.type)){r.has(o.type)||r.set(o.type,{...o,folderId:null});continue}s.push(o)}let i=n[0]||W_();(i.name!==Bi||i.folderId!==null)&&(i={...i,name:Bi,folderId:null});for(const o of kg){if(o.type===It)continue;const a=r.get(o.type);a?s.push({...a,name:o.name,folderId:null}):s.push(V_(o.type,o.name))}return{...e,folders:e.folders||[],assets:e.assets||{},files:[...s,i]}},zh=[{id:"1",name:"Cosmic Invaders",type:"Game",description:"A retro-style space shooter.",lastModified:Date.now(),files:[{id:"f1",name:"Game Design Document",type:"doc",content:"# Cosmic Invaders",folderId:null},{id:"f-asset-lib",name:Bi,type:It,content:{},folderId:null}],folders:[],assets:{}}],Z_=()=>{const[e,t]=D.useState([]),[n,r]=D.useState(!1),[s,i]=D.useState(zr.DASHBOARD),[o,a]=D.useState(null),[c,u]=D.useState(null),[d,m]=D.useState(!1),[y,h]=D.useState(!1),[v,g]=D.useState(new Set),[b,f]=D.useState({open:!1,folderId:null}),[x,k]=D.useState(""),[N,_]=D.useState("doc"),[C,j]=D.useState(null),[R,A]=D.useState(null),B=ie.useRef(!1),K=ie.useRef(null),T=ie.useRef(new Map),$=ie.useRef([]);$.current=e,D.useEffect(()=>{$.current=e},[e]),D.useEffect(()=>{(async()=>{try{await Cn.init();const te=await Cn.loadAllProjects();for(const ge of te)if(ge.isLocal){const ye=await Cn.loadHandle(ge.id);ye&&T.current.set(ge.id,ye)}const de=te.map(es);t(de.length>0?de:zh.map(es))}catch(te){console.error("Init error",te),t(zh.map(es))}finally{r(!0)}})()},[]),D.useEffect(()=>{n&&e.length>0&&e.forEach(X=>Cn.saveProject(X))},[e,n]),D.useEffect(()=>{const X=te=>{(te.ctrlKey||te.metaKey)&&te.key==="k"&&(te.preventDefault(),m(de=>!de))};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[]);const p=async X=>{const te=T.current.get(X.id);if(te)try{const de={...X,assets:{}},ye=await(await te.getFileHandle("project.json",{create:!0})).createWritable();if(await ye.write(JSON.stringify(de,null,2)),await ye.close(),X.assets&&Object.keys(X.assets).length>0){const pe=await te.getDirectoryHandle("assets",{create:!0});for(const[Pe,$e]of Object.entries(X.assets)){const Fe=$e.startsWith("data:image/png")?"png":"jpg",Ze=`${Pe}.${Fe}`,Je=await(await pe.getFileHandle(Ze,{create:!0})).createWritable();await Je.write(U_($e)),await Je.close()}}}catch(de){console.error("Failed to save to disk:",de)}},O=async()=>{if(B.current||!K.current)return;const X=K.current;K.current=null,B.current=!0;try{await p(X)}catch(te){console.error("Save queue error:",te)}finally{B.current=!1,K.current&&O()}},W=async X=>{try{const ge=await(await(await X.getFileHandle("project.json")).getFile()).text(),ye=JSON.parse(ge);ye.folders||(ye.folders=[]),ye.files&&(ye.files=ye.files.map(Pe=>({...Pe,folderId:Pe.folderId||null})));const pe={};try{const Pe=await X.getDirectoryHandle("assets");for await(const $e of Pe.values())if($e.kind==="file"){const Fe=await $e.getFile(),Ze=new FileReader,ut=await new Promise(re=>{Ze.onload=he=>{var Re;return re((Re=he.target)==null?void 0:Re.result)},Ze.readAsDataURL(Fe)}),Je=$e.name.split(".")[0];pe[Je]=ut}}catch{}return ye.assets=pe,ye.isLocal=!0,es(ye)}catch{return null}},U=async()=>{if(typeof window.showDirectoryPicker!="function"){alert("Browser not supported. Please use Chrome, Edge, or Opera on desktop.");return}try{const X=await window.showDirectoryPicker({id:"devarchitect_open",mode:"readwrite"});let te=await W(X);const de=[];if(te&&(de.push(te),await Cn.saveHandle(te.id,X),T.current.set(te.id,X)),de.length>0){const ge=new Set(de.map(ye=>ye.id));t(ye=>[...de,...ye.filter(pe=>!ge.has(pe.id))]),de.forEach(ye=>Cn.saveProject(ye))}else alert("No 'project.json' found in selected folder.")}catch(X){if(X.name==="AbortError")return;console.error("Error opening folder:",X)}},V=async X=>{const te=e.find(ge=>ge.id===X);if(!te)return;const de=te.files.find(ge=>ge.type!==It)||te.files.find(ge=>ge.type===It);a(X),u((de==null?void 0:de.id)||null),i(zr.PROJECT)},I=async(X,te)=>{const de=Xt.find(ye=>ye.type==="doc"),ge=es({id:crypto.randomUUID(),name:X,type:te,description:"",lastModified:Date.now(),files:[{id:crypto.randomUUID(),name:"Readme",type:"doc",content:de?de.createDefaultContent(X):"",folderId:null}],folders:[],assets:{}});t(ye=>[ge,...ye]),Cn.saveProject(ge)},G=async X=>{e.find(de=>de.id===X)&&confirm("Delete project?")&&(await Cn.delete(X),T.current.delete(X),t(de=>de.filter(ge=>ge.id!==X)),o===X&&(a(null),i(zr.DASHBOARD)))},M=async X=>{const te=new Q1,de={...X,assets:{}};te.file("project.json",JSON.stringify(de,null,2));const ge=te.folder("assets");X.assets&&ge&&Object.entries(X.assets).forEach(([$e,Fe])=>{const Ze=Fe.split(",")[1],ut=Fe.substring(Fe.indexOf("/")+1,Fe.indexOf(";"));ge.file(`${$e}.${ut}`,Ze,{base64:!0})});const ye=await te.generateAsync({type:"blob"}),pe=window.URL.createObjectURL(ye),Pe=document.createElement("a");Pe.href=pe,Pe.download=`${X.name.replace(/\s+/g,"_")}.zip`,Pe.click(),window.URL.revokeObjectURL(pe)},P=X=>{const te=es(X);t(de=>{const ge=de.map(ye=>ye.id===te.id?te:ye);return $.current=ge,ge}),te.isLocal&&(K.current=te,O()),Cn.saveProject(te)},se=X=>{if(!o)return;const te=prompt("Folder Name:");if(!te)return;const de=e.find(ge=>ge.id===o);if(de){const ge={id:crypto.randomUUID(),name:te,parentId:X};P({...de,folders:[...de.folders,ge]}),g(ye=>new Set(ye).add(ge.id).add(X||""))}},Q=X=>{if(!o)return;const te=e.find(de=>de.id===o);if(te){const de=new Set([X]);let ge=!0;for(;ge;){ge=!1;for(const he of te.folders)he.parentId&&de.has(he.parentId)&&!de.has(he.id)&&(de.add(he.id),ge=!0)}const ye=te.files.filter(he=>he.folderId&&de.has(he.folderId)),pe=new Set(ye.map(he=>he.id)),Pe=de.size,$e=ye.length;if(!confirm(`Delete this folder and all of its contents?

This will permanently delete ${Pe} ${Pe===1?"folder":"folders"} and ${$e} ${$e===1?"file":"files"}.`))return;const Je=te.folders.filter(he=>!de.has(he.id)),re=te.files.filter(he=>!he.folderId||!de.has(he.folderId));if(P({...te,lastModified:Date.now(),files:re,folders:Je}),c&&pe.has(c)){const he=re.find(Re=>Re.type!==It)||re.find(Re=>Re.type===It);u((he==null?void 0:he.id)||null)}g(he=>{const Re=new Set(he);for(const L of de)Re.delete(L);return Re})}},J=(X,te)=>X===It?!1:!te||!Er.has(X)?!0:!te.files.some(de=>de.type===X),ve=(X,te)=>{var Pe;const de=e.find($e=>$e.id===o),ye=((Pe=Xt.filter($e=>J($e.type,de))[0])==null?void 0:Pe.type)||"doc",pe=te&&J(te,de)?te:ye;if(te&&!J(te,de)){const $e=Xt.find(Fe=>Fe.type===te);alert(`Only one ${($e==null?void 0:$e.label)||te} is allowed per project.`)}f({open:!0,folderId:X}),k(""),_(pe)},Ee=X=>{if(X.preventDefault(),!o||!x)return;const te=e.find(ye=>ye.id===o);if(!te)return;if(!J(N,te)){const ye=Xt.find(pe=>pe.type===N);alert(`Only one ${(ye==null?void 0:ye.label)||N} is allowed per project.`);return}const de=Xt.find(ye=>ye.type===N);if(!de)return;const ge={id:crypto.randomUUID(),name:x,type:N,content:de.createDefaultContent(x),folderId:b.folderId};P({...te,lastModified:Date.now(),files:[...te.files,ge]}),u(ge.id),b.folderId&&g(ye=>new Set(ye).add(b.folderId)),f({open:!1,folderId:null})},ke=(X,te)=>{if(X.stopPropagation(),!o)return;const de=e.find(ye=>ye.id===o);if(!de)return;const ge=de.files.find(ye=>ye.id===te);if(ge){if(Er.has(ge.type)&&de.files.filter(pe=>pe.type===ge.type).length<=1){const pe=Xt.find(Pe=>Pe.type===ge.type);alert(`${(pe==null?void 0:pe.label)||ge.type} is required in every project and cannot be deleted.`);return}if(confirm("Delete file?")){const ye=de.files.filter(pe=>pe.id!==te);if(P({...de,files:ye}),c===te){const pe=ye.find(Pe=>Pe.type!==It)||ye.find(Pe=>Pe.type===It);u((pe==null?void 0:pe.id)||null)}}}},ze=X=>new Promise((te,de)=>{const ge=new FileReader;ge.onload=ye=>{var Pe;const pe=(Pe=ye.target)==null?void 0:Pe.result;if(typeof pe=="string"){te(pe);return}de(new Error("Failed to read image data."))},ge.onerror=()=>de(ge.error||new Error("Failed to read image file.")),ge.onabort=()=>de(new Error("Image read was aborted.")),ge.readAsDataURL(X)}),q=async X=>{if(!o)throw new Error("No active project");const te=await ze(X),de=crypto.randomUUID(),ge=$.current.find(pe=>pe.id===o);if(!ge)throw new Error("Active project not found");const ye={...ge,lastModified:Date.now(),assets:{...ge.assets||{},[de]:te}};return $.current=$.current.map(pe=>pe.id===ye.id?ye:pe),P(ye),`asset://${de}`},ue=async X=>{if(!o)return;const te=$.current.find(de=>de.id===o);if(te){const de={...te.assets};delete de[X];const ge={...te,lastModified:Date.now(),assets:de};$.current=$.current.map(ye=>ye.id===ge.id?ge:ye),P(ge)}},ee=X=>{if(!o||!c)return;const te=$.current.find(de=>de.id===o);if(te){const de={...te,lastModified:Date.now(),files:te.files.map(ge=>ge.id===c?{...ge,content:X}:ge)};$.current=$.current.map(ge=>ge.id===de.id?de:ge),P(de)}},ce=e.find(X=>X.id===o),w=ce==null?void 0:ce.files.find(X=>X.id===c),E=ce?ce.files.filter(X=>X.type!==It).sort((X,te)=>X.name.localeCompare(te.name,void 0,{sensitivity:"base"})).slice(0,6):[],H=new Map(kg.map((X,te)=>[X.type,te])),S=ce?ce.files.filter(X=>Er.has(X.type)).sort((X,te)=>(H.get(X.type)??Number.MAX_SAFE_INTEGER)-(H.get(te.type)??Number.MAX_SAFE_INTEGER)):[],z=ce?ce.files.filter(X=>!Er.has(X.type)).length:0,F=X=>{if(ce){if(!ce.files.some(te=>te.id===X)){alert("Linked file was not found in this project.");return}u(X)}},ne=X=>{const te=X.dataTransfer.getData(Sh);if(te)try{const pe=JSON.parse(te);if(pe!=null&&pe.id)return pe.id}catch{if(ce!=null&&ce.files.some(pe=>pe.id===te))return te}const de=X.dataTransfer.getData("text/uri-list");if(de!=null&&de.startsWith("file://")){const pe=de.replace("file://","").trim();if(ce!=null&&ce.files.some(Pe=>Pe.id===pe))return pe}const ge=X.dataTransfer.getData("text/plain"),ye=ge.match(/\(file:\/\/([^)]+)\)/);return ye!=null&&ye[1]&&(ce!=null&&ce.files.some(pe=>pe.id===ye[1]))?ye[1]:ge&&(ce!=null&&ce.files.some(pe=>pe.id===ge.trim()))?ge.trim():C},oe=async X=>{try{await navigator.clipboard.writeText(X)}catch{alert("Failed to copy file ID.")}},Y=X=>{const te=new Set(v);te.has(X)?te.delete(X):te.add(X),g(te)},fe=(X,te)=>{if(!ce)return;const de=ce.files.find(ge=>ge.id===X);!de||Er.has(de.type)||(de.folderId||null)===te||P({...ce,lastModified:Date.now(),files:ce.files.map(ge=>ge.id===X?{...ge,folderId:te}:ge)})},Se=(X,te,de)=>{j(te),X.dataTransfer.effectAllowed="move",X.dataTransfer.setData(Sh,JSON.stringify({id:te,name:de})),X.dataTransfer.setData("application/x-gdpm-file-name",de),X.dataTransfer.setData("text/uri-list",`file://${te}`),X.dataTransfer.setData("text/plain",`[${de}](file://${te})`)},me=()=>{j(null),A(null)},De=(X,te)=>{X.preventDefault(),X.stopPropagation(),X.dataTransfer.dropEffect="move",R!==te&&A(te)},Oe=(X,te)=>{X.preventDefault(),X.stopPropagation();const de=ne(X);A(null),j(null),de&&(fe(de,te),g(ge=>new Set(ge).add(te)))},Le=X=>{X.preventDefault(),X.dataTransfer.dropEffect="move",R!=="root"&&A("root")},Ge=X=>{X.preventDefault();const te=ne(X);A(null),j(null),te&&fe(te,null)},mt=(X,te=0)=>{if(!ce)return null;const de=ce.folders.filter(pe=>pe.parentId===X),ge=new Map(Xt.map((pe,Pe)=>[pe.type,Pe])),ye=ce.files.filter(pe=>!Er.has(pe.type)&&(pe.folderId||null)===X).sort((pe,Pe)=>{const $e=ge.get(pe.type)??Number.MAX_SAFE_INTEGER,Fe=ge.get(Pe.type)??Number.MAX_SAFE_INTEGER;return $e!==Fe?$e-Fe:pe.name.localeCompare(Pe.name,void 0,{sensitivity:"base"})});return l.jsxs("div",{children:[de.map(pe=>{const Pe=v.has(pe.id),$e=R===pe.id;return l.jsxs("div",{children:[l.jsxs("div",{style:{marginLeft:te*12},onDragOver:Fe=>De(Fe,pe.id),onDrop:Fe=>Oe(Fe,pe.id),className:`group flex items-center justify-between rounded-lg pr-1 py-1 mb-0.5 transition-colors ${$e?"bg-blue-500/10 ring-1 ring-blue-500/40":"hover:bg-zinc-900"}`,children:[l.jsxs("button",{onClick:()=>Y(pe.id),className:"flex-1 flex items-center gap-2 px-2 text-sm text-zinc-400 hover:text-zinc-200 truncate",children:[Pe?l.jsx(Wu,{className:"w-4 h-4"}):l.jsx(Vu,{className:"w-4 h-4"}),l.jsx(Dc,{className:"w-4 h-4 text-blue-500/80"}),l.jsx("span",{className:"truncate",children:pe.name})]}),l.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex items-center gap-1",children:[l.jsx("button",{onClick:()=>ve(pe.id),className:"p-1 hover:bg-zinc-800 text-zinc-500 hover:text-white rounded",title:"New File",children:l.jsx(_f,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:()=>se(pe.id),className:"p-1 hover:bg-zinc-800 text-zinc-500 hover:text-white rounded",title:"New Subfolder",children:l.jsx(ha,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:()=>Q(pe.id),className:"p-1 hover:bg-zinc-800 text-zinc-500 hover:text-red-400 rounded",title:"Delete Folder",children:l.jsx(an,{className:"w-3.5 h-3.5"})})]})]}),Pe&&mt(pe.id,te+1)]},pe.id)}),ye.map(pe=>{const Pe=Xt.find(Ze=>Ze.type===pe.type),$e=(Pe==null?void 0:Pe.icon)||_l,Fe=C===pe.id;return l.jsxs("div",{style:{marginLeft:te*12},draggable:!0,onDragStart:Ze=>Se(Ze,pe.id,pe.name),onDragEnd:me,className:`group flex items-center gap-1 rounded-lg pr-1 mb-0.5 transition-colors cursor-grab active:cursor-grabbing ${Fe?"opacity-45 grayscale":"opacity-100 hover:bg-zinc-900"}`,children:[l.jsxs("button",{onClick:()=>u(pe.id),draggable:!0,onDragStart:Ze=>Se(Ze,pe.id,pe.name),onDragEnd:me,className:`flex-1 flex items-center gap-2 pl-1.5 pr-2 py-1.5 text-sm text-left truncate ${c===pe.id?"bg-zinc-800 text-white":"text-zinc-400 hover:text-zinc-200"}`,children:[l.jsx($e,{className:`w-4 h-4 shrink-0 ${c===pe.id?"text-blue-400":"text-zinc-500"}`}),l.jsx("span",{className:"truncate",children:pe.name})]}),l.jsx("button",{onClick:Ze=>{Ze.stopPropagation(),oe(pe.id)},className:"p-1.5 text-zinc-600 hover:text-cyan-300 hover:bg-zinc-800 rounded opacity-0 group-hover:opacity-100",title:"Copy File ID",children:l.jsx(Cc,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:Ze=>ke(Ze,pe.id),className:"p-1.5 text-zinc-600 hover:text-red-400 hover:bg-zinc-800 rounded opacity-0 group-hover:opacity-100",children:l.jsx(an,{className:"w-3.5 h-3.5"})})]},pe.id)})]})},Ue=()=>s===zr.DASHBOARD||!ce?l.jsxs("aside",{className:"w-16 md:w-20 bg-zinc-950 border-r border-zinc-800 flex flex-col items-center py-6 gap-6 z-20",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-900/20 mb-4",children:l.jsx(Dc,{className:"w-6 h-6 text-white"})}),l.jsx("button",{className:"p-3 rounded-xl bg-zinc-800 text-white shadow-md",title:"Dashboard",children:l.jsx(H0,{className:"w-5 h-5"})}),l.jsx("div",{className:"mt-auto",children:l.jsx("button",{onClick:()=>h(!0),className:"p-3 rounded-xl text-zinc-500 hover:bg-zinc-800 hover:text-white transition-colors",title:"Help",children:l.jsx(Ef,{className:"w-5 h-5"})})})]}):l.jsxs("aside",{className:"w-64 bg-zinc-950 border-r border-zinc-800 flex flex-col z-20",children:[l.jsxs("div",{className:"h-16 flex items-center px-4 border-b border-zinc-800 shrink-0 gap-2",children:[l.jsx("button",{onClick:()=>{a(null),i(zr.DASHBOARD)},className:"p-2 hover:bg-zinc-900 rounded-lg text-zinc-400 hover:text-white",children:l.jsx(a1,{className:"w-4 h-4"})}),l.jsx("span",{className:"font-semibold text-zinc-200 truncate flex-1",children:ce.name})]}),l.jsxs("div",{className:"px-3 py-3 border-b border-zinc-900 flex gap-2",children:[l.jsxs("button",{onClick:()=>ve(null),className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white py-1.5 rounded-md text-xs font-medium transition-colors",children:[l.jsx(_f,{className:"w-3.5 h-3.5"})," New File"]}),l.jsx("button",{onClick:()=>se(null),className:"px-3 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 py-1.5 rounded-md text-xs font-medium transition-colors",title:"New Folder",children:l.jsx(ha,{className:"w-3.5 h-3.5"})})]}),S.length>0&&l.jsxs("div",{className:"px-3 pt-3",children:[l.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-wide text-zinc-500",children:"Project Systems"}),l.jsx("div",{className:"space-y-1",children:S.map(X=>{const te=Xt.find(ge=>ge.type===X.type),de=(te==null?void 0:te.icon)||_l;return l.jsxs("button",{onClick:()=>u(X.id),draggable:!0,onDragStart:ge=>Se(ge,X.id,X.name),onDragEnd:me,className:`w-full flex items-center gap-2 px-2 py-2 rounded-lg text-sm transition-colors border cursor-grab active:cursor-grabbing group ${c===X.id?"bg-zinc-800 text-white border-blue-500/40":"text-zinc-300 hover:text-white hover:bg-zinc-900 border-zinc-800"}`,title:`Drag to create link to ${X.name}`,children:[l.jsx(de,{className:`w-4 h-4 ${c===X.id?"text-blue-400":"text-zinc-500"}`}),l.jsx("span",{className:"truncate flex-1",children:X.name}),l.jsx("span",{onClick:ge=>{ge.stopPropagation(),oe(X.id)},className:"p-1 text-zinc-500 hover:text-cyan-300 hover:bg-zinc-800 rounded opacity-0 group-hover:opacity-100",title:"Copy File ID",children:l.jsx(Cc,{className:"w-3.5 h-3.5"})})]},X.id)})}),l.jsx("div",{className:"my-3 border-t border-zinc-800"}),l.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-wide text-zinc-600",children:"Project Files"})]}),l.jsxs("div",{className:`p-3 flex-1 overflow-y-auto custom-scrollbar transition-colors ${R==="root"?"bg-blue-500/5 ring-1 ring-inset ring-blue-500/30 rounded-lg":""}`,onDragOver:Le,onDrop:Ge,children:[mt(null),z===0&&ce.folders.length===0&&l.jsx("div",{className:"text-center py-8 text-zinc-600 text-xs italic",children:"Project is empty. Create a file or folder to get started."})]}),l.jsx("div",{className:"p-4 border-t border-zinc-800",children:l.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-3 px-3 py-2 text-zinc-500 hover:text-white hover:bg-zinc-900 rounded-lg w-full transition-colors",children:[l.jsx(Ef,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:"Guide & Help"})]})})]});return l.jsxs("div",{className:"flex h-screen bg-black text-zinc-100 font-sans overflow-hidden",children:[Ue(),l.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-zinc-950",children:[l.jsx("div",{className:"flex-1 overflow-hidden relative",children:s===zr.DASHBOARD?l.jsx(J1,{projects:e,onSelectProject:V,onCreateProject:I,onExportProject:M,onDeleteProject:G,onImportFolder:U}):ce&&w?ie.createElement(Xt.find(X=>X.type===w.type).component,{key:w.id,fileName:w.name,initialContent:w.content,onSave:ee,assets:ce.assets||{},onAddAsset:q,onDeleteAsset:ue,projectFiles:ce.files,activeFileId:c,onOpenFile:F}):l.jsx("div",{className:"h-full flex items-center justify-center p-6",children:l.jsxs("div",{className:"w-full max-w-2xl bg-zinc-900 border border-zinc-800 rounded-xl p-6 shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(_l,{className:"w-7 h-7 text-zinc-500"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-zinc-100",children:"Start Working"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Open an existing file or create a new one."})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-5",children:[l.jsxs("button",{onClick:()=>ve(null,"doc"),className:"px-4 py-3 rounded-lg bg-zinc-950 border border-zinc-800 text-left hover:border-blue-500/40 hover:bg-zinc-900",children:[l.jsx("p",{className:"text-sm font-medium text-zinc-100",children:"New Document"}),l.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Write specs and notes."})]}),l.jsxs("button",{onClick:()=>ve(null,"whiteboard"),className:"px-4 py-3 rounded-lg bg-zinc-950 border border-zinc-800 text-left hover:border-blue-500/40 hover:bg-zinc-900",children:[l.jsx("p",{className:"text-sm font-medium text-zinc-100",children:"New Whiteboard"}),l.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Sketch ideas visually."})]}),l.jsxs("button",{onClick:()=>ve(null,"flowchart"),className:"px-4 py-3 rounded-lg bg-zinc-950 border border-zinc-800 text-left hover:border-blue-500/40 hover:bg-zinc-900",children:[l.jsx("p",{className:"text-sm font-medium text-zinc-100",children:"New Flowchart"}),l.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Map systems and logic."})]})]}),l.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-zinc-500 mb-2",children:"Open Existing"}),E.length>0?l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:E.map(X=>l.jsx("button",{onClick:()=>u(X.id),className:"px-3 py-2 rounded-md bg-zinc-950 border border-zinc-800 text-zinc-300 hover:text-white hover:bg-zinc-900 text-left truncate",children:X.name},X.id))}):l.jsx("p",{className:"text-sm text-zinc-500",children:"No files yet. Use one of the create actions above."})]})]})})}),l.jsx(B_,{isOpen:d,onClose:()=>m(!1),projects:e,activeProject:ce,onSelectFile:X=>{u(X)},onSelectProject:V,onCreateFile:X=>ve(null,X)}),l.jsx(H_,{isOpen:y,onClose:()=>h(!1)}),b.open&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-sm p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Create New File"}),l.jsx("button",{onClick:()=>f({open:!1,folderId:null}),children:l.jsx(Ds,{className:"w-5 h-5 text-zinc-500"})})]}),l.jsxs("form",{onSubmit:Ee,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Name"}),l.jsx("input",{autoFocus:!0,type:"text",required:!0,value:x,onChange:X=>k(X.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:ring-2 focus:ring-blue-600 outline-none",placeholder:"e.g. Character Specs"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Type"}),l.jsx("select",{value:N,onChange:X=>_(X.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:ring-2 focus:ring-blue-600 outline-none",children:Xt.filter(X=>J(X.type,ce)).map(X=>l.jsx("option",{value:X.type,children:X.label},X.type))})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Create File"})]})]})})]})]})},Ng=document.getElementById("root");if(!Ng)throw new Error("Could not find root element to mount to");const G_=Rl.createRoot(Ng);G_.render(l.jsx(ie.StrictMode,{children:l.jsx(Z_,{})}));
