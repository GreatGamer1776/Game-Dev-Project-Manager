(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Fs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gh={exports:{}},fa={},xh={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ds=Symbol.for("react.element"),Dg=Symbol.for("react.portal"),Tg=Symbol.for("react.fragment"),Ig=Symbol.for("react.strict_mode"),Mg=Symbol.for("react.profiler"),Ag=Symbol.for("react.provider"),Pg=Symbol.for("react.context"),Rg=Symbol.for("react.forward_ref"),Lg=Symbol.for("react.suspense"),Og=Symbol.for("react.memo"),$g=Symbol.for("react.lazy"),sd=Symbol.iterator;function Fg(e){return e===null||typeof e!="object"?null:(e=sd&&e[sd]||e["@@iterator"],typeof e=="function"?e:null)}var yh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vh=Object.assign,wh={};function ki(e,t,n){this.props=e,this.context=t,this.refs=wh,this.updater=n||yh}ki.prototype.isReactComponent={};ki.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ki.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bh(){}bh.prototype=ki.prototype;function $c(e,t,n){this.props=e,this.context=t,this.refs=wh,this.updater=n||yh}var Fc=$c.prototype=new bh;Fc.constructor=$c;vh(Fc,ki.prototype);Fc.isPureReactComponent=!0;var od=Array.isArray,kh=Object.prototype.hasOwnProperty,Bc={current:null},_h={key:!0,ref:!0,__self:!0,__source:!0};function Nh(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)kh.call(t,r)&&!_h.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ds,type:e,key:s,ref:o,props:i,_owner:Bc.current}}function Bg(e,t){return{$$typeof:Ds,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Uc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ds}function Ug(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ad=/\/+/g;function Ua(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ug(""+e.key):t.toString(36)}function mo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ds:case Dg:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Ua(o,0):r,od(i)?(n="",e!=null&&(n=e.replace(ad,"$&/")+"/"),mo(i,t,n,"",function(u){return u})):i!=null&&(Uc(i)&&(i=Bg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ad,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",od(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Ua(s,a);o+=mo(s,t,n,l,i)}else if(l=Fg(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Ua(s,a++),o+=mo(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bs(e,t,n){if(e==null)return e;var r=[],i=0;return mo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Hg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zt={current:null},go={transition:null},Wg={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:go,ReactCurrentOwner:Bc};function Sh(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Bs,forEach:function(e,t,n){Bs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bs(e,function(){t++}),t},toArray:function(e){return Bs(e,function(t){return t})||[]},only:function(e){if(!Uc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=ki;Fe.Fragment=Tg;Fe.Profiler=Mg;Fe.PureComponent=$c;Fe.StrictMode=Ig;Fe.Suspense=Lg;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wg;Fe.act=Sh;Fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vh({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Bc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)kh.call(t,l)&&!_h.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ds,type:e.type,key:i,ref:s,props:r,_owner:o}};Fe.createContext=function(e){return e={$$typeof:Pg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ag,_context:e},e.Consumer=e};Fe.createElement=Nh;Fe.createFactory=function(e){var t=Nh.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:Rg,render:e}};Fe.isValidElement=Uc;Fe.lazy=function(e){return{$$typeof:$g,_payload:{_status:-1,_result:e},_init:Hg}};Fe.memo=function(e,t){return{$$typeof:Og,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=go.transition;go.transition={};try{e()}finally{go.transition=t}};Fe.unstable_act=Sh;Fe.useCallback=function(e,t){return zt.current.useCallback(e,t)};Fe.useContext=function(e){return zt.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return zt.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return zt.current.useEffect(e,t)};Fe.useId=function(){return zt.current.useId()};Fe.useImperativeHandle=function(e,t,n){return zt.current.useImperativeHandle(e,t,n)};Fe.useInsertionEffect=function(e,t){return zt.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return zt.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return zt.current.useMemo(e,t)};Fe.useReducer=function(e,t,n){return zt.current.useReducer(e,t,n)};Fe.useRef=function(e){return zt.current.useRef(e)};Fe.useState=function(e){return zt.current.useState(e)};Fe.useSyncExternalStore=function(e,t,n){return zt.current.useSyncExternalStore(e,t,n)};Fe.useTransition=function(){return zt.current.useTransition()};Fe.version="18.3.1";xh.exports=Fe;var T=xh.exports;const oe=Oc(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg=T,Zg=Symbol.for("react.element"),Yg=Symbol.for("react.fragment"),Gg=Object.prototype.hasOwnProperty,Kg=Vg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xg={key:!0,ref:!0,__self:!0,__source:!0};function zh(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Gg.call(t,r)&&!Xg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Zg,type:e,key:s,ref:o,props:i,_owner:Kg.current}}fa.Fragment=Yg;fa.jsx=zh;fa.jsxs=zh;gh.exports=fa;var c=gh.exports,zl={},Eh={exports:{}},Ft={},Ch={exports:{}},jh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,j){var V=B.length;B.push(j);e:for(;0<V;){var M=V-1>>>1,A=B[M];if(0<i(A,j))B[M]=j,B[V]=A,V=M;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var j=B[0],V=B.pop();if(V!==j){B[0]=V;e:for(var M=0,A=B.length,se=A>>>1;M<se;){var R=2*(M+1)-1,K=B[R],fe=R+1,me=B[fe];if(0>i(K,V))fe<A&&0>i(me,K)?(B[M]=me,B[fe]=V,M=fe):(B[M]=K,B[R]=V,M=R);else if(fe<A&&0>i(me,V))B[M]=me,B[fe]=V,M=fe;else break e}}return j}function i(B,j){var V=B.sortIndex-j.sortIndex;return V!==0?V:B.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,m=null,y=3,h=!1,v=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(B){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=B)r(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(u)}}function _(B){if(g=!1,k(B),!v)if(n(l)!==null)v=!0,H(N);else{var j=n(u);j!==null&&U(_,j.startTime-B)}}function N(B,j){v=!1,g&&(g=!1,f(P),P=-1),h=!0;var V=y;try{for(k(j),m=n(l);m!==null&&(!(m.expirationTime>j)||B&&!q());){var M=m.callback;if(typeof M=="function"){m.callback=null,y=m.priorityLevel;var A=M(m.expirationTime<=j);j=e.unstable_now(),typeof A=="function"?m.callback=A:m===n(l)&&r(l),k(j)}else r(l);m=n(l)}if(m!==null)var se=!0;else{var R=n(u);R!==null&&U(_,R.startTime-j),se=!1}return se}finally{m=null,y=V,h=!1}}var z=!1,E=null,P=-1,I=5,$=-1;function q(){return!(e.unstable_now()-$<I)}function D(){if(E!==null){var B=e.unstable_now();$=B;var j=!0;try{j=E(!0,B)}finally{j?O():(z=!1,E=null)}}else z=!1}var O;if(typeof x=="function")O=function(){x(D)};else if(typeof MessageChannel<"u"){var p=new MessageChannel,L=p.port2;p.port1.onmessage=D,O=function(){L.postMessage(null)}}else O=function(){w(D,0)};function H(B){E=B,z||(z=!0,O())}function U(B,j){P=w(function(){B(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,H(N))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(B){switch(y){case 1:case 2:case 3:var j=3;break;default:j=y}var V=y;y=j;try{return B()}finally{y=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,j){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var V=y;y=B;try{return j()}finally{y=V}},e.unstable_scheduleCallback=function(B,j,V){var M=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?M+V:M):V=M,B){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=V+A,B={id:d++,callback:j,priorityLevel:B,startTime:V,expirationTime:A,sortIndex:-1},V>M?(B.sortIndex=V,t(u,B),n(l)===null&&B===n(u)&&(g?(f(P),P=-1):g=!0,U(_,V-M))):(B.sortIndex=A,t(l,B),v||h||(v=!0,H(N))),B},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(B){var j=y;return function(){var V=y;y=j;try{return B.apply(this,arguments)}finally{y=V}}}})(jh);Ch.exports=jh;var qg=Ch.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg=T,Ot=qg;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dh=new Set,ts={};function Tr(e,t){di(e,t),di(e+"Capture",t)}function di(e,t){for(ts[e]=t,e=0;e<t.length;e++)Dh.add(t[e])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),El=Object.prototype.hasOwnProperty,Jg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ld={},cd={};function ex(e){return El.call(cd,e)?!0:El.call(ld,e)?!1:Jg.test(e)?cd[e]=!0:(ld[e]=!0,!1)}function tx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nx(e,t,n,r){if(t===null||typeof t>"u"||tx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Et(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xt[e]=new Et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xt[t]=new Et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xt[e]=new Et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xt[e]=new Et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xt[e]=new Et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xt[e]=new Et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xt[e]=new Et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xt[e]=new Et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xt[e]=new Et(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hc=/[\-:]([a-z])/g;function Wc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hc,Wc);xt[t]=new Et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hc,Wc);xt[t]=new Et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hc,Wc);xt[t]=new Et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xt[e]=new Et(e,1,!1,e.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xt[e]=new Et(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vc(e,t,n,r){var i=xt.hasOwnProperty(t)?xt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nx(t,n,i,r)&&(n=null),r||i===null?ex(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var An=Qg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Us=Symbol.for("react.element"),Hr=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),Zc=Symbol.for("react.strict_mode"),Cl=Symbol.for("react.profiler"),Th=Symbol.for("react.provider"),Ih=Symbol.for("react.context"),Yc=Symbol.for("react.forward_ref"),jl=Symbol.for("react.suspense"),Dl=Symbol.for("react.suspense_list"),Gc=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),Mh=Symbol.for("react.offscreen"),ud=Symbol.iterator;function zi(e){return e===null||typeof e!="object"?null:(e=ud&&e[ud]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Object.assign,Ha;function $i(e){if(Ha===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ha=t&&t[1]||""}return`
`+Ha+e}var Wa=!1;function Va(e,t){if(!e||Wa)return"";Wa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$i(e):""}function rx(e){switch(e.tag){case 5:return $i(e.type);case 16:return $i("Lazy");case 13:return $i("Suspense");case 19:return $i("SuspenseList");case 0:case 2:case 15:return e=Va(e.type,!1),e;case 11:return e=Va(e.type.render,!1),e;case 1:return e=Va(e.type,!0),e;default:return""}}function Tl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wr:return"Fragment";case Hr:return"Portal";case Cl:return"Profiler";case Zc:return"StrictMode";case jl:return"Suspense";case Dl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ih:return(e.displayName||"Context")+".Consumer";case Th:return(e._context.displayName||"Context")+".Provider";case Yc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gc:return t=e.displayName||null,t!==null?t:Tl(e.type)||"Memo";case $n:t=e._payload,e=e._init;try{return Tl(e(t))}catch{}}return null}function ix(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tl(t);case 8:return t===Zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ah(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sx(e){var t=Ah(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hs(e){e._valueTracker||(e._valueTracker=sx(e))}function Ph(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ah(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Il(e,t){var n=t.checked;return nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=rr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rh(e,t){t=t.checked,t!=null&&Vc(e,"checked",t,!1)}function Ml(e,t){Rh(e,t);var n=rr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Al(e,t.type,n):t.hasOwnProperty("defaultValue")&&Al(e,t.type,rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Al(e,t,n){(t!=="number"||Io(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fi=Array.isArray;function ni(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+rr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Pl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_e(92));if(Fi(n)){if(1<n.length)throw Error(_e(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rr(n)}}function Lh(e,t){var n=rr(t.value),r=rr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function pd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Oh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Oh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ws,$h=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ws=Ws||document.createElement("div"),Ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ns(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ox=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(e){ox.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zi[t]=Zi[e]})});function Fh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Zi.hasOwnProperty(e)&&Zi[e]?(""+t).trim():t+"px"}function Bh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Fh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ax=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ll(e,t){if(t){if(ax[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function Ol(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function Kc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fl=null,ri=null,ii=null;function md(e){if(e=Ms(e)){if(typeof Fl!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=xa(t),Fl(e.stateNode,e.type,t))}}function Uh(e){ri?ii?ii.push(e):ii=[e]:ri=e}function Hh(){if(ri){var e=ri,t=ii;if(ii=ri=null,md(e),t)for(e=0;e<t.length;e++)md(t[e])}}function Wh(e,t){return e(t)}function Vh(){}var Za=!1;function Zh(e,t,n){if(Za)return e(t,n);Za=!0;try{return Wh(e,t,n)}finally{Za=!1,(ri!==null||ii!==null)&&(Vh(),Hh())}}function rs(e,t){var n=e.stateNode;if(n===null)return null;var r=xa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_e(231,t,typeof n));return n}var Bl=!1;if(Cn)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{Bl=!1}function lx(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Yi=!1,Mo=null,Ao=!1,Ul=null,cx={onError:function(e){Yi=!0,Mo=e}};function ux(e,t,n,r,i,s,o,a,l){Yi=!1,Mo=null,lx.apply(cx,arguments)}function dx(e,t,n,r,i,s,o,a,l){if(ux.apply(this,arguments),Yi){if(Yi){var u=Mo;Yi=!1,Mo=null}else throw Error(_e(198));Ao||(Ao=!0,Ul=u)}}function Ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gd(e){if(Ir(e)!==e)throw Error(_e(188))}function fx(e){var t=e.alternate;if(!t){if(t=Ir(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gd(i),e;if(s===r)return gd(i),t;s=s.sibling}throw Error(_e(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?e:t}function Gh(e){return e=fx(e),e!==null?Kh(e):null}function Kh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kh(e);if(t!==null)return t;e=e.sibling}return null}var Xh=Ot.unstable_scheduleCallback,xd=Ot.unstable_cancelCallback,hx=Ot.unstable_shouldYield,px=Ot.unstable_requestPaint,ot=Ot.unstable_now,mx=Ot.unstable_getCurrentPriorityLevel,Xc=Ot.unstable_ImmediatePriority,qh=Ot.unstable_UserBlockingPriority,Po=Ot.unstable_NormalPriority,gx=Ot.unstable_LowPriority,Qh=Ot.unstable_IdlePriority,ha=null,hn=null;function xx(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(ha,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:wx,yx=Math.log,vx=Math.LN2;function wx(e){return e>>>=0,e===0?32:31-(yx(e)/vx|0)|0}var Vs=64,Zs=4194304;function Bi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ro(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Bi(a):(s&=o,s!==0&&(r=Bi(s)))}else o=n&~i,o!==0?r=Bi(o):s!==0&&(r=Bi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-on(t),i=1<<n,r|=e[n],t&=~i;return r}function bx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-on(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=bx(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Hl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jh(){var e=Vs;return Vs<<=1,!(Vs&4194240)&&(Vs=64),e}function Ya(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ts(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=n}function _x(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-on(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function qc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-on(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var We=0;function ep(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tp,Qc,np,rp,ip,Wl=!1,Ys=[],Gn=null,Kn=null,Xn=null,is=new Map,ss=new Map,Hn=[],Nx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yd(e,t){switch(e){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(t.pointerId)}}function Ci(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ms(t),t!==null&&Qc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Sx(e,t,n,r,i){switch(t){case"focusin":return Gn=Ci(Gn,e,t,n,r,i),!0;case"dragenter":return Kn=Ci(Kn,e,t,n,r,i),!0;case"mouseover":return Xn=Ci(Xn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return is.set(s,Ci(is.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ss.set(s,Ci(ss.get(s)||null,e,t,n,r,i)),!0}return!1}function sp(e){var t=gr(e.target);if(t!==null){var n=Ir(t);if(n!==null){if(t=n.tag,t===13){if(t=Yh(n),t!==null){e.blockedOn=t,ip(e.priority,function(){np(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$l=r,n.target.dispatchEvent(r),$l=null}else return t=Ms(n),t!==null&&Qc(t),e.blockedOn=n,!1;t.shift()}return!0}function vd(e,t,n){xo(e)&&n.delete(t)}function zx(){Wl=!1,Gn!==null&&xo(Gn)&&(Gn=null),Kn!==null&&xo(Kn)&&(Kn=null),Xn!==null&&xo(Xn)&&(Xn=null),is.forEach(vd),ss.forEach(vd)}function ji(e,t){e.blockedOn===t&&(e.blockedOn=null,Wl||(Wl=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,zx)))}function os(e){function t(i){return ji(i,e)}if(0<Ys.length){ji(Ys[0],e);for(var n=1;n<Ys.length;n++){var r=Ys[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Gn!==null&&ji(Gn,e),Kn!==null&&ji(Kn,e),Xn!==null&&ji(Xn,e),is.forEach(t),ss.forEach(t),n=0;n<Hn.length;n++)r=Hn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Hn.length&&(n=Hn[0],n.blockedOn===null);)sp(n),n.blockedOn===null&&Hn.shift()}var si=An.ReactCurrentBatchConfig,Lo=!0;function Ex(e,t,n,r){var i=We,s=si.transition;si.transition=null;try{We=1,Jc(e,t,n,r)}finally{We=i,si.transition=s}}function Cx(e,t,n,r){var i=We,s=si.transition;si.transition=null;try{We=4,Jc(e,t,n,r)}finally{We=i,si.transition=s}}function Jc(e,t,n,r){if(Lo){var i=Vl(e,t,n,r);if(i===null)rl(e,t,r,Oo,n),yd(e,r);else if(Sx(i,e,t,n,r))r.stopPropagation();else if(yd(e,r),t&4&&-1<Nx.indexOf(e)){for(;i!==null;){var s=Ms(i);if(s!==null&&tp(s),s=Vl(e,t,n,r),s===null&&rl(e,t,r,Oo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else rl(e,t,r,null,n)}}var Oo=null;function Vl(e,t,n,r){if(Oo=null,e=Kc(r),e=gr(e),e!==null)if(t=Ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oo=e,null}function op(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mx()){case Xc:return 1;case qh:return 4;case Po:case gx:return 16;case Qh:return 536870912;default:return 16}default:return 16}}var Zn=null,eu=null,yo=null;function ap(){if(yo)return yo;var e,t=eu,n=t.length,r,i="value"in Zn?Zn.value:Zn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return yo=i.slice(e,1<r?1-r:void 0)}function vo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gs(){return!0}function wd(){return!1}function Bt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gs:wd,this.isPropagationStopped=wd,this}return nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),t}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tu=Bt(_i),Is=nt({},_i,{view:0,detail:0}),jx=Bt(Is),Ga,Ka,Di,pa=nt({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(Ga=e.screenX-Di.screenX,Ka=e.screenY-Di.screenY):Ka=Ga=0,Di=e),Ga)},movementY:function(e){return"movementY"in e?e.movementY:Ka}}),bd=Bt(pa),Dx=nt({},pa,{dataTransfer:0}),Tx=Bt(Dx),Ix=nt({},Is,{relatedTarget:0}),Xa=Bt(Ix),Mx=nt({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),Ax=Bt(Mx),Px=nt({},_i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rx=Bt(Px),Lx=nt({},_i,{data:0}),kd=Bt(Lx),Ox={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$x={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fx[e])?!!t[e]:!1}function nu(){return Bx}var Ux=nt({},Is,{key:function(e){if(e.key){var t=Ox[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$x[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(e){return e.type==="keypress"?vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hx=Bt(Ux),Wx=nt({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=Bt(Wx),Vx=nt({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),Zx=Bt(Vx),Yx=nt({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gx=Bt(Yx),Kx=nt({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xx=Bt(Kx),qx=[9,13,27,32],ru=Cn&&"CompositionEvent"in window,Gi=null;Cn&&"documentMode"in document&&(Gi=document.documentMode);var Qx=Cn&&"TextEvent"in window&&!Gi,lp=Cn&&(!ru||Gi&&8<Gi&&11>=Gi),Nd=" ",Sd=!1;function cp(e,t){switch(e){case"keyup":return qx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function up(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function Jx(e,t){switch(e){case"compositionend":return up(t);case"keypress":return t.which!==32?null:(Sd=!0,Nd);case"textInput":return e=t.data,e===Nd&&Sd?null:e;default:return null}}function ey(e,t){if(Vr)return e==="compositionend"||!ru&&cp(e,t)?(e=ap(),yo=eu=Zn=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lp&&t.locale!=="ko"?null:t.data;default:return null}}var ty={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ty[e.type]:t==="textarea"}function dp(e,t,n,r){Uh(r),t=$o(t,"onChange"),0<t.length&&(n=new tu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ki=null,as=null;function ny(e){kp(e,0)}function ma(e){var t=Gr(e);if(Ph(t))return e}function ry(e,t){if(e==="change")return t}var fp=!1;if(Cn){var qa;if(Cn){var Qa="oninput"in document;if(!Qa){var Ed=document.createElement("div");Ed.setAttribute("oninput","return;"),Qa=typeof Ed.oninput=="function"}qa=Qa}else qa=!1;fp=qa&&(!document.documentMode||9<document.documentMode)}function Cd(){Ki&&(Ki.detachEvent("onpropertychange",hp),as=Ki=null)}function hp(e){if(e.propertyName==="value"&&ma(as)){var t=[];dp(t,as,e,Kc(e)),Zh(ny,t)}}function iy(e,t,n){e==="focusin"?(Cd(),Ki=t,as=n,Ki.attachEvent("onpropertychange",hp)):e==="focusout"&&Cd()}function sy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ma(as)}function oy(e,t){if(e==="click")return ma(t)}function ay(e,t){if(e==="input"||e==="change")return ma(t)}function ly(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:ly;function ls(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!El.call(t,i)||!ln(e[i],t[i]))return!1}return!0}function jd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dd(e,t){var n=jd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jd(n)}}function pp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mp(){for(var e=window,t=Io();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Io(e.document)}return t}function iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cy(e){var t=mp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pp(n.ownerDocument.documentElement,n)){if(r!==null&&iu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Dd(n,s);var o=Dd(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uy=Cn&&"documentMode"in document&&11>=document.documentMode,Zr=null,Zl=null,Xi=null,Yl=!1;function Td(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yl||Zr==null||Zr!==Io(r)||(r=Zr,"selectionStart"in r&&iu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xi&&ls(Xi,r)||(Xi=r,r=$o(Zl,"onSelect"),0<r.length&&(t=new tu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zr)))}function Ks(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yr={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionend:Ks("Transition","TransitionEnd")},Ja={},gp={};Cn&&(gp=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function ga(e){if(Ja[e])return Ja[e];if(!Yr[e])return e;var t=Yr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gp)return Ja[e]=t[n];return e}var xp=ga("animationend"),yp=ga("animationiteration"),vp=ga("animationstart"),wp=ga("transitionend"),bp=new Map,Id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(e,t){bp.set(e,t),Tr(t,[e])}for(var el=0;el<Id.length;el++){var tl=Id[el],dy=tl.toLowerCase(),fy=tl[0].toUpperCase()+tl.slice(1);or(dy,"on"+fy)}or(xp,"onAnimationEnd");or(yp,"onAnimationIteration");or(vp,"onAnimationStart");or("dblclick","onDoubleClick");or("focusin","onFocus");or("focusout","onBlur");or(wp,"onTransitionEnd");di("onMouseEnter",["mouseout","mouseover"]);di("onMouseLeave",["mouseout","mouseover"]);di("onPointerEnter",["pointerout","pointerover"]);di("onPointerLeave",["pointerout","pointerover"]);Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ui));function Md(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dx(r,t,void 0,e),e.currentTarget=null}function kp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Md(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Md(i,a,u),s=l}}}if(Ao)throw e=Ul,Ao=!1,Ul=null,e}function Xe(e,t){var n=t[Ql];n===void 0&&(n=t[Ql]=new Set);var r=e+"__bubble";n.has(r)||(_p(t,e,2,!1),n.add(r))}function nl(e,t,n){var r=0;t&&(r|=4),_p(n,e,r,t)}var Xs="_reactListening"+Math.random().toString(36).slice(2);function cs(e){if(!e[Xs]){e[Xs]=!0,Dh.forEach(function(n){n!=="selectionchange"&&(hy.has(n)||nl(n,!1,e),nl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xs]||(t[Xs]=!0,nl("selectionchange",!1,t))}}function _p(e,t,n,r){switch(op(t)){case 1:var i=Ex;break;case 4:i=Cx;break;default:i=Jc}n=i.bind(null,t,n,e),i=void 0,!Bl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=gr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Zh(function(){var u=s,d=Kc(n),m=[];e:{var y=bp.get(e);if(y!==void 0){var h=tu,v=e;switch(e){case"keypress":if(vo(n)===0)break e;case"keydown":case"keyup":h=Hx;break;case"focusin":v="focus",h=Xa;break;case"focusout":v="blur",h=Xa;break;case"beforeblur":case"afterblur":h=Xa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Tx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Zx;break;case xp:case yp:case vp:h=Ax;break;case wp:h=Gx;break;case"scroll":h=jx;break;case"wheel":h=Xx;break;case"copy":case"cut":case"paste":h=Rx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=_d}var g=(t&4)!==0,w=!g&&e==="scroll",f=g?y!==null?y+"Capture":null:y;g=[];for(var x=u,k;x!==null;){k=x;var _=k.stateNode;if(k.tag===5&&_!==null&&(k=_,f!==null&&(_=rs(x,f),_!=null&&g.push(us(x,_,k)))),w)break;x=x.return}0<g.length&&(y=new h(y,v,null,n,d),m.push({event:y,listeners:g}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",y&&n!==$l&&(v=n.relatedTarget||n.fromElement)&&(gr(v)||v[jn]))break e;if((h||y)&&(y=d.window===d?d:(y=d.ownerDocument)?y.defaultView||y.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?gr(v):null,v!==null&&(w=Ir(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(g=bd,_="onMouseLeave",f="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=_d,_="onPointerLeave",f="onPointerEnter",x="pointer"),w=h==null?y:Gr(h),k=v==null?y:Gr(v),y=new g(_,x+"leave",h,n,d),y.target=w,y.relatedTarget=k,_=null,gr(d)===u&&(g=new g(f,x+"enter",v,n,d),g.target=k,g.relatedTarget=w,_=g),w=_,h&&v)t:{for(g=h,f=v,x=0,k=g;k;k=Rr(k))x++;for(k=0,_=f;_;_=Rr(_))k++;for(;0<x-k;)g=Rr(g),x--;for(;0<k-x;)f=Rr(f),k--;for(;x--;){if(g===f||f!==null&&g===f.alternate)break t;g=Rr(g),f=Rr(f)}g=null}else g=null;h!==null&&Ad(m,y,h,g,!1),v!==null&&w!==null&&Ad(m,w,v,g,!0)}}e:{if(y=u?Gr(u):window,h=y.nodeName&&y.nodeName.toLowerCase(),h==="select"||h==="input"&&y.type==="file")var N=ry;else if(zd(y))if(fp)N=ay;else{N=sy;var z=iy}else(h=y.nodeName)&&h.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(N=oy);if(N&&(N=N(e,u))){dp(m,N,n,d);break e}z&&z(e,y,u),e==="focusout"&&(z=y._wrapperState)&&z.controlled&&y.type==="number"&&Al(y,"number",y.value)}switch(z=u?Gr(u):window,e){case"focusin":(zd(z)||z.contentEditable==="true")&&(Zr=z,Zl=u,Xi=null);break;case"focusout":Xi=Zl=Zr=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,Td(m,n,d);break;case"selectionchange":if(uy)break;case"keydown":case"keyup":Td(m,n,d)}var E;if(ru)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Vr?cp(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(lp&&n.locale!=="ko"&&(Vr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Vr&&(E=ap()):(Zn=d,eu="value"in Zn?Zn.value:Zn.textContent,Vr=!0)),z=$o(u,P),0<z.length&&(P=new kd(P,e,null,n,d),m.push({event:P,listeners:z}),E?P.data=E:(E=up(n),E!==null&&(P.data=E)))),(E=Qx?Jx(e,n):ey(e,n))&&(u=$o(u,"onBeforeInput"),0<u.length&&(d=new kd("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:u}),d.data=E))}kp(m,t)})}function us(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $o(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rs(e,n),s!=null&&r.unshift(us(e,s,i)),s=rs(e,t),s!=null&&r.push(us(e,s,i))),e=e.return}return r}function Rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ad(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=rs(n,s),l!=null&&o.unshift(us(n,l,a))):i||(l=rs(n,s),l!=null&&o.push(us(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var py=/\r\n?/g,my=/\u0000|\uFFFD/g;function Pd(e){return(typeof e=="string"?e:""+e).replace(py,`
`).replace(my,"")}function qs(e,t,n){if(t=Pd(t),Pd(e)!==t&&n)throw Error(_e(425))}function Fo(){}var Gl=null,Kl=null;function Xl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ql=typeof setTimeout=="function"?setTimeout:void 0,gy=typeof clearTimeout=="function"?clearTimeout:void 0,Rd=typeof Promise=="function"?Promise:void 0,xy=typeof queueMicrotask=="function"?queueMicrotask:typeof Rd<"u"?function(e){return Rd.resolve(null).then(e).catch(yy)}:ql;function yy(e){setTimeout(function(){throw e})}function il(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),os(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);os(t)}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ld(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ni=Math.random().toString(36).slice(2),fn="__reactFiber$"+Ni,ds="__reactProps$"+Ni,jn="__reactContainer$"+Ni,Ql="__reactEvents$"+Ni,vy="__reactListeners$"+Ni,wy="__reactHandles$"+Ni;function gr(e){var t=e[fn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jn]||n[fn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ld(e);e!==null;){if(n=e[fn])return n;e=Ld(e)}return t}e=n,n=e.parentNode}return null}function Ms(e){return e=e[fn]||e[jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function xa(e){return e[ds]||null}var Jl=[],Kr=-1;function ar(e){return{current:e}}function qe(e){0>Kr||(e.current=Jl[Kr],Jl[Kr]=null,Kr--)}function Ge(e,t){Kr++,Jl[Kr]=e.current,e.current=t}var ir={},kt=ar(ir),It=ar(!1),Sr=ir;function fi(e,t){var n=e.type.contextTypes;if(!n)return ir;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mt(e){return e=e.childContextTypes,e!=null}function Bo(){qe(It),qe(kt)}function Od(e,t,n){if(kt.current!==ir)throw Error(_e(168));Ge(kt,t),Ge(It,n)}function Np(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(_e(108,ix(e)||"Unknown",i));return nt({},n,r)}function Uo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ir,Sr=kt.current,Ge(kt,e),Ge(It,It.current),!0}function $d(e,t,n){var r=e.stateNode;if(!r)throw Error(_e(169));n?(e=Np(e,t,Sr),r.__reactInternalMemoizedMergedChildContext=e,qe(It),qe(kt),Ge(kt,e)):qe(It),Ge(It,n)}var wn=null,ya=!1,sl=!1;function Sp(e){wn===null?wn=[e]:wn.push(e)}function by(e){ya=!0,Sp(e)}function lr(){if(!sl&&wn!==null){sl=!0;var e=0,t=We;try{var n=wn;for(We=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wn=null,ya=!1}catch(i){throw wn!==null&&(wn=wn.slice(e+1)),Xh(Xc,lr),i}finally{We=t,sl=!1}}return null}var Xr=[],qr=0,Ho=null,Wo=0,Ht=[],Wt=0,zr=null,bn=1,kn="";function dr(e,t){Xr[qr++]=Wo,Xr[qr++]=Ho,Ho=e,Wo=t}function zp(e,t,n){Ht[Wt++]=bn,Ht[Wt++]=kn,Ht[Wt++]=zr,zr=e;var r=bn;e=kn;var i=32-on(r)-1;r&=~(1<<i),n+=1;var s=32-on(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bn=1<<32-on(t)+i|n<<i|r,kn=s+e}else bn=1<<s|n<<i|r,kn=e}function su(e){e.return!==null&&(dr(e,1),zp(e,1,0))}function ou(e){for(;e===Ho;)Ho=Xr[--qr],Xr[qr]=null,Wo=Xr[--qr],Xr[qr]=null;for(;e===zr;)zr=Ht[--Wt],Ht[Wt]=null,kn=Ht[--Wt],Ht[Wt]=null,bn=Ht[--Wt],Ht[Wt]=null}var Lt=null,Rt=null,Je=!1,rn=null;function Ep(e,t){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Fd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lt=e,Rt=qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lt=e,Rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zr!==null?{id:bn,overflow:kn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Lt=e,Rt=null,!0):!1;default:return!1}}function ec(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tc(e){if(Je){var t=Rt;if(t){var n=t;if(!Fd(e,t)){if(ec(e))throw Error(_e(418));t=qn(n.nextSibling);var r=Lt;t&&Fd(e,t)?Ep(r,n):(e.flags=e.flags&-4097|2,Je=!1,Lt=e)}}else{if(ec(e))throw Error(_e(418));e.flags=e.flags&-4097|2,Je=!1,Lt=e}}}function Bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function Qs(e){if(e!==Lt)return!1;if(!Je)return Bd(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xl(e.type,e.memoizedProps)),t&&(t=Rt)){if(ec(e))throw Cp(),Error(_e(418));for(;t;)Ep(e,t),t=qn(t.nextSibling)}if(Bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Rt=qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Rt=null}}else Rt=Lt?qn(e.stateNode.nextSibling):null;return!0}function Cp(){for(var e=Rt;e;)e=qn(e.nextSibling)}function hi(){Rt=Lt=null,Je=!1}function au(e){rn===null?rn=[e]:rn.push(e)}var ky=An.ReactCurrentBatchConfig;function Ti(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,e))}return e}function Js(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ud(e){var t=e._init;return t(e._payload)}function jp(e){function t(f,x){if(e){var k=f.deletions;k===null?(f.deletions=[x],f.flags|=16):k.push(x)}}function n(f,x){if(!e)return null;for(;x!==null;)t(f,x),x=x.sibling;return null}function r(f,x){for(f=new Map;x!==null;)x.key!==null?f.set(x.key,x):f.set(x.index,x),x=x.sibling;return f}function i(f,x){return f=tr(f,x),f.index=0,f.sibling=null,f}function s(f,x,k){return f.index=k,e?(k=f.alternate,k!==null?(k=k.index,k<x?(f.flags|=2,x):k):(f.flags|=2,x)):(f.flags|=1048576,x)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,x,k,_){return x===null||x.tag!==6?(x=fl(k,f.mode,_),x.return=f,x):(x=i(x,k),x.return=f,x)}function l(f,x,k,_){var N=k.type;return N===Wr?d(f,x,k.props.children,_,k.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$n&&Ud(N)===x.type)?(_=i(x,k.props),_.ref=Ti(f,x,k),_.return=f,_):(_=zo(k.type,k.key,k.props,null,f.mode,_),_.ref=Ti(f,x,k),_.return=f,_)}function u(f,x,k,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=hl(k,f.mode,_),x.return=f,x):(x=i(x,k.children||[]),x.return=f,x)}function d(f,x,k,_,N){return x===null||x.tag!==7?(x=kr(k,f.mode,_,N),x.return=f,x):(x=i(x,k),x.return=f,x)}function m(f,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return x=fl(""+x,f.mode,k),x.return=f,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Us:return k=zo(x.type,x.key,x.props,null,f.mode,k),k.ref=Ti(f,null,x),k.return=f,k;case Hr:return x=hl(x,f.mode,k),x.return=f,x;case $n:var _=x._init;return m(f,_(x._payload),k)}if(Fi(x)||zi(x))return x=kr(x,f.mode,k,null),x.return=f,x;Js(f,x)}return null}function y(f,x,k,_){var N=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return N!==null?null:a(f,x,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Us:return k.key===N?l(f,x,k,_):null;case Hr:return k.key===N?u(f,x,k,_):null;case $n:return N=k._init,y(f,x,N(k._payload),_)}if(Fi(k)||zi(k))return N!==null?null:d(f,x,k,_,null);Js(f,k)}return null}function h(f,x,k,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return f=f.get(k)||null,a(x,f,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Us:return f=f.get(_.key===null?k:_.key)||null,l(x,f,_,N);case Hr:return f=f.get(_.key===null?k:_.key)||null,u(x,f,_,N);case $n:var z=_._init;return h(f,x,k,z(_._payload),N)}if(Fi(_)||zi(_))return f=f.get(k)||null,d(x,f,_,N,null);Js(x,_)}return null}function v(f,x,k,_){for(var N=null,z=null,E=x,P=x=0,I=null;E!==null&&P<k.length;P++){E.index>P?(I=E,E=null):I=E.sibling;var $=y(f,E,k[P],_);if($===null){E===null&&(E=I);break}e&&E&&$.alternate===null&&t(f,E),x=s($,x,P),z===null?N=$:z.sibling=$,z=$,E=I}if(P===k.length)return n(f,E),Je&&dr(f,P),N;if(E===null){for(;P<k.length;P++)E=m(f,k[P],_),E!==null&&(x=s(E,x,P),z===null?N=E:z.sibling=E,z=E);return Je&&dr(f,P),N}for(E=r(f,E);P<k.length;P++)I=h(E,f,P,k[P],_),I!==null&&(e&&I.alternate!==null&&E.delete(I.key===null?P:I.key),x=s(I,x,P),z===null?N=I:z.sibling=I,z=I);return e&&E.forEach(function(q){return t(f,q)}),Je&&dr(f,P),N}function g(f,x,k,_){var N=zi(k);if(typeof N!="function")throw Error(_e(150));if(k=N.call(k),k==null)throw Error(_e(151));for(var z=N=null,E=x,P=x=0,I=null,$=k.next();E!==null&&!$.done;P++,$=k.next()){E.index>P?(I=E,E=null):I=E.sibling;var q=y(f,E,$.value,_);if(q===null){E===null&&(E=I);break}e&&E&&q.alternate===null&&t(f,E),x=s(q,x,P),z===null?N=q:z.sibling=q,z=q,E=I}if($.done)return n(f,E),Je&&dr(f,P),N;if(E===null){for(;!$.done;P++,$=k.next())$=m(f,$.value,_),$!==null&&(x=s($,x,P),z===null?N=$:z.sibling=$,z=$);return Je&&dr(f,P),N}for(E=r(f,E);!$.done;P++,$=k.next())$=h(E,f,P,$.value,_),$!==null&&(e&&$.alternate!==null&&E.delete($.key===null?P:$.key),x=s($,x,P),z===null?N=$:z.sibling=$,z=$);return e&&E.forEach(function(D){return t(f,D)}),Je&&dr(f,P),N}function w(f,x,k,_){if(typeof k=="object"&&k!==null&&k.type===Wr&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Us:e:{for(var N=k.key,z=x;z!==null;){if(z.key===N){if(N=k.type,N===Wr){if(z.tag===7){n(f,z.sibling),x=i(z,k.props.children),x.return=f,f=x;break e}}else if(z.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$n&&Ud(N)===z.type){n(f,z.sibling),x=i(z,k.props),x.ref=Ti(f,z,k),x.return=f,f=x;break e}n(f,z);break}else t(f,z);z=z.sibling}k.type===Wr?(x=kr(k.props.children,f.mode,_,k.key),x.return=f,f=x):(_=zo(k.type,k.key,k.props,null,f.mode,_),_.ref=Ti(f,x,k),_.return=f,f=_)}return o(f);case Hr:e:{for(z=k.key;x!==null;){if(x.key===z)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){n(f,x.sibling),x=i(x,k.children||[]),x.return=f,f=x;break e}else{n(f,x);break}else t(f,x);x=x.sibling}x=hl(k,f.mode,_),x.return=f,f=x}return o(f);case $n:return z=k._init,w(f,x,z(k._payload),_)}if(Fi(k))return v(f,x,k,_);if(zi(k))return g(f,x,k,_);Js(f,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,x!==null&&x.tag===6?(n(f,x.sibling),x=i(x,k),x.return=f,f=x):(n(f,x),x=fl(k,f.mode,_),x.return=f,f=x),o(f)):n(f,x)}return w}var pi=jp(!0),Dp=jp(!1),Vo=ar(null),Zo=null,Qr=null,lu=null;function cu(){lu=Qr=Zo=null}function uu(e){var t=Vo.current;qe(Vo),e._currentValue=t}function nc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oi(e,t){Zo=e,lu=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dt=!0),e.firstContext=null)}function Xt(e){var t=e._currentValue;if(lu!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(Zo===null)throw Error(_e(308));Qr=e,Zo.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var xr=null;function du(e){xr===null?xr=[e]:xr.push(e)}function Tp(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,du(t)):(n.next=i.next,i.next=n),t.interleaved=n,Dn(e,r)}function Dn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fn=!1;function fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ip(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,He&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Dn(e,n)}return i=r.interleaved,i===null?(t.next=t,du(r)):(t.next=i.next,i.next=t),r.interleaved=t,Dn(e,n)}function wo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qc(e,n)}}function Hd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yo(e,t,n,r){var i=e.updateQueue;Fn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;o=0,d=u=l=null,a=s;do{var y=a.lane,h=a.eventTime;if((r&y)===y){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(y=t,h=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){m=v.call(h,m,y);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,y=typeof v=="function"?v.call(h,m,y):v,y==null)break e;m=nt({},m,y);break e;case 2:Fn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else h={eventTime:h,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=h,l=m):d=d.next=h,o|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(d===null&&(l=m),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Cr|=o,e.lanes=o,e.memoizedState=m}}function Wd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_e(191,i));i.call(r)}}}var As={},pn=ar(As),fs=ar(As),hs=ar(As);function yr(e){if(e===As)throw Error(_e(174));return e}function hu(e,t){switch(Ge(hs,t),Ge(fs,e),Ge(pn,As),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rl(t,e)}qe(pn),Ge(pn,t)}function mi(){qe(pn),qe(fs),qe(hs)}function Mp(e){yr(hs.current);var t=yr(pn.current),n=Rl(t,e.type);t!==n&&(Ge(fs,e),Ge(pn,n))}function pu(e){fs.current===e&&(qe(pn),qe(fs))}var et=ar(0);function Go(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ol=[];function mu(){for(var e=0;e<ol.length;e++)ol[e]._workInProgressVersionPrimary=null;ol.length=0}var bo=An.ReactCurrentDispatcher,al=An.ReactCurrentBatchConfig,Er=0,tt=null,ct=null,ft=null,Ko=!1,qi=!1,ps=0,_y=0;function vt(){throw Error(_e(321))}function gu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ln(e[n],t[n]))return!1;return!0}function xu(e,t,n,r,i,s){if(Er=s,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bo.current=e===null||e.memoizedState===null?Ey:Cy,e=n(r,i),qi){s=0;do{if(qi=!1,ps=0,25<=s)throw Error(_e(301));s+=1,ft=ct=null,t.updateQueue=null,bo.current=jy,e=n(r,i)}while(qi)}if(bo.current=Xo,t=ct!==null&&ct.next!==null,Er=0,ft=ct=tt=null,Ko=!1,t)throw Error(_e(300));return e}function yu(){var e=ps!==0;return ps=0,e}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?tt.memoizedState=ft=e:ft=ft.next=e,ft}function qt(){if(ct===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=ft===null?tt.memoizedState:ft.next;if(t!==null)ft=t,ct=e;else{if(e===null)throw Error(_e(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},ft===null?tt.memoizedState=ft=e:ft=ft.next=e}return ft}function ms(e,t){return typeof t=="function"?t(e):t}function ll(e){var t=qt(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=ct,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Er&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=m,o=r):l=l.next=m,tt.lanes|=d,Cr|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ln(r,t.memoizedState)||(Dt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,tt.lanes|=s,Cr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cl(e){var t=qt(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ln(s,t.memoizedState)||(Dt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ap(){}function Pp(e,t){var n=tt,r=qt(),i=t(),s=!ln(r.memoizedState,i);if(s&&(r.memoizedState=i,Dt=!0),r=r.queue,vu(Op.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,gs(9,Lp.bind(null,n,r,i,t),void 0,null),ht===null)throw Error(_e(349));Er&30||Rp(n,t,i)}return i}function Rp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lp(e,t,n,r){t.value=n,t.getSnapshot=r,$p(t)&&Fp(e)}function Op(e,t,n){return n(function(){$p(t)&&Fp(e)})}function $p(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ln(e,n)}catch{return!0}}function Fp(e){var t=Dn(e,1);t!==null&&an(t,e,1,-1)}function Vd(e){var t=dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},t.queue=e,e=e.dispatch=zy.bind(null,tt,e),[t.memoizedState,e]}function gs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Bp(){return qt().memoizedState}function ko(e,t,n,r){var i=dn();tt.flags|=e,i.memoizedState=gs(1|t,n,void 0,r===void 0?null:r)}function va(e,t,n,r){var i=qt();r=r===void 0?null:r;var s=void 0;if(ct!==null){var o=ct.memoizedState;if(s=o.destroy,r!==null&&gu(r,o.deps)){i.memoizedState=gs(t,n,s,r);return}}tt.flags|=e,i.memoizedState=gs(1|t,n,s,r)}function Zd(e,t){return ko(8390656,8,e,t)}function vu(e,t){return va(2048,8,e,t)}function Up(e,t){return va(4,2,e,t)}function Hp(e,t){return va(4,4,e,t)}function Wp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vp(e,t,n){return n=n!=null?n.concat([e]):null,va(4,4,Wp.bind(null,t,e),n)}function wu(){}function Zp(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yp(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gp(e,t,n){return Er&21?(ln(n,t)||(n=Jh(),tt.lanes|=n,Cr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dt=!0),e.memoizedState=n)}function Ny(e,t){var n=We;We=n!==0&&4>n?n:4,e(!0);var r=al.transition;al.transition={};try{e(!1),t()}finally{We=n,al.transition=r}}function Kp(){return qt().memoizedState}function Sy(e,t,n){var r=er(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xp(e))qp(t,n);else if(n=Tp(e,t,n,r),n!==null){var i=St();an(n,e,r,i),Qp(n,t,r)}}function zy(e,t,n){var r=er(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xp(e))qp(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ln(a,o)){var l=t.interleaved;l===null?(i.next=i,du(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Tp(e,t,i,r),n!==null&&(i=St(),an(n,e,r,i),Qp(n,t,r))}}function Xp(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function qp(e,t){qi=Ko=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qc(e,n)}}var Xo={readContext:Xt,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},Ey={readContext:Xt,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:Xt,useEffect:Zd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ko(4194308,4,Wp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ko(4194308,4,e,t)},useInsertionEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var n=dn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Sy.bind(null,tt,e),[r.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:Vd,useDebugValue:wu,useDeferredValue:function(e){return dn().memoizedState=e},useTransition:function(){var e=Vd(!1),t=e[0];return e=Ny.bind(null,e[1]),dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=tt,i=dn();if(Je){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=t(),ht===null)throw Error(_e(349));Er&30||Rp(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Zd(Op.bind(null,r,s,e),[e]),r.flags|=2048,gs(9,Lp.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=dn(),t=ht.identifierPrefix;if(Je){var n=kn,r=bn;n=(r&~(1<<32-on(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ps++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_y++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cy={readContext:Xt,useCallback:Zp,useContext:Xt,useEffect:vu,useImperativeHandle:Vp,useInsertionEffect:Up,useLayoutEffect:Hp,useMemo:Yp,useReducer:ll,useRef:Bp,useState:function(){return ll(ms)},useDebugValue:wu,useDeferredValue:function(e){var t=qt();return Gp(t,ct.memoizedState,e)},useTransition:function(){var e=ll(ms)[0],t=qt().memoizedState;return[e,t]},useMutableSource:Ap,useSyncExternalStore:Pp,useId:Kp,unstable_isNewReconciler:!1},jy={readContext:Xt,useCallback:Zp,useContext:Xt,useEffect:vu,useImperativeHandle:Vp,useInsertionEffect:Up,useLayoutEffect:Hp,useMemo:Yp,useReducer:cl,useRef:Bp,useState:function(){return cl(ms)},useDebugValue:wu,useDeferredValue:function(e){var t=qt();return ct===null?t.memoizedState=e:Gp(t,ct.memoizedState,e)},useTransition:function(){var e=cl(ms)[0],t=qt().memoizedState;return[e,t]},useMutableSource:Ap,useSyncExternalStore:Pp,useId:Kp,unstable_isNewReconciler:!1};function en(e,t){if(e&&e.defaultProps){t=nt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:nt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wa={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=St(),i=er(e),s=Nn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Qn(e,s,i),t!==null&&(an(t,e,i,r),wo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=St(),i=er(e),s=Nn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Qn(e,s,i),t!==null&&(an(t,e,i,r),wo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=St(),r=er(e),i=Nn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Qn(e,i,r),t!==null&&(an(t,e,r,n),wo(t,e,r))}};function Yd(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ls(n,r)||!ls(i,s):!0}function Jp(e,t,n){var r=!1,i=ir,s=t.contextType;return typeof s=="object"&&s!==null?s=Xt(s):(i=Mt(t)?Sr:kt.current,r=t.contextTypes,s=(r=r!=null)?fi(e,i):ir),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Gd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function ic(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},fu(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Xt(s):(s=Mt(t)?Sr:kt.current,i.context=fi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(rc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&wa.enqueueReplaceState(i,i.state,null),Yo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function gi(e,t){try{var n="",r=t;do n+=rx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ul(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dy=typeof WeakMap=="function"?WeakMap:Map;function e0(e,t,n){n=Nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qo||(Qo=!0,mc=r),sc(e,t)},n}function t0(e,t,n){n=Nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){sc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sc(e,t),typeof r!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Kd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Dy;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Wy.bind(null,e,t,n),t.then(e,e))}function Xd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qd(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nn(-1,1),t.tag=2,Qn(n,t,1))),n.lanes|=1),e)}var Ty=An.ReactCurrentOwner,Dt=!1;function _t(e,t,n,r){t.child=e===null?Dp(t,null,n,r):pi(t,e.child,n,r)}function Qd(e,t,n,r,i){n=n.render;var s=t.ref;return oi(t,i),r=xu(e,t,n,r,s,i),n=yu(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Tn(e,t,i)):(Je&&n&&su(t),t.flags|=1,_t(e,t,r,i),t.child)}function Jd(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Cu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,n0(e,t,s,r,i)):(e=zo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ls,n(o,r)&&e.ref===t.ref)return Tn(e,t,i)}return t.flags|=1,e=tr(s,r),e.ref=t.ref,e.return=t,t.child=e}function n0(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ls(s,r)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Dt=!0);else return t.lanes=e.lanes,Tn(e,t,i)}return oc(e,t,n,r,i)}function r0(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(ei,Pt),Pt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(ei,Pt),Pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ge(ei,Pt),Pt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ge(ei,Pt),Pt|=r;return _t(e,t,i,n),t.child}function i0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oc(e,t,n,r,i){var s=Mt(n)?Sr:kt.current;return s=fi(t,s),oi(t,i),n=xu(e,t,n,r,s,i),r=yu(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Tn(e,t,i)):(Je&&r&&su(t),t.flags|=1,_t(e,t,n,i),t.child)}function ef(e,t,n,r,i){if(Mt(n)){var s=!0;Uo(t)}else s=!1;if(oi(t,i),t.stateNode===null)_o(e,t),Jp(t,n,r),ic(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xt(u):(u=Mt(n)?Sr:kt.current,u=fi(t,u));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Gd(t,o,r,u),Fn=!1;var y=t.memoizedState;o.state=y,Yo(t,r,o,i),l=t.memoizedState,a!==r||y!==l||It.current||Fn?(typeof d=="function"&&(rc(t,n,d,r),l=t.memoizedState),(a=Fn||Yd(t,n,a,r,y,l,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ip(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:en(t.type,a),o.props=u,m=t.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xt(l):(l=Mt(n)?Sr:kt.current,l=fi(t,l));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||y!==l)&&Gd(t,o,r,l),Fn=!1,y=t.memoizedState,o.state=y,Yo(t,r,o,i);var v=t.memoizedState;a!==m||y!==v||It.current||Fn?(typeof h=="function"&&(rc(t,n,h,r),v=t.memoizedState),(u=Fn||Yd(t,n,u,r,y,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return ac(e,t,n,r,s,i)}function ac(e,t,n,r,i,s){i0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&$d(t,n,!1),Tn(e,t,s);r=t.stateNode,Ty.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=pi(t,e.child,null,s),t.child=pi(t,null,a,s)):_t(e,t,a,s),t.memoizedState=r.state,i&&$d(t,n,!0),t.child}function s0(e){var t=e.stateNode;t.pendingContext?Od(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Od(e,t.context,!1),hu(e,t.containerInfo)}function tf(e,t,n,r,i){return hi(),au(i),t.flags|=256,_t(e,t,n,r),t.child}var lc={dehydrated:null,treeContext:null,retryLane:0};function cc(e){return{baseLanes:e,cachePool:null,transitions:null}}function o0(e,t,n){var r=t.pendingProps,i=et.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ge(et,i&1),e===null)return tc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_a(o,r,0,null),e=kr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=cc(n),t.memoizedState=lc,e):bu(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Iy(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=tr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=tr(a,s):(s=kr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?cc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=lc,r}return s=e.child,e=s.sibling,r=tr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bu(e,t){return t=_a({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function eo(e,t,n,r){return r!==null&&au(r),pi(t,e.child,null,n),e=bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Iy(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=ul(Error(_e(422))),eo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=_a({mode:"visible",children:r.children},i,0,null),s=kr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&pi(t,e.child,null,o),t.child.memoizedState=cc(o),t.memoizedState=lc,s);if(!(t.mode&1))return eo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(_e(419)),r=ul(s,r,void 0),eo(e,t,o,r)}if(a=(o&e.childLanes)!==0,Dt||a){if(r=ht,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Dn(e,i),an(r,e,i,-1))}return Eu(),r=ul(Error(_e(421))),eo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Vy.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Rt=qn(i.nextSibling),Lt=t,Je=!0,rn=null,e!==null&&(Ht[Wt++]=bn,Ht[Wt++]=kn,Ht[Wt++]=zr,bn=e.id,kn=e.overflow,zr=t),t=bu(t,r.children),t.flags|=4096,t)}function nf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nc(e.return,t,n)}function dl(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function a0(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_t(e,t,r.children,n),r=et.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nf(e,n,t);else if(e.tag===19)nf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ge(et,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Go(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),dl(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Go(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}dl(t,!0,n,null,s);break;case"together":dl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _o(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,n=tr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=tr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function My(e,t,n){switch(t.tag){case 3:s0(t),hi();break;case 5:Mp(t);break;case 1:Mt(t.type)&&Uo(t);break;case 4:hu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ge(Vo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ge(et,et.current&1),t.flags|=128,null):n&t.child.childLanes?o0(e,t,n):(Ge(et,et.current&1),e=Tn(e,t,n),e!==null?e.sibling:null);Ge(et,et.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return a0(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(et,et.current),r)break;return null;case 22:case 23:return t.lanes=0,r0(e,t,n)}return Tn(e,t,n)}var l0,uc,c0,u0;l0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uc=function(){};c0=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,yr(pn.current);var s=null;switch(n){case"input":i=Il(e,i),r=Il(e,r),s=[];break;case"select":i=nt({},i,{value:void 0}),r=nt({},r,{value:void 0}),s=[];break;case"textarea":i=Pl(e,i),r=Pl(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Fo)}Ll(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ts.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ts.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xe("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};u0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ii(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ay(e,t,n){var r=t.pendingProps;switch(ou(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Mt(t.type)&&Bo(),wt(t),null;case 3:return r=t.stateNode,mi(),qe(It),qe(kt),mu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rn!==null&&(yc(rn),rn=null))),uc(e,t),wt(t),null;case 5:pu(t);var i=yr(hs.current);if(n=t.type,e!==null&&t.stateNode!=null)c0(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_e(166));return wt(t),null}if(e=yr(pn.current),Qs(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fn]=t,r[ds]=s,e=(t.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<Ui.length;i++)Xe(Ui[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":dd(r,s),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",r);break;case"textarea":hd(r,s),Xe("invalid",r)}Ll(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&qs(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&qs(r.textContent,a,e),i=["children",""+a]):ts.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Hs(r),fd(r,s,!0);break;case"textarea":Hs(r),pd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Fo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Oh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[fn]=t,e[ds]=r,l0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ol(n,r),n){case"dialog":Xe("cancel",e),Xe("close",e),i=r;break;case"iframe":case"object":case"embed":Xe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ui.length;i++)Xe(Ui[i],e);i=r;break;case"source":Xe("error",e),i=r;break;case"img":case"image":case"link":Xe("error",e),Xe("load",e),i=r;break;case"details":Xe("toggle",e),i=r;break;case"input":dd(e,r),i=Il(e,r),Xe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=nt({},r,{value:void 0}),Xe("invalid",e);break;case"textarea":hd(e,r),i=Pl(e,r),Xe("invalid",e);break;default:i=r}Ll(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Bh(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$h(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ns(e,l):typeof l=="number"&&ns(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ts.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Xe("scroll",e):l!=null&&Vc(e,s,l,o))}switch(n){case"input":Hs(e),fd(e,r,!1);break;case"textarea":Hs(e),pd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+rr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ni(e,!!r.multiple,s,!1):r.defaultValue!=null&&ni(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Fo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)u0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_e(166));if(n=yr(hs.current),yr(pn.current),Qs(t)){if(r=t.stateNode,n=t.memoizedProps,r[fn]=t,(s=r.nodeValue!==n)&&(e=Lt,e!==null))switch(e.tag){case 3:qs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qs(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fn]=t,t.stateNode=r}return wt(t),null;case 13:if(qe(et),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&Rt!==null&&t.mode&1&&!(t.flags&128))Cp(),hi(),t.flags|=98560,s=!1;else if(s=Qs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(_e(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_e(317));s[fn]=t}else hi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),s=!1}else rn!==null&&(yc(rn),rn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?ut===0&&(ut=3):Eu())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return mi(),uc(e,t),e===null&&cs(t.stateNode.containerInfo),wt(t),null;case 10:return uu(t.type._context),wt(t),null;case 17:return Mt(t.type)&&Bo(),wt(t),null;case 19:if(qe(et),s=t.memoizedState,s===null)return wt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ii(s,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Go(e),o!==null){for(t.flags|=128,Ii(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ge(et,et.current&1|2),t.child}e=e.sibling}s.tail!==null&&ot()>xi&&(t.flags|=128,r=!0,Ii(s,!1),t.lanes=4194304)}else{if(!r)if(e=Go(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ii(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Je)return wt(t),null}else 2*ot()-s.renderingStartTime>xi&&n!==1073741824&&(t.flags|=128,r=!0,Ii(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ot(),t.sibling=null,n=et.current,Ge(et,r?n&1|2:n&1),t):(wt(t),null);case 22:case 23:return zu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function Py(e,t){switch(ou(t),t.tag){case 1:return Mt(t.type)&&Bo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mi(),qe(It),qe(kt),mu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pu(t),null;case 13:if(qe(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(et),null;case 4:return mi(),null;case 10:return uu(t.type._context),null;case 22:case 23:return zu(),null;case 24:return null;default:return null}}var to=!1,bt=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Jr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(e,t,r)}else n.current=null}function dc(e,t,n){try{n()}catch(r){rt(e,t,r)}}var rf=!1;function Ly(e,t){if(Gl=Lo,e=mp(),iu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,m=e,y=null;t:for(;;){for(var h;m!==n||i!==0&&m.nodeType!==3||(a=o+i),m!==s||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(h=m.firstChild)!==null;)y=m,m=h;for(;;){if(m===e)break t;if(y===n&&++u===i&&(a=o),y===s&&++d===r&&(l=o),(h=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kl={focusedElem:e,selectionRange:n},Lo=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){t=Ie;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,w=v.memoizedState,f=t.stateNode,x=f.getSnapshotBeforeUpdate(t.elementType===t.type?g:en(t.type,g),w);f.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(_){rt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}return v=rf,rf=!1,v}function Qi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&dc(t,n,s)}i=i.next}while(i!==r)}}function ba(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function d0(e){var t=e.alternate;t!==null&&(e.alternate=null,d0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[ds],delete t[Ql],delete t[vy],delete t[wy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function f0(e){return e.tag===5||e.tag===3||e.tag===4}function sf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||f0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fo));else if(r!==4&&(e=e.child,e!==null))for(hc(e,t,n),e=e.sibling;e!==null;)hc(e,t,n),e=e.sibling}function pc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pc(e,t,n),e=e.sibling;e!==null;)pc(e,t,n),e=e.sibling}var mt=null,tn=!1;function Rn(e,t,n){for(n=n.child;n!==null;)h0(e,t,n),n=n.sibling}function h0(e,t,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(ha,n)}catch{}switch(n.tag){case 5:bt||Jr(n,t);case 6:var r=mt,i=tn;mt=null,Rn(e,t,n),mt=r,tn=i,mt!==null&&(tn?(e=mt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(tn?(e=mt,n=n.stateNode,e.nodeType===8?il(e.parentNode,n):e.nodeType===1&&il(e,n),os(e)):il(mt,n.stateNode));break;case 4:r=mt,i=tn,mt=n.stateNode.containerInfo,tn=!0,Rn(e,t,n),mt=r,tn=i;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dc(n,t,o),i=i.next}while(i!==r)}Rn(e,t,n);break;case 1:if(!bt&&(Jr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,t,a)}Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,Rn(e,t,n),bt=r):Rn(e,t,n);break;default:Rn(e,t,n)}}function of(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ry),t.forEach(function(r){var i=Zy.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,tn=!1;break e;case 3:mt=a.stateNode.containerInfo,tn=!0;break e;case 4:mt=a.stateNode.containerInfo,tn=!0;break e}a=a.return}if(mt===null)throw Error(_e(160));h0(s,o,i),mt=null,tn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){rt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)p0(t,e),t=t.sibling}function p0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),un(e),r&4){try{Qi(3,e,e.return),ba(3,e)}catch(g){rt(e,e.return,g)}try{Qi(5,e,e.return)}catch(g){rt(e,e.return,g)}}break;case 1:Jt(t,e),un(e),r&512&&n!==null&&Jr(n,n.return);break;case 5:if(Jt(t,e),un(e),r&512&&n!==null&&Jr(n,n.return),e.flags&32){var i=e.stateNode;try{ns(i,"")}catch(g){rt(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Rh(i,s),Ol(a,o);var u=Ol(a,s);for(o=0;o<l.length;o+=2){var d=l[o],m=l[o+1];d==="style"?Bh(i,m):d==="dangerouslySetInnerHTML"?$h(i,m):d==="children"?ns(i,m):Vc(i,d,m,u)}switch(a){case"input":Ml(i,s);break;case"textarea":Lh(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?ni(i,!!s.multiple,h,!1):y!==!!s.multiple&&(s.defaultValue!=null?ni(i,!!s.multiple,s.defaultValue,!0):ni(i,!!s.multiple,s.multiple?[]:"",!1))}i[ds]=s}catch(g){rt(e,e.return,g)}}break;case 6:if(Jt(t,e),un(e),r&4){if(e.stateNode===null)throw Error(_e(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){rt(e,e.return,g)}}break;case 3:if(Jt(t,e),un(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{os(t.containerInfo)}catch(g){rt(e,e.return,g)}break;case 4:Jt(t,e),un(e);break;case 13:Jt(t,e),un(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Nu=ot())),r&4&&of(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(bt=(u=bt)||d,Jt(t,e),bt=u):Jt(t,e),un(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ie=e,d=e.child;d!==null;){for(m=Ie=d;Ie!==null;){switch(y=Ie,h=y.child,y.tag){case 0:case 11:case 14:case 15:Qi(4,y,y.return);break;case 1:Jr(y,y.return);var v=y.stateNode;if(typeof v.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){rt(r,n,g)}}break;case 5:Jr(y,y.return);break;case 22:if(y.memoizedState!==null){lf(m);continue}}h!==null?(h.return=y,Ie=h):lf(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Fh("display",o))}catch(g){rt(e,e.return,g)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(g){rt(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Jt(t,e),un(e),r&4&&of(e);break;case 21:break;default:Jt(t,e),un(e)}}function un(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(f0(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ns(i,""),r.flags&=-33);var s=sf(e);pc(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=sf(e);hc(e,a,o);break;default:throw Error(_e(161))}}catch(l){rt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Oy(e,t,n){Ie=e,m0(e)}function m0(e,t,n){for(var r=(e.mode&1)!==0;Ie!==null;){var i=Ie,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||to;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||bt;a=to;var u=bt;if(to=o,(bt=l)&&!u)for(Ie=i;Ie!==null;)o=Ie,l=o.child,o.tag===22&&o.memoizedState!==null?cf(i):l!==null?(l.return=o,Ie=l):cf(i);for(;s!==null;)Ie=s,m0(s),s=s.sibling;Ie=i,to=a,bt=u}af(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ie=s):af(e)}}function af(e){for(;Ie!==null;){var t=Ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bt||ba(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!bt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Wd(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wd(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&os(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}bt||t.flags&512&&fc(t)}catch(y){rt(t,t.return,y)}}if(t===e){Ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ie=n;break}Ie=t.return}}function lf(e){for(;Ie!==null;){var t=Ie;if(t===e){Ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ie=n;break}Ie=t.return}}function cf(e){for(;Ie!==null;){var t=Ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ba(4,t)}catch(l){rt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){rt(t,i,l)}}var s=t.return;try{fc(t)}catch(l){rt(t,s,l)}break;case 5:var o=t.return;try{fc(t)}catch(l){rt(t,o,l)}}}catch(l){rt(t,t.return,l)}if(t===e){Ie=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ie=a;break}Ie=t.return}}var $y=Math.ceil,qo=An.ReactCurrentDispatcher,ku=An.ReactCurrentOwner,Gt=An.ReactCurrentBatchConfig,He=0,ht=null,lt=null,gt=0,Pt=0,ei=ar(0),ut=0,xs=null,Cr=0,ka=0,_u=0,Ji=null,jt=null,Nu=0,xi=1/0,vn=null,Qo=!1,mc=null,Jn=null,no=!1,Yn=null,Jo=0,es=0,gc=null,No=-1,So=0;function St(){return He&6?ot():No!==-1?No:No=ot()}function er(e){return e.mode&1?He&2&&gt!==0?gt&-gt:ky.transition!==null?(So===0&&(So=Jh()),So):(e=We,e!==0||(e=window.event,e=e===void 0?16:op(e.type)),e):1}function an(e,t,n,r){if(50<es)throw es=0,gc=null,Error(_e(185));Ts(e,n,r),(!(He&2)||e!==ht)&&(e===ht&&(!(He&2)&&(ka|=n),ut===4&&Wn(e,gt)),At(e,r),n===1&&He===0&&!(t.mode&1)&&(xi=ot()+500,ya&&lr()))}function At(e,t){var n=e.callbackNode;kx(e,t);var r=Ro(e,e===ht?gt:0);if(r===0)n!==null&&xd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xd(n),t===1)e.tag===0?by(uf.bind(null,e)):Sp(uf.bind(null,e)),xy(function(){!(He&6)&&lr()}),n=null;else{switch(ep(r)){case 1:n=Xc;break;case 4:n=qh;break;case 16:n=Po;break;case 536870912:n=Qh;break;default:n=Po}n=_0(n,g0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function g0(e,t){if(No=-1,So=0,He&6)throw Error(_e(327));var n=e.callbackNode;if(ai()&&e.callbackNode!==n)return null;var r=Ro(e,e===ht?gt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ea(e,r);else{t=r;var i=He;He|=2;var s=y0();(ht!==e||gt!==t)&&(vn=null,xi=ot()+500,br(e,t));do try{Uy();break}catch(a){x0(e,a)}while(!0);cu(),qo.current=s,He=i,lt!==null?t=0:(ht=null,gt=0,t=ut)}if(t!==0){if(t===2&&(i=Hl(e),i!==0&&(r=i,t=xc(e,i))),t===1)throw n=xs,br(e,0),Wn(e,r),At(e,ot()),n;if(t===6)Wn(e,r);else{if(i=e.current.alternate,!(r&30)&&!Fy(i)&&(t=ea(e,r),t===2&&(s=Hl(e),s!==0&&(r=s,t=xc(e,s))),t===1))throw n=xs,br(e,0),Wn(e,r),At(e,ot()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(_e(345));case 2:fr(e,jt,vn);break;case 3:if(Wn(e,r),(r&130023424)===r&&(t=Nu+500-ot(),10<t)){if(Ro(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){St(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ql(fr.bind(null,e,jt,vn),t);break}fr(e,jt,vn);break;case 4:if(Wn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-on(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$y(r/1960))-r,10<r){e.timeoutHandle=ql(fr.bind(null,e,jt,vn),r);break}fr(e,jt,vn);break;case 5:fr(e,jt,vn);break;default:throw Error(_e(329))}}}return At(e,ot()),e.callbackNode===n?g0.bind(null,e):null}function xc(e,t){var n=Ji;return e.current.memoizedState.isDehydrated&&(br(e,t).flags|=256),e=ea(e,t),e!==2&&(t=jt,jt=n,t!==null&&yc(t)),e}function yc(e){jt===null?jt=e:jt.push.apply(jt,e)}function Fy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ln(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t){for(t&=~_u,t&=~ka,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-on(t),r=1<<n;e[n]=-1,t&=~r}}function uf(e){if(He&6)throw Error(_e(327));ai();var t=Ro(e,0);if(!(t&1))return At(e,ot()),null;var n=ea(e,t);if(e.tag!==0&&n===2){var r=Hl(e);r!==0&&(t=r,n=xc(e,r))}if(n===1)throw n=xs,br(e,0),Wn(e,t),At(e,ot()),n;if(n===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,jt,vn),At(e,ot()),null}function Su(e,t){var n=He;He|=1;try{return e(t)}finally{He=n,He===0&&(xi=ot()+500,ya&&lr())}}function jr(e){Yn!==null&&Yn.tag===0&&!(He&6)&&ai();var t=He;He|=1;var n=Gt.transition,r=We;try{if(Gt.transition=null,We=1,e)return e()}finally{We=r,Gt.transition=n,He=t,!(He&6)&&lr()}}function zu(){Pt=ei.current,qe(ei)}function br(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gy(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(ou(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bo();break;case 3:mi(),qe(It),qe(kt),mu();break;case 5:pu(r);break;case 4:mi();break;case 13:qe(et);break;case 19:qe(et);break;case 10:uu(r.type._context);break;case 22:case 23:zu()}n=n.return}if(ht=e,lt=e=tr(e.current,null),gt=Pt=t,ut=0,xs=null,_u=ka=Cr=0,jt=Ji=null,xr!==null){for(t=0;t<xr.length;t++)if(n=xr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}xr=null}return e}function x0(e,t){do{var n=lt;try{if(cu(),bo.current=Xo,Ko){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ko=!1}if(Er=0,ft=ct=tt=null,qi=!1,ps=0,ku.current=null,n===null||n.return===null){ut=1,xs=t,lt=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Xd(o);if(h!==null){h.flags&=-257,qd(h,o,a,s,t),h.mode&1&&Kd(s,u,t),t=h,l=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){Kd(s,u,t),Eu();break e}l=Error(_e(426))}}else if(Je&&a.mode&1){var w=Xd(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),qd(w,o,a,s,t),au(gi(l,a));break e}}s=l=gi(l,a),ut!==4&&(ut=2),Ji===null?Ji=[s]:Ji.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var f=e0(s,l,t);Hd(s,f);break e;case 1:a=l;var x=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Jn===null||!Jn.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=t0(s,a,t);Hd(s,_);break e}}s=s.return}while(s!==null)}w0(n)}catch(N){t=N,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function y0(){var e=qo.current;return qo.current=Xo,e===null?Xo:e}function Eu(){(ut===0||ut===3||ut===2)&&(ut=4),ht===null||!(Cr&268435455)&&!(ka&268435455)||Wn(ht,gt)}function ea(e,t){var n=He;He|=2;var r=y0();(ht!==e||gt!==t)&&(vn=null,br(e,t));do try{By();break}catch(i){x0(e,i)}while(!0);if(cu(),He=n,qo.current=r,lt!==null)throw Error(_e(261));return ht=null,gt=0,ut}function By(){for(;lt!==null;)v0(lt)}function Uy(){for(;lt!==null&&!hx();)v0(lt)}function v0(e){var t=k0(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,t===null?w0(e):lt=t,ku.current=null}function w0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Py(n,t),n!==null){n.flags&=32767,lt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,lt=null;return}}else if(n=Ay(n,t,Pt),n!==null){lt=n;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ut===0&&(ut=5)}function fr(e,t,n){var r=We,i=Gt.transition;try{Gt.transition=null,We=1,Hy(e,t,n,r)}finally{Gt.transition=i,We=r}return null}function Hy(e,t,n,r){do ai();while(Yn!==null);if(He&6)throw Error(_e(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(_x(e,s),e===ht&&(lt=ht=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||no||(no=!0,_0(Po,function(){return ai(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gt.transition,Gt.transition=null;var o=We;We=1;var a=He;He|=4,ku.current=null,Ly(e,n),p0(n,e),cy(Kl),Lo=!!Gl,Kl=Gl=null,e.current=n,Oy(n),px(),He=a,We=o,Gt.transition=s}else e.current=n;if(no&&(no=!1,Yn=e,Jo=i),s=e.pendingLanes,s===0&&(Jn=null),xx(n.stateNode),At(e,ot()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qo)throw Qo=!1,e=mc,mc=null,e;return Jo&1&&e.tag!==0&&ai(),s=e.pendingLanes,s&1?e===gc?es++:(es=0,gc=e):es=0,lr(),null}function ai(){if(Yn!==null){var e=ep(Jo),t=Gt.transition,n=We;try{if(Gt.transition=null,We=16>e?16:e,Yn===null)var r=!1;else{if(e=Yn,Yn=null,Jo=0,He&6)throw Error(_e(331));var i=He;for(He|=4,Ie=e.current;Ie!==null;){var s=Ie,o=s.child;if(Ie.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ie=u;Ie!==null;){var d=Ie;switch(d.tag){case 0:case 11:case 15:Qi(8,d,s)}var m=d.child;if(m!==null)m.return=d,Ie=m;else for(;Ie!==null;){d=Ie;var y=d.sibling,h=d.return;if(d0(d),d===u){Ie=null;break}if(y!==null){y.return=h,Ie=y;break}Ie=h}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ie=o;else e:for(;Ie!==null;){if(s=Ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qi(9,s,s.return)}var f=s.sibling;if(f!==null){f.return=s.return,Ie=f;break e}Ie=s.return}}var x=e.current;for(Ie=x;Ie!==null;){o=Ie;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,Ie=k;else e:for(o=x;Ie!==null;){if(a=Ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ba(9,a)}}catch(N){rt(a,a.return,N)}if(a===o){Ie=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Ie=_;break e}Ie=a.return}}if(He=i,lr(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(ha,e)}catch{}r=!0}return r}finally{We=n,Gt.transition=t}}return!1}function df(e,t,n){t=gi(n,t),t=e0(e,t,1),e=Qn(e,t,1),t=St(),e!==null&&(Ts(e,1,t),At(e,t))}function rt(e,t,n){if(e.tag===3)df(e,e,n);else for(;t!==null;){if(t.tag===3){df(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jn===null||!Jn.has(r))){e=gi(n,e),e=t0(t,e,1),t=Qn(t,e,1),e=St(),t!==null&&(Ts(t,1,e),At(t,e));break}}t=t.return}}function Wy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&n,ht===e&&(gt&n)===n&&(ut===4||ut===3&&(gt&130023424)===gt&&500>ot()-Nu?br(e,0):_u|=n),At(e,t)}function b0(e,t){t===0&&(e.mode&1?(t=Zs,Zs<<=1,!(Zs&130023424)&&(Zs=4194304)):t=1);var n=St();e=Dn(e,t),e!==null&&(Ts(e,t,n),At(e,n))}function Vy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),b0(e,n)}function Zy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(t),b0(e,n)}var k0;k0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||It.current)Dt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dt=!1,My(e,t,n);Dt=!!(e.flags&131072)}else Dt=!1,Je&&t.flags&1048576&&zp(t,Wo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_o(e,t),e=t.pendingProps;var i=fi(t,kt.current);oi(t,n),i=xu(null,t,r,e,i,n);var s=yu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mt(r)?(s=!0,Uo(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fu(t),i.updater=wa,t.stateNode=i,i._reactInternals=t,ic(t,r,e,n),t=ac(null,t,r,!0,s,n)):(t.tag=0,Je&&s&&su(t),_t(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_o(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Gy(r),e=en(r,e),i){case 0:t=oc(null,t,r,e,n);break e;case 1:t=ef(null,t,r,e,n);break e;case 11:t=Qd(null,t,r,e,n);break e;case 14:t=Jd(null,t,r,en(r.type,e),n);break e}throw Error(_e(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),oc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),ef(e,t,r,i,n);case 3:e:{if(s0(t),e===null)throw Error(_e(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Ip(e,t),Yo(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=gi(Error(_e(423)),t),t=tf(e,t,r,n,i);break e}else if(r!==i){i=gi(Error(_e(424)),t),t=tf(e,t,r,n,i);break e}else for(Rt=qn(t.stateNode.containerInfo.firstChild),Lt=t,Je=!0,rn=null,n=Dp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hi(),r===i){t=Tn(e,t,n);break e}_t(e,t,r,n)}t=t.child}return t;case 5:return Mp(t),e===null&&tc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Xl(r,i)?o=null:s!==null&&Xl(r,s)&&(t.flags|=32),i0(e,t),_t(e,t,o,n),t.child;case 6:return e===null&&tc(t),null;case 13:return o0(e,t,n);case 4:return hu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pi(t,null,r,n):_t(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),Qd(e,t,r,i,n);case 7:return _t(e,t,t.pendingProps,n),t.child;case 8:return _t(e,t,t.pendingProps.children,n),t.child;case 12:return _t(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ge(Vo,r._currentValue),r._currentValue=o,s!==null)if(ln(s.value,o)){if(s.children===i.children&&!It.current){t=Tn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Nn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),nc(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(_e(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),nc(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_t(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,oi(t,n),i=Xt(i),r=r(i),t.flags|=1,_t(e,t,r,n),t.child;case 14:return r=t.type,i=en(r,t.pendingProps),i=en(r.type,i),Jd(e,t,r,i,n);case 15:return n0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),_o(e,t),t.tag=1,Mt(r)?(e=!0,Uo(t)):e=!1,oi(t,n),Jp(t,r,i),ic(t,r,i,n),ac(null,t,r,!0,e,n);case 19:return a0(e,t,n);case 22:return r0(e,t,n)}throw Error(_e(156,t.tag))};function _0(e,t){return Xh(e,t)}function Yy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,n,r){return new Yy(e,t,n,r)}function Cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gy(e){if(typeof e=="function")return Cu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yc)return 11;if(e===Gc)return 14}return 2}function tr(e,t){var n=e.alternate;return n===null?(n=Zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zo(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Cu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wr:return kr(n.children,i,s,t);case Zc:o=8,i|=8;break;case Cl:return e=Zt(12,n,t,i|2),e.elementType=Cl,e.lanes=s,e;case jl:return e=Zt(13,n,t,i),e.elementType=jl,e.lanes=s,e;case Dl:return e=Zt(19,n,t,i),e.elementType=Dl,e.lanes=s,e;case Mh:return _a(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Th:o=10;break e;case Ih:o=9;break e;case Yc:o=11;break e;case Gc:o=14;break e;case $n:o=16,r=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=Zt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function kr(e,t,n,r){return e=Zt(7,e,r,t),e.lanes=n,e}function _a(e,t,n,r){return e=Zt(22,e,r,t),e.elementType=Mh,e.lanes=n,e.stateNode={isHidden:!1},e}function fl(e,t,n){return e=Zt(6,e,null,t),e.lanes=n,e}function hl(e,t,n){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ky(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ya(0),this.expirationTimes=Ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ju(e,t,n,r,i,s,o,a,l){return e=new Ky(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Zt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fu(s),e}function Xy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function N0(e){if(!e)return ir;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var n=e.type;if(Mt(n))return Np(e,n,t)}return t}function S0(e,t,n,r,i,s,o,a,l){return e=ju(n,r,!0,e,i,s,o,a,l),e.context=N0(null),n=e.current,r=St(),i=er(n),s=Nn(r,i),s.callback=t??null,Qn(n,s,i),e.current.lanes=i,Ts(e,i,r),At(e,r),e}function Na(e,t,n,r){var i=t.current,s=St(),o=er(i);return n=N0(n),t.context===null?t.context=n:t.pendingContext=n,t=Nn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qn(i,t,o),e!==null&&(an(e,i,o,s),wo(e,i,o)),o}function ta(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ff(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Du(e,t){ff(e,t),(e=e.alternate)&&ff(e,t)}function qy(){return null}var z0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tu(e){this._internalRoot=e}Sa.prototype.render=Tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));Na(e,t,null,null)};Sa.prototype.unmount=Tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jr(function(){Na(null,e,null,null)}),t[jn]=null}};function Sa(e){this._internalRoot=e}Sa.prototype.unstable_scheduleHydration=function(e){if(e){var t=rp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hn.length&&t!==0&&t<Hn[n].priority;n++);Hn.splice(n,0,e),n===0&&sp(e)}};function Iu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hf(){}function Qy(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ta(o);s.call(u)}}var o=S0(t,r,e,0,null,!1,!1,"",hf);return e._reactRootContainer=o,e[jn]=o.current,cs(e.nodeType===8?e.parentNode:e),jr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ta(l);a.call(u)}}var l=ju(e,0,!1,null,null,!1,!1,"",hf);return e._reactRootContainer=l,e[jn]=l.current,cs(e.nodeType===8?e.parentNode:e),jr(function(){Na(t,l,n,r)}),l}function Ea(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ta(o);a.call(l)}}Na(t,o,e,i)}else o=Qy(n,t,e,i,r);return ta(o)}tp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Bi(t.pendingLanes);n!==0&&(qc(t,n|1),At(t,ot()),!(He&6)&&(xi=ot()+500,lr()))}break;case 13:jr(function(){var r=Dn(e,1);if(r!==null){var i=St();an(r,e,1,i)}}),Du(e,1)}};Qc=function(e){if(e.tag===13){var t=Dn(e,134217728);if(t!==null){var n=St();an(t,e,134217728,n)}Du(e,134217728)}};np=function(e){if(e.tag===13){var t=er(e),n=Dn(e,t);if(n!==null){var r=St();an(n,e,t,r)}Du(e,t)}};rp=function(){return We};ip=function(e,t){var n=We;try{return We=e,t()}finally{We=n}};Fl=function(e,t,n){switch(t){case"input":if(Ml(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xa(r);if(!i)throw Error(_e(90));Ph(r),Ml(r,i)}}}break;case"textarea":Lh(e,n);break;case"select":t=n.value,t!=null&&ni(e,!!n.multiple,t,!1)}};Wh=Su;Vh=jr;var Jy={usingClientEntryPoint:!1,Events:[Ms,Gr,xa,Uh,Hh,Su]},Mi={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e1={bundleType:Mi.bundleType,version:Mi.version,rendererPackageName:Mi.rendererPackageName,rendererConfig:Mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gh(e),e===null?null:e.stateNode},findFiberByHostInstance:Mi.findFiberByHostInstance||qy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{ha=ro.inject(e1),hn=ro}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jy;Ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iu(t))throw Error(_e(200));return Xy(e,t,null,n)};Ft.createRoot=function(e,t){if(!Iu(e))throw Error(_e(299));var n=!1,r="",i=z0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ju(e,1,!1,null,null,n,!1,r,i),e[jn]=t.current,cs(e.nodeType===8?e.parentNode:e),new Tu(t)};Ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=Gh(t),e=e===null?null:e.stateNode,e};Ft.flushSync=function(e){return jr(e)};Ft.hydrate=function(e,t,n){if(!za(t))throw Error(_e(200));return Ea(null,e,t,!0,n)};Ft.hydrateRoot=function(e,t,n){if(!Iu(e))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=z0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=S0(t,null,e,1,n??null,i,!1,s,o),e[jn]=t.current,cs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Sa(t)};Ft.render=function(e,t,n){if(!za(t))throw Error(_e(200));return Ea(null,e,t,!1,n)};Ft.unmountComponentAtNode=function(e){if(!za(e))throw Error(_e(40));return e._reactRootContainer?(jr(function(){Ea(null,null,e,!1,function(){e._reactRootContainer=null,e[jn]=null})}),!0):!1};Ft.unstable_batchedUpdates=Su;Ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!za(n))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return Ea(e,t,n,!1,r)};Ft.version="18.3.1-next-f1338f8080-20240426";function E0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E0)}catch(e){console.error(e)}}E0(),Eh.exports=Ft;var t1=Eh.exports,pf=t1;zl.createRoot=pf.createRoot,zl.hydrateRoot=pf.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ze=(e,t)=>{const n=T.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>T.createElement("svg",{ref:d,...n1,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${r1(e)}`,a].join(" "),...u},[...t.map(([m,y])=>T.createElement(m,y)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ze("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=ze("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=ze("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=ze("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=ze("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=ze("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=ze("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=ze("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=ze("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=ze("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=ze("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=ze("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=ze("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=ze("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=ze("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=ze("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=ze("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=ze("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ze("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=ze("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=ze("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=ze("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=ze("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=ze("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=ze("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=ze("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=ze("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=ze("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=ze("Import",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=ze("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=ze("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ze("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=ze("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=ze("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ze("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=ze("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=ze("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=ze("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=ze("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=ze("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=ze("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ze("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=ze("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=ze("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=ze("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=ze("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=ze("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=ze("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=ze("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=ze("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=ze("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=ze("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=ze("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=ze("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=ze("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=ze("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=ze("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=ze("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function io(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var A0={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(u,d){if(!i[u]){if(!r[u]){var m=typeof io=="function"&&io;if(!d&&m)return m(u,!0);if(a)return a(u,!0);var y=new Error("Cannot find module '"+u+"'");throw y.code="MODULE_NOT_FOUND",y}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(v){var g=r[u][1][v];return o(g||v)},h,h.exports,n,r,i,s)}return i[u].exports}for(var a=typeof io=="function"&&io,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,d,m,y,h,v,g,w=[],f=0,x=l.length,k=x,_=s.getTypeOf(l)!=="string";f<l.length;)k=x-f,m=_?(u=l[f++],d=f<x?l[f++]:0,f<x?l[f++]:0):(u=l.charCodeAt(f++),d=f<x?l.charCodeAt(f++):0,f<x?l.charCodeAt(f++):0),y=u>>2,h=(3&u)<<4|d>>4,v=1<k?(15&d)<<2|m>>6:64,g=2<k?63&m:64,w.push(a.charAt(y)+a.charAt(h)+a.charAt(v)+a.charAt(g));return w.join("")},i.decode=function(l){var u,d,m,y,h,v,g=0,w=0,f="data:";if(l.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var x,k=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&k--,l.charAt(l.length-2)===a.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=o.uint8array?new Uint8Array(0|k):new Array(0|k);g<l.length;)u=a.indexOf(l.charAt(g++))<<2|(y=a.indexOf(l.charAt(g++)))>>4,d=(15&y)<<4|(h=a.indexOf(l.charAt(g++)))>>2,m=(3&h)<<6|(v=a.indexOf(l.charAt(g++))),x[w++]=u,h!==64&&(x[w++]=d),v!==64&&(x[w++]=m);return x}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(d,m,y,h,v){this.compressedSize=d,this.uncompressedSize=m,this.crc32=y,this.compression=h,this.compressedContent=v}u.prototype={getContentWorker:function(){var d=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),m=this;return d.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,m,y){return d.pipe(new a).pipe(new l("uncompressedSize")).pipe(m.compressWorker(y)).pipe(new l("compressedSize")).withStreamInfo("compression",m)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,d,m,y){var h=o,v=y+m;u^=-1;for(var g=y;g<v;g++)u=u>>>8^h[255&(u^d[g])];return-1^u}(0|l,a,a.length,0):function(u,d,m,y){var h=o,v=y+m;u^=-1;for(var g=y;g<v;g++)u=u>>>8^h[255&(u^d.charCodeAt(g))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=s?"uint8array":"array";function d(m,y){l.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=y,this.meta={}}i.magic="\b\0",a.inherits(d,l),d.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,m.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(y){m.push({data:y,meta:m.meta})}},i.compressWorker=function(m){return new d("Deflate",m)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(h,v){var g,w="";for(g=0;g<v;g++)w+=String.fromCharCode(255&h),h>>>=8;return w}function o(h,v,g,w,f,x){var k,_,N=h.file,z=h.compression,E=x!==u.utf8encode,P=a.transformTo("string",x(N.name)),I=a.transformTo("string",u.utf8encode(N.name)),$=N.comment,q=a.transformTo("string",x($)),D=a.transformTo("string",u.utf8encode($)),O=I.length!==N.name.length,p=D.length!==$.length,L="",H="",U="",B=N.dir,j=N.date,V={crc32:0,compressedSize:0,uncompressedSize:0};v&&!g||(V.crc32=h.crc32,V.compressedSize=h.compressedSize,V.uncompressedSize=h.uncompressedSize);var M=0;v&&(M|=8),E||!O&&!p||(M|=2048);var A=0,se=0;B&&(A|=16),f==="UNIX"?(se=798,A|=function(K,fe){var me=K;return K||(me=fe?16893:33204),(65535&me)<<16}(N.unixPermissions,B)):(se=20,A|=function(K){return 63&(K||0)}(N.dosPermissions)),k=j.getUTCHours(),k<<=6,k|=j.getUTCMinutes(),k<<=5,k|=j.getUTCSeconds()/2,_=j.getUTCFullYear()-1980,_<<=4,_|=j.getUTCMonth()+1,_<<=5,_|=j.getUTCDate(),O&&(H=s(1,1)+s(d(P),4)+I,L+="up"+s(H.length,2)+H),p&&(U=s(1,1)+s(d(q),4)+D,L+="uc"+s(U.length,2)+U);var R="";return R+=`
\0`,R+=s(M,2),R+=z.magic,R+=s(k,2),R+=s(_,2),R+=s(V.crc32,4),R+=s(V.compressedSize,4),R+=s(V.uncompressedSize,4),R+=s(P.length,2),R+=s(L.length,2),{fileRecord:m.LOCAL_FILE_HEADER+R+P+L,dirRecord:m.CENTRAL_FILE_HEADER+s(se,2)+R+s(q.length,2)+"\0\0\0\0"+s(A,4)+s(w,4)+P+L+q}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),d=n("../crc32"),m=n("../signature");function y(h,v,g,w){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=g,this.encodeFileName=w,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(y,l),y.prototype.push=function(h){var v=h.meta.percent||0,g=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:g?(v+100*(g-w-1))/g:100}}))},y.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var v=this.streamFiles&&!h.file.dir;if(v){var g=o(h,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(h){this.accumulate=!1;var v=this.streamFiles&&!h.file.dir,g=o(h,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),v)this.push({data:function(w){return m.DATA_DESCRIPTOR+s(w.crc32,4)+s(w.compressedSize,4)+s(w.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var h=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var g=this.bytesWritten-h,w=function(f,x,k,_,N){var z=a.transformTo("string",N(_));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(f,2)+s(f,2)+s(x,4)+s(k,4)+s(z.length,2)+z}(this.dirRecords.length,g,h,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(h){this._sources.push(h);var v=this;return h.on("data",function(g){v.processChunk(g)}),h.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),h.on("error",function(g){v.error(g)}),this},y.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(h){var v=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var g=0;g<v.length;g++)try{v[g].error(h)}catch{}return!0},y.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,v=0;v<h.length;v++)h[v].lock()},r.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,l,u){var d=new o(l.streamFiles,u,l.platform,l.encodeFileName),m=0;try{a.forEach(function(y,h){m++;var v=function(x,k){var _=x||k,N=s[_];if(!N)throw new Error(_+" is not a valid compression method !");return N}(h.options.compression,l.compression),g=h.options.compressionOptions||l.compressionOptions||{},w=h.dir,f=h.date;h._compressWorker(v,g).withStreamInfo("file",{name:y,dir:w,date:f,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(d)}),d.entriesCount=m}catch(y){d.error(y)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function m(y){return new o.Promise(function(h,v){var g=y.decompressed.getContentWorker().pipe(new u);g.on("error",function(w){v(w)}).on("end",function(){g.streamInfo.crc32!==y.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(y,h){var v=this;return h=s.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),d.isNode&&d.isStream(y)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",y,!0,h.optimizedBinaryString,h.base64).then(function(g){var w=new l(h);return w.load(g),w}).then(function(g){var w=[o.Promise.resolve(g)],f=g.files;if(h.checkCRC32)for(var x=0;x<f.length;x++)w.push(m(f[x]));return o.Promise.all(w)}).then(function(g){for(var w=g.shift(),f=w.files,x=0;x<f.length;x++){var k=f[x],_=k.fileNameStr,N=s.resolve(k.fileNameStr);v.file(N,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:h.createFolders}),k.dir||(v.file(N).unsafeOriginalName=_)}return w.zipComment.length&&(v.comment=w.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var d=this;a.on("data",function(m,y){d.push(m)||d._helper.pause(),u&&u(y)}).on("error",function(m){d.emit("error",m)}).on("end",function(){d.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(N,z,E){var P,I=a.getTypeOf(z),$=a.extend(E||{},d);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(N=f(N)),$.createFolders&&(P=w(N))&&x.call(this,P,!0);var q=I==="string"&&$.binary===!1&&$.base64===!1;E&&E.binary!==void 0||($.binary=!q),(z instanceof m&&z.uncompressedSize===0||$.dir||!z||z.length===0)&&($.base64=!1,$.binary=!0,z="",$.compression="STORE",I="string");var D=null;D=z instanceof m||z instanceof l?z:v.isNode&&v.isStream(z)?new g(N,z):a.prepareContent(N,z,$.binary,$.optimizedBinaryString,$.base64);var O=new y(N,D,$);this.files[N]=O}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),d=n("./defaults"),m=n("./compressedObject"),y=n("./zipObject"),h=n("./generate"),v=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),w=function(N){N.slice(-1)==="/"&&(N=N.substring(0,N.length-1));var z=N.lastIndexOf("/");return 0<z?N.substring(0,z):""},f=function(N){return N.slice(-1)!=="/"&&(N+="/"),N},x=function(N,z){return z=z!==void 0?z:d.createFolders,N=f(N),this.files[N]||s.call(this,N,null,{dir:!0,createFolders:z}),this.files[N]};function k(N){return Object.prototype.toString.call(N)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var z,E,P;for(z in this.files)P=this.files[z],(E=z.slice(this.root.length,z.length))&&z.slice(0,this.root.length)===this.root&&N(E,P)},filter:function(N){var z=[];return this.forEach(function(E,P){N(E,P)&&z.push(P)}),z},file:function(N,z,E){if(arguments.length!==1)return N=this.root+N,s.call(this,N,z,E),this;if(k(N)){var P=N;return this.filter(function($,q){return!q.dir&&P.test($)})}var I=this.files[this.root+N];return I&&!I.dir?I:null},folder:function(N){if(!N)return this;if(k(N))return this.filter(function(I,$){return $.dir&&N.test(I)});var z=this.root+N,E=x.call(this,z),P=this.clone();return P.root=E.name,P},remove:function(N){N=this.root+N;var z=this.files[N];if(z||(N.slice(-1)!=="/"&&(N+="/"),z=this.files[N]),z&&!z.dir)delete this.files[N];else for(var E=this.filter(function(I,$){return $.name.slice(0,N.length)===N}),P=0;P<E.length;P++)delete this.files[E[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var z,E={};try{if((E=a.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");a.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var P=E.comment||this.comment||"";z=h.generateWorker(this,E,P)}catch(I){(z=new l("error")).error(I)}return new u(z,E.type||"string",E.mimeType)},generateAsync:function(N,z){return this.generateInternalStream(N).accumulate(z)},generateNodeStream:function(N,z){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(z)}};r.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),d=a.charCodeAt(2),m=a.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===l&&this.data[y+1]===u&&this.data[y+2]===d&&this.data[y+3]===m)return y-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),d=a.charCodeAt(2),m=a.charCodeAt(3),y=this.readData(4);return l===y[0]&&u===y[1]&&d===y[2]&&m===y[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(m){var y=s.getTypeOf(m);return s.checkSupport(y),y!=="string"||o.uint8array?y==="nodebuffer"?new u(m):o.uint8array?new d(s.transformTo("uint8array",m)):new a(s.transformTo("array",m)):new l(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=s.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),d=n("../external"),m=null;if(u.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(v,g){return new d.Promise(function(w,f){var x=[],k=v._internalType,_=v._outputType,N=v._mimeType;v.on("data",function(z,E){x.push(z),g&&g(E)}).on("error",function(z){x=[],f(z)}).on("end",function(){try{var z=function(E,P,I){switch(E){case"blob":return s.newBlob(s.transformTo("arraybuffer",P),I);case"base64":return l.encode(P);default:return s.transformTo(E,P)}}(_,function(E,P){var I,$=0,q=null,D=0;for(I=0;I<P.length;I++)D+=P[I].length;switch(E){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(q=new Uint8Array(D),I=0;I<P.length;I++)q.set(P[I],$),$+=P[I].length;return q;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+E+"'")}}(k,x),N);w(z)}catch(E){f(E)}x=[]}).resume()})}function h(v,g,w){var f=g;switch(g){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=g,this._mimeType=w,s.checkSupport(f),this._worker=v.pipe(new o(f)),v.lock()}catch(x){this._worker=new a("error"),this._worker.error(x)}}h.prototype={accumulate:function(v){return y(this,v)},on:function(v,g){var w=this;return v==="data"?this._worker.on(v,function(f){g.call(w,f.data,f.meta)}):this._worker.on(v,function(){s.delay(g,arguments,w)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function m(){l.call(this,"utf-8 decode"),this.leftOver=null}function y(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return o.nodebuffer?a.newBufferFrom(h,"utf-8"):function(v){var g,w,f,x,k,_=v.length,N=0;for(x=0;x<_;x++)(64512&(w=v.charCodeAt(x)))==55296&&x+1<_&&(64512&(f=v.charCodeAt(x+1)))==56320&&(w=65536+(w-55296<<10)+(f-56320),x++),N+=w<128?1:w<2048?2:w<65536?3:4;for(g=o.uint8array?new Uint8Array(N):new Array(N),x=k=0;k<N;x++)(64512&(w=v.charCodeAt(x)))==55296&&x+1<_&&(64512&(f=v.charCodeAt(x+1)))==56320&&(w=65536+(w-55296<<10)+(f-56320),x++),w<128?g[k++]=w:(w<2048?g[k++]=192|w>>>6:(w<65536?g[k++]=224|w>>>12:(g[k++]=240|w>>>18,g[k++]=128|w>>>12&63),g[k++]=128|w>>>6&63),g[k++]=128|63&w);return g}(h)},i.utf8decode=function(h){return o.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):function(v){var g,w,f,x,k=v.length,_=new Array(2*k);for(g=w=0;g<k;)if((f=v[g++])<128)_[w++]=f;else if(4<(x=u[f]))_[w++]=65533,g+=x-1;else{for(f&=x===2?31:x===3?15:7;1<x&&g<k;)f=f<<6|63&v[g++],x--;1<x?_[w++]=65533:f<65536?_[w++]=f:(f-=65536,_[w++]=55296|f>>10&1023,_[w++]=56320|1023&f)}return _.length!==w&&(_.subarray?_=_.subarray(0,w):_.length=w),s.applyFromCharCode(_)}(h=s.transformTo(o.uint8array?"uint8array":"array",h))},s.inherits(m,l),m.prototype.processChunk=function(h){var v=s.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var g=v;(v=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),v.set(g,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var w=function(x,k){var _;for((k=k||x.length)>x.length&&(k=x.length),_=k-1;0<=_&&(192&x[_])==128;)_--;return _<0||_===0?k:_+u[x[_]]>k?_:k}(v),f=v;w!==v.length&&(o.uint8array?(f=v.subarray(0,w),this.leftOver=v.subarray(w,v.length)):(f=v.slice(0,w),this.leftOver=v.slice(w,v.length))),this.push({data:i.utf8decode(f),meta:h.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,s.inherits(y,l),y.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(g){return g}function d(g,w){for(var f=0;f<g.length;++f)w[f]=255&g.charCodeAt(f);return w}n("setimmediate"),i.newBlob=function(g,w){i.checkSupport("blob");try{return new Blob([g],{type:w})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(g),f.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(g,w,f){var x=[],k=0,_=g.length;if(_<=f)return String.fromCharCode.apply(null,g);for(;k<_;)w==="array"||w==="nodebuffer"?x.push(String.fromCharCode.apply(null,g.slice(k,Math.min(k+f,_)))):x.push(String.fromCharCode.apply(null,g.subarray(k,Math.min(k+f,_)))),k+=f;return x.join("")},stringifyByChar:function(g){for(var w="",f=0;f<g.length;f++)w+=String.fromCharCode(g[f]);return w},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function y(g){var w=65536,f=i.getTypeOf(g),x=!0;if(f==="uint8array"?x=m.applyCanBeUsed.uint8array:f==="nodebuffer"&&(x=m.applyCanBeUsed.nodebuffer),x)for(;1<w;)try{return m.stringifyByChunk(g,f,w)}catch{w=Math.floor(w/2)}return m.stringifyByChar(g)}function h(g,w){for(var f=0;f<g.length;f++)w[f]=g[f];return w}i.applyFromCharCode=y;var v={};v.string={string:u,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return v.string.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:function(g){return d(g,a.allocBuffer(g.length))}},v.array={string:y,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(g)}},v.arraybuffer={string:function(g){return y(new Uint8Array(g))},array:function(g){return h(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(new Uint8Array(g))}},v.uint8array={string:y,array:function(g){return h(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return a.newBufferFrom(g)}},v.nodebuffer={string:y,array:function(g){return h(g,new Array(g.length))},arraybuffer:function(g){return v.nodebuffer.uint8array(g).buffer},uint8array:function(g){return h(g,new Uint8Array(g.length))},nodebuffer:u},i.transformTo=function(g,w){if(w=w||"",!g)return w;i.checkSupport(g);var f=i.getTypeOf(w);return v[f][g](w)},i.resolve=function(g){for(var w=g.split("/"),f=[],x=0;x<w.length;x++){var k=w[x];k==="."||k===""&&x!==0&&x!==w.length-1||(k===".."?f.pop():f.push(k))}return f.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var w,f,x="";for(f=0;f<(g||"").length;f++)x+="\\x"+((w=g.charCodeAt(f))<16?"0":"")+w.toString(16).toUpperCase();return x},i.delay=function(g,w,f){setImmediate(function(){g.apply(f||null,w||[])})},i.inherits=function(g,w){function f(){}f.prototype=w.prototype,g.prototype=new f},i.extend=function(){var g,w,f={};for(g=0;g<arguments.length;g++)for(w in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],w)&&f[w]===void 0&&(f[w]=arguments[g][w]);return f},i.prepareContent=function(g,w,f,x,k){return l.Promise.resolve(w).then(function(_){return s.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new l.Promise(function(N,z){var E=new FileReader;E.onload=function(P){N(P.target.result)},E.onerror=function(P){z(P.target.error)},E.readAsArrayBuffer(_)}):_}).then(function(_){var N=i.getTypeOf(_);return N?(N==="arraybuffer"?_=i.transformTo("uint8array",_):N==="string"&&(k?_=o.decode(_):f&&x!==!0&&(_=function(z){return d(z,s.uint8array?new Uint8Array(z.length):new Array(z.length))}(_))),_):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function d(m){this.files=[],this.loadOptions=m}d.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(y)+", expected "+o.pretty(m)+")")}},isSignature:function(m,y){var h=this.reader.index;this.reader.setIndex(m);var v=this.reader.readString(4)===y;return this.reader.setIndex(h),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),y=u.uint8array?"uint8array":"array",h=o.transformTo(y,m);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,y,h,v=this.zip64EndOfCentralSize-44;0<v;)m=this.reader.readInt(2),y=this.reader.readInt(4),h=this.reader.readData(y),this.zip64ExtensibleData[m]={id:m,length:y,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,y;for(m=0;m<this.files.length;m++)y=this.files[m],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(m=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var y=m;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var v=y-h;if(0<v)this.isSignature(y,a.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(m){this.reader=s(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),d=n("./compressions"),m=n("./support");function y(h,v){this.options=h,this.loadOptions=v}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var v,g;if(h.skip(22),this.fileNameLength=h.readInt(2),g=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(w){for(var f in d)if(Object.prototype.hasOwnProperty.call(d,f)&&d[f].magic===w)return d[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,v,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var v=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(v),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var v,g,w,f=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<f;)v=h.readInt(2),g=h.readInt(2),w=h.readData(g),this.extraFields[v]={id:v,length:g,value:w};h.setIndex(f)},handleUTF8:function(){var h=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var g=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var f=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var v=s(h.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var v=s(h.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(h.length-5))}return null}},r.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(v,g,w){this.name=v,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=g,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),d=n("./stream/GenericWorker");s.prototype={internalStream:function(v){var g=null,w="string";try{if(!v)throw new Error("No output type specified.");var f=(w=v.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),g=this._decompressWorker();var x=!this._dataBinary;x&&!f&&(g=g.pipe(new l.Utf8EncodeWorker)),!x&&f&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(k){(g=new d("error")).error(k)}return new o(g,w,"")},async:function(v,g){return this.internalStream(v).accumulate(g)},nodeStream:function(v,g){return this.internalStream(v||"nodebuffer").toNodejsStream(g)},_compressWorker:function(v,g){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(w,v,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new a(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<m.length;h++)s.prototype[m[h]]=y;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,d=new l(v),m=s.document.createTextNode("");d.observe(m,{characterData:!0}),o=function(){m.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){v(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(v,0)};else{var y=new s.MessageChannel;y.port1.onmessage=v,o=function(){y.port2.postMessage(0)}}var h=[];function v(){var g,w;a=!0;for(var f=h.length;f;){for(w=h,h=[],g=-1;++g<f;)w[g]();f=h.length}a=!1}r.exports=function(g){h.push(g)!==1||a||o()}}).call(this,typeof Fs<"u"?Fs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function m(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,f!==o&&g(this,f)}function y(f,x,k){this.promise=f,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function h(f,x,k){s(function(){var _;try{_=x(k)}catch(N){return a.reject(f,N)}_===f?a.reject(f,new TypeError("Cannot resolve promise with itself")):a.resolve(f,_)})}function v(f){var x=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof x=="function")return function(){x.apply(f,arguments)}}function g(f,x){var k=!1;function _(E){k||(k=!0,a.reject(f,E))}function N(E){k||(k=!0,a.resolve(f,E))}var z=w(function(){x(N,_)});z.status==="error"&&_(z.value)}function w(f,x){var k={};try{k.value=f(x),k.status="success"}catch(_){k.status="error",k.value=_}return k}(r.exports=m).prototype.finally=function(f){if(typeof f!="function")return this;var x=this.constructor;return this.then(function(k){return x.resolve(f()).then(function(){return k})},function(k){return x.resolve(f()).then(function(){throw k})})},m.prototype.catch=function(f){return this.then(null,f)},m.prototype.then=function(f,x){if(typeof f!="function"&&this.state===u||typeof x!="function"&&this.state===l)return this;var k=new this.constructor(o);return this.state!==d?h(k,this.state===u?f:x,this.outcome):this.queue.push(new y(k,f,x)),k},y.prototype.callFulfilled=function(f){a.resolve(this.promise,f)},y.prototype.otherCallFulfilled=function(f){h(this.promise,this.onFulfilled,f)},y.prototype.callRejected=function(f){a.reject(this.promise,f)},y.prototype.otherCallRejected=function(f){h(this.promise,this.onRejected,f)},a.resolve=function(f,x){var k=w(v,x);if(k.status==="error")return a.reject(f,k.value);var _=k.value;if(_)g(f,_);else{f.state=u,f.outcome=x;for(var N=-1,z=f.queue.length;++N<z;)f.queue[N].callFulfilled(x)}return f},a.reject=function(f,x){f.state=l,f.outcome=x;for(var k=-1,_=f.queue.length;++k<_;)f.queue[k].callRejected(x);return f},m.resolve=function(f){return f instanceof this?f:a.resolve(new this(o),f)},m.reject=function(f){var x=new this(o);return a.reject(x,f)},m.all=function(f){var x=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=f.length,_=!1;if(!k)return this.resolve([]);for(var N=new Array(k),z=0,E=-1,P=new this(o);++E<k;)I(f[E],E);return P;function I($,q){x.resolve($).then(function(D){N[q]=D,++z!==k||_||(_=!0,a.resolve(P,N))},function(D){_||(_=!0,a.reject(P,D))})}},m.race=function(f){var x=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=f.length,_=!1;if(!k)return this.resolve([]);for(var N=-1,z=new this(o);++N<k;)E=f[N],x.resolve(E).then(function(P){_||(_=!0,a.resolve(z,P))},function(P){_||(_=!0,a.reject(z,P))});var E;return z}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),d=Object.prototype.toString,m=0,y=-1,h=0,v=8;function g(f){if(!(this instanceof g))return new g(f);this.options=o.assign({level:y,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},f||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var k=s.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(k!==m)throw new Error(l[k]);if(x.header&&s.deflateSetHeader(this.strm,x.header),x.dictionary){var _;if(_=typeof x.dictionary=="string"?a.string2buf(x.dictionary):d.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(k=s.deflateSetDictionary(this.strm,_))!==m)throw new Error(l[k]);this._dict_set=!0}}function w(f,x){var k=new g(x);if(k.push(f,!0),k.err)throw k.msg||l[k.err];return k.result}g.prototype.push=function(f,x){var k,_,N=this.strm,z=this.options.chunkSize;if(this.ended)return!1;_=x===~~x?x:x===!0?4:0,typeof f=="string"?N.input=a.string2buf(f):d.call(f)==="[object ArrayBuffer]"?N.input=new Uint8Array(f):N.input=f,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new o.Buf8(z),N.next_out=0,N.avail_out=z),(k=s.deflate(N,_))!==1&&k!==m)return this.onEnd(k),!(this.ended=!0);N.avail_out!==0&&(N.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(N.output,N.next_out))):this.onData(o.shrinkBuf(N.output,N.next_out)))}while((0<N.avail_in||N.avail_out===0)&&k!==1);return _===4?(k=s.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===m):_!==2||(this.onEnd(m),!(N.avail_out=0))},g.prototype.onData=function(f){this.chunks.push(f)},g.prototype.onEnd=function(f){f===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},i.Deflate=g,i.deflate=w,i.deflateRaw=function(f,x){return(x=x||{}).raw=!0,w(f,x)},i.gzip=function(f,x){return(x=x||{}).gzip=!0,w(f,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),d=n("./zlib/zstream"),m=n("./zlib/gzheader"),y=Object.prototype.toString;function h(g){if(!(this instanceof h))return new h(g);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},g||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||g&&g.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var f=s.inflateInit2(this.strm,w.windowBits);if(f!==l.Z_OK)throw new Error(u[f]);this.header=new m,s.inflateGetHeader(this.strm,this.header)}function v(g,w){var f=new h(w);if(f.push(g,!0),f.err)throw f.msg||u[f.err];return f.result}h.prototype.push=function(g,w){var f,x,k,_,N,z,E=this.strm,P=this.options.chunkSize,I=this.options.dictionary,$=!1;if(this.ended)return!1;x=w===~~w?w:w===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?E.input=a.binstring2buf(g):y.call(g)==="[object ArrayBuffer]"?E.input=new Uint8Array(g):E.input=g,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(P),E.next_out=0,E.avail_out=P),(f=s.inflate(E,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&I&&(z=typeof I=="string"?a.string2buf(I):y.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,f=s.inflateSetDictionary(this.strm,z)),f===l.Z_BUF_ERROR&&$===!0&&(f=l.Z_OK,$=!1),f!==l.Z_STREAM_END&&f!==l.Z_OK)return this.onEnd(f),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&f!==l.Z_STREAM_END&&(E.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=a.utf8border(E.output,E.next_out),_=E.next_out-k,N=a.buf2string(E.output,k),E.next_out=_,E.avail_out=P-_,_&&o.arraySet(E.output,E.output,k,_,0),this.onData(N)):this.onData(o.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&($=!0)}while((0<E.avail_in||E.avail_out===0)&&f!==l.Z_STREAM_END);return f===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(f=s.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(E.avail_out=0))},h.prototype.onData=function(g){this.chunks.push(g)},h.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=h,i.inflate=v,i.inflateRaw=function(g,w){return(w=w||{}).raw=!0,v(g,w)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var m in d)d.hasOwnProperty(m)&&(l[m]=d[m])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,d,m,y){if(u.subarray&&l.subarray)l.set(u.subarray(d,d+m),y);else for(var h=0;h<m;h++)l[y+h]=u[d+h]},flattenChunks:function(l){var u,d,m,y,h,v;for(u=m=0,d=l.length;u<d;u++)m+=l[u].length;for(v=new Uint8Array(m),u=y=0,d=l.length;u<d;u++)h=l[u],v.set(h,y),y+=h.length;return v}},a={arraySet:function(l,u,d,m,y){for(var h=0;h<m;h++)l[y+h]=u[d+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(m,y){if(y<65537&&(m.subarray&&a||!m.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(m,y));for(var h="",v=0;v<y;v++)h+=String.fromCharCode(m[v]);return h}l[254]=l[254]=1,i.string2buf=function(m){var y,h,v,g,w,f=m.length,x=0;for(g=0;g<f;g++)(64512&(h=m.charCodeAt(g)))==55296&&g+1<f&&(64512&(v=m.charCodeAt(g+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),g++),x+=h<128?1:h<2048?2:h<65536?3:4;for(y=new s.Buf8(x),g=w=0;w<x;g++)(64512&(h=m.charCodeAt(g)))==55296&&g+1<f&&(64512&(v=m.charCodeAt(g+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),g++),h<128?y[w++]=h:(h<2048?y[w++]=192|h>>>6:(h<65536?y[w++]=224|h>>>12:(y[w++]=240|h>>>18,y[w++]=128|h>>>12&63),y[w++]=128|h>>>6&63),y[w++]=128|63&h);return y},i.buf2binstring=function(m){return d(m,m.length)},i.binstring2buf=function(m){for(var y=new s.Buf8(m.length),h=0,v=y.length;h<v;h++)y[h]=m.charCodeAt(h);return y},i.buf2string=function(m,y){var h,v,g,w,f=y||m.length,x=new Array(2*f);for(h=v=0;h<f;)if((g=m[h++])<128)x[v++]=g;else if(4<(w=l[g]))x[v++]=65533,h+=w-1;else{for(g&=w===2?31:w===3?15:7;1<w&&h<f;)g=g<<6|63&m[h++],w--;1<w?x[v++]=65533:g<65536?x[v++]=g:(g-=65536,x[v++]=55296|g>>10&1023,x[v++]=56320|1023&g)}return d(x,v)},i.utf8border=function(m,y){var h;for((y=y||m.length)>m.length&&(y=m.length),h=y-1;0<=h&&(192&m[h])==128;)h--;return h<0||h===0?y:h+l[m[h]]>y?h:y}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,a,l){for(var u=65535&s|0,d=s>>>16&65535|0,m=0;a!==0;){for(a-=m=2e3<a?2e3:a;d=d+(u=u+o[l++]|0)|0,--m;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,u){var d=s,m=u+l;o^=-1;for(var y=u;y<m;y++)o=o>>>8^d[255&(o^a[y])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),d=n("./messages"),m=0,y=4,h=0,v=-2,g=-1,w=4,f=2,x=8,k=9,_=286,N=30,z=19,E=2*_+1,P=15,I=3,$=258,q=$+I+1,D=42,O=113,p=1,L=2,H=3,U=4;function B(b,ne){return b.msg=d[ne],ne}function j(b){return(b<<1)-(4<b?9:0)}function V(b){for(var ne=b.length;0<=--ne;)b[ne]=0}function M(b){var ne=b.state,J=ne.pending;J>b.avail_out&&(J=b.avail_out),J!==0&&(o.arraySet(b.output,ne.pending_buf,ne.pending_out,J,b.next_out),b.next_out+=J,ne.pending_out+=J,b.total_out+=J,b.avail_out-=J,ne.pending-=J,ne.pending===0&&(ne.pending_out=0))}function A(b,ne){a._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,ne),b.block_start=b.strstart,M(b.strm)}function se(b,ne){b.pending_buf[b.pending++]=ne}function R(b,ne){b.pending_buf[b.pending++]=ne>>>8&255,b.pending_buf[b.pending++]=255&ne}function K(b,ne){var J,C,S=b.max_chain_length,Y=b.strstart,le=b.prev_length,X=b.nice_match,W=b.strstart>b.w_size-q?b.strstart-(b.w_size-q):0,ae=b.window,ue=b.w_mask,de=b.prev,Ee=b.strstart+$,Pe=ae[Y+le-1],Te=ae[Y+le];b.prev_length>=b.good_match&&(S>>=2),X>b.lookahead&&(X=b.lookahead);do if(ae[(J=ne)+le]===Te&&ae[J+le-1]===Pe&&ae[J]===ae[Y]&&ae[++J]===ae[Y+1]){Y+=2,J++;do;while(ae[++Y]===ae[++J]&&ae[++Y]===ae[++J]&&ae[++Y]===ae[++J]&&ae[++Y]===ae[++J]&&ae[++Y]===ae[++J]&&ae[++Y]===ae[++J]&&ae[++Y]===ae[++J]&&ae[++Y]===ae[++J]&&Y<Ee);if(C=$-(Ee-Y),Y=Ee-$,le<C){if(b.match_start=ne,X<=(le=C))break;Pe=ae[Y+le-1],Te=ae[Y+le]}}while((ne=de[ne&ue])>W&&--S!=0);return le<=b.lookahead?le:b.lookahead}function fe(b){var ne,J,C,S,Y,le,X,W,ae,ue,de=b.w_size;do{if(S=b.window_size-b.lookahead-b.strstart,b.strstart>=de+(de-q)){for(o.arraySet(b.window,b.window,de,de,0),b.match_start-=de,b.strstart-=de,b.block_start-=de,ne=J=b.hash_size;C=b.head[--ne],b.head[ne]=de<=C?C-de:0,--J;);for(ne=J=de;C=b.prev[--ne],b.prev[ne]=de<=C?C-de:0,--J;);S+=de}if(b.strm.avail_in===0)break;if(le=b.strm,X=b.window,W=b.strstart+b.lookahead,ae=S,ue=void 0,ue=le.avail_in,ae<ue&&(ue=ae),J=ue===0?0:(le.avail_in-=ue,o.arraySet(X,le.input,le.next_in,ue,W),le.state.wrap===1?le.adler=l(le.adler,X,ue,W):le.state.wrap===2&&(le.adler=u(le.adler,X,ue,W)),le.next_in+=ue,le.total_in+=ue,ue),b.lookahead+=J,b.lookahead+b.insert>=I)for(Y=b.strstart-b.insert,b.ins_h=b.window[Y],b.ins_h=(b.ins_h<<b.hash_shift^b.window[Y+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[Y+I-1])&b.hash_mask,b.prev[Y&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=Y,Y++,b.insert--,!(b.lookahead+b.insert<I)););}while(b.lookahead<q&&b.strm.avail_in!==0)}function me(b,ne){for(var J,C;;){if(b.lookahead<q){if(fe(b),b.lookahead<q&&ne===m)return p;if(b.lookahead===0)break}if(J=0,b.lookahead>=I&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+I-1])&b.hash_mask,J=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),J!==0&&b.strstart-J<=b.w_size-q&&(b.match_length=K(b,J)),b.match_length>=I)if(C=a._tr_tally(b,b.strstart-b.match_start,b.match_length-I),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=I){for(b.match_length--;b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+I-1])&b.hash_mask,J=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart,--b.match_length!=0;);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else C=a._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(C&&(A(b,!1),b.strm.avail_out===0))return p}return b.insert=b.strstart<I-1?b.strstart:I-1,ne===y?(A(b,!0),b.strm.avail_out===0?H:U):b.last_lit&&(A(b,!1),b.strm.avail_out===0)?p:L}function be(b,ne){for(var J,C,S;;){if(b.lookahead<q){if(fe(b),b.lookahead<q&&ne===m)return p;if(b.lookahead===0)break}if(J=0,b.lookahead>=I&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+I-1])&b.hash_mask,J=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=I-1,J!==0&&b.prev_length<b.max_lazy_match&&b.strstart-J<=b.w_size-q&&(b.match_length=K(b,J),b.match_length<=5&&(b.strategy===1||b.match_length===I&&4096<b.strstart-b.match_start)&&(b.match_length=I-1)),b.prev_length>=I&&b.match_length<=b.prev_length){for(S=b.strstart+b.lookahead-I,C=a._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-I),b.lookahead-=b.prev_length-1,b.prev_length-=2;++b.strstart<=S&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+I-1])&b.hash_mask,J=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),--b.prev_length!=0;);if(b.match_available=0,b.match_length=I-1,b.strstart++,C&&(A(b,!1),b.strm.avail_out===0))return p}else if(b.match_available){if((C=a._tr_tally(b,0,b.window[b.strstart-1]))&&A(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return p}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(C=a._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<I-1?b.strstart:I-1,ne===y?(A(b,!0),b.strm.avail_out===0?H:U):b.last_lit&&(A(b,!1),b.strm.avail_out===0)?p:L}function ve(b,ne,J,C,S){this.good_length=b,this.max_lazy=ne,this.nice_length=J,this.max_chain=C,this.func=S}function te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*E),this.dyn_dtree=new o.Buf16(2*(2*N+1)),this.bl_tree=new o.Buf16(2*(2*z+1)),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(P+1),this.heap=new o.Buf16(2*_+1),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*_+1),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(b){var ne;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=f,(ne=b.state).pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap?D:O,b.adler=ne.wrap===2?0:1,ne.last_flush=m,a._tr_init(ne),h):B(b,v)}function ce(b){var ne=G(b);return ne===h&&function(J){J.window_size=2*J.w_size,V(J.head),J.max_lazy_match=s[J.level].max_lazy,J.good_match=s[J.level].good_length,J.nice_match=s[J.level].nice_length,J.max_chain_length=s[J.level].max_chain,J.strstart=0,J.block_start=0,J.lookahead=0,J.insert=0,J.match_length=J.prev_length=I-1,J.match_available=0,J.ins_h=0}(b.state),ne}function pe(b,ne,J,C,S,Y){if(!b)return v;var le=1;if(ne===g&&(ne=6),C<0?(le=0,C=-C):15<C&&(le=2,C-=16),S<1||k<S||J!==x||C<8||15<C||ne<0||9<ne||Y<0||w<Y)return B(b,v);C===8&&(C=9);var X=new te;return(b.state=X).strm=b,X.wrap=le,X.gzhead=null,X.w_bits=C,X.w_size=1<<X.w_bits,X.w_mask=X.w_size-1,X.hash_bits=S+7,X.hash_size=1<<X.hash_bits,X.hash_mask=X.hash_size-1,X.hash_shift=~~((X.hash_bits+I-1)/I),X.window=new o.Buf8(2*X.w_size),X.head=new o.Buf16(X.hash_size),X.prev=new o.Buf16(X.w_size),X.lit_bufsize=1<<S+6,X.pending_buf_size=4*X.lit_bufsize,X.pending_buf=new o.Buf8(X.pending_buf_size),X.d_buf=1*X.lit_bufsize,X.l_buf=3*X.lit_bufsize,X.level=ne,X.strategy=Y,X.method=J,ce(b)}s=[new ve(0,0,0,0,function(b,ne){var J=65535;for(J>b.pending_buf_size-5&&(J=b.pending_buf_size-5);;){if(b.lookahead<=1){if(fe(b),b.lookahead===0&&ne===m)return p;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;var C=b.block_start+J;if((b.strstart===0||b.strstart>=C)&&(b.lookahead=b.strstart-C,b.strstart=C,A(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-q&&(A(b,!1),b.strm.avail_out===0))return p}return b.insert=0,ne===y?(A(b,!0),b.strm.avail_out===0?H:U):(b.strstart>b.block_start&&(A(b,!1),b.strm.avail_out),p)}),new ve(4,4,8,4,me),new ve(4,5,16,8,me),new ve(4,6,32,32,me),new ve(4,4,16,16,be),new ve(8,16,32,32,be),new ve(8,16,128,128,be),new ve(8,32,128,256,be),new ve(32,128,258,1024,be),new ve(32,258,258,4096,be)],i.deflateInit=function(b,ne){return pe(b,ne,x,15,8,0)},i.deflateInit2=pe,i.deflateReset=ce,i.deflateResetKeep=G,i.deflateSetHeader=function(b,ne){return b&&b.state?b.state.wrap!==2?v:(b.state.gzhead=ne,h):v},i.deflate=function(b,ne){var J,C,S,Y;if(!b||!b.state||5<ne||ne<0)return b?B(b,v):v;if(C=b.state,!b.output||!b.input&&b.avail_in!==0||C.status===666&&ne!==y)return B(b,b.avail_out===0?-5:v);if(C.strm=b,J=C.last_flush,C.last_flush=ne,C.status===D)if(C.wrap===2)b.adler=0,se(C,31),se(C,139),se(C,8),C.gzhead?(se(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),se(C,255&C.gzhead.time),se(C,C.gzhead.time>>8&255),se(C,C.gzhead.time>>16&255),se(C,C.gzhead.time>>24&255),se(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),se(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(se(C,255&C.gzhead.extra.length),se(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(b.adler=u(b.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(se(C,0),se(C,0),se(C,0),se(C,0),se(C,0),se(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),se(C,3),C.status=O);else{var le=x+(C.w_bits-8<<4)<<8;le|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(le|=32),le+=31-le%31,C.status=O,R(C,le),C.strstart!==0&&(R(C,b.adler>>>16),R(C,65535&b.adler)),b.adler=1}if(C.status===69)if(C.gzhead.extra){for(S=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>S&&(b.adler=u(b.adler,C.pending_buf,C.pending-S,S)),M(b),S=C.pending,C.pending!==C.pending_buf_size));)se(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>S&&(b.adler=u(b.adler,C.pending_buf,C.pending-S,S)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){S=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>S&&(b.adler=u(b.adler,C.pending_buf,C.pending-S,S)),M(b),S=C.pending,C.pending===C.pending_buf_size)){Y=1;break}Y=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,se(C,Y)}while(Y!==0);C.gzhead.hcrc&&C.pending>S&&(b.adler=u(b.adler,C.pending_buf,C.pending-S,S)),Y===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){S=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>S&&(b.adler=u(b.adler,C.pending_buf,C.pending-S,S)),M(b),S=C.pending,C.pending===C.pending_buf_size)){Y=1;break}Y=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,se(C,Y)}while(Y!==0);C.gzhead.hcrc&&C.pending>S&&(b.adler=u(b.adler,C.pending_buf,C.pending-S,S)),Y===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&M(b),C.pending+2<=C.pending_buf_size&&(se(C,255&b.adler),se(C,b.adler>>8&255),b.adler=0,C.status=O)):C.status=O),C.pending!==0){if(M(b),b.avail_out===0)return C.last_flush=-1,h}else if(b.avail_in===0&&j(ne)<=j(J)&&ne!==y)return B(b,-5);if(C.status===666&&b.avail_in!==0)return B(b,-5);if(b.avail_in!==0||C.lookahead!==0||ne!==m&&C.status!==666){var X=C.strategy===2?function(W,ae){for(var ue;;){if(W.lookahead===0&&(fe(W),W.lookahead===0)){if(ae===m)return p;break}if(W.match_length=0,ue=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,ue&&(A(W,!1),W.strm.avail_out===0))return p}return W.insert=0,ae===y?(A(W,!0),W.strm.avail_out===0?H:U):W.last_lit&&(A(W,!1),W.strm.avail_out===0)?p:L}(C,ne):C.strategy===3?function(W,ae){for(var ue,de,Ee,Pe,Te=W.window;;){if(W.lookahead<=$){if(fe(W),W.lookahead<=$&&ae===m)return p;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=I&&0<W.strstart&&(de=Te[Ee=W.strstart-1])===Te[++Ee]&&de===Te[++Ee]&&de===Te[++Ee]){Pe=W.strstart+$;do;while(de===Te[++Ee]&&de===Te[++Ee]&&de===Te[++Ee]&&de===Te[++Ee]&&de===Te[++Ee]&&de===Te[++Ee]&&de===Te[++Ee]&&de===Te[++Ee]&&Ee<Pe);W.match_length=$-(Pe-Ee),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=I?(ue=a._tr_tally(W,1,W.match_length-I),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(ue=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),ue&&(A(W,!1),W.strm.avail_out===0))return p}return W.insert=0,ae===y?(A(W,!0),W.strm.avail_out===0?H:U):W.last_lit&&(A(W,!1),W.strm.avail_out===0)?p:L}(C,ne):s[C.level].func(C,ne);if(X!==H&&X!==U||(C.status=666),X===p||X===H)return b.avail_out===0&&(C.last_flush=-1),h;if(X===L&&(ne===1?a._tr_align(C):ne!==5&&(a._tr_stored_block(C,0,0,!1),ne===3&&(V(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),M(b),b.avail_out===0))return C.last_flush=-1,h}return ne!==y?h:C.wrap<=0?1:(C.wrap===2?(se(C,255&b.adler),se(C,b.adler>>8&255),se(C,b.adler>>16&255),se(C,b.adler>>24&255),se(C,255&b.total_in),se(C,b.total_in>>8&255),se(C,b.total_in>>16&255),se(C,b.total_in>>24&255)):(R(C,b.adler>>>16),R(C,65535&b.adler)),M(b),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?h:1)},i.deflateEnd=function(b){var ne;return b&&b.state?(ne=b.state.status)!==D&&ne!==69&&ne!==73&&ne!==91&&ne!==103&&ne!==O&&ne!==666?B(b,v):(b.state=null,ne===O?B(b,-3):h):v},i.deflateSetDictionary=function(b,ne){var J,C,S,Y,le,X,W,ae,ue=ne.length;if(!b||!b.state||(Y=(J=b.state).wrap)===2||Y===1&&J.status!==D||J.lookahead)return v;for(Y===1&&(b.adler=l(b.adler,ne,ue,0)),J.wrap=0,ue>=J.w_size&&(Y===0&&(V(J.head),J.strstart=0,J.block_start=0,J.insert=0),ae=new o.Buf8(J.w_size),o.arraySet(ae,ne,ue-J.w_size,J.w_size,0),ne=ae,ue=J.w_size),le=b.avail_in,X=b.next_in,W=b.input,b.avail_in=ue,b.next_in=0,b.input=ne,fe(J);J.lookahead>=I;){for(C=J.strstart,S=J.lookahead-(I-1);J.ins_h=(J.ins_h<<J.hash_shift^J.window[C+I-1])&J.hash_mask,J.prev[C&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=C,C++,--S;);J.strstart=C,J.lookahead=I-1,fe(J)}return J.strstart+=J.lookahead,J.block_start=J.strstart,J.insert=J.lookahead,J.lookahead=0,J.match_length=J.prev_length=I-1,J.match_available=0,b.next_in=X,b.input=W,b.avail_in=le,J.wrap=Y,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var a,l,u,d,m,y,h,v,g,w,f,x,k,_,N,z,E,P,I,$,q,D,O,p,L;a=s.state,l=s.next_in,p=s.input,u=l+(s.avail_in-5),d=s.next_out,L=s.output,m=d-(o-s.avail_out),y=d+(s.avail_out-257),h=a.dmax,v=a.wsize,g=a.whave,w=a.wnext,f=a.window,x=a.hold,k=a.bits,_=a.lencode,N=a.distcode,z=(1<<a.lenbits)-1,E=(1<<a.distbits)-1;e:do{k<15&&(x+=p[l++]<<k,k+=8,x+=p[l++]<<k,k+=8),P=_[x&z];t:for(;;){if(x>>>=I=P>>>24,k-=I,(I=P>>>16&255)===0)L[d++]=65535&P;else{if(!(16&I)){if(!(64&I)){P=_[(65535&P)+(x&(1<<I)-1)];continue t}if(32&I){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}$=65535&P,(I&=15)&&(k<I&&(x+=p[l++]<<k,k+=8),$+=x&(1<<I)-1,x>>>=I,k-=I),k<15&&(x+=p[l++]<<k,k+=8,x+=p[l++]<<k,k+=8),P=N[x&E];n:for(;;){if(x>>>=I=P>>>24,k-=I,!(16&(I=P>>>16&255))){if(!(64&I)){P=N[(65535&P)+(x&(1<<I)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(q=65535&P,k<(I&=15)&&(x+=p[l++]<<k,(k+=8)<I&&(x+=p[l++]<<k,k+=8)),h<(q+=x&(1<<I)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(x>>>=I,k-=I,(I=d-m)<q){if(g<(I=q-I)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(O=f,(D=0)===w){if(D+=v-I,I<$){for($-=I;L[d++]=f[D++],--I;);D=d-q,O=L}}else if(w<I){if(D+=v+w-I,(I-=w)<$){for($-=I;L[d++]=f[D++],--I;);if(D=0,w<$){for($-=I=w;L[d++]=f[D++],--I;);D=d-q,O=L}}}else if(D+=w-I,I<$){for($-=I;L[d++]=f[D++],--I;);D=d-q,O=L}for(;2<$;)L[d++]=O[D++],L[d++]=O[D++],L[d++]=O[D++],$-=3;$&&(L[d++]=O[D++],1<$&&(L[d++]=O[D++]))}else{for(D=d-q;L[d++]=L[D++],L[d++]=L[D++],L[d++]=L[D++],2<($-=3););$&&(L[d++]=L[D++],1<$&&(L[d++]=L[D++]))}break}}break}}while(l<u&&d<y);l-=$=k>>3,x&=(1<<(k-=$<<3))-1,s.next_in=l,s.next_out=d,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=d<y?y-d+257:257-(d-y),a.hold=x,a.bits=k}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),d=1,m=2,y=0,h=-2,v=1,g=852,w=592;function f(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(D){var O;return D&&D.state?(O=D.state,D.total_in=D.total_out=O.total=0,D.msg="",O.wrap&&(D.adler=1&O.wrap),O.mode=v,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new s.Buf32(g),O.distcode=O.distdyn=new s.Buf32(w),O.sane=1,O.back=-1,y):h}function _(D){var O;return D&&D.state?((O=D.state).wsize=0,O.whave=0,O.wnext=0,k(D)):h}function N(D,O){var p,L;return D&&D.state?(L=D.state,O<0?(p=0,O=-O):(p=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?h:(L.window!==null&&L.wbits!==O&&(L.window=null),L.wrap=p,L.wbits=O,_(D))):h}function z(D,O){var p,L;return D?(L=new x,(D.state=L).window=null,(p=N(D,O))!==y&&(D.state=null),p):h}var E,P,I=!0;function $(D){if(I){var O;for(E=new s.Buf32(512),P=new s.Buf32(32),O=0;O<144;)D.lens[O++]=8;for(;O<256;)D.lens[O++]=9;for(;O<280;)D.lens[O++]=7;for(;O<288;)D.lens[O++]=8;for(u(d,D.lens,0,288,E,0,D.work,{bits:9}),O=0;O<32;)D.lens[O++]=5;u(m,D.lens,0,32,P,0,D.work,{bits:5}),I=!1}D.lencode=E,D.lenbits=9,D.distcode=P,D.distbits=5}function q(D,O,p,L){var H,U=D.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new s.Buf8(U.wsize)),L>=U.wsize?(s.arraySet(U.window,O,p-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(L<(H=U.wsize-U.wnext)&&(H=L),s.arraySet(U.window,O,p-L,H,U.wnext),(L-=H)?(s.arraySet(U.window,O,p-L,L,0),U.wnext=L,U.whave=U.wsize):(U.wnext+=H,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=H))),0}i.inflateReset=_,i.inflateReset2=N,i.inflateResetKeep=k,i.inflateInit=function(D){return z(D,15)},i.inflateInit2=z,i.inflate=function(D,O){var p,L,H,U,B,j,V,M,A,se,R,K,fe,me,be,ve,te,G,ce,pe,b,ne,J,C,S=0,Y=new s.Buf8(4),le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return h;(p=D.state).mode===12&&(p.mode=13),B=D.next_out,H=D.output,V=D.avail_out,U=D.next_in,L=D.input,j=D.avail_in,M=p.hold,A=p.bits,se=j,R=V,ne=y;e:for(;;)switch(p.mode){case v:if(p.wrap===0){p.mode=13;break}for(;A<16;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}if(2&p.wrap&&M===35615){Y[p.check=0]=255&M,Y[1]=M>>>8&255,p.check=a(p.check,Y,2,0),A=M=0,p.mode=2;break}if(p.flags=0,p.head&&(p.head.done=!1),!(1&p.wrap)||(((255&M)<<8)+(M>>8))%31){D.msg="incorrect header check",p.mode=30;break}if((15&M)!=8){D.msg="unknown compression method",p.mode=30;break}if(A-=4,b=8+(15&(M>>>=4)),p.wbits===0)p.wbits=b;else if(b>p.wbits){D.msg="invalid window size",p.mode=30;break}p.dmax=1<<b,D.adler=p.check=1,p.mode=512&M?10:12,A=M=0;break;case 2:for(;A<16;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}if(p.flags=M,(255&p.flags)!=8){D.msg="unknown compression method",p.mode=30;break}if(57344&p.flags){D.msg="unknown header flags set",p.mode=30;break}p.head&&(p.head.text=M>>8&1),512&p.flags&&(Y[0]=255&M,Y[1]=M>>>8&255,p.check=a(p.check,Y,2,0)),A=M=0,p.mode=3;case 3:for(;A<32;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}p.head&&(p.head.time=M),512&p.flags&&(Y[0]=255&M,Y[1]=M>>>8&255,Y[2]=M>>>16&255,Y[3]=M>>>24&255,p.check=a(p.check,Y,4,0)),A=M=0,p.mode=4;case 4:for(;A<16;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}p.head&&(p.head.xflags=255&M,p.head.os=M>>8),512&p.flags&&(Y[0]=255&M,Y[1]=M>>>8&255,p.check=a(p.check,Y,2,0)),A=M=0,p.mode=5;case 5:if(1024&p.flags){for(;A<16;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}p.length=M,p.head&&(p.head.extra_len=M),512&p.flags&&(Y[0]=255&M,Y[1]=M>>>8&255,p.check=a(p.check,Y,2,0)),A=M=0}else p.head&&(p.head.extra=null);p.mode=6;case 6:if(1024&p.flags&&(j<(K=p.length)&&(K=j),K&&(p.head&&(b=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Array(p.head.extra_len)),s.arraySet(p.head.extra,L,U,K,b)),512&p.flags&&(p.check=a(p.check,L,K,U)),j-=K,U+=K,p.length-=K),p.length))break e;p.length=0,p.mode=7;case 7:if(2048&p.flags){if(j===0)break e;for(K=0;b=L[U+K++],p.head&&b&&p.length<65536&&(p.head.name+=String.fromCharCode(b)),b&&K<j;);if(512&p.flags&&(p.check=a(p.check,L,K,U)),j-=K,U+=K,b)break e}else p.head&&(p.head.name=null);p.length=0,p.mode=8;case 8:if(4096&p.flags){if(j===0)break e;for(K=0;b=L[U+K++],p.head&&b&&p.length<65536&&(p.head.comment+=String.fromCharCode(b)),b&&K<j;);if(512&p.flags&&(p.check=a(p.check,L,K,U)),j-=K,U+=K,b)break e}else p.head&&(p.head.comment=null);p.mode=9;case 9:if(512&p.flags){for(;A<16;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}if(M!==(65535&p.check)){D.msg="header crc mismatch",p.mode=30;break}A=M=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),D.adler=p.check=0,p.mode=12;break;case 10:for(;A<32;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}D.adler=p.check=f(M),A=M=0,p.mode=11;case 11:if(p.havedict===0)return D.next_out=B,D.avail_out=V,D.next_in=U,D.avail_in=j,p.hold=M,p.bits=A,2;D.adler=p.check=1,p.mode=12;case 12:if(O===5||O===6)break e;case 13:if(p.last){M>>>=7&A,A-=7&A,p.mode=27;break}for(;A<3;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}switch(p.last=1&M,A-=1,3&(M>>>=1)){case 0:p.mode=14;break;case 1:if($(p),p.mode=20,O!==6)break;M>>>=2,A-=2;break e;case 2:p.mode=17;break;case 3:D.msg="invalid block type",p.mode=30}M>>>=2,A-=2;break;case 14:for(M>>>=7&A,A-=7&A;A<32;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}if((65535&M)!=(M>>>16^65535)){D.msg="invalid stored block lengths",p.mode=30;break}if(p.length=65535&M,A=M=0,p.mode=15,O===6)break e;case 15:p.mode=16;case 16:if(K=p.length){if(j<K&&(K=j),V<K&&(K=V),K===0)break e;s.arraySet(H,L,U,K,B),j-=K,U+=K,V-=K,B+=K,p.length-=K;break}p.mode=12;break;case 17:for(;A<14;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}if(p.nlen=257+(31&M),M>>>=5,A-=5,p.ndist=1+(31&M),M>>>=5,A-=5,p.ncode=4+(15&M),M>>>=4,A-=4,286<p.nlen||30<p.ndist){D.msg="too many length or distance symbols",p.mode=30;break}p.have=0,p.mode=18;case 18:for(;p.have<p.ncode;){for(;A<3;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}p.lens[le[p.have++]]=7&M,M>>>=3,A-=3}for(;p.have<19;)p.lens[le[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,J={bits:p.lenbits},ne=u(0,p.lens,0,19,p.lencode,0,p.work,J),p.lenbits=J.bits,ne){D.msg="invalid code lengths set",p.mode=30;break}p.have=0,p.mode=19;case 19:for(;p.have<p.nlen+p.ndist;){for(;ve=(S=p.lencode[M&(1<<p.lenbits)-1])>>>16&255,te=65535&S,!((be=S>>>24)<=A);){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}if(te<16)M>>>=be,A-=be,p.lens[p.have++]=te;else{if(te===16){for(C=be+2;A<C;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}if(M>>>=be,A-=be,p.have===0){D.msg="invalid bit length repeat",p.mode=30;break}b=p.lens[p.have-1],K=3+(3&M),M>>>=2,A-=2}else if(te===17){for(C=be+3;A<C;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}A-=be,b=0,K=3+(7&(M>>>=be)),M>>>=3,A-=3}else{for(C=be+7;A<C;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}A-=be,b=0,K=11+(127&(M>>>=be)),M>>>=7,A-=7}if(p.have+K>p.nlen+p.ndist){D.msg="invalid bit length repeat",p.mode=30;break}for(;K--;)p.lens[p.have++]=b}}if(p.mode===30)break;if(p.lens[256]===0){D.msg="invalid code -- missing end-of-block",p.mode=30;break}if(p.lenbits=9,J={bits:p.lenbits},ne=u(d,p.lens,0,p.nlen,p.lencode,0,p.work,J),p.lenbits=J.bits,ne){D.msg="invalid literal/lengths set",p.mode=30;break}if(p.distbits=6,p.distcode=p.distdyn,J={bits:p.distbits},ne=u(m,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,J),p.distbits=J.bits,ne){D.msg="invalid distances set",p.mode=30;break}if(p.mode=20,O===6)break e;case 20:p.mode=21;case 21:if(6<=j&&258<=V){D.next_out=B,D.avail_out=V,D.next_in=U,D.avail_in=j,p.hold=M,p.bits=A,l(D,R),B=D.next_out,H=D.output,V=D.avail_out,U=D.next_in,L=D.input,j=D.avail_in,M=p.hold,A=p.bits,p.mode===12&&(p.back=-1);break}for(p.back=0;ve=(S=p.lencode[M&(1<<p.lenbits)-1])>>>16&255,te=65535&S,!((be=S>>>24)<=A);){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}if(ve&&!(240&ve)){for(G=be,ce=ve,pe=te;ve=(S=p.lencode[pe+((M&(1<<G+ce)-1)>>G)])>>>16&255,te=65535&S,!(G+(be=S>>>24)<=A);){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}M>>>=G,A-=G,p.back+=G}if(M>>>=be,A-=be,p.back+=be,p.length=te,ve===0){p.mode=26;break}if(32&ve){p.back=-1,p.mode=12;break}if(64&ve){D.msg="invalid literal/length code",p.mode=30;break}p.extra=15&ve,p.mode=22;case 22:if(p.extra){for(C=p.extra;A<C;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}p.length+=M&(1<<p.extra)-1,M>>>=p.extra,A-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=23;case 23:for(;ve=(S=p.distcode[M&(1<<p.distbits)-1])>>>16&255,te=65535&S,!((be=S>>>24)<=A);){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}if(!(240&ve)){for(G=be,ce=ve,pe=te;ve=(S=p.distcode[pe+((M&(1<<G+ce)-1)>>G)])>>>16&255,te=65535&S,!(G+(be=S>>>24)<=A);){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}M>>>=G,A-=G,p.back+=G}if(M>>>=be,A-=be,p.back+=be,64&ve){D.msg="invalid distance code",p.mode=30;break}p.offset=te,p.extra=15&ve,p.mode=24;case 24:if(p.extra){for(C=p.extra;A<C;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}p.offset+=M&(1<<p.extra)-1,M>>>=p.extra,A-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){D.msg="invalid distance too far back",p.mode=30;break}p.mode=25;case 25:if(V===0)break e;if(K=R-V,p.offset>K){if((K=p.offset-K)>p.whave&&p.sane){D.msg="invalid distance too far back",p.mode=30;break}fe=K>p.wnext?(K-=p.wnext,p.wsize-K):p.wnext-K,K>p.length&&(K=p.length),me=p.window}else me=H,fe=B-p.offset,K=p.length;for(V<K&&(K=V),V-=K,p.length-=K;H[B++]=me[fe++],--K;);p.length===0&&(p.mode=21);break;case 26:if(V===0)break e;H[B++]=p.length,V--,p.mode=21;break;case 27:if(p.wrap){for(;A<32;){if(j===0)break e;j--,M|=L[U++]<<A,A+=8}if(R-=V,D.total_out+=R,p.total+=R,R&&(D.adler=p.check=p.flags?a(p.check,H,R,B-R):o(p.check,H,R,B-R)),R=V,(p.flags?M:f(M))!==p.check){D.msg="incorrect data check",p.mode=30;break}A=M=0}p.mode=28;case 28:if(p.wrap&&p.flags){for(;A<32;){if(j===0)break e;j--,M+=L[U++]<<A,A+=8}if(M!==(4294967295&p.total)){D.msg="incorrect length check",p.mode=30;break}A=M=0}p.mode=29;case 29:ne=1;break e;case 30:ne=-3;break e;case 31:return-4;case 32:default:return h}return D.next_out=B,D.avail_out=V,D.next_in=U,D.avail_in=j,p.hold=M,p.bits=A,(p.wsize||R!==D.avail_out&&p.mode<30&&(p.mode<27||O!==4))&&q(D,D.output,D.next_out,R-D.avail_out)?(p.mode=31,-4):(se-=D.avail_in,R-=D.avail_out,D.total_in+=se,D.total_out+=R,p.total+=R,p.wrap&&R&&(D.adler=p.check=p.flags?a(p.check,H,R,D.next_out-R):o(p.check,H,R,D.next_out-R)),D.data_type=p.bits+(p.last?64:0)+(p.mode===12?128:0)+(p.mode===20||p.mode===15?256:0),(se==0&&R===0||O===4)&&ne===y&&(ne=-5),ne)},i.inflateEnd=function(D){if(!D||!D.state)return h;var O=D.state;return O.window&&(O.window=null),D.state=null,y},i.inflateGetHeader=function(D,O){var p;return D&&D.state&&2&(p=D.state).wrap?((p.head=O).done=!1,y):h},i.inflateSetDictionary=function(D,O){var p,L=O.length;return D&&D.state?(p=D.state).wrap!==0&&p.mode!==11?h:p.mode===11&&o(1,O,L,0)!==p.check?-3:q(D,O,L,L)?(p.mode=31,-4):(p.havedict=1,y):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,m,y,h,v,g,w,f){var x,k,_,N,z,E,P,I,$,q=f.bits,D=0,O=0,p=0,L=0,H=0,U=0,B=0,j=0,V=0,M=0,A=null,se=0,R=new s.Buf16(16),K=new s.Buf16(16),fe=null,me=0;for(D=0;D<=15;D++)R[D]=0;for(O=0;O<h;O++)R[m[y+O]]++;for(H=q,L=15;1<=L&&R[L]===0;L--);if(L<H&&(H=L),L===0)return v[g++]=20971520,v[g++]=20971520,f.bits=1,0;for(p=1;p<L&&R[p]===0;p++);for(H<p&&(H=p),D=j=1;D<=15;D++)if(j<<=1,(j-=R[D])<0)return-1;if(0<j&&(d===0||L!==1))return-1;for(K[1]=0,D=1;D<15;D++)K[D+1]=K[D]+R[D];for(O=0;O<h;O++)m[y+O]!==0&&(w[K[m[y+O]]++]=O);if(E=d===0?(A=fe=w,19):d===1?(A=o,se-=257,fe=a,me-=257,256):(A=l,fe=u,-1),D=p,z=g,B=O=M=0,_=-1,N=(V=1<<(U=H))-1,d===1&&852<V||d===2&&592<V)return 1;for(;;){for(P=D-B,$=w[O]<E?(I=0,w[O]):w[O]>E?(I=fe[me+w[O]],A[se+w[O]]):(I=96,0),x=1<<D-B,p=k=1<<U;v[z+(M>>B)+(k-=x)]=P<<24|I<<16|$|0,k!==0;);for(x=1<<D-1;M&x;)x>>=1;if(x!==0?(M&=x-1,M+=x):M=0,O++,--R[D]==0){if(D===L)break;D=m[y+w[O]]}if(H<D&&(M&N)!==_){for(B===0&&(B=H),z+=p,j=1<<(U=D-B);U+B<L&&!((j-=R[U+B])<=0);)U++,j<<=1;if(V+=1<<U,d===1&&852<V||d===2&&592<V)return 1;v[_=M&N]=H<<24|U<<16|z-g|0}}return M!==0&&(v[z+M]=D-B<<24|64<<16|0),f.bits=H,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,a=1;function l(S){for(var Y=S.length;0<=--Y;)S[Y]=0}var u=0,d=29,m=256,y=m+1+d,h=30,v=19,g=2*y+1,w=15,f=16,x=7,k=256,_=16,N=17,z=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(y+2));l(q);var D=new Array(2*h);l(D);var O=new Array(512);l(O);var p=new Array(256);l(p);var L=new Array(d);l(L);var H,U,B,j=new Array(h);function V(S,Y,le,X,W){this.static_tree=S,this.extra_bits=Y,this.extra_base=le,this.elems=X,this.max_length=W,this.has_stree=S&&S.length}function M(S,Y){this.dyn_tree=S,this.max_code=0,this.stat_desc=Y}function A(S){return S<256?O[S]:O[256+(S>>>7)]}function se(S,Y){S.pending_buf[S.pending++]=255&Y,S.pending_buf[S.pending++]=Y>>>8&255}function R(S,Y,le){S.bi_valid>f-le?(S.bi_buf|=Y<<S.bi_valid&65535,se(S,S.bi_buf),S.bi_buf=Y>>f-S.bi_valid,S.bi_valid+=le-f):(S.bi_buf|=Y<<S.bi_valid&65535,S.bi_valid+=le)}function K(S,Y,le){R(S,le[2*Y],le[2*Y+1])}function fe(S,Y){for(var le=0;le|=1&S,S>>>=1,le<<=1,0<--Y;);return le>>>1}function me(S,Y,le){var X,W,ae=new Array(w+1),ue=0;for(X=1;X<=w;X++)ae[X]=ue=ue+le[X-1]<<1;for(W=0;W<=Y;W++){var de=S[2*W+1];de!==0&&(S[2*W]=fe(ae[de]++,de))}}function be(S){var Y;for(Y=0;Y<y;Y++)S.dyn_ltree[2*Y]=0;for(Y=0;Y<h;Y++)S.dyn_dtree[2*Y]=0;for(Y=0;Y<v;Y++)S.bl_tree[2*Y]=0;S.dyn_ltree[2*k]=1,S.opt_len=S.static_len=0,S.last_lit=S.matches=0}function ve(S){8<S.bi_valid?se(S,S.bi_buf):0<S.bi_valid&&(S.pending_buf[S.pending++]=S.bi_buf),S.bi_buf=0,S.bi_valid=0}function te(S,Y,le,X){var W=2*Y,ae=2*le;return S[W]<S[ae]||S[W]===S[ae]&&X[Y]<=X[le]}function G(S,Y,le){for(var X=S.heap[le],W=le<<1;W<=S.heap_len&&(W<S.heap_len&&te(Y,S.heap[W+1],S.heap[W],S.depth)&&W++,!te(Y,X,S.heap[W],S.depth));)S.heap[le]=S.heap[W],le=W,W<<=1;S.heap[le]=X}function ce(S,Y,le){var X,W,ae,ue,de=0;if(S.last_lit!==0)for(;X=S.pending_buf[S.d_buf+2*de]<<8|S.pending_buf[S.d_buf+2*de+1],W=S.pending_buf[S.l_buf+de],de++,X===0?K(S,W,Y):(K(S,(ae=p[W])+m+1,Y),(ue=E[ae])!==0&&R(S,W-=L[ae],ue),K(S,ae=A(--X),le),(ue=P[ae])!==0&&R(S,X-=j[ae],ue)),de<S.last_lit;);K(S,k,Y)}function pe(S,Y){var le,X,W,ae=Y.dyn_tree,ue=Y.stat_desc.static_tree,de=Y.stat_desc.has_stree,Ee=Y.stat_desc.elems,Pe=-1;for(S.heap_len=0,S.heap_max=g,le=0;le<Ee;le++)ae[2*le]!==0?(S.heap[++S.heap_len]=Pe=le,S.depth[le]=0):ae[2*le+1]=0;for(;S.heap_len<2;)ae[2*(W=S.heap[++S.heap_len]=Pe<2?++Pe:0)]=1,S.depth[W]=0,S.opt_len--,de&&(S.static_len-=ue[2*W+1]);for(Y.max_code=Pe,le=S.heap_len>>1;1<=le;le--)G(S,ae,le);for(W=Ee;le=S.heap[1],S.heap[1]=S.heap[S.heap_len--],G(S,ae,1),X=S.heap[1],S.heap[--S.heap_max]=le,S.heap[--S.heap_max]=X,ae[2*W]=ae[2*le]+ae[2*X],S.depth[W]=(S.depth[le]>=S.depth[X]?S.depth[le]:S.depth[X])+1,ae[2*le+1]=ae[2*X+1]=W,S.heap[1]=W++,G(S,ae,1),2<=S.heap_len;);S.heap[--S.heap_max]=S.heap[1],function(Te,Oe){var at,Ue,ee,re,he,ge,we=Oe.dyn_tree,xe=Oe.max_code,Me=Oe.stat_desc.static_tree,Re=Oe.stat_desc.has_stree,Be=Oe.stat_desc.extra_bits,ie=Oe.stat_desc.extra_base,ye=Oe.stat_desc.max_length,Se=0;for(re=0;re<=w;re++)Te.bl_count[re]=0;for(we[2*Te.heap[Te.heap_max]+1]=0,at=Te.heap_max+1;at<g;at++)ye<(re=we[2*we[2*(Ue=Te.heap[at])+1]+1]+1)&&(re=ye,Se++),we[2*Ue+1]=re,xe<Ue||(Te.bl_count[re]++,he=0,ie<=Ue&&(he=Be[Ue-ie]),ge=we[2*Ue],Te.opt_len+=ge*(re+he),Re&&(Te.static_len+=ge*(Me[2*Ue+1]+he)));if(Se!==0){do{for(re=ye-1;Te.bl_count[re]===0;)re--;Te.bl_count[re]--,Te.bl_count[re+1]+=2,Te.bl_count[ye]--,Se-=2}while(0<Se);for(re=ye;re!==0;re--)for(Ue=Te.bl_count[re];Ue!==0;)xe<(ee=Te.heap[--at])||(we[2*ee+1]!==re&&(Te.opt_len+=(re-we[2*ee+1])*we[2*ee],we[2*ee+1]=re),Ue--)}}(S,Y),me(ae,Pe,S.bl_count)}function b(S,Y,le){var X,W,ae=-1,ue=Y[1],de=0,Ee=7,Pe=4;for(ue===0&&(Ee=138,Pe=3),Y[2*(le+1)+1]=65535,X=0;X<=le;X++)W=ue,ue=Y[2*(X+1)+1],++de<Ee&&W===ue||(de<Pe?S.bl_tree[2*W]+=de:W!==0?(W!==ae&&S.bl_tree[2*W]++,S.bl_tree[2*_]++):de<=10?S.bl_tree[2*N]++:S.bl_tree[2*z]++,ae=W,Pe=(de=0)===ue?(Ee=138,3):W===ue?(Ee=6,3):(Ee=7,4))}function ne(S,Y,le){var X,W,ae=-1,ue=Y[1],de=0,Ee=7,Pe=4;for(ue===0&&(Ee=138,Pe=3),X=0;X<=le;X++)if(W=ue,ue=Y[2*(X+1)+1],!(++de<Ee&&W===ue)){if(de<Pe)for(;K(S,W,S.bl_tree),--de!=0;);else W!==0?(W!==ae&&(K(S,W,S.bl_tree),de--),K(S,_,S.bl_tree),R(S,de-3,2)):de<=10?(K(S,N,S.bl_tree),R(S,de-3,3)):(K(S,z,S.bl_tree),R(S,de-11,7));ae=W,Pe=(de=0)===ue?(Ee=138,3):W===ue?(Ee=6,3):(Ee=7,4)}}l(j);var J=!1;function C(S,Y,le,X){R(S,(u<<1)+(X?1:0),3),function(W,ae,ue,de){ve(W),se(W,ue),se(W,~ue),s.arraySet(W.pending_buf,W.window,ae,ue,W.pending),W.pending+=ue}(S,Y,le)}i._tr_init=function(S){J||(function(){var Y,le,X,W,ae,ue=new Array(w+1);for(W=X=0;W<d-1;W++)for(L[W]=X,Y=0;Y<1<<E[W];Y++)p[X++]=W;for(p[X-1]=W,W=ae=0;W<16;W++)for(j[W]=ae,Y=0;Y<1<<P[W];Y++)O[ae++]=W;for(ae>>=7;W<h;W++)for(j[W]=ae<<7,Y=0;Y<1<<P[W]-7;Y++)O[256+ae++]=W;for(le=0;le<=w;le++)ue[le]=0;for(Y=0;Y<=143;)q[2*Y+1]=8,Y++,ue[8]++;for(;Y<=255;)q[2*Y+1]=9,Y++,ue[9]++;for(;Y<=279;)q[2*Y+1]=7,Y++,ue[7]++;for(;Y<=287;)q[2*Y+1]=8,Y++,ue[8]++;for(me(q,y+1,ue),Y=0;Y<h;Y++)D[2*Y+1]=5,D[2*Y]=fe(Y,5);H=new V(q,E,m+1,y,w),U=new V(D,P,0,h,w),B=new V(new Array(0),I,0,v,x)}(),J=!0),S.l_desc=new M(S.dyn_ltree,H),S.d_desc=new M(S.dyn_dtree,U),S.bl_desc=new M(S.bl_tree,B),S.bi_buf=0,S.bi_valid=0,be(S)},i._tr_stored_block=C,i._tr_flush_block=function(S,Y,le,X){var W,ae,ue=0;0<S.level?(S.strm.data_type===2&&(S.strm.data_type=function(de){var Ee,Pe=4093624447;for(Ee=0;Ee<=31;Ee++,Pe>>>=1)if(1&Pe&&de.dyn_ltree[2*Ee]!==0)return o;if(de.dyn_ltree[18]!==0||de.dyn_ltree[20]!==0||de.dyn_ltree[26]!==0)return a;for(Ee=32;Ee<m;Ee++)if(de.dyn_ltree[2*Ee]!==0)return a;return o}(S)),pe(S,S.l_desc),pe(S,S.d_desc),ue=function(de){var Ee;for(b(de,de.dyn_ltree,de.l_desc.max_code),b(de,de.dyn_dtree,de.d_desc.max_code),pe(de,de.bl_desc),Ee=v-1;3<=Ee&&de.bl_tree[2*$[Ee]+1]===0;Ee--);return de.opt_len+=3*(Ee+1)+5+5+4,Ee}(S),W=S.opt_len+3+7>>>3,(ae=S.static_len+3+7>>>3)<=W&&(W=ae)):W=ae=le+5,le+4<=W&&Y!==-1?C(S,Y,le,X):S.strategy===4||ae===W?(R(S,2+(X?1:0),3),ce(S,q,D)):(R(S,4+(X?1:0),3),function(de,Ee,Pe,Te){var Oe;for(R(de,Ee-257,5),R(de,Pe-1,5),R(de,Te-4,4),Oe=0;Oe<Te;Oe++)R(de,de.bl_tree[2*$[Oe]+1],3);ne(de,de.dyn_ltree,Ee-1),ne(de,de.dyn_dtree,Pe-1)}(S,S.l_desc.max_code+1,S.d_desc.max_code+1,ue+1),ce(S,S.dyn_ltree,S.dyn_dtree)),be(S),X&&ve(S)},i._tr_tally=function(S,Y,le){return S.pending_buf[S.d_buf+2*S.last_lit]=Y>>>8&255,S.pending_buf[S.d_buf+2*S.last_lit+1]=255&Y,S.pending_buf[S.l_buf+S.last_lit]=255&le,S.last_lit++,Y===0?S.dyn_ltree[2*le]++:(S.matches++,Y--,S.dyn_ltree[2*(p[le]+m+1)]++,S.dyn_dtree[2*A(Y)]++),S.last_lit===S.lit_bufsize-1},i._tr_align=function(S){R(S,2,3),K(S,k,q),function(Y){Y.bi_valid===16?(se(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)}(S)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,a){if(!o.setImmediate){var l,u,d,m,y=1,h={},v=!1,g=o.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(o);w=w&&w.setTimeout?w:o,l={}.toString.call(o.process)==="[object process]"?function(_){process.nextTick(function(){x(_)})}:function(){if(o.postMessage&&!o.importScripts){var _=!0,N=o.onmessage;return o.onmessage=function(){_=!1},o.postMessage("","*"),o.onmessage=N,_}}()?(m="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",k,!1):o.attachEvent("onmessage",k),function(_){o.postMessage(m+_,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(_){x(_.data)},function(_){d.port2.postMessage(_)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(_){var N=g.createElement("script");N.onreadystatechange=function(){x(_),N.onreadystatechange=null,u.removeChild(N),N=null},u.appendChild(N)}):function(_){setTimeout(x,0,_)},w.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var N=new Array(arguments.length-1),z=0;z<N.length;z++)N[z]=arguments[z+1];var E={callback:_,args:N};return h[y]=E,l(y),y++},w.clearImmediate=f}function f(_){delete h[_]}function x(_){if(v)setTimeout(x,0,_);else{var N=h[_];if(N){v=!0;try{(function(z){var E=z.callback,P=z.args;switch(P.length){case 0:E();break;case 1:E(P[0]);break;case 2:E(P[0],P[1]);break;case 3:E(P[0],P[1],P[2]);break;default:E.apply(a,P)}})(N)}finally{f(_),v=!1}}}}function k(_){_.source===o&&typeof _.data=="string"&&_.data.indexOf(m)===0&&x(+_.data.slice(m.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Fs<"u"?Fs:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(A0);var Z1=A0.exports;const Y1=Oc(Z1),G1=({projects:e,onSelectProject:t,onCreateProject:n,onExportProject:r,onDeleteProject:i,onImportFolder:s})=>{const[o,a]=T.useState(!1),[l,u]=T.useState(""),[d,m]=T.useState("Software"),y=v=>{v.preventDefault(),l.trim()&&(n(l,d),a(!1),u(""))},h=v=>{switch(v){case"Game":return c.jsx(y1,{className:"w-6 h-6 text-purple-400"});case"Web":return c.jsx(v1,{className:"w-6 h-6 text-blue-400"});default:return c.jsx(j0,{className:"w-6 h-6 text-emerald-400"})}};return c.jsxs("div",{className:"p-8 max-w-7xl mx-auto w-full",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:"Projects"}),c.jsx("p",{className:"text-zinc-400 mt-2",children:"Manage your development plans, specs, and architectures."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:s,className:"flex items-center gap-2 bg-zinc-800 text-zinc-200 px-5 py-2.5 rounded-lg font-semibold hover:bg-zinc-700 transition-colors border border-zinc-700",children:[c.jsx(S1,{className:"w-5 h-5"}),"Import Local Folder"]}),c.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-white text-zinc-950 px-5 py-2.5 rounded-lg font-semibold hover:bg-zinc-200 transition-colors shadow-lg shadow-white/5",children:[c.jsx(zn,{className:"w-5 h-5"}),"New Project"]})]})]}),e.length===0?c.jsxs("div",{className:"text-center py-20 border border-dashed border-zinc-800 rounded-2xl bg-zinc-900/30",children:[c.jsx(g1,{className:"w-16 h-16 text-zinc-700 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-medium text-zinc-300",children:"No projects yet"}),c.jsx("p",{className:"text-zinc-500 mt-2 max-w-sm mx-auto",children:"Start planning by creating a new project or importing an existing folder."})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>c.jsxs("div",{className:"group relative bg-zinc-900 border border-zinc-800 rounded-xl p-6 hover:border-zinc-600 transition-all hover:shadow-xl hover:shadow-black/50 overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"cursor-pointer flex-1 relative z-10",onClick:()=>t(v.id),children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:"p-3 bg-zinc-950 rounded-lg inline-block border border-zinc-800 group-hover:border-zinc-700 transition-colors",children:h(v.type)}),v.isLocal&&c.jsxs("div",{className:"flex items-center gap-1 bg-blue-500/10 border border-blue-500/20 px-2 py-1 rounded text-[10px] text-blue-400 font-bold uppercase tracking-wider",children:[c.jsx(w1,{className:"w-3 h-3"}),"Local"]})]}),c.jsx("h3",{className:"text-xl font-semibold text-zinc-100 mb-2 group-hover:text-blue-400 transition-colors",children:v.name}),c.jsx("p",{className:"text-zinc-400 text-sm line-clamp-2 mb-4 h-10",children:v.description||"No description yet."}),c.jsxs("div",{className:"text-xs text-zinc-500 mb-4",children:[v.files.length," files"]})]}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-zinc-800 mt-auto relative z-20",children:[c.jsxs("div",{className:"flex items-center text-xs text-zinc-500",children:[c.jsx(d1,{className:"w-3.5 h-3.5 mr-1.5"}),new Date(v.lastModified).toLocaleDateString()]}),c.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:g=>{g.preventDefault(),g.stopPropagation(),r(v)},className:"p-2 hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-blue-400 transition-colors",title:"Export JSON",children:c.jsx(Pu,{className:"w-4 h-4"})}),c.jsx("button",{onClick:g=>{g.preventDefault(),g.stopPropagation(),i(v.id)},className:"p-2 hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-red-400 transition-colors",title:v.isLocal?"Remove from List":"Delete Permanently",children:c.jsx(Qt,{className:"w-4 h-4"})})]})]})]},v.id))}),o&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-md p-6 shadow-2xl",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Create New Project"}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Project Name"}),c.jsx("input",{autoFocus:!0,type:"text",required:!0,value:l,onChange:v=>u(v.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all",placeholder:"e.g., Space Explorer RPG"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Type"}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Software","Game","Web"].map(v=>c.jsx("button",{type:"button",onClick:()=>m(v),className:`py-2 px-3 rounded-lg text-sm font-medium border transition-all ${d===v?"bg-blue-600/10 border-blue-600 text-blue-400":"bg-zinc-950 border-zinc-800 text-zinc-400 hover:bg-zinc-800"}`,children:v},v))})]}),c.jsxs("div",{className:"flex gap-3 mt-8 pt-4 border-t border-zinc-800",children:[c.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 px-4 py-2 rounded-lg text-zinc-300 hover:bg-zinc-800 transition-colors text-sm font-medium",children:"Cancel"}),c.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Create"})]})]})]})})]})};function yt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=yt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var P0={exports:{}},R0={},L0={exports:{}},O0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi=T;function K1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var X1=typeof Object.is=="function"?Object.is:K1,q1=yi.useState,Q1=yi.useEffect,J1=yi.useLayoutEffect,ev=yi.useDebugValue;function tv(e,t){var n=t(),r=q1({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return J1(function(){i.value=n,i.getSnapshot=t,ml(i)&&s({inst:i})},[e,n,t]),Q1(function(){return ml(i)&&s({inst:i}),e(function(){ml(i)&&s({inst:i})})},[e]),ev(n),n}function ml(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!X1(e,n)}catch{return!0}}function nv(e,t){return t()}var rv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nv:tv;O0.useSyncExternalStore=yi.useSyncExternalStore!==void 0?yi.useSyncExternalStore:rv;L0.exports=O0;var iv=L0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ia=T,sv=iv;function ov(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var av=typeof Object.is=="function"?Object.is:ov,lv=sv.useSyncExternalStore,cv=Ia.useRef,uv=Ia.useEffect,dv=Ia.useMemo,fv=Ia.useDebugValue;R0.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=cv(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=dv(function(){function l(h){if(!u){if(u=!0,d=h,h=r(h),i!==void 0&&o.hasValue){var v=o.value;if(i(v,h))return m=v}return m=h}if(v=m,av(d,h))return v;var g=r(h);return i!==void 0&&i(v,g)?(d=h,v):(d=h,m=g)}var u=!1,d,m,y=n===void 0?null:n;return[function(){return l(t())},y===null?void 0:function(){return l(y())}]},[t,n,r,i]);var a=lv(e,s[0],s[1]);return uv(function(){o.hasValue=!0,o.value=a},[a]),fv(a),a};P0.exports=R0;var hv=P0.exports;const pv=Oc(hv),mv={},wf=e=>{let t;const n=new Set,r=(d,m)=>{const y=typeof d=="function"?d(t):d;if(!Object.is(y,t)){const h=t;t=m??(typeof y!="object"||y===null)?y:Object.assign({},t,y),n.forEach(v=>v(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(mv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},gv=e=>e?wf(e):wf,{useDebugValue:xv}=oe,{useSyncExternalStoreWithSelector:yv}=pv,vv=e=>e;function $0(e,t=vv,n){const r=yv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return xv(r),r}const bf=(e,t)=>{const n=gv(e),r=(i,s=t)=>$0(n,i,s);return Object.assign(r,n),r},wv=(e,t)=>e?bf(e,t):bf;function pt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var bv={value:()=>{}};function Ma(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Eo(n)}function Eo(e){this._=e}function kv(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Eo.prototype=Ma.prototype={constructor:Eo,on:function(e,t){var n=this._,r=kv(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=_v(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=kf(n[i],e.name,t);else if(t==null)for(i in n)n[i]=kf(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Eo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function _v(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function kf(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=bv,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var kc="http://www.w3.org/1999/xhtml";const _f={svg:"http://www.w3.org/2000/svg",xhtml:kc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Aa(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_f.hasOwnProperty(t)?{space:_f[t],local:e}:e}function Nv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===kc&&t.documentElement.namespaceURI===kc?t.createElement(e):t.createElementNS(n,e)}}function Sv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function F0(e){var t=Aa(e);return(t.local?Sv:Nv)(t)}function zv(){}function $u(e){return e==null?zv:function(){return this.querySelector(e)}}function Ev(e){typeof e!="function"&&(e=$u(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,u,d=0;d<o;++d)(l=s[d])&&(u=e.call(l,l.__data__,d,s))&&("__data__"in l&&(u.__data__=l.__data__),a[d]=u);return new $t(r,this._parents)}function Cv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function jv(){return[]}function B0(e){return e==null?jv:function(){return this.querySelectorAll(e)}}function Dv(e){return function(){return Cv(e.apply(this,arguments))}}function Tv(e){typeof e=="function"?e=Dv(e):e=B0(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),i.push(l));return new $t(r,i)}function U0(e){return function(){return this.matches(e)}}function H0(e){return function(t){return t.matches(e)}}var Iv=Array.prototype.find;function Mv(e){return function(){return Iv.call(this.children,e)}}function Av(){return this.firstElementChild}function Pv(e){return this.select(e==null?Av:Mv(typeof e=="function"?e:H0(e)))}var Rv=Array.prototype.filter;function Lv(){return Array.from(this.children)}function Ov(e){return function(){return Rv.call(this.children,e)}}function $v(e){return this.selectAll(e==null?Lv:Ov(typeof e=="function"?e:H0(e)))}function Fv(e){typeof e!="function"&&(e=U0(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new $t(r,this._parents)}function W0(e){return new Array(e.length)}function Bv(){return new $t(this._enter||this._groups.map(W0),this._parents)}function ia(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ia.prototype={constructor:ia,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Uv(e){return function(){return e}}function Hv(e,t,n,r,i,s){for(var o=0,a,l=t.length,u=s.length;o<u;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new ia(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function Wv(e,t,n,r,i,s,o){var a,l,u=new Map,d=t.length,m=s.length,y=new Array(d),h;for(a=0;a<d;++a)(l=t[a])&&(y[a]=h=o.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<m;++a)h=o.call(e,s[a],a,s)+"",(l=u.get(h))?(r[a]=l,l.__data__=s[a],u.delete(h)):n[a]=new ia(e,s[a]);for(a=0;a<d;++a)(l=t[a])&&u.get(y[a])===l&&(i[a]=l)}function Vv(e){return e.__data__}function Zv(e,t){if(!arguments.length)return Array.from(this,Vv);var n=t?Wv:Hv,r=this._parents,i=this._groups;typeof e!="function"&&(e=Uv(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var d=r[u],m=i[u],y=m.length,h=Yv(e.call(d,d&&d.__data__,u,r)),v=h.length,g=a[u]=new Array(v),w=o[u]=new Array(v),f=l[u]=new Array(y);n(d,m,g,w,f,h,t);for(var x=0,k=0,_,N;x<v;++x)if(_=g[x]){for(x>=k&&(k=x+1);!(N=w[k])&&++k<v;);_._next=N||null}}return o=new $t(o,r),o._enter=a,o._exit=l,o}function Yv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Gv(){return new $t(this._exit||this._groups.map(W0),this._parents)}function Kv(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Xv(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],d=r[l],m=u.length,y=a[l]=new Array(m),h,v=0;v<m;++v)(h=u[v]||d[v])&&(y[v]=h);for(;l<i;++l)a[l]=n[l];return new $t(a,this._parents)}function qv(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Qv(e){e||(e=Jv);function t(m,y){return m&&y?e(m.__data__,y.__data__):!m-!y}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,d=0;d<a;++d)(u=o[d])&&(l[d]=u);l.sort(t)}return new $t(i,this._parents).order()}function Jv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ew(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function tw(){return Array.from(this)}function nw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function rw(){let e=0;for(const t of this)++e;return e}function iw(){return!this.node()}function sw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function ow(e){return function(){this.removeAttribute(e)}}function aw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lw(e,t){return function(){this.setAttribute(e,t)}}function cw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function uw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function dw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function fw(e,t){var n=Aa(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?aw:ow:typeof t=="function"?n.local?dw:uw:n.local?cw:lw)(n,t))}function V0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function hw(e){return function(){this.style.removeProperty(e)}}function pw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function mw(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function gw(e,t,n){return arguments.length>1?this.each((t==null?hw:typeof t=="function"?mw:pw)(e,t,n??"")):vi(this.node(),e)}function vi(e,t){return e.style.getPropertyValue(t)||V0(e).getComputedStyle(e,null).getPropertyValue(t)}function xw(e){return function(){delete this[e]}}function yw(e,t){return function(){this[e]=t}}function vw(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ww(e,t){return arguments.length>1?this.each((t==null?xw:typeof t=="function"?vw:yw)(e,t)):this.node()[e]}function Z0(e){return e.trim().split(/^|\s+/)}function Fu(e){return e.classList||new Y0(e)}function Y0(e){this._node=e,this._names=Z0(e.getAttribute("class")||"")}Y0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function G0(e,t){for(var n=Fu(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function K0(e,t){for(var n=Fu(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function bw(e){return function(){G0(this,e)}}function kw(e){return function(){K0(this,e)}}function _w(e,t){return function(){(t.apply(this,arguments)?G0:K0)(this,e)}}function Nw(e,t){var n=Z0(e+"");if(arguments.length<2){for(var r=Fu(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?_w:t?bw:kw)(n,t))}function Sw(){this.textContent=""}function zw(e){return function(){this.textContent=e}}function Ew(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Cw(e){return arguments.length?this.each(e==null?Sw:(typeof e=="function"?Ew:zw)(e)):this.node().textContent}function jw(){this.innerHTML=""}function Dw(e){return function(){this.innerHTML=e}}function Tw(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Iw(e){return arguments.length?this.each(e==null?jw:(typeof e=="function"?Tw:Dw)(e)):this.node().innerHTML}function Mw(){this.nextSibling&&this.parentNode.appendChild(this)}function Aw(){return this.each(Mw)}function Pw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Rw(){return this.each(Pw)}function Lw(e){var t=typeof e=="function"?e:F0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ow(){return null}function $w(e,t){var n=typeof e=="function"?e:F0(e),r=t==null?Ow:typeof t=="function"?t:$u(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Fw(){var e=this.parentNode;e&&e.removeChild(this)}function Bw(){return this.each(Fw)}function Uw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Hw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ww(e){return this.select(e?Hw:Uw)}function Vw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Zw(e){return function(t){e.call(this,t,this.__data__)}}function Yw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Gw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Kw(e,t,n){return function(){var r=this.__on,i,s=Zw(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Xw(e,t,n){var r=Yw(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,d;l<u;++l)for(i=0,d=a[l];i<s;++i)if((o=r[i]).type===d.type&&o.name===d.name)return d.value}return}for(a=t?Kw:Gw,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function X0(e,t,n){var r=V0(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function qw(e,t){return function(){return X0(this,e,t)}}function Qw(e,t){return function(){return X0(this,e,t.apply(this,arguments))}}function Jw(e,t){return this.each((typeof t=="function"?Qw:qw)(e,t))}function*e2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var q0=[null];function $t(e,t){this._groups=e,this._parents=t}function Ps(){return new $t([[document.documentElement]],q0)}function t2(){return this}$t.prototype=Ps.prototype={constructor:$t,select:Ev,selectAll:Tv,selectChild:Pv,selectChildren:$v,filter:Fv,data:Zv,enter:Bv,exit:Gv,join:Kv,merge:Xv,selection:t2,order:qv,sort:Qv,call:ew,nodes:tw,node:nw,size:rw,empty:iw,each:sw,attr:fw,style:gw,property:ww,classed:Nw,text:Cw,html:Iw,raise:Aw,lower:Rw,append:Lw,insert:$w,remove:Bw,clone:Ww,datum:Vw,on:Xw,dispatch:Jw,[Symbol.iterator]:e2};function Vt(e){return typeof e=="string"?new $t([[document.querySelector(e)]],[document.documentElement]):new $t([[e]],q0)}function n2(e){let t;for(;t=e.sourceEvent;)e=t;return e}function nn(e,t){if(e=n2(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const r2={passive:!1},ws={capture:!0,passive:!1};function gl(e){e.stopImmediatePropagation()}function li(e){e.preventDefault(),e.stopImmediatePropagation()}function Q0(e){var t=e.document.documentElement,n=Vt(e).on("dragstart.drag",li,ws);"onselectstart"in t?n.on("selectstart.drag",li,ws):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function J0(e,t){var n=e.document.documentElement,r=Vt(e).on("dragstart.drag",null);t&&(r.on("click.drag",li,ws),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const so=e=>()=>e;function _c(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}_c.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function i2(e){return!e.ctrlKey&&!e.button}function s2(){return this.parentNode}function o2(e,t){return t??{x:e.x,y:e.y}}function a2(){return navigator.maxTouchPoints||"ontouchstart"in this}function l2(){var e=i2,t=s2,n=o2,r=a2,i={},s=Ma("start","drag","end"),o=0,a,l,u,d,m=0;function y(_){_.on("mousedown.drag",h).filter(r).on("touchstart.drag",w).on("touchmove.drag",f,r2).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(_,N){if(!(d||!e.call(this,_,N))){var z=k(this,t.call(this,_,N),_,N,"mouse");z&&(Vt(_.view).on("mousemove.drag",v,ws).on("mouseup.drag",g,ws),Q0(_.view),gl(_),u=!1,a=_.clientX,l=_.clientY,z("start",_))}}function v(_){if(li(_),!u){var N=_.clientX-a,z=_.clientY-l;u=N*N+z*z>m}i.mouse("drag",_)}function g(_){Vt(_.view).on("mousemove.drag mouseup.drag",null),J0(_.view,u),li(_),i.mouse("end",_)}function w(_,N){if(e.call(this,_,N)){var z=_.changedTouches,E=t.call(this,_,N),P=z.length,I,$;for(I=0;I<P;++I)($=k(this,E,_,N,z[I].identifier,z[I]))&&(gl(_),$("start",_,z[I]))}}function f(_){var N=_.changedTouches,z=N.length,E,P;for(E=0;E<z;++E)(P=i[N[E].identifier])&&(li(_),P("drag",_,N[E]))}function x(_){var N=_.changedTouches,z=N.length,E,P;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),E=0;E<z;++E)(P=i[N[E].identifier])&&(gl(_),P("end",_,N[E]))}function k(_,N,z,E,P,I){var $=s.copy(),q=nn(I||z,N),D,O,p;if((p=n.call(_,new _c("beforestart",{sourceEvent:z,target:y,identifier:P,active:o,x:q[0],y:q[1],dx:0,dy:0,dispatch:$}),E))!=null)return D=p.x-q[0]||0,O=p.y-q[1]||0,function L(H,U,B){var j=q,V;switch(H){case"start":i[P]=L,V=o++;break;case"end":delete i[P],--o;case"drag":q=nn(B||U,N),V=o;break}$.call(H,_,new _c(H,{sourceEvent:U,subject:p,target:y,identifier:P,active:V,x:q[0]+D,y:q[1]+O,dx:q[0]-j[0],dy:q[1]-j[1],dispatch:$}),E)}}return y.filter=function(_){return arguments.length?(e=typeof _=="function"?_:so(!!_),y):e},y.container=function(_){return arguments.length?(t=typeof _=="function"?_:so(_),y):t},y.subject=function(_){return arguments.length?(n=typeof _=="function"?_:so(_),y):n},y.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:so(!!_),y):r},y.on=function(){var _=s.on.apply(s,arguments);return _===s?y:_},y.clickDistance=function(_){return arguments.length?(m=(_=+_)*_,y):Math.sqrt(m)},y}function Bu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function em(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Rs(){}var bs=.7,sa=1/bs,ci="\\s*([+-]?\\d+)\\s*",ks="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c2=/^#([0-9a-f]{3,8})$/,u2=new RegExp(`^rgb\\(${ci},${ci},${ci}\\)$`),d2=new RegExp(`^rgb\\(${mn},${mn},${mn}\\)$`),f2=new RegExp(`^rgba\\(${ci},${ci},${ci},${ks}\\)$`),h2=new RegExp(`^rgba\\(${mn},${mn},${mn},${ks}\\)$`),p2=new RegExp(`^hsl\\(${ks},${mn},${mn}\\)$`),m2=new RegExp(`^hsla\\(${ks},${mn},${mn},${ks}\\)$`),Nf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bu(Rs,_s,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Sf,formatHex:Sf,formatHex8:g2,formatHsl:x2,formatRgb:zf,toString:zf});function Sf(){return this.rgb().formatHex()}function g2(){return this.rgb().formatHex8()}function x2(){return tm(this).formatHsl()}function zf(){return this.rgb().formatRgb()}function _s(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=c2.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ef(t):n===3?new Tt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?oo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?oo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=u2.exec(e))?new Tt(t[1],t[2],t[3],1):(t=d2.exec(e))?new Tt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=f2.exec(e))?oo(t[1],t[2],t[3],t[4]):(t=h2.exec(e))?oo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=p2.exec(e))?Df(t[1],t[2]/100,t[3]/100,1):(t=m2.exec(e))?Df(t[1],t[2]/100,t[3]/100,t[4]):Nf.hasOwnProperty(e)?Ef(Nf[e]):e==="transparent"?new Tt(NaN,NaN,NaN,0):null}function Ef(e){return new Tt(e>>16&255,e>>8&255,e&255,1)}function oo(e,t,n,r){return r<=0&&(e=t=n=NaN),new Tt(e,t,n,r)}function y2(e){return e instanceof Rs||(e=_s(e)),e?(e=e.rgb(),new Tt(e.r,e.g,e.b,e.opacity)):new Tt}function Nc(e,t,n,r){return arguments.length===1?y2(e):new Tt(e,t,n,r??1)}function Tt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Bu(Tt,Nc,em(Rs,{brighter(e){return e=e==null?sa:Math.pow(sa,e),new Tt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bs:Math.pow(bs,e),new Tt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tt(_r(this.r),_r(this.g),_r(this.b),oa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cf,formatHex:Cf,formatHex8:v2,formatRgb:jf,toString:jf}));function Cf(){return`#${vr(this.r)}${vr(this.g)}${vr(this.b)}`}function v2(){return`#${vr(this.r)}${vr(this.g)}${vr(this.b)}${vr((isNaN(this.opacity)?1:this.opacity)*255)}`}function jf(){const e=oa(this.opacity);return`${e===1?"rgb(":"rgba("}${_r(this.r)}, ${_r(this.g)}, ${_r(this.b)}${e===1?")":`, ${e})`}`}function oa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _r(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vr(e){return e=_r(e),(e<16?"0":"")+e.toString(16)}function Df(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new sn(e,t,n,r)}function tm(e){if(e instanceof sn)return new sn(e.h,e.s,e.l,e.opacity);if(e instanceof Rs||(e=_s(e)),!e)return new sn;if(e instanceof sn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new sn(o,a,l,e.opacity)}function w2(e,t,n,r){return arguments.length===1?tm(e):new sn(e,t,n,r??1)}function sn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Bu(sn,w2,em(Rs,{brighter(e){return e=e==null?sa:Math.pow(sa,e),new sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bs:Math.pow(bs,e),new sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Tt(xl(e>=240?e-240:e+120,i,r),xl(e,i,r),xl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new sn(Tf(this.h),ao(this.s),ao(this.l),oa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=oa(this.opacity);return`${e===1?"hsl(":"hsla("}${Tf(this.h)}, ${ao(this.s)*100}%, ${ao(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Tf(e){return e=(e||0)%360,e<0?e+360:e}function ao(e){return Math.max(0,Math.min(1,e||0))}function xl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const nm=e=>()=>e;function b2(e,t){return function(n){return e+n*t}}function k2(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function _2(e){return(e=+e)==1?rm:function(t,n){return n-t?k2(t,n,e):nm(isNaN(t)?n:t)}}function rm(e,t){var n=t-e;return n?b2(e,n):nm(isNaN(e)?t:e)}const If=function e(t){var n=_2(t);function r(i,s){var o=n((i=Nc(i)).r,(s=Nc(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=rm(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=a(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function Bn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Sc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yl=new RegExp(Sc.source,"g");function N2(e){return function(){return e}}function S2(e){return function(t){return e(t)+""}}function z2(e,t){var n=Sc.lastIndex=yl.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Sc.exec(e))&&(i=yl.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Bn(r,i)})),n=yl.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?S2(l[0].x):N2(t):(t=l.length,function(u){for(var d=0,m;d<t;++d)a[(m=l[d]).i]=m.x(u);return a.join("")})}var Mf=180/Math.PI,zc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function im(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Mf,skewX:Math.atan(l)*Mf,scaleX:o,scaleY:a}}var lo;function E2(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?zc:im(t.a,t.b,t.c,t.d,t.e,t.f)}function C2(e){return e==null||(lo||(lo=document.createElementNS("http://www.w3.org/2000/svg","g")),lo.setAttribute("transform",e),!(e=lo.transform.baseVal.consolidate()))?zc:(e=e.matrix,im(e.a,e.b,e.c,e.d,e.e,e.f))}function sm(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,d,m,y,h,v){if(u!==m||d!==y){var g=h.push("translate(",null,t,null,n);v.push({i:g-4,x:Bn(u,m)},{i:g-2,x:Bn(d,y)})}else(m||y)&&h.push("translate("+m+t+y+n)}function o(u,d,m,y){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),y.push({i:m.push(i(m)+"rotate(",null,r)-2,x:Bn(u,d)})):d&&m.push(i(m)+"rotate("+d+r)}function a(u,d,m,y){u!==d?y.push({i:m.push(i(m)+"skewX(",null,r)-2,x:Bn(u,d)}):d&&m.push(i(m)+"skewX("+d+r)}function l(u,d,m,y,h,v){if(u!==m||d!==y){var g=h.push(i(h)+"scale(",null,",",null,")");v.push({i:g-4,x:Bn(u,m)},{i:g-2,x:Bn(d,y)})}else(m!==1||y!==1)&&h.push(i(h)+"scale("+m+","+y+")")}return function(u,d){var m=[],y=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,m,y),o(u.rotate,d.rotate,m,y),a(u.skewX,d.skewX,m,y),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,m,y),u=d=null,function(h){for(var v=-1,g=y.length,w;++v<g;)m[(w=y[v]).i]=w.x(h);return m.join("")}}}var j2=sm(E2,"px, ","px)","deg)"),D2=sm(C2,", ",")",")"),T2=1e-12;function Af(e){return((e=Math.exp(e))+1/e)/2}function I2(e){return((e=Math.exp(e))-1/e)/2}function M2(e){return((e=Math.exp(2*e))-1)/(e+1)}const A2=function e(t,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],d=o[0],m=o[1],y=o[2],h=d-a,v=m-l,g=h*h+v*v,w,f;if(g<T2)f=Math.log(y/u)/t,w=function(E){return[a+E*h,l+E*v,u*Math.exp(t*E*f)]};else{var x=Math.sqrt(g),k=(y*y-u*u+r*g)/(2*u*n*x),_=(y*y-u*u-r*g)/(2*y*n*x),N=Math.log(Math.sqrt(k*k+1)-k),z=Math.log(Math.sqrt(_*_+1)-_);f=(z-N)/t,w=function(E){var P=E*f,I=Af(N),$=u/(n*x)*(I*M2(t*P+N)-I2(N));return[a+$*h,l+$*v,u*I/Af(t*P+N)]}}return w.duration=f*1e3*t/Math.SQRT2,w}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},i}(Math.SQRT2,2,4);var wi=0,Hi=0,Ai=0,om=1e3,aa,Wi,la=0,Dr=0,Pa=0,Ns=typeof performance=="object"&&performance.now?performance:Date,am=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Uu(){return Dr||(am(P2),Dr=Ns.now()+Pa)}function P2(){Dr=0}function ca(){this._call=this._time=this._next=null}ca.prototype=lm.prototype={constructor:ca,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Uu():+n)+(t==null?0:+t),!this._next&&Wi!==this&&(Wi?Wi._next=this:aa=this,Wi=this),this._call=e,this._time=n,Ec()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ec())}};function lm(e,t,n){var r=new ca;return r.restart(e,t,n),r}function R2(){Uu(),++wi;for(var e=aa,t;e;)(t=Dr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--wi}function Pf(){Dr=(la=Ns.now())+Pa,wi=Hi=0;try{R2()}finally{wi=0,O2(),Dr=0}}function L2(){var e=Ns.now(),t=e-la;t>om&&(Pa-=t,la=e)}function O2(){for(var e,t=aa,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:aa=n);Wi=e,Ec(r)}function Ec(e){if(!wi){Hi&&(Hi=clearTimeout(Hi));var t=e-Dr;t>24?(e<1/0&&(Hi=setTimeout(Pf,e-Ns.now()-Pa)),Ai&&(Ai=clearInterval(Ai))):(Ai||(la=Ns.now(),Ai=setInterval(L2,om)),wi=1,am(Pf))}}function Rf(e,t,n){var r=new ca;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var $2=Ma("start","end","cancel","interrupt"),F2=[],cm=0,Lf=1,Cc=2,Co=3,Of=4,jc=5,jo=6;function Ra(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;B2(e,n,{name:t,index:r,group:i,on:$2,tween:F2,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:cm})}function Hu(e,t){var n=cn(e,t);if(n.state>cm)throw new Error("too late; already scheduled");return n}function gn(e,t){var n=cn(e,t);if(n.state>Co)throw new Error("too late; already running");return n}function cn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function B2(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=lm(s,0,n.time);function s(u){n.state=Lf,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,m,y,h;if(n.state!==Lf)return l();for(d in r)if(h=r[d],h.name===n.name){if(h.state===Co)return Rf(o);h.state===Of?(h.state=jo,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[d]):+d<t&&(h.state=jo,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[d])}if(Rf(function(){n.state===Co&&(n.state=Of,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Cc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Cc){for(n.state=Co,i=new Array(y=n.tween.length),d=0,m=-1;d<y;++d)(h=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++m]=h);i.length=m+1}}function a(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=jc,1),m=-1,y=i.length;++m<y;)i[m].call(e,d);n.state===jc&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=jo,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Do(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>Cc&&r.state<jc,r.state=jo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function U2(e){return this.each(function(){Do(this,e)})}function H2(e,t){var n,r;return function(){var i=gn(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function W2(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=gn(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function V2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=cn(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?H2:W2)(n,e,t))}function Wu(e,t,n){var r=e._id;return e.each(function(){var i=gn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return cn(i,r).value[t]}}function um(e,t){var n;return(typeof t=="number"?Bn:t instanceof _s?If:(n=_s(t))?(t=n,If):z2)(e,t)}function Z2(e){return function(){this.removeAttribute(e)}}function Y2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function G2(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function K2(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function X2(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function q2(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function Q2(e,t){var n=Aa(e),r=n==="transform"?D2:um;return this.attrTween(e,typeof t=="function"?(n.local?q2:X2)(n,r,Wu(this,"attr."+e,t)):t==null?(n.local?Y2:Z2)(n):(n.local?K2:G2)(n,r,t))}function J2(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function eb(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function tb(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&eb(e,s)),n}return i._value=t,i}function nb(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&J2(e,s)),n}return i._value=t,i}function rb(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Aa(e);return this.tween(n,(r.local?tb:nb)(r,t))}function ib(e,t){return function(){Hu(this,e).delay=+t.apply(this,arguments)}}function sb(e,t){return t=+t,function(){Hu(this,e).delay=t}}function ob(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ib:sb)(t,e)):cn(this.node(),t).delay}function ab(e,t){return function(){gn(this,e).duration=+t.apply(this,arguments)}}function lb(e,t){return t=+t,function(){gn(this,e).duration=t}}function cb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ab:lb)(t,e)):cn(this.node(),t).duration}function ub(e,t){if(typeof t!="function")throw new Error;return function(){gn(this,e).ease=t}}function db(e){var t=this._id;return arguments.length?this.each(ub(t,e)):cn(this.node(),t).ease}function fb(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;gn(this,e).ease=n}}function hb(e){if(typeof e!="function")throw new Error;return this.each(fb(this._id,e))}function pb(e){typeof e!="function"&&(e=U0(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new In(r,this._parents,this._name,this._id)}function mb(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],u=n[a],d=l.length,m=o[a]=new Array(d),y,h=0;h<d;++h)(y=l[h]||u[h])&&(m[h]=y);for(;a<r;++a)o[a]=t[a];return new In(o,this._parents,this._name,this._id)}function gb(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function xb(e,t,n){var r,i,s=gb(t)?Hu:gn;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function yb(e,t){var n=this._id;return arguments.length<2?cn(this.node(),n).on.on(e):this.each(xb(n,e,t))}function vb(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function wb(){return this.on("end.remove",vb(this._id))}function bb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=$u(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),d,m,y=0;y<l;++y)(d=a[y])&&(m=e.call(d,d.__data__,y,a))&&("__data__"in d&&(m.__data__=d.__data__),u[y]=m,Ra(u[y],t,n,y,u,cn(d,n)));return new In(s,this._parents,t,n)}function kb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=B0(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,d,m=0;m<u;++m)if(d=l[m]){for(var y=e.call(d,d.__data__,m,l),h,v=cn(d,n),g=0,w=y.length;g<w;++g)(h=y[g])&&Ra(h,t,n,g,y,v);s.push(y),o.push(d)}return new In(s,o,t,n)}var _b=Ps.prototype.constructor;function Nb(){return new _b(this._groups,this._parents)}function Sb(e,t){var n,r,i;return function(){var s=vi(this,e),o=(this.style.removeProperty(e),vi(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function dm(e){return function(){this.style.removeProperty(e)}}function zb(e,t,n){var r,i=n+"",s;return function(){var o=vi(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function Eb(e,t,n){var r,i,s;return function(){var o=vi(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),vi(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function Cb(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=gn(this,e),u=l.on,d=l.value[s]==null?a||(a=dm(t)):void 0;(u!==n||i!==d)&&(r=(n=u).copy()).on(o,i=d),l.on=r}}function jb(e,t,n){var r=(e+="")=="transform"?j2:um;return t==null?this.styleTween(e,Sb(e,r)).on("end.style."+e,dm(e)):typeof t=="function"?this.styleTween(e,Eb(e,r,Wu(this,"style."+e,t))).each(Cb(this._id,e)):this.styleTween(e,zb(e,r,t),n).on("end.style."+e,null)}function Db(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Tb(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Db(e,o,n)),r}return s._value=t,s}function Ib(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Tb(e,t,n??""))}function Mb(e){return function(){this.textContent=e}}function Ab(e){return function(){var t=e(this);this.textContent=t??""}}function Pb(e){return this.tween("text",typeof e=="function"?Ab(Wu(this,"text",e)):Mb(e==null?"":e+""))}function Rb(e){return function(t){this.textContent=e.call(this,t)}}function Lb(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Rb(i)),t}return r._value=e,r}function Ob(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Lb(e))}function $b(){for(var e=this._name,t=this._id,n=fm(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var d=cn(l,t);Ra(l,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new In(r,this._parents,e,n)}function Fb(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=gn(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&s()})}var Bb=0;function In(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function fm(){return++Bb}var xn=Ps.prototype;In.prototype={constructor:In,select:bb,selectAll:kb,selectChild:xn.selectChild,selectChildren:xn.selectChildren,filter:pb,merge:mb,selection:Nb,transition:$b,call:xn.call,nodes:xn.nodes,node:xn.node,size:xn.size,empty:xn.empty,each:xn.each,on:yb,attr:Q2,attrTween:rb,style:jb,styleTween:Ib,text:Pb,textTween:Ob,remove:wb,tween:V2,delay:ob,duration:cb,ease:db,easeVarying:hb,end:Fb,[Symbol.iterator]:xn[Symbol.iterator]};function Ub(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Hb={time:null,delay:0,duration:250,ease:Ub};function Wb(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Vb(e){var t,n;e instanceof In?(t=e._id,e=e._name):(t=fm(),(n=Hb).time=Uu(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&Ra(l,e,t,u,o,n||Wb(l,t));return new In(r,this._parents,e,t)}Ps.prototype.interrupt=U2;Ps.prototype.transition=Vb;const co=e=>()=>e;function Zb(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function _n(e,t,n){this.k=e,this.x=t,this.y=n}_n.prototype={constructor:_n,scale:function(e){return e===1?this:new _n(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new _n(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var En=new _n(1,0,0);_n.prototype;function vl(e){e.stopImmediatePropagation()}function Pi(e){e.preventDefault(),e.stopImmediatePropagation()}function Yb(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Gb(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function $f(){return this.__zoom||En}function Kb(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Xb(){return navigator.maxTouchPoints||"ontouchstart"in this}function qb(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function hm(){var e=Yb,t=Gb,n=qb,r=Kb,i=Xb,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=A2,u=Ma("start","zoom","end"),d,m,y,h=500,v=150,g=0,w=10;function f(p){p.property("__zoom",$f).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",$).filter(i).on("touchstart.zoom",q).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}f.transform=function(p,L,H,U){var B=p.selection?p.selection():p;B.property("__zoom",$f),p!==B?N(p,L,H,U):B.interrupt().each(function(){z(this,arguments).event(U).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},f.scaleBy=function(p,L,H,U){f.scaleTo(p,function(){var B=this.__zoom.k,j=typeof L=="function"?L.apply(this,arguments):L;return B*j},H,U)},f.scaleTo=function(p,L,H,U){f.transform(p,function(){var B=t.apply(this,arguments),j=this.__zoom,V=H==null?_(B):typeof H=="function"?H.apply(this,arguments):H,M=j.invert(V),A=typeof L=="function"?L.apply(this,arguments):L;return n(k(x(j,A),V,M),B,o)},H,U)},f.translateBy=function(p,L,H,U){f.transform(p,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof H=="function"?H.apply(this,arguments):H),t.apply(this,arguments),o)},null,U)},f.translateTo=function(p,L,H,U,B){f.transform(p,function(){var j=t.apply(this,arguments),V=this.__zoom,M=U==null?_(j):typeof U=="function"?U.apply(this,arguments):U;return n(En.translate(M[0],M[1]).scale(V.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof H=="function"?-H.apply(this,arguments):-H),j,o)},U,B)};function x(p,L){return L=Math.max(s[0],Math.min(s[1],L)),L===p.k?p:new _n(L,p.x,p.y)}function k(p,L,H){var U=L[0]-H[0]*p.k,B=L[1]-H[1]*p.k;return U===p.x&&B===p.y?p:new _n(p.k,U,B)}function _(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function N(p,L,H,U){p.on("start.zoom",function(){z(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){z(this,arguments).event(U).end()}).tween("zoom",function(){var B=this,j=arguments,V=z(B,j).event(U),M=t.apply(B,j),A=H==null?_(M):typeof H=="function"?H.apply(B,j):H,se=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),R=B.__zoom,K=typeof L=="function"?L.apply(B,j):L,fe=l(R.invert(A).concat(se/R.k),K.invert(A).concat(se/K.k));return function(me){if(me===1)me=K;else{var be=fe(me),ve=se/be[2];me=new _n(ve,A[0]-be[0]*ve,A[1]-be[1]*ve)}V.zoom(null,me)}})}function z(p,L,H){return!H&&p.__zooming||new E(p,L)}function E(p,L){this.that=p,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(p,L),this.taps=0}E.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,L){return this.mouse&&p!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var L=Vt(this.that).datum();u.call(p,this.that,new Zb(p,{sourceEvent:this.sourceEvent,target:f,transform:this.that.__zoom,dispatch:u}),L)}};function P(p,...L){if(!e.apply(this,arguments))return;var H=z(this,L).event(p),U=this.__zoom,B=Math.max(s[0],Math.min(s[1],U.k*Math.pow(2,r.apply(this,arguments)))),j=nn(p);if(H.wheel)(H.mouse[0][0]!==j[0]||H.mouse[0][1]!==j[1])&&(H.mouse[1]=U.invert(H.mouse[0]=j)),clearTimeout(H.wheel);else{if(U.k===B)return;H.mouse=[j,U.invert(j)],Do(this),H.start()}Pi(p),H.wheel=setTimeout(V,v),H.zoom("mouse",n(k(x(U,B),H.mouse[0],H.mouse[1]),H.extent,o));function V(){H.wheel=null,H.end()}}function I(p,...L){if(y||!e.apply(this,arguments))return;var H=p.currentTarget,U=z(this,L,!0).event(p),B=Vt(p.view).on("mousemove.zoom",A,!0).on("mouseup.zoom",se,!0),j=nn(p,H),V=p.clientX,M=p.clientY;Q0(p.view),vl(p),U.mouse=[j,this.__zoom.invert(j)],Do(this),U.start();function A(R){if(Pi(R),!U.moved){var K=R.clientX-V,fe=R.clientY-M;U.moved=K*K+fe*fe>g}U.event(R).zoom("mouse",n(k(U.that.__zoom,U.mouse[0]=nn(R,H),U.mouse[1]),U.extent,o))}function se(R){B.on("mousemove.zoom mouseup.zoom",null),J0(R.view,U.moved),Pi(R),U.event(R).end()}}function $(p,...L){if(e.apply(this,arguments)){var H=this.__zoom,U=nn(p.changedTouches?p.changedTouches[0]:p,this),B=H.invert(U),j=H.k*(p.shiftKey?.5:2),V=n(k(x(H,j),U,B),t.apply(this,L),o);Pi(p),a>0?Vt(this).transition().duration(a).call(N,V,U,p):Vt(this).call(f.transform,V,U,p)}}function q(p,...L){if(e.apply(this,arguments)){var H=p.touches,U=H.length,B=z(this,L,p.changedTouches.length===U).event(p),j,V,M,A;for(vl(p),V=0;V<U;++V)M=H[V],A=nn(M,this),A=[A,this.__zoom.invert(A),M.identifier],B.touch0?!B.touch1&&B.touch0[2]!==A[2]&&(B.touch1=A,B.taps=0):(B.touch0=A,j=!0,B.taps=1+!!d);d&&(d=clearTimeout(d)),j&&(B.taps<2&&(m=A[0],d=setTimeout(function(){d=null},h)),Do(this),B.start())}}function D(p,...L){if(this.__zooming){var H=z(this,L).event(p),U=p.changedTouches,B=U.length,j,V,M,A;for(Pi(p),j=0;j<B;++j)V=U[j],M=nn(V,this),H.touch0&&H.touch0[2]===V.identifier?H.touch0[0]=M:H.touch1&&H.touch1[2]===V.identifier&&(H.touch1[0]=M);if(V=H.that.__zoom,H.touch1){var se=H.touch0[0],R=H.touch0[1],K=H.touch1[0],fe=H.touch1[1],me=(me=K[0]-se[0])*me+(me=K[1]-se[1])*me,be=(be=fe[0]-R[0])*be+(be=fe[1]-R[1])*be;V=x(V,Math.sqrt(me/be)),M=[(se[0]+K[0])/2,(se[1]+K[1])/2],A=[(R[0]+fe[0])/2,(R[1]+fe[1])/2]}else if(H.touch0)M=H.touch0[0],A=H.touch0[1];else return;H.zoom("touch",n(k(V,M,A),H.extent,o))}}function O(p,...L){if(this.__zooming){var H=z(this,L).event(p),U=p.changedTouches,B=U.length,j,V;for(vl(p),y&&clearTimeout(y),y=setTimeout(function(){y=null},h),j=0;j<B;++j)V=U[j],H.touch0&&H.touch0[2]===V.identifier?delete H.touch0:H.touch1&&H.touch1[2]===V.identifier&&delete H.touch1;if(H.touch1&&!H.touch0&&(H.touch0=H.touch1,delete H.touch1),H.touch0)H.touch0[1]=this.__zoom.invert(H.touch0[0]);else if(H.end(),H.taps===2&&(V=nn(V,this),Math.hypot(m[0]-V[0],m[1]-V[1])<w)){var M=Vt(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return f.wheelDelta=function(p){return arguments.length?(r=typeof p=="function"?p:co(+p),f):r},f.filter=function(p){return arguments.length?(e=typeof p=="function"?p:co(!!p),f):e},f.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:co(!!p),f):i},f.extent=function(p){return arguments.length?(t=typeof p=="function"?p:co([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),f):t},f.scaleExtent=function(p){return arguments.length?(s[0]=+p[0],s[1]=+p[1],f):[s[0],s[1]]},f.translateExtent=function(p){return arguments.length?(o[0][0]=+p[0][0],o[1][0]=+p[1][0],o[0][1]=+p[0][1],o[1][1]=+p[1][1],f):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},f.constrain=function(p){return arguments.length?(n=p,f):n},f.duration=function(p){return arguments.length?(a=+p,f):a},f.interpolate=function(p){return arguments.length?(l=p,f):l},f.on=function(){var p=u.on.apply(u,arguments);return p===u?f:p},f.clickDistance=function(p){return arguments.length?(g=(p=+p)*p,f):Math.sqrt(g)},f.tapDistance=function(p){return arguments.length?(w=+p,f):w},f}const La=T.createContext(null),Qb=La.Provider,Mn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},pm=Mn.error001();function Ke(e,t){const n=T.useContext(La);if(n===null)throw new Error(pm);return $0(n,e,t)}const dt=()=>{const e=T.useContext(La);if(e===null)throw new Error(pm);return T.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Jb=e=>e.userSelectionActive?"none":"all";function Vu({position:e,children:t,className:n,style:r,...i}){const s=Ke(Jb),o=`${e}`.split("-");return oe.createElement("div",{className:yt(["react-flow__panel",n,...o]),style:{...r,pointerEvents:s},...i},t)}function ek({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:oe.createElement(Vu,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},oe.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const tk=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...d})=>{const m=T.useRef(null),[y,h]=T.useState({x:0,y:0,width:0,height:0}),v=yt(["react-flow__edge-textwrapper",u]);return T.useEffect(()=>{if(m.current){const g=m.current.getBBox();h({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:oe.createElement("g",{transform:`translate(${e-y.width/2} ${t-y.height/2})`,className:v,visibility:y.width?"visible":"hidden",...d},i&&oe.createElement("rect",{width:y.width+2*o[0],x:-o[0],y:-o[1],height:y.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),oe.createElement("text",{className:"react-flow__edge-text",y:y.height/2,dy:"0.3em",ref:m,style:r},n),l)};var nk=T.memo(tk);const Zu=e=>({width:e.offsetWidth,height:e.offsetHeight}),bi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Yu=(e={x:0,y:0},t)=>({x:bi(e.x,t[0][0],t[1][0]),y:bi(e.y,t[0][1],t[1][1])}),Ff=(e,t,n)=>e<t?bi(Math.abs(e-t),1,50)/50:e>n?-bi(Math.abs(e-n),1,50)/50:0,mm=(e,t)=>{const n=Ff(e.x,35,t.width-35)*20,r=Ff(e.y,35,t.height-35)*20;return[n,r]},gm=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},xm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Ss=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),ym=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Bf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),rk=(e,t)=>ym(xm(Ss(e),Ss(t))),Dc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},ik=e=>Yt(e.width)&&Yt(e.height)&&Yt(e.x)&&Yt(e.y),Yt=e=>!isNaN(e)&&isFinite(e),it=Symbol.for("internals"),vm=["Enter"," ","Escape"],sk=(e,t)=>{},ok=e=>"nativeEvent"in e;function Tc(e){var i,s;const t=ok(e)?e.nativeEvent:e,n=((s=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const wm=e=>"clientX"in e,nr=(e,t)=>{var s,o;const n=wm(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,i=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},ua=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Ls=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:y,interactionWidth:h=20})=>oe.createElement(oe.Fragment,null,oe.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:m,markerStart:y}),h&&oe.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&Yt(n)&&Yt(r)?oe.createElement(nk,{x:n,y:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);Ls.displayName="BaseEdge";function Ri(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(s=>s.id===e);i&&n(r,{...i})}}function bm({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[s,a,i,o]}function km({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=e*.125+i*.375+o*.375+n*.125,u=t*.125+s*.375+a*.375+r*.125,d=Math.abs(l-e),m=Math.abs(u-t);return[l,u,d,m]}var sr;(function(e){e.Strict="strict",e.Loose="loose"})(sr||(sr={}));var wr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(wr||(wr={}));var zs;(function(e){e.Partial="partial",e.Full="full"})(zs||(zs={}));var Vn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Vn||(Vn={}));var Es;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Es||(Es={}));var Ce;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ce||(Ce={}));function Uf({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Ce.Left||e===Ce.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function _m({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:i,targetPosition:s=Ce.Top}){const[o,a]=Uf({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=Uf({pos:s,x1:r,y1:i,x2:e,y2:t}),[d,m,y,h]=km({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${o},${a} ${l},${u} ${r},${i}`,d,m,y,h]}const Gu=T.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Ce.Bottom,targetPosition:s=Ce.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:h,markerStart:v,interactionWidth:g})=>{const[w,f,x]=_m({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s});return oe.createElement(Ls,{path:w,labelX:f,labelY:x,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:h,markerStart:v,interactionWidth:g})});Gu.displayName="SimpleBezierEdge";const Hf={[Ce.Left]:{x:-1,y:0},[Ce.Right]:{x:1,y:0},[Ce.Top]:{x:0,y:-1},[Ce.Bottom]:{x:0,y:1}},ak=({source:e,sourcePosition:t=Ce.Bottom,target:n})=>t===Ce.Left||t===Ce.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Wf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function lk({source:e,sourcePosition:t=Ce.Bottom,target:n,targetPosition:r=Ce.Top,center:i,offset:s}){const o=Hf[t],a=Hf[r],l={x:e.x+o.x*s,y:e.y+o.y*s},u={x:n.x+a.x*s,y:n.y+a.y*s},d=ak({source:l,sourcePosition:t,target:u}),m=d.x!==0?"x":"y",y=d[m];let h=[],v,g;const w={x:0,y:0},f={x:0,y:0},[x,k,_,N]=bm({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[m]*a[m]===-1){v=i.x??x,g=i.y??k;const E=[{x:v,y:l.y},{x:v,y:u.y}],P=[{x:l.x,y:g},{x:u.x,y:g}];o[m]===y?h=m==="x"?E:P:h=m==="x"?P:E}else{const E=[{x:l.x,y:u.y}],P=[{x:u.x,y:l.y}];if(m==="x"?h=o.x===y?P:E:h=o.y===y?E:P,t===r){const O=Math.abs(e[m]-n[m]);if(O<=s){const p=Math.min(s-1,s-O);o[m]===y?w[m]=(l[m]>e[m]?-1:1)*p:f[m]=(u[m]>n[m]?-1:1)*p}}if(t!==r){const O=m==="x"?"y":"x",p=o[m]===a[O],L=l[O]>u[O],H=l[O]<u[O];(o[m]===1&&(!p&&L||p&&H)||o[m]!==1&&(!p&&H||p&&L))&&(h=m==="x"?E:P)}const I={x:l.x+w.x,y:l.y+w.y},$={x:u.x+f.x,y:u.y+f.y},q=Math.max(Math.abs(I.x-h[0].x),Math.abs($.x-h[0].x)),D=Math.max(Math.abs(I.y-h[0].y),Math.abs($.y-h[0].y));q>=D?(v=(I.x+$.x)/2,g=h[0].y):(v=h[0].x,g=(I.y+$.y)/2)}return[[e,{x:l.x+w.x,y:l.y+w.y},...h,{x:u.x+f.x,y:u.y+f.y},n],v,g,_,N]}function ck(e,t,n,r){const i=Math.min(Wf(e,t)/2,Wf(t,n)/2,r),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${s+i*u},${o}Q ${s},${o} ${s},${o+i*d}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function Ic({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:i,targetPosition:s=Ce.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20}){const[d,m,y,h,v]=lk({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:u});return[d.reduce((w,f,x)=>{let k="";return x>0&&x<d.length-1?k=ck(d[x-1],f,d[x+1],o):k=`${x===0?"M":"L"}${f.x} ${f.y}`,w+=k,w},""),m,y,h,v]}const Oa=T.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:d,sourcePosition:m=Ce.Bottom,targetPosition:y=Ce.Top,markerEnd:h,markerStart:v,pathOptions:g,interactionWidth:w})=>{const[f,x,k]=Ic({sourceX:e,sourceY:t,sourcePosition:m,targetX:n,targetY:r,targetPosition:y,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return oe.createElement(Ls,{path:f,labelX:x,labelY:k,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:v,interactionWidth:w})});Oa.displayName="SmoothStepEdge";const Ku=T.memo(e=>{var t;return oe.createElement(Oa,{...e,pathOptions:T.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Ku.displayName="StepEdge";function uk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,o,a]=bm({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,o,a]}const Xu=T.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:y,interactionWidth:h})=>{const[v,g,w]=uk({sourceX:e,sourceY:t,targetX:n,targetY:r});return oe.createElement(Ls,{path:v,labelX:g,labelY:w,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:y,interactionWidth:h})});Xu.displayName="StraightEdge";function uo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Vf({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case Ce.Left:return[t-uo(t-r,s),n];case Ce.Right:return[t+uo(r-t,s),n];case Ce.Top:return[t,n-uo(n-i,s)];case Ce.Bottom:return[t,n+uo(i-n,s)]}}function Nm({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:i,targetPosition:s=Ce.Top,curvature:o=.25}){const[a,l]=Vf({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}),[u,d]=Vf({pos:s,x1:r,y1:i,x2:e,y2:t,c:o}),[m,y,h,v]=km({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${e},${t} C${a},${l} ${u},${d} ${r},${i}`,m,y,h,v]}const da=T.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Ce.Bottom,targetPosition:s=Ce.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:h,markerStart:v,pathOptions:g,interactionWidth:w})=>{const[f,x,k]=Nm({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s,curvature:g==null?void 0:g.curvature});return oe.createElement(Ls,{path:f,labelX:x,labelY:k,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:h,markerStart:v,interactionWidth:w})});da.displayName="BezierEdge";const qu=T.createContext(null),dk=qu.Provider;qu.Consumer;const fk=()=>T.useContext(qu),hk=e=>"id"in e&&"source"in e&&"target"in e,pk=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Mc=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,mk=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Sm=(e,t)=>{if(!e.source||!e.target)return t;let n;return hk(e)?n={...e}:n={...e,id:pk(e)},mk(n,t)?t:t.concat(n)},Ac=({x:e,y:t},[n,r,i],s,[o,a])=>{const l={x:(e-n)/i,y:(t-r)/i};return s?{x:o*Math.round(l.x/o),y:a*Math.round(l.y/a)}:l},zm=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Nr=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},$a=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:s,y:o}=Nr(i,t).positionAbsolute;return xm(r,Ss({x:s,y:o,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ym(n)},Em=(e,t,[n,r,i]=[0,0,1],s=!1,o=!1,a=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(d=>{const{width:m,height:y,selectable:h=!0,hidden:v=!1}=d;if(o&&!h||v)return!1;const{positionAbsolute:g}=Nr(d,a),w={x:g.x,y:g.y,width:m||0,height:y||0},f=Dc(l,w),x=typeof m>"u"||typeof y>"u"||m===null||y===null,k=s&&f>0,_=(m||0)*(y||0);(x||k||f>=_||d.dragging)&&u.push(d)}),u},Cm=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},jm=(e,t,n,r,i,s=.1)=>{const o=t/(e.width*(1+s)),a=n/(e.height*(1+s)),l=Math.min(o,a),u=bi(l,r,i),d=e.x+e.width/2,m=e.y+e.height/2,y=t/2-d*u,h=n/2-m*u;return{x:y,y:h,zoom:u}},hr=(e,t=0)=>e.transition().duration(t);function Zf(e,t,n,r){return(t[n]||[]).reduce((i,s)=>{var o,a;return`${e.id}-${s.id}-${n}`!==r&&i.push({id:s.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+s.x+s.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+s.y+s.height/2}),i},[])}function gk(e,t,n,r,i,s){const{x:o,y:a}=nr(e),u=t.elementsFromPoint(o,a).find(v=>v.classList.contains("react-flow__handle"));if(u){const v=u.getAttribute("data-nodeid");if(v){const g=Qu(void 0,u),w=u.getAttribute("data-handleid"),f=s({nodeId:v,id:w,type:g});if(f){const x=i.find(k=>k.nodeId===v&&k.type===g&&k.id===w);return{handle:{id:w,type:g,nodeId:v,x:(x==null?void 0:x.x)||n.x,y:(x==null?void 0:x.y)||n.y},validHandleResult:f}}}}let d=[],m=1/0;if(i.forEach(v=>{const g=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(g<=r){const w=s(v);g<=m&&(g<m?d=[{handle:v,validHandleResult:w}]:g===m&&d.push({handle:v,validHandleResult:w}),m=g)}}),!d.length)return{handle:null,validHandleResult:Dm()};if(d.length===1)return d[0];const y=d.some(({validHandleResult:v})=>v.isValid),h=d.some(({handle:v})=>v.type==="target");return d.find(({handle:v,validHandleResult:g})=>h?v.type==="target":y?g.isValid:!0)||d[0]}const xk={source:null,target:null,sourceHandle:null,targetHandle:null},Dm=()=>({handleDomNode:null,isValid:!1,connection:xk,endHandle:null});function Tm(e,t,n,r,i,s,o){const a=i==="target",l=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...Dm(),handleDomNode:l};if(l){const d=Qu(void 0,l),m=l.getAttribute("data-nodeid"),y=l.getAttribute("data-handleid"),h=l.classList.contains("connectable"),v=l.classList.contains("connectableend"),g={source:a?m:n,sourceHandle:a?y:r,target:a?n:m,targetHandle:a?r:y};u.connection=g,h&&v&&(t===sr.Strict?a&&d==="source"||!a&&d==="target":m!==n||y!==r)&&(u.endHandle={nodeId:m,handleId:y,type:d},u.isValid=s(g))}return u}function yk({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,s)=>{if(s[it]){const{handleBounds:o}=s[it];let a=[],l=[];o&&(a=Zf(s,o,"source",`${t}-${n}-${r}`),l=Zf(s,o,"target",`${t}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function Qu(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function wl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function vk(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Im({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:s,setState:o,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const d=gm(e.target),{connectionMode:m,domNode:y,autoPanOnConnect:h,connectionRadius:v,onConnectStart:g,panBy:w,getNodes:f,cancelConnection:x}=s();let k=0,_;const{x:N,y:z}=nr(e),E=d==null?void 0:d.elementFromPoint(N,z),P=Qu(l,E),I=y==null?void 0:y.getBoundingClientRect();if(!I||!P)return;let $,q=nr(e,I),D=!1,O=null,p=!1,L=null;const H=yk({nodes:f(),nodeId:n,handleId:t,handleType:P}),U=()=>{if(!h)return;const[V,M]=mm(q,I);w({x:V,y:M}),k=requestAnimationFrame(U)};o({connectionPosition:q,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:P,connectionStartHandle:{nodeId:n,handleId:t,type:P},connectionEndHandle:null}),g==null||g(e,{nodeId:n,handleId:t,handleType:P});function B(V){const{transform:M}=s();q=nr(V,I);const{handle:A,validHandleResult:se}=gk(V,d,Ac(q,M,!1,[1,1]),v,H,R=>Tm(R,m,n,t,i?"target":"source",a,d));if(_=A,D||(U(),D=!0),L=se.handleDomNode,O=se.connection,p=se.isValid,o({connectionPosition:_&&p?zm({x:_.x,y:_.y},M):q,connectionStatus:vk(!!_,p),connectionEndHandle:se.endHandle}),!_&&!p&&!L)return wl($);O.source!==O.target&&L&&(wl($),$=L,L.classList.add("connecting","react-flow__handle-connecting"),L.classList.toggle("valid",p),L.classList.toggle("react-flow__handle-valid",p))}function j(V){var M,A;(_||L)&&O&&p&&(r==null||r(O)),(A=(M=s()).onConnectEnd)==null||A.call(M,V),l&&(u==null||u(V)),wl($),x(),cancelAnimationFrame(k),D=!1,p=!1,O=null,L=null,d.removeEventListener("mousemove",B),d.removeEventListener("mouseup",j),d.removeEventListener("touchmove",B),d.removeEventListener("touchend",j)}d.addEventListener("mousemove",B),d.addEventListener("mouseup",j),d.addEventListener("touchmove",B),d.addEventListener("touchend",j)}const Yf=()=>!0,wk=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),bk=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:o}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},Mm=T.forwardRef(({type:e="source",position:t=Ce.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:u,onMouseDown:d,onTouchStart:m,...y},h)=>{var I,$;const v=o||null,g=e==="target",w=dt(),f=fk(),{connectOnClick:x,noPanClassName:k}=Ke(wk,pt),{connecting:_,clickConnecting:N}=Ke(bk(f,v,e),pt);f||($=(I=w.getState()).onError)==null||$.call(I,"010",Mn.error010());const z=q=>{const{defaultEdgeOptions:D,onConnect:O,hasDefaultEdges:p}=w.getState(),L={...D,...q};if(p){const{edges:H,setEdges:U}=w.getState();U(Sm(L,H))}O==null||O(L),a==null||a(L)},E=q=>{if(!f)return;const D=wm(q);i&&(D&&q.button===0||!D)&&Im({event:q,handleId:v,nodeId:f,onConnect:z,isTarget:g,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||Yf}),D?d==null||d(q):m==null||m(q)},P=q=>{const{onClickConnectStart:D,onClickConnectEnd:O,connectionClickStartHandle:p,connectionMode:L,isValidConnection:H}=w.getState();if(!f||!p&&!i)return;if(!p){D==null||D(q,{nodeId:f,handleId:v,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:f,type:e,handleId:v}});return}const U=gm(q.target),B=n||H||Yf,{connection:j,isValid:V}=Tm({nodeId:f,id:v,type:e},L,p.nodeId,p.handleId||null,p.type,B,U);V&&z(j),O==null||O(q),w.setState({connectionClickStartHandle:null})};return oe.createElement("div",{"data-handleid":v,"data-nodeid":f,"data-handlepos":t,"data-id":`${f}-${v}-${e}`,className:yt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",k,u,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:s,connecting:N,connectionindicator:r&&(i&&!_||s&&_)}]),onMouseDown:E,onTouchStart:E,onClick:x?P:void 0,ref:h,...y},l)});Mm.displayName="Handle";var Ze=T.memo(Mm);const Am=({data:e,isConnectable:t,targetPosition:n=Ce.Top,sourcePosition:r=Ce.Bottom})=>oe.createElement(oe.Fragment,null,oe.createElement(Ze,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,oe.createElement(Ze,{type:"source",position:r,isConnectable:t}));Am.displayName="DefaultNode";var Pc=T.memo(Am);const Pm=({data:e,isConnectable:t,sourcePosition:n=Ce.Bottom})=>oe.createElement(oe.Fragment,null,e==null?void 0:e.label,oe.createElement(Ze,{type:"source",position:n,isConnectable:t}));Pm.displayName="InputNode";var Rm=T.memo(Pm);const Lm=({data:e,isConnectable:t,targetPosition:n=Ce.Top})=>oe.createElement(oe.Fragment,null,oe.createElement(Ze,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);Lm.displayName="OutputNode";var Om=T.memo(Lm);const Ju=()=>null;Ju.displayName="GroupNode";const kk=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),fo=e=>e.id;function _k(e,t){return pt(e.selectedNodes.map(fo),t.selectedNodes.map(fo))&&pt(e.selectedEdges.map(fo),t.selectedEdges.map(fo))}const $m=T.memo(({onSelectionChange:e})=>{const t=dt(),{selectedNodes:n,selectedEdges:r}=Ke(kk,_k);return T.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(s=>s(i))},[n,r,e]),null});$m.displayName="SelectionListener";const Nk=e=>!!e.onSelectionChange;function Sk({onSelectionChange:e}){const t=Ke(Nk);return e||t?oe.createElement($m,{onSelectionChange:e}):null}const zk=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Lr(e,t){T.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Le(e,t,n){T.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const Ek=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:s,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:d,nodesFocusable:m,edgesFocusable:y,edgesUpdatable:h,elevateNodesOnSelect:v,minZoom:g,maxZoom:w,nodeExtent:f,onNodesChange:x,onEdgesChange:k,elementsSelectable:_,connectionMode:N,snapGrid:z,snapToGrid:E,translateExtent:P,connectOnClick:I,defaultEdgeOptions:$,fitView:q,fitViewOptions:D,onNodesDelete:O,onEdgesDelete:p,onNodeDrag:L,onNodeDragStart:H,onNodeDragStop:U,onSelectionDrag:B,onSelectionDragStart:j,onSelectionDragStop:V,noPanClassName:M,nodeOrigin:A,rfId:se,autoPanOnConnect:R,autoPanOnNodeDrag:K,onError:fe,connectionRadius:me,isValidConnection:be,nodeDragThreshold:ve})=>{const{setNodes:te,setEdges:G,setDefaultNodesAndEdges:ce,setMinZoom:pe,setMaxZoom:b,setTranslateExtent:ne,setNodeExtent:J,reset:C}=Ke(zk,pt),S=dt();return T.useEffect(()=>{const Y=r==null?void 0:r.map(le=>({...le,...$}));return ce(n,Y),()=>{C()}},[]),Le("defaultEdgeOptions",$,S.setState),Le("connectionMode",N,S.setState),Le("onConnect",i,S.setState),Le("onConnectStart",s,S.setState),Le("onConnectEnd",o,S.setState),Le("onClickConnectStart",a,S.setState),Le("onClickConnectEnd",l,S.setState),Le("nodesDraggable",u,S.setState),Le("nodesConnectable",d,S.setState),Le("nodesFocusable",m,S.setState),Le("edgesFocusable",y,S.setState),Le("edgesUpdatable",h,S.setState),Le("elementsSelectable",_,S.setState),Le("elevateNodesOnSelect",v,S.setState),Le("snapToGrid",E,S.setState),Le("snapGrid",z,S.setState),Le("onNodesChange",x,S.setState),Le("onEdgesChange",k,S.setState),Le("connectOnClick",I,S.setState),Le("fitViewOnInit",q,S.setState),Le("fitViewOnInitOptions",D,S.setState),Le("onNodesDelete",O,S.setState),Le("onEdgesDelete",p,S.setState),Le("onNodeDrag",L,S.setState),Le("onNodeDragStart",H,S.setState),Le("onNodeDragStop",U,S.setState),Le("onSelectionDrag",B,S.setState),Le("onSelectionDragStart",j,S.setState),Le("onSelectionDragStop",V,S.setState),Le("noPanClassName",M,S.setState),Le("nodeOrigin",A,S.setState),Le("rfId",se,S.setState),Le("autoPanOnConnect",R,S.setState),Le("autoPanOnNodeDrag",K,S.setState),Le("onError",fe,S.setState),Le("connectionRadius",me,S.setState),Le("isValidConnection",be,S.setState),Le("nodeDragThreshold",ve,S.setState),Lr(e,te),Lr(t,G),Lr(g,pe),Lr(w,b),Lr(P,ne),Lr(f,J),null},Gf={display:"none"},Ck={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Fm="react-flow__node-desc",Bm="react-flow__edge-desc",jk="react-flow__aria-live",Dk=e=>e.ariaLiveMessage;function Tk({rfId:e}){const t=Ke(Dk);return oe.createElement("div",{id:`${jk}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Ck},t)}function Ik({rfId:e,disableKeyboardA11y:t}){return oe.createElement(oe.Fragment,null,oe.createElement("div",{id:`${Fm}-${e}`,style:Gf},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),oe.createElement("div",{id:`${Bm}-${e}`,style:Gf},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&oe.createElement(Tk,{rfId:e}))}var Cs=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=T.useState(!1),i=T.useRef(!1),s=T.useRef(new Set([])),[o,a]=T.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.split("+")),d=u.reduce((m,y)=>m.concat(...y),[]);return[u,d]}return[[],[]]},[e]);return T.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const d=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&Tc(h))return!1;const g=Xf(h.code,a);s.current.add(h[g]),Kf(o,s.current,!1)&&(h.preventDefault(),r(!0))},m=h=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&Tc(h))return!1;const g=Xf(h.code,a);Kf(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(h[g]),h.key==="Meta"&&s.current.clear(),i.current=!1},y=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",m),window.addEventListener("blur",y),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",m),window.removeEventListener("blur",y)}}},[e,r]),n};function Kf(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Xf(e,t){return t.includes(e)?"code":"key"}function Um(e,t,n,r){var a,l;const i=e.parentNode||e.parentId;if(!i)return n;const s=t.get(i),o=Nr(s,r);return Um(s,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=s[it])==null?void 0:a.z)??0)>(n.z??0)?((l=s[it])==null?void 0:l.z)??0:n.z??0},r)}function Hm(e,t,n){e.forEach(r=>{var s;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:o,y:a,z:l}=Um(r,e,{...r.position,z:((s=r[it])==null?void 0:s.z)??0},t);r.positionAbsolute={x:o,y:a},r[it].z=l,n!=null&&n[r.id]&&(r[it].isParent=!0)}})}function bl(e,t,n,r){const i=new Map,s={},o=r?1e3:0;return e.forEach(a=>{var h;const l=(Yt(a.zIndex)?a.zIndex:0)+(a.selected?o:0),u=t.get(a.id),d={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},m=a.parentNode||a.parentId;m&&(s[m]=!0);const y=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(d,it,{enumerable:!1,value:{handleBounds:y||(h=u==null?void 0:u[it])==null?void 0:h.handleBounds,z:l}}),i.set(a.id,d)}),Hm(i,n,s),i}function Wm(e,t={}){const{getNodes:n,width:r,height:i,minZoom:s,maxZoom:o,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:m}=e(),y=t.initial&&!u&&d;if(a&&l&&(y||!t.initial)){const v=n().filter(w=>{var x;const f=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return(x=t.nodes)!=null&&x.length?f&&t.nodes.some(k=>k.id===w.id):f}),g=v.every(w=>w.width&&w.height);if(v.length>0&&g){const w=$a(v,m),{x:f,y:x,zoom:k}=jm(w,r,i,t.minZoom??s,t.maxZoom??o,t.padding??.1),_=En.translate(f,x).scale(k);return typeof t.duration=="number"&&t.duration>0?a.transform(hr(l,t.duration),_):a.transform(l,_),!0}}return!1}function Mk(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[it]:r[it],selected:n.selected})}),new Map(t)}function Ak(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function ho({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:s,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:Mk(e,i)}),o==null||o(e)),t!=null&&t.length&&(u&&r({edges:Ak(t,s)}),a==null||a(t))}const Or=()=>{},Pk={zoomIn:Or,zoomOut:Or,zoomTo:Or,getZoom:()=>1,setViewport:Or,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Or,fitBounds:Or,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Rk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Lk=()=>{const e=dt(),{d3Zoom:t,d3Selection:n}=Ke(Rk,pt);return T.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(hr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(hr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,s)=>t.scaleTo(hr(n,s==null?void 0:s.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,s)=>{const[o,a,l]=e.getState().transform,u=En.translate(i.x??o,i.y??a).scale(i.zoom??l);t.transform(hr(n,s==null?void 0:s.duration),u)},getViewport:()=>{const[i,s,o]=e.getState().transform;return{x:i,y:s,zoom:o}},fitView:i=>Wm(e.getState,i),setCenter:(i,s,o)=>{const{width:a,height:l,maxZoom:u}=e.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,m=a/2-i*d,y=l/2-s*d,h=En.translate(m,y).scale(d);t.transform(hr(n,o==null?void 0:o.duration),h)},fitBounds:(i,s)=>{const{width:o,height:a,minZoom:l,maxZoom:u}=e.getState(),{x:d,y:m,zoom:y}=jm(i,o,a,l,u,(s==null?void 0:s.padding)??.1),h=En.translate(d,m).scale(y);t.transform(hr(n,s==null?void 0:s.duration),h)},project:i=>{const{transform:s,snapToGrid:o,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Ac(i,s,o,a)},screenToFlowPosition:i=>{const{transform:s,snapToGrid:o,snapGrid:a,domNode:l}=e.getState();if(!l)return i;const{x:u,y:d}=l.getBoundingClientRect(),m={x:i.x-u,y:i.y-d};return Ac(m,s,o,a)},flowToScreenPosition:i=>{const{transform:s,domNode:o}=e.getState();if(!o)return i;const{x:a,y:l}=o.getBoundingClientRect(),u=zm(i,s);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:Pk,[t,n])};function Fa(){const e=Lk(),t=dt(),n=T.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),r=T.useCallback(g=>t.getState().nodeInternals.get(g),[]),i=T.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(w=>({...w}))},[]),s=T.useCallback(g=>{const{edges:w=[]}=t.getState();return w.find(f=>f.id===g)},[]),o=T.useCallback(g=>{const{getNodes:w,setNodes:f,hasDefaultNodes:x,onNodesChange:k}=t.getState(),_=w(),N=typeof g=="function"?g(_):g;if(x)f(N);else if(k){const z=N.length===0?_.map(E=>({type:"remove",id:E.id})):N.map(E=>({item:E,type:"reset"}));k(z)}},[]),a=T.useCallback(g=>{const{edges:w=[],setEdges:f,hasDefaultEdges:x,onEdgesChange:k}=t.getState(),_=typeof g=="function"?g(w):g;if(x)f(_);else if(k){const N=_.length===0?w.map(z=>({type:"remove",id:z.id})):_.map(z=>({item:z,type:"reset"}));k(N)}},[]),l=T.useCallback(g=>{const w=Array.isArray(g)?g:[g],{getNodes:f,setNodes:x,hasDefaultNodes:k,onNodesChange:_}=t.getState();if(k){const z=[...f(),...w];x(z)}else if(_){const N=w.map(z=>({item:z,type:"add"}));_(N)}},[]),u=T.useCallback(g=>{const w=Array.isArray(g)?g:[g],{edges:f=[],setEdges:x,hasDefaultEdges:k,onEdgesChange:_}=t.getState();if(k)x([...f,...w]);else if(_){const N=w.map(z=>({item:z,type:"add"}));_(N)}},[]),d=T.useCallback(()=>{const{getNodes:g,edges:w=[],transform:f}=t.getState(),[x,k,_]=f;return{nodes:g().map(N=>({...N})),edges:w.map(N=>({...N})),viewport:{x,y:k,zoom:_}}},[]),m=T.useCallback(({nodes:g,edges:w})=>{const{nodeInternals:f,getNodes:x,edges:k,hasDefaultNodes:_,hasDefaultEdges:N,onNodesDelete:z,onEdgesDelete:E,onNodesChange:P,onEdgesChange:I}=t.getState(),$=(g||[]).map(L=>L.id),q=(w||[]).map(L=>L.id),D=x().reduce((L,H)=>{const U=H.parentNode||H.parentId,B=!$.includes(H.id)&&U&&L.find(V=>V.id===U);return(typeof H.deletable=="boolean"?H.deletable:!0)&&($.includes(H.id)||B)&&L.push(H),L},[]),O=k.filter(L=>typeof L.deletable=="boolean"?L.deletable:!0),p=O.filter(L=>q.includes(L.id));if(D||p){const L=Cm(D,O),H=[...p,...L],U=H.reduce((B,j)=>(B.includes(j.id)||B.push(j.id),B),[]);if((N||_)&&(N&&t.setState({edges:k.filter(B=>!U.includes(B.id))}),_&&(D.forEach(B=>{f.delete(B.id)}),t.setState({nodeInternals:new Map(f)}))),U.length>0&&(E==null||E(H),I&&I(U.map(B=>({id:B,type:"remove"})))),D.length>0&&(z==null||z(D),P)){const B=D.map(j=>({id:j.id,type:"remove"}));P(B)}}},[]),y=T.useCallback(g=>{const w=ik(g),f=w?null:t.getState().nodeInternals.get(g.id);return!w&&!f?[null,null,w]:[w?g:Bf(f),f,w]},[]),h=T.useCallback((g,w=!0,f)=>{const[x,k,_]=y(g);return x?(f||t.getState().getNodes()).filter(N=>{if(!_&&(N.id===k.id||!N.positionAbsolute))return!1;const z=Bf(N),E=Dc(z,x);return w&&E>0||E>=x.width*x.height}):[]},[]),v=T.useCallback((g,w,f=!0)=>{const[x]=y(g);if(!x)return!1;const k=Dc(x,w);return f&&k>0||k>=x.width*x.height},[]);return T.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:s,setNodes:o,setEdges:a,addNodes:l,addEdges:u,toObject:d,deleteElements:m,getIntersectingNodes:h,isNodeIntersecting:v}),[e,n,r,i,s,o,a,l,u,d,m,h,v])}const Ok={actInsideInputWithModifier:!1};var $k=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=dt(),{deleteElements:r}=Fa(),i=Cs(e,Ok),s=Cs(t);T.useEffect(()=>{if(i){const{edges:o,getNodes:a}=n.getState(),l=a().filter(d=>d.selected),u=o.filter(d=>d.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),T.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function Fk(e){const t=dt();T.useEffect(()=>{let n;const r=()=>{var s,o;if(!e.current)return;const i=Zu(e.current);(i.height===0||i.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",Mn.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const ed={position:"absolute",width:"100%",height:"100%",top:0,left:0},Bk=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,po=e=>({x:e.x,y:e.y,zoom:e.k}),$r=(e,t)=>e.target.closest(`.${t}`),qf=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Qf=e=>{const t=e.ctrlKey&&ua()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},Uk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Hk=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=wr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:m=!0,defaultViewport:y,translateExtent:h,minZoom:v,maxZoom:g,zoomActivationKeyCode:w,preventScrolling:f=!0,children:x,noWheelClassName:k,noPanClassName:_})=>{const N=T.useRef(),z=dt(),E=T.useRef(!1),P=T.useRef(!1),I=T.useRef(null),$=T.useRef({x:0,y:0,zoom:0}),{d3Zoom:q,d3Selection:D,d3ZoomHandler:O,userSelectionActive:p}=Ke(Uk,pt),L=Cs(w),H=T.useRef(0),U=T.useRef(!1),B=T.useRef();return Fk(I),T.useEffect(()=>{if(I.current){const j=I.current.getBoundingClientRect(),V=hm().scaleExtent([v,g]).translateExtent(h),M=Vt(I.current).call(V),A=En.translate(y.x,y.y).scale(bi(y.zoom,v,g)),se=[[0,0],[j.width,j.height]],R=V.constrain()(A,se,h);V.transform(M,R),V.wheelDelta(Qf),z.setState({d3Zoom:V,d3Selection:M,d3ZoomHandler:M.on("wheel.zoom"),transform:[R.x,R.y,R.k],domNode:I.current.closest(".react-flow")})}},[]),T.useEffect(()=>{D&&q&&(o&&!L&&!p?D.on("wheel.zoom",j=>{if($r(j,k))return!1;j.preventDefault(),j.stopImmediatePropagation();const V=D.property("__zoom").k||1;if(j.ctrlKey&&s){const be=nn(j),ve=Qf(j),te=V*Math.pow(2,ve);q.scaleTo(D,te,be,j);return}const M=j.deltaMode===1?20:1;let A=l===wr.Vertical?0:j.deltaX*M,se=l===wr.Horizontal?0:j.deltaY*M;!ua()&&j.shiftKey&&l!==wr.Vertical&&(A=j.deltaY*M,se=0),q.translateBy(D,-(A/V)*a,-(se/V)*a,{internal:!0});const R=po(D.property("__zoom")),{onViewportChangeStart:K,onViewportChange:fe,onViewportChangeEnd:me}=z.getState();clearTimeout(B.current),U.current||(U.current=!0,t==null||t(j,R),K==null||K(R)),U.current&&(e==null||e(j,R),fe==null||fe(R),B.current=setTimeout(()=>{n==null||n(j,R),me==null||me(R),U.current=!1},150))},{passive:!1}):typeof O<"u"&&D.on("wheel.zoom",function(j,V){if(!f&&j.type==="wheel"&&!j.ctrlKey||$r(j,k))return null;j.preventDefault(),O.call(this,j,V)},{passive:!1}))},[p,o,l,D,q,O,L,s,f,k,t,e,n]),T.useEffect(()=>{q&&q.on("start",j=>{var A,se;if(!j.sourceEvent||j.sourceEvent.internal)return null;H.current=(A=j.sourceEvent)==null?void 0:A.button;const{onViewportChangeStart:V}=z.getState(),M=po(j.transform);E.current=!0,$.current=M,((se=j.sourceEvent)==null?void 0:se.type)==="mousedown"&&z.setState({paneDragging:!0}),V==null||V(M),t==null||t(j.sourceEvent,M)})},[q,t]),T.useEffect(()=>{q&&(p&&!E.current?q.on("zoom",null):p||q.on("zoom",j=>{var M;const{onViewportChange:V}=z.getState();if(z.setState({transform:[j.transform.x,j.transform.y,j.transform.k]}),P.current=!!(r&&qf(m,H.current??0)),(e||V)&&!((M=j.sourceEvent)!=null&&M.internal)){const A=po(j.transform);V==null||V(A),e==null||e(j.sourceEvent,A)}}))},[p,q,e,m,r]),T.useEffect(()=>{q&&q.on("end",j=>{if(!j.sourceEvent||j.sourceEvent.internal)return null;const{onViewportChangeEnd:V}=z.getState();if(E.current=!1,z.setState({paneDragging:!1}),r&&qf(m,H.current??0)&&!P.current&&r(j.sourceEvent),P.current=!1,(n||V)&&Bk($.current,j.transform)){const M=po(j.transform);$.current=M,clearTimeout(N.current),N.current=setTimeout(()=>{V==null||V(M),n==null||n(j.sourceEvent,M)},o?150:0)}})},[q,o,m,n,r]),T.useEffect(()=>{q&&q.filter(j=>{const V=L||i,M=s&&j.ctrlKey;if((m===!0||Array.isArray(m)&&m.includes(1))&&j.button===1&&j.type==="mousedown"&&($r(j,"react-flow__node")||$r(j,"react-flow__edge")))return!0;if(!m&&!V&&!o&&!u&&!s||p||!u&&j.type==="dblclick"||$r(j,k)&&j.type==="wheel"||$r(j,_)&&(j.type!=="wheel"||o&&j.type==="wheel"&&!L)||!s&&j.ctrlKey&&j.type==="wheel"||!V&&!o&&!M&&j.type==="wheel"||!m&&(j.type==="mousedown"||j.type==="touchstart")||Array.isArray(m)&&!m.includes(j.button)&&j.type==="mousedown")return!1;const A=Array.isArray(m)&&m.includes(j.button)||!j.button||j.button<=1;return(!j.ctrlKey||j.type==="wheel")&&A})},[p,q,i,s,o,u,m,d,L]),oe.createElement("div",{className:"react-flow__renderer",ref:I,style:ed},x)},Wk=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Vk(){const{userSelectionActive:e,userSelectionRect:t}=Ke(Wk,pt);return e&&t?oe.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Jf(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(i>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),s>0&&(r.style.height+=s),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Vm(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const s=e.filter(a=>a.id===i.id);if(s.length===0)return r.push(i),r;const o={...i};for(const a of s)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&Jf(r,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&Jf(r,o);break}case"remove":return r}return r.push(o),r},n)}function Zm(e,t){return Vm(e,t)}function Zk(e,t){return Vm(e,t)}const Un=(e,t)=>({id:e,type:"select",selected:t});function ti(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Un(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Un(r.id,!1))),n},[])}const kl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Yk=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Ym=T.memo(({isSelecting:e,selectionMode:t=zs.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:d,children:m})=>{const y=T.useRef(null),h=dt(),v=T.useRef(0),g=T.useRef(0),w=T.useRef(),{userSelectionActive:f,elementsSelectable:x,dragging:k}=Ke(Yk,pt),_=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,g.current=0},N=O=>{s==null||s(O),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},z=O=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){O.preventDefault();return}o==null||o(O)},E=a?O=>a(O):void 0,P=O=>{const{resetSelectedElements:p,domNode:L}=h.getState();if(w.current=L==null?void 0:L.getBoundingClientRect(),!x||!e||O.button!==0||O.target!==y.current||!w.current)return;const{x:H,y:U}=nr(O,w.current);p(),h.setState({userSelectionRect:{width:0,height:0,startX:H,startY:U,x:H,y:U}}),r==null||r(O)},I=O=>{const{userSelectionRect:p,nodeInternals:L,edges:H,transform:U,onNodesChange:B,onEdgesChange:j,nodeOrigin:V,getNodes:M}=h.getState();if(!e||!w.current||!p)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const A=nr(O,w.current),se=p.startX??0,R=p.startY??0,K={...p,x:A.x<se?A.x:se,y:A.y<R?A.y:R,width:Math.abs(A.x-se),height:Math.abs(A.y-R)},fe=M(),me=Em(L,K,U,t===zs.Partial,!0,V),be=Cm(me,H).map(te=>te.id),ve=me.map(te=>te.id);if(v.current!==ve.length){v.current=ve.length;const te=ti(fe,ve);te.length&&(B==null||B(te))}if(g.current!==be.length){g.current=be.length;const te=ti(H,be);te.length&&(j==null||j(te))}h.setState({userSelectionRect:K})},$=O=>{if(O.button!==0)return;const{userSelectionRect:p}=h.getState();!f&&p&&O.target===y.current&&(N==null||N(O)),h.setState({nodesSelectionActive:v.current>0}),_(),i==null||i(O)},q=O=>{f&&(h.setState({nodesSelectionActive:v.current>0}),i==null||i(O)),_()},D=x&&(e||f);return oe.createElement("div",{className:yt(["react-flow__pane",{dragging:k,selection:e}]),onClick:D?void 0:kl(N,y),onContextMenu:kl(z,y),onWheel:kl(E,y),onMouseEnter:D?void 0:l,onMouseDown:D?P:void 0,onMouseMove:D?I:u,onMouseUp:D?$:void 0,onMouseLeave:D?q:d,ref:y,style:ed},m,oe.createElement(Vk,null))});Ym.displayName="Pane";function Gm(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:Gm(r,t):!1}function eh(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Gk(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!Gm(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var s,o;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=i.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((o=i.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function Kk(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Km(e,t,n,r,i=[0,0],s){const o=Kk(e,e.extent||r);let a=o;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const m=n.get(l),{x:y,y:h}=Nr(m,i).positionAbsolute;a=m&&Yt(y)&&Yt(h)&&Yt(m.width)&&Yt(m.height)?[[y+e.width*i[0],h+e.height*i[1]],[y+m.width-e.width+e.width*i[0],h+m.height-e.height+e.height*i[1]]]:a}else s==null||s("005",Mn.error005()),a=o;else if(e.extent&&l&&e.extent!=="parent"){const m=n.get(l),{x:y,y:h}=Nr(m,i).positionAbsolute;a=[[e.extent[0][0]+y,e.extent[0][1]+h],[e.extent[1][0]+y,e.extent[1][1]+h]]}let u={x:0,y:0};if(l){const m=n.get(l);u=Nr(m,i).positionAbsolute}const d=a&&a!=="parent"?Yu(t,a):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function _l({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const th=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const s=Array.from(i),o=t.getBoundingClientRect(),a={x:o.width*r[0],y:o.height*r[1]};return s.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-o.left-a.x)/n,y:(u.top-o.top-a.y)/n,...Zu(l)}})};function Li(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function Rc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeInternals:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",Mn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):i([e])}function Xk(){const e=dt();return T.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:s}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:s?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:s?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function Nl(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Xm({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,selectNodesOnDrag:o}){const a=dt(),[l,u]=T.useState(!1),d=T.useRef([]),m=T.useRef({x:null,y:null}),y=T.useRef(0),h=T.useRef(null),v=T.useRef({x:0,y:0}),g=T.useRef(null),w=T.useRef(!1),f=T.useRef(!1),x=T.useRef(!1),k=Xk();return T.useEffect(()=>{if(e!=null&&e.current){const _=Vt(e.current),N=({x:P,y:I})=>{const{nodeInternals:$,onNodeDrag:q,onSelectionDrag:D,updateNodePositions:O,nodeExtent:p,snapGrid:L,snapToGrid:H,nodeOrigin:U,onError:B}=a.getState();m.current={x:P,y:I};let j=!1,V={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&p){const A=$a(d.current,U);V=Ss(A)}if(d.current=d.current.map(A=>{const se={x:P-A.distance.x,y:I-A.distance.y};H&&(se.x=L[0]*Math.round(se.x/L[0]),se.y=L[1]*Math.round(se.y/L[1]));const R=[[p[0][0],p[0][1]],[p[1][0],p[1][1]]];d.current.length>1&&p&&!A.extent&&(R[0][0]=A.positionAbsolute.x-V.x+p[0][0],R[1][0]=A.positionAbsolute.x+(A.width??0)-V.x2+p[1][0],R[0][1]=A.positionAbsolute.y-V.y+p[0][1],R[1][1]=A.positionAbsolute.y+(A.height??0)-V.y2+p[1][1]);const K=Km(A,se,$,R,U,B);return j=j||A.position.x!==K.position.x||A.position.y!==K.position.y,A.position=K.position,A.positionAbsolute=K.positionAbsolute,A}),!j)return;O(d.current,!0,!0),u(!0);const M=i?q:Nl(D);if(M&&g.current){const[A,se]=_l({nodeId:i,dragItems:d.current,nodeInternals:$});M(g.current,A,se)}},z=()=>{if(!h.current)return;const[P,I]=mm(v.current,h.current);if(P!==0||I!==0){const{transform:$,panBy:q}=a.getState();m.current.x=(m.current.x??0)-P/$[2],m.current.y=(m.current.y??0)-I/$[2],q({x:P,y:I})&&N(m.current)}y.current=requestAnimationFrame(z)},E=P=>{var U;const{nodeInternals:I,multiSelectionActive:$,nodesDraggable:q,unselectNodesAndEdges:D,onNodeDragStart:O,onSelectionDragStart:p}=a.getState();f.current=!0;const L=i?O:Nl(p);(!o||!s)&&!$&&i&&((U=I.get(i))!=null&&U.selected||D()),i&&s&&o&&Rc({id:i,store:a,nodeRef:e});const H=k(P);if(m.current=H,d.current=Gk(I,q,H,i),L&&d.current){const[B,j]=_l({nodeId:i,dragItems:d.current,nodeInternals:I});L(P.sourceEvent,B,j)}};if(t)_.on(".drag",null);else{const P=l2().on("start",I=>{const{domNode:$,nodeDragThreshold:q}=a.getState();q===0&&E(I),x.current=!1;const D=k(I);m.current=D,h.current=($==null?void 0:$.getBoundingClientRect())||null,v.current=nr(I.sourceEvent,h.current)}).on("drag",I=>{var O,p;const $=k(I),{autoPanOnNodeDrag:q,nodeDragThreshold:D}=a.getState();if(I.sourceEvent.type==="touchmove"&&I.sourceEvent.touches.length>1&&(x.current=!0),!x.current){if(!w.current&&f.current&&q&&(w.current=!0,z()),!f.current){const L=$.xSnapped-(((O=m==null?void 0:m.current)==null?void 0:O.x)??0),H=$.ySnapped-(((p=m==null?void 0:m.current)==null?void 0:p.y)??0);Math.sqrt(L*L+H*H)>D&&E(I)}(m.current.x!==$.xSnapped||m.current.y!==$.ySnapped)&&d.current&&f.current&&(g.current=I.sourceEvent,v.current=nr(I.sourceEvent,h.current),N($))}}).on("end",I=>{if(!(!f.current||x.current)&&(u(!1),w.current=!1,f.current=!1,cancelAnimationFrame(y.current),d.current)){const{updateNodePositions:$,nodeInternals:q,onNodeDragStop:D,onSelectionDragStop:O}=a.getState(),p=i?D:Nl(O);if($(d.current,!1,!1),p){const[L,H]=_l({nodeId:i,dragItems:d.current,nodeInternals:q});p(I.sourceEvent,L,H)}}}).filter(I=>{const $=I.target;return!I.button&&(!n||!eh($,`.${n}`,e))&&(!r||eh($,r,e))});return _.call(P),()=>{_.on(".drag",null)}}}},[e,t,n,r,s,a,i,o,k]),l}function qm(){const e=dt();return T.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:s,getNodes:o,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:d}=e.getState(),m=o().filter(x=>x.selected&&(x.draggable||d&&typeof x.draggable>"u")),y=a?l[0]:5,h=a?l[1]:5,v=n.isShiftPressed?4:1,g=n.x*y*v,w=n.y*h*v,f=m.map(x=>{if(x.positionAbsolute){const k={x:x.positionAbsolute.x+g,y:x.positionAbsolute.y+w};a&&(k.x=l[0]*Math.round(k.x/l[0]),k.y=l[1]*Math.round(k.y/l[1]));const{positionAbsolute:_,position:N}=Km(x,k,r,i,void 0,u);x.position=N,x.positionAbsolute=_}return x});s(f,!0,!1)},[])}const ui={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Oi=e=>{const t=({id:n,type:r,data:i,xPos:s,yPos:o,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:d,onMouseEnter:m,onMouseMove:y,onMouseLeave:h,onContextMenu:v,onDoubleClick:g,style:w,className:f,isDraggable:x,isSelectable:k,isConnectable:_,isFocusable:N,selectNodesOnDrag:z,sourcePosition:E,targetPosition:P,hidden:I,resizeObserver:$,dragHandle:q,zIndex:D,isParent:O,noDragClassName:p,noPanClassName:L,initialized:H,disableKeyboardA11y:U,ariaLabel:B,rfId:j,hasHandleBounds:V})=>{const M=dt(),A=T.useRef(null),se=T.useRef(null),R=T.useRef(E),K=T.useRef(P),fe=T.useRef(r),me=k||x||d||m||y||h,be=qm(),ve=Li(n,M.getState,m),te=Li(n,M.getState,y),G=Li(n,M.getState,h),ce=Li(n,M.getState,v),pe=Li(n,M.getState,g),b=C=>{const{nodeDragThreshold:S}=M.getState();if(k&&(!z||!x||S>0)&&Rc({id:n,store:M,nodeRef:A}),d){const Y=M.getState().nodeInternals.get(n);Y&&d(C,{...Y})}},ne=C=>{if(!Tc(C)&&!U)if(vm.includes(C.key)&&k){const S=C.key==="Escape";Rc({id:n,store:M,unselect:S,nodeRef:A})}else x&&u&&Object.prototype.hasOwnProperty.call(ui,C.key)&&(M.setState({ariaLiveMessage:`Moved selected node ${C.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~o}`}),be({x:ui[C.key].x,y:ui[C.key].y,isShiftPressed:C.shiftKey}))};T.useEffect(()=>()=>{se.current&&($==null||$.unobserve(se.current),se.current=null)},[]),T.useEffect(()=>{if(A.current&&!I){const C=A.current;(!H||!V||se.current!==C)&&(se.current&&($==null||$.unobserve(se.current)),$==null||$.observe(C),se.current=C)}},[I,H,V]),T.useEffect(()=>{const C=fe.current!==r,S=R.current!==E,Y=K.current!==P;A.current&&(C||S||Y)&&(C&&(fe.current=r),S&&(R.current=E),Y&&(K.current=P),M.getState().updateNodeDimensions([{id:n,nodeElement:A.current,forceUpdate:!0}]))},[n,r,E,P]);const J=Xm({nodeRef:A,disabled:I||!x,noDragClassName:p,handleSelector:q,nodeId:n,isSelectable:k,selectNodesOnDrag:z});return I?null:oe.createElement("div",{className:yt(["react-flow__node",`react-flow__node-${r}`,{[L]:x},f,{selected:u,selectable:k,parent:O,dragging:J}]),ref:A,style:{zIndex:D,transform:`translate(${a}px,${l}px)`,pointerEvents:me?"all":"none",visibility:H?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ve,onMouseMove:te,onMouseLeave:G,onContextMenu:ce,onClick:b,onDoubleClick:pe,onKeyDown:N?ne:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":U?void 0:`${Fm}-${j}`,"aria-label":B},oe.createElement(dk,{value:n},oe.createElement(e,{id:n,data:i,type:r,xPos:s,yPos:o,selected:u,isConnectable:_,sourcePosition:E,targetPosition:P,dragging:J,dragHandle:q,zIndex:D})))};return t.displayName="NodeWrapper",T.memo(t)};const qk=e=>{const t=e.getNodes().filter(n=>n.selected);return{...$a(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function Qk({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=dt(),{width:i,height:s,x:o,y:a,transformString:l,userSelectionActive:u}=Ke(qk,pt),d=qm(),m=T.useRef(null);if(T.useEffect(()=>{var v;n||(v=m.current)==null||v.focus({preventScroll:!0})},[n]),Xm({nodeRef:m}),u||!i||!s)return null;const y=e?v=>{const g=r.getState().getNodes().filter(w=>w.selected);e(v,g)}:void 0,h=v=>{Object.prototype.hasOwnProperty.call(ui,v.key)&&d({x:ui[v.key].x,y:ui[v.key].y,isShiftPressed:v.shiftKey})};return oe.createElement("div",{className:yt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},oe.createElement("div",{ref:m,className:"react-flow__nodesselection-rect",onContextMenu:y,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:s,top:a,left:o}}))}var Jk=T.memo(Qk);const e_=e=>e.nodesSelectionActive,Qm=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:d,selectionKeyCode:m,selectionOnDrag:y,selectionMode:h,onSelectionStart:v,onSelectionEnd:g,multiSelectionKeyCode:w,panActivationKeyCode:f,zoomActivationKeyCode:x,elementsSelectable:k,zoomOnScroll:_,zoomOnPinch:N,panOnScroll:z,panOnScrollSpeed:E,panOnScrollMode:P,zoomOnDoubleClick:I,panOnDrag:$,defaultViewport:q,translateExtent:D,minZoom:O,maxZoom:p,preventScrolling:L,onSelectionContextMenu:H,noWheelClassName:U,noPanClassName:B,disableKeyboardA11y:j})=>{const V=Ke(e_),M=Cs(m),A=Cs(f),se=A||$,R=A||z,K=M||y&&se!==!0;return $k({deleteKeyCode:a,multiSelectionKeyCode:w}),oe.createElement(Hk,{onMove:l,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:s,elementsSelectable:k,zoomOnScroll:_,zoomOnPinch:N,panOnScroll:R,panOnScrollSpeed:E,panOnScrollMode:P,zoomOnDoubleClick:I,panOnDrag:!M&&se,defaultViewport:q,translateExtent:D,minZoom:O,maxZoom:p,zoomActivationKeyCode:x,preventScrolling:L,noWheelClassName:U,noPanClassName:B},oe.createElement(Ym,{onSelectionStart:v,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:se,isSelecting:!!K,selectionMode:h},e,V&&oe.createElement(Jk,{onSelectionContextMenu:H,noPanClassName:B,disableKeyboardA11y:j})))};Qm.displayName="FlowRenderer";var t_=T.memo(Qm);function n_(e){return Ke(T.useCallback(n=>e?Em(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function r_(e){const t={input:Oi(e.input||Rm),default:Oi(e.default||Pc),output:Oi(e.output||Om),group:Oi(e.group||Ju)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=Oi(e[s]||Pc),i),n);return{...t,...r}}const i_=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},s_=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Jm=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:s,onError:o}=Ke(s_,pt),a=n_(e.onlyRenderVisibleElements),l=T.useRef(),u=T.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(m=>{const y=m.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));s(y)});return l.current=d,d},[]);return T.useEffect(()=>()=>{var d;(d=l==null?void 0:l.current)==null||d.disconnect()},[]),oe.createElement("div",{className:"react-flow__nodes",style:ed},a.map(d=>{var N,z,E;let m=d.type||"default";e.nodeTypes[m]||(o==null||o("003",Mn.error003(m)),m="default");const y=e.nodeTypes[m]||e.nodeTypes.default,h=!!(d.draggable||t&&typeof d.draggable>"u"),v=!!(d.selectable||i&&typeof d.selectable>"u"),g=!!(d.connectable||n&&typeof d.connectable>"u"),w=!!(d.focusable||r&&typeof d.focusable>"u"),f=e.nodeExtent?Yu(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,x=(f==null?void 0:f.x)??0,k=(f==null?void 0:f.y)??0,_=i_({x,y:k,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return oe.createElement(y,{key:d.id,id:d.id,className:d.className,style:d.style,type:m,data:d.data,sourcePosition:d.sourcePosition||Ce.Bottom,targetPosition:d.targetPosition||Ce.Top,hidden:d.hidden,xPos:x,yPos:k,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:h,isSelectable:v,isConnectable:g,isFocusable:w,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((N=d[it])==null?void 0:N.z)??0,isParent:!!((z=d[it])!=null&&z.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((E=d[it])!=null&&E.handleBounds)})}))};Jm.displayName="NodeRenderer";var o_=T.memo(Jm);const a_=(e,t,n)=>n===Ce.Left?e-t:n===Ce.Right?e+t:e,l_=(e,t,n)=>n===Ce.Top?e-t:n===Ce.Bottom?e+t:e,nh="react-flow__edgeupdater",rh=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a})=>oe.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:yt([nh,`${nh}-${a}`]),cx:a_(t,r,e),cy:l_(n,r,e),r,stroke:"transparent",fill:"transparent"}),c_=()=>!0;var Fr=e=>{const t=({id:n,className:r,type:i,data:s,onClick:o,onEdgeDoubleClick:a,selected:l,animated:u,label:d,labelStyle:m,labelShowBg:y,labelBgStyle:h,labelBgPadding:v,labelBgBorderRadius:g,style:w,source:f,target:x,sourceX:k,sourceY:_,targetX:N,targetY:z,sourcePosition:E,targetPosition:P,elementsSelectable:I,hidden:$,sourceHandleId:q,targetHandleId:D,onContextMenu:O,onMouseEnter:p,onMouseMove:L,onMouseLeave:H,reconnectRadius:U,onReconnect:B,onReconnectStart:j,onReconnectEnd:V,markerEnd:M,markerStart:A,rfId:se,ariaLabel:R,isFocusable:K,isReconnectable:fe,pathOptions:me,interactionWidth:be,disableKeyboardA11y:ve})=>{const te=T.useRef(null),[G,ce]=T.useState(!1),[pe,b]=T.useState(!1),ne=dt(),J=T.useMemo(()=>`url('#${Mc(A,se)}')`,[A,se]),C=T.useMemo(()=>`url('#${Mc(M,se)}')`,[M,se]);if($)return null;const S=Ue=>{var xe;const{edges:ee,addSelectedEdges:re,unselectNodesAndEdges:he,multiSelectionActive:ge}=ne.getState(),we=ee.find(Me=>Me.id===n);we&&(I&&(ne.setState({nodesSelectionActive:!1}),we.selected&&ge?(he({nodes:[],edges:[we]}),(xe=te.current)==null||xe.blur()):re([n])),o&&o(Ue,we))},Y=Ri(n,ne.getState,a),le=Ri(n,ne.getState,O),X=Ri(n,ne.getState,p),W=Ri(n,ne.getState,L),ae=Ri(n,ne.getState,H),ue=(Ue,ee)=>{if(Ue.button!==0)return;const{edges:re,isValidConnection:he}=ne.getState(),ge=ee?x:f,we=(ee?D:q)||null,xe=ee?"target":"source",Me=he||c_,Re=ee,Be=re.find(Se=>Se.id===n);b(!0),j==null||j(Ue,Be,xe);const ie=Se=>{b(!1),V==null||V(Se,Be,xe)};Im({event:Ue,handleId:we,nodeId:ge,onConnect:Se=>B==null?void 0:B(Be,Se),isTarget:Re,getState:ne.getState,setState:ne.setState,isValidConnection:Me,edgeUpdaterType:xe,onReconnectEnd:ie})},de=Ue=>ue(Ue,!0),Ee=Ue=>ue(Ue,!1),Pe=()=>ce(!0),Te=()=>ce(!1),Oe=!I&&!o,at=Ue=>{var ee;if(!ve&&vm.includes(Ue.key)&&I){const{unselectNodesAndEdges:re,addSelectedEdges:he,edges:ge}=ne.getState();Ue.key==="Escape"?((ee=te.current)==null||ee.blur(),re({edges:[ge.find(xe=>xe.id===n)]})):he([n])}};return oe.createElement("g",{className:yt(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:Oe,updating:G}]),onClick:S,onDoubleClick:Y,onContextMenu:le,onMouseEnter:X,onMouseMove:W,onMouseLeave:ae,onKeyDown:K?at:void 0,tabIndex:K?0:void 0,role:K?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":R===null?void 0:R||`Edge from ${f} to ${x}`,"aria-describedby":K?`${Bm}-${se}`:void 0,ref:te},!pe&&oe.createElement(e,{id:n,source:f,target:x,selected:l,animated:u,label:d,labelStyle:m,labelShowBg:y,labelBgStyle:h,labelBgPadding:v,labelBgBorderRadius:g,data:s,style:w,sourceX:k,sourceY:_,targetX:N,targetY:z,sourcePosition:E,targetPosition:P,sourceHandleId:q,targetHandleId:D,markerStart:J,markerEnd:C,pathOptions:me,interactionWidth:be}),fe&&oe.createElement(oe.Fragment,null,(fe==="source"||fe===!0)&&oe.createElement(rh,{position:E,centerX:k,centerY:_,radius:U,onMouseDown:de,onMouseEnter:Pe,onMouseOut:Te,type:"source"}),(fe==="target"||fe===!0)&&oe.createElement(rh,{position:P,centerX:N,centerY:z,radius:U,onMouseDown:Ee,onMouseEnter:Pe,onMouseOut:Te,type:"target"})))};return t.displayName="EdgeWrapper",T.memo(t)};function u_(e){const t={default:Fr(e.default||da),straight:Fr(e.bezier||Xu),step:Fr(e.step||Ku),smoothstep:Fr(e.step||Oa),simplebezier:Fr(e.simplebezier||Gu)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=Fr(e[s]||da),i),n);return{...t,...r}}function ih(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case Ce.Top:return{x:r+s/2,y:i};case Ce.Right:return{x:r+s,y:i+o/2};case Ce.Bottom:return{x:r+s/2,y:i+o};case Ce.Left:return{x:r,y:i+o/2}}}function sh(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const d_=(e,t,n,r,i,s)=>{const o=ih(n,e,t),a=ih(s,r,i);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function f_({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:s,width:o,height:a,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Ss({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:a/l[2]}),m=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),y=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(m*y)>0}function oh(e){var r,i,s,o,a;const t=((r=e==null?void 0:e[it])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const h_=[{level:0,isMaxLevel:!0,edges:[]}];function p_(e,t,n=!1){let r=-1;const i=e.reduce((o,a)=>{var d,m;const l=Yt(a.zIndex);let u=l?a.zIndex:0;if(n){const y=t.get(a.target),h=t.get(a.source),v=a.selected||(y==null?void 0:y.selected)||(h==null?void 0:h.selected),g=Math.max(((d=h==null?void 0:h[it])==null?void 0:d.z)||0,((m=y==null?void 0:y[it])==null?void 0:m.z)||0,1e3);u=(l?a.zIndex:0)+(v?g:0)}return o[u]?o[u].push(a):o[u]=[a],r=u>r?u:r,o},{}),s=Object.entries(i).map(([o,a])=>{const l=+o;return{edges:a,level:l,isMaxLevel:l===r}});return s.length===0?h_:s}function m_(e,t,n){const r=Ke(T.useCallback(i=>e?i.edges.filter(s=>{const o=t.get(s.source),a=t.get(s.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&f_({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return p_(r,t,n)}const g_=({color:e="none",strokeWidth:t=1})=>oe.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),x_=({color:e="none",strokeWidth:t=1})=>oe.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),ah={[Es.Arrow]:g_,[Es.ArrowClosed]:x_};function y_(e){const t=dt();return T.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(ah,e)?ah[e]:((s=(i=t.getState()).onError)==null||s.call(i,"009",Mn.error009(e)),null)},[e])}const v_=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=y_(t);return l?oe.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0"},oe.createElement(l,{color:n,strokeWidth:o})):null},w_=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=Mc(o,t);r.includes(a)||(i.push({id:a,color:o.color||e,...o}),r.push(a))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},eg=({defaultColor:e,rfId:t})=>{const n=Ke(T.useCallback(w_({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((s,o)=>s.id!==i[o].id)));return oe.createElement("defs",null,n.map(r=>oe.createElement(v_,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};eg.displayName="MarkerDefinitions";var b_=T.memo(eg);const k_=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),tg=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:m,onReconnect:y,onReconnectStart:h,onReconnectEnd:v,reconnectRadius:g,children:w,disableKeyboardA11y:f})=>{const{edgesFocusable:x,edgesUpdatable:k,elementsSelectable:_,width:N,height:z,connectionMode:E,nodeInternals:P,onError:I}=Ke(k_,pt),$=m_(t,P,n);return N?oe.createElement(oe.Fragment,null,$.map(({level:q,edges:D,isMaxLevel:O})=>oe.createElement("svg",{key:q,style:{zIndex:q},width:N,height:z,className:"react-flow__edges react-flow__container"},O&&oe.createElement(b_,{defaultColor:e,rfId:r}),oe.createElement("g",null,D.map(p=>{const[L,H,U]=oh(P.get(p.source)),[B,j,V]=oh(P.get(p.target));if(!U||!V)return null;let M=p.type||"default";i[M]||(I==null||I("011",Mn.error011(M)),M="default");const A=i[M]||i.default,se=E===sr.Strict?j.target:(j.target??[]).concat(j.source??[]),R=sh(H.source,p.sourceHandle),K=sh(se,p.targetHandle),fe=(R==null?void 0:R.position)||Ce.Bottom,me=(K==null?void 0:K.position)||Ce.Top,be=!!(p.focusable||x&&typeof p.focusable>"u"),ve=p.reconnectable||p.updatable,te=typeof y<"u"&&(ve||k&&typeof ve>"u");if(!R||!K)return I==null||I("008",Mn.error008(R,p)),null;const{sourceX:G,sourceY:ce,targetX:pe,targetY:b}=d_(L,R,fe,B,K,me);return oe.createElement(A,{key:p.id,id:p.id,className:yt([p.className,s]),type:M,data:p.data,selected:!!p.selected,animated:!!p.animated,hidden:!!p.hidden,label:p.label,labelStyle:p.labelStyle,labelShowBg:p.labelShowBg,labelBgStyle:p.labelBgStyle,labelBgPadding:p.labelBgPadding,labelBgBorderRadius:p.labelBgBorderRadius,style:p.style,source:p.source,target:p.target,sourceHandleId:p.sourceHandle,targetHandleId:p.targetHandle,markerEnd:p.markerEnd,markerStart:p.markerStart,sourceX:G,sourceY:ce,targetX:pe,targetY:b,sourcePosition:fe,targetPosition:me,elementsSelectable:_,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:d,onEdgeDoubleClick:m,onReconnect:y,onReconnectStart:h,onReconnectEnd:v,reconnectRadius:g,rfId:r,ariaLabel:p.ariaLabel,isFocusable:be,isReconnectable:te,pathOptions:"pathOptions"in p?p.pathOptions:void 0,interactionWidth:p.interactionWidth,disableKeyboardA11y:f})})))),w):null};tg.displayName="EdgeRenderer";var __=T.memo(tg);const N_=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function S_({children:e}){const t=Ke(N_);return oe.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function z_(e){const t=Fa(),n=T.useRef(!1);T.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const E_={[Ce.Left]:Ce.Right,[Ce.Right]:Ce.Left,[Ce.Top]:Ce.Bottom,[Ce.Bottom]:Ce.Top},ng=({nodeId:e,handleType:t,style:n,type:r=Vn.Bezier,CustomComponent:i,connectionStatus:s})=>{var z,E,P;const{fromNode:o,handleId:a,toX:l,toY:u,connectionMode:d}=Ke(T.useCallback(I=>({fromNode:I.nodeInternals.get(e),handleId:I.connectionHandleId,toX:(I.connectionPosition.x-I.transform[0])/I.transform[2],toY:(I.connectionPosition.y-I.transform[1])/I.transform[2],connectionMode:I.connectionMode}),[e]),pt),m=(z=o==null?void 0:o[it])==null?void 0:z.handleBounds;let y=m==null?void 0:m[t];if(d===sr.Loose&&(y=y||(m==null?void 0:m[t==="source"?"target":"source"])),!o||!y)return null;const h=a?y.find(I=>I.id===a):y[0],v=h?h.x+h.width/2:(o.width??0)/2,g=h?h.y+h.height/2:o.height??0,w=(((E=o.positionAbsolute)==null?void 0:E.x)??0)+v,f=(((P=o.positionAbsolute)==null?void 0:P.y)??0)+g,x=h==null?void 0:h.position,k=x?E_[x]:null;if(!x||!k)return null;if(i)return oe.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:h,fromX:w,fromY:f,toX:l,toY:u,fromPosition:x,toPosition:k,connectionStatus:s});let _="";const N={sourceX:w,sourceY:f,sourcePosition:x,targetX:l,targetY:u,targetPosition:k};return r===Vn.Bezier?[_]=Nm(N):r===Vn.Step?[_]=Ic({...N,borderRadius:0}):r===Vn.SmoothStep?[_]=Ic(N):r===Vn.SimpleBezier?[_]=_m(N):_=`M${w},${f} ${l},${u}`,oe.createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:n})};ng.displayName="ConnectionLine";const C_=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function j_({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:s,nodesConnectable:o,width:a,height:l,connectionStatus:u}=Ke(C_,pt);return!(i&&s&&a&&o)?null:oe.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},oe.createElement("g",{className:yt(["react-flow__connection",u])},oe.createElement(ng,{nodeId:i,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function lh(e,t){return T.useRef(null),dt(),T.useMemo(()=>t(e),[e])}const rg=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:s,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:m,onNodeMouseLeave:y,onNodeContextMenu:h,onSelectionContextMenu:v,onSelectionStart:g,onSelectionEnd:w,connectionLineType:f,connectionLineStyle:x,connectionLineComponent:k,connectionLineContainerStyle:_,selectionKeyCode:N,selectionOnDrag:z,selectionMode:E,multiSelectionKeyCode:P,panActivationKeyCode:I,zoomActivationKeyCode:$,deleteKeyCode:q,onlyRenderVisibleElements:D,elementsSelectable:O,selectNodesOnDrag:p,defaultViewport:L,translateExtent:H,minZoom:U,maxZoom:B,preventScrolling:j,defaultMarkerColor:V,zoomOnScroll:M,zoomOnPinch:A,panOnScroll:se,panOnScrollSpeed:R,panOnScrollMode:K,zoomOnDoubleClick:fe,panOnDrag:me,onPaneClick:be,onPaneMouseEnter:ve,onPaneMouseMove:te,onPaneMouseLeave:G,onPaneScroll:ce,onPaneContextMenu:pe,onEdgeContextMenu:b,onEdgeMouseEnter:ne,onEdgeMouseMove:J,onEdgeMouseLeave:C,onReconnect:S,onReconnectStart:Y,onReconnectEnd:le,reconnectRadius:X,noDragClassName:W,noWheelClassName:ae,noPanClassName:ue,elevateEdgesOnSelect:de,disableKeyboardA11y:Ee,nodeOrigin:Pe,nodeExtent:Te,rfId:Oe})=>{const at=lh(e,r_),Ue=lh(t,u_);return z_(s),oe.createElement(t_,{onPaneClick:be,onPaneMouseEnter:ve,onPaneMouseMove:te,onPaneMouseLeave:G,onPaneContextMenu:pe,onPaneScroll:ce,deleteKeyCode:q,selectionKeyCode:N,selectionOnDrag:z,selectionMode:E,onSelectionStart:g,onSelectionEnd:w,multiSelectionKeyCode:P,panActivationKeyCode:I,zoomActivationKeyCode:$,elementsSelectable:O,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:M,zoomOnPinch:A,zoomOnDoubleClick:fe,panOnScroll:se,panOnScrollSpeed:R,panOnScrollMode:K,panOnDrag:me,defaultViewport:L,translateExtent:H,minZoom:U,maxZoom:B,onSelectionContextMenu:v,preventScrolling:j,noDragClassName:W,noWheelClassName:ae,noPanClassName:ue,disableKeyboardA11y:Ee},oe.createElement(S_,null,oe.createElement(__,{edgeTypes:Ue,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:D,onEdgeContextMenu:b,onEdgeMouseEnter:ne,onEdgeMouseMove:J,onEdgeMouseLeave:C,onReconnect:S,onReconnectStart:Y,onReconnectEnd:le,reconnectRadius:X,defaultMarkerColor:V,noPanClassName:ue,elevateEdgesOnSelect:!!de,disableKeyboardA11y:Ee,rfId:Oe},oe.createElement(j_,{style:x,type:f,component:k,containerStyle:_})),oe.createElement("div",{className:"react-flow__edgelabel-renderer"}),oe.createElement(o_,{nodeTypes:at,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:m,onNodeMouseLeave:y,onNodeContextMenu:h,selectNodesOnDrag:p,onlyRenderVisibleElements:D,noPanClassName:ue,noDragClassName:W,disableKeyboardA11y:Ee,nodeOrigin:Pe,nodeExtent:Te,rfId:Oe})))};rg.displayName="GraphView";var D_=T.memo(rg);const Lc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ln={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Lc,nodeExtent:Lc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:sr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:sk,isValidConnection:void 0},T_=()=>wv((e,t)=>({...Ln,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:s}=t();e({nodeInternals:bl(n,r,i,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",s=typeof r<"u",o=i?bl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:s?r:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=t(),d=l==null?void 0:l.querySelector(".react-flow__viewport");if(!d)return;const m=window.getComputedStyle(d),{m22:y}=new window.DOMMatrixReadOnly(m.transform),h=n.reduce((g,w)=>{const f=i.get(w.id);if(f!=null&&f.hidden)i.set(f.id,{...f,[it]:{...f[it],handleBounds:void 0}});else if(f){const x=Zu(w.nodeElement);!!(x.width&&x.height&&(f.width!==x.width||f.height!==x.height||w.forceUpdate))&&(i.set(f.id,{...f,[it]:{...f[it],handleBounds:{source:th(".source",w.nodeElement,y,u),target:th(".target",w.nodeElement,y,u)}},...x}),g.push({id:f.id,type:"dimensions",dimensions:x}))}return g},[]);Hm(i,u);const v=o||s&&!o&&Wm(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:v}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:s}=t(),o=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});s(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(s){const u=Zm(n,a()),d=bl(u,i,o,l);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let o,a=null;r?o=n.map(l=>Un(l,!0)):(o=ti(s(),n),a=ti(i,[])),ho({changedNodes:o,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let o,a=null;r?o=n.map(l=>Un(l,!0)):(o=ti(i,n),a=ti(s(),[])),ho({changedNodes:a,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:s}=t(),o=n||s(),a=r||i,l=o.map(d=>(d.selected=!1,Un(d.id,!1))),u=a.map(d=>Un(d.id,!1));ho({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(a=>a.selected).map(a=>Un(a.id,!1)),o=n.filter(a=>a.selected).map(a=>Un(a.id,!1));ho({changedNodes:s,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=Yu(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:s,d3Zoom:o,d3Selection:a,translateExtent:l}=t();if(!o||!a||!n.x&&!n.y)return!1;const u=En.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[i,s]],m=o==null?void 0:o.constrain()(u,d,l);return o.transform(a,m),r[0]!==m.x||r[1]!==m.y||r[2]!==m.k},cancelConnection:()=>e({connectionNodeId:Ln.connectionNodeId,connectionHandleId:Ln.connectionHandleId,connectionHandleType:Ln.connectionHandleType,connectionStatus:Ln.connectionStatus,connectionStartHandle:Ln.connectionStartHandle,connectionEndHandle:Ln.connectionEndHandle}),reset:()=>e({...Ln})}),Object.is),td=({children:e})=>{const t=T.useRef(null);return t.current||(t.current=T_()),oe.createElement(Qb,{value:t.current},e)};td.displayName="ReactFlowProvider";const ig=({children:e})=>T.useContext(La)?oe.createElement(oe.Fragment,null,e):oe.createElement(td,null,e);ig.displayName="ReactFlowWrapper";const I_={input:Rm,default:Pc,output:Om,group:Ju},M_={default:da,straight:Xu,step:Ku,smoothstep:Oa,simplebezier:Gu},A_=[0,0],P_=[15,15],R_={x:0,y:0,zoom:1},L_={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},sg=T.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s=I_,edgeTypes:o=M_,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:d,onMoveStart:m,onMoveEnd:y,onConnect:h,onConnectStart:v,onConnectEnd:g,onClickConnectStart:w,onClickConnectEnd:f,onNodeMouseEnter:x,onNodeMouseMove:k,onNodeMouseLeave:_,onNodeContextMenu:N,onNodeDoubleClick:z,onNodeDragStart:E,onNodeDrag:P,onNodeDragStop:I,onNodesDelete:$,onEdgesDelete:q,onSelectionChange:D,onSelectionDragStart:O,onSelectionDrag:p,onSelectionDragStop:L,onSelectionContextMenu:H,onSelectionStart:U,onSelectionEnd:B,connectionMode:j=sr.Strict,connectionLineType:V=Vn.Bezier,connectionLineStyle:M,connectionLineComponent:A,connectionLineContainerStyle:se,deleteKeyCode:R="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:fe=!1,selectionMode:me=zs.Full,panActivationKeyCode:be="Space",multiSelectionKeyCode:ve=ua()?"Meta":"Control",zoomActivationKeyCode:te=ua()?"Meta":"Control",snapToGrid:G=!1,snapGrid:ce=P_,onlyRenderVisibleElements:pe=!1,selectNodesOnDrag:b=!0,nodesDraggable:ne,nodesConnectable:J,nodesFocusable:C,nodeOrigin:S=A_,edgesFocusable:Y,edgesUpdatable:le,elementsSelectable:X,defaultViewport:W=R_,minZoom:ae=.5,maxZoom:ue=2,translateExtent:de=Lc,preventScrolling:Ee=!0,nodeExtent:Pe,defaultMarkerColor:Te="#b1b1b7",zoomOnScroll:Oe=!0,zoomOnPinch:at=!0,panOnScroll:Ue=!1,panOnScrollSpeed:ee=.5,panOnScrollMode:re=wr.Free,zoomOnDoubleClick:he=!0,panOnDrag:ge=!0,onPaneClick:we,onPaneMouseEnter:xe,onPaneMouseMove:Me,onPaneMouseLeave:Re,onPaneScroll:Be,onPaneContextMenu:ie,children:ye,onEdgeContextMenu:Se,onEdgeDoubleClick:Ne,onEdgeMouseEnter:De,onEdgeMouseMove:$e,onEdgeMouseLeave:F,onEdgeUpdate:Z,onEdgeUpdateStart:Q,onEdgeUpdateEnd:ke,onReconnect:je,onReconnectStart:Ae,onReconnectEnd:Qe,reconnectRadius:Ve=10,edgeUpdaterRadius:Ye=10,onNodesChange:Pn,onEdgesChange:Pr,noDragClassName:Os="nodrag",noWheelClassName:$s="nowheel",noPanClassName:nd="nopan",fitView:hg=!1,fitViewOptions:pg,connectOnClick:mg=!0,attributionPosition:gg,proOptions:xg,defaultEdgeOptions:yg,elevateNodesOnSelect:vg=!0,elevateEdgesOnSelect:wg=!1,disableKeyboardA11y:rd=!1,autoPanOnConnect:bg=!0,autoPanOnNodeDrag:kg=!0,connectionRadius:_g=20,isValidConnection:Ng,onError:Sg,style:zg,id,nodeDragThreshold:Eg,...Cg},jg)=>{const Ba=id||"1";return oe.createElement("div",{...Cg,style:{...zg,...L_},ref:jg,className:yt(["react-flow",i]),"data-testid":"rf__wrapper",id},oe.createElement(ig,null,oe.createElement(D_,{onInit:u,onMove:d,onMoveStart:m,onMoveEnd:y,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:x,onNodeMouseMove:k,onNodeMouseLeave:_,onNodeContextMenu:N,onNodeDoubleClick:z,nodeTypes:s,edgeTypes:o,connectionLineType:V,connectionLineStyle:M,connectionLineComponent:A,connectionLineContainerStyle:se,selectionKeyCode:K,selectionOnDrag:fe,selectionMode:me,deleteKeyCode:R,multiSelectionKeyCode:ve,panActivationKeyCode:be,zoomActivationKeyCode:te,onlyRenderVisibleElements:pe,selectNodesOnDrag:b,defaultViewport:W,translateExtent:de,minZoom:ae,maxZoom:ue,preventScrolling:Ee,zoomOnScroll:Oe,zoomOnPinch:at,zoomOnDoubleClick:he,panOnScroll:Ue,panOnScrollSpeed:ee,panOnScrollMode:re,panOnDrag:ge,onPaneClick:we,onPaneMouseEnter:xe,onPaneMouseMove:Me,onPaneMouseLeave:Re,onPaneScroll:Be,onPaneContextMenu:ie,onSelectionContextMenu:H,onSelectionStart:U,onSelectionEnd:B,onEdgeContextMenu:Se,onEdgeDoubleClick:Ne,onEdgeMouseEnter:De,onEdgeMouseMove:$e,onEdgeMouseLeave:F,onReconnect:je??Z,onReconnectStart:Ae??Q,onReconnectEnd:Qe??ke,reconnectRadius:Ve??Ye,defaultMarkerColor:Te,noDragClassName:Os,noWheelClassName:$s,noPanClassName:nd,elevateEdgesOnSelect:wg,rfId:Ba,disableKeyboardA11y:rd,nodeOrigin:S,nodeExtent:Pe}),oe.createElement(Ek,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:v,onConnectEnd:g,onClickConnectStart:w,onClickConnectEnd:f,nodesDraggable:ne,nodesConnectable:J,nodesFocusable:C,edgesFocusable:Y,edgesUpdatable:le,elementsSelectable:X,elevateNodesOnSelect:vg,minZoom:ae,maxZoom:ue,nodeExtent:Pe,onNodesChange:Pn,onEdgesChange:Pr,snapToGrid:G,snapGrid:ce,connectionMode:j,translateExtent:de,connectOnClick:mg,defaultEdgeOptions:yg,fitView:hg,fitViewOptions:pg,onNodesDelete:$,onEdgesDelete:q,onNodeDragStart:E,onNodeDrag:P,onNodeDragStop:I,onSelectionDrag:p,onSelectionDragStart:O,onSelectionDragStop:L,noPanClassName:nd,nodeOrigin:S,rfId:Ba,autoPanOnConnect:bg,autoPanOnNodeDrag:kg,onError:Sg,connectionRadius:_g,isValidConnection:Ng,nodeDragThreshold:Eg}),oe.createElement(Sk,{onSelectionChange:D}),ye,oe.createElement(ek,{proOptions:xg,position:gg}),oe.createElement(Ik,{rfId:Ba,disableKeyboardA11y:rd})))});sg.displayName="ReactFlow";function og(e){return t=>{const[n,r]=T.useState(t),i=T.useCallback(s=>r(o=>e(s,o)),[]);return[n,r,i]}}const O_=og(Zm),$_=og(Zk),ag=({id:e,x:t,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:u,borderRadius:d,shapeRendering:m,onClick:y,selected:h})=>{const{background:v,backgroundColor:g}=s||{},w=o||v||g;return oe.createElement("rect",{className:yt(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:d,ry:d,width:r,height:i,fill:w,stroke:a,strokeWidth:l,shapeRendering:m,onClick:y?f=>y(f,e):void 0})};ag.displayName="MiniMapNode";var F_=T.memo(ag);const B_=e=>e.nodeOrigin,U_=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Sl=e=>e instanceof Function?e:()=>e;function H_({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:s=F_,onClick:o}){const a=Ke(U_,pt),l=Ke(B_),u=Sl(t),d=Sl(e),m=Sl(n),y=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return oe.createElement(oe.Fragment,null,a.map(h=>{const{x:v,y:g}=Nr(h,l).positionAbsolute;return oe.createElement(s,{key:h.id,x:v,y:g,width:h.width,height:h.height,style:h.style,selected:h.selected,className:m(h),color:u(h),borderRadius:r,strokeColor:d(h),strokeWidth:i,shapeRendering:y,onClick:o,id:h.id})}))}var W_=T.memo(H_);const V_=200,Z_=150,Y_=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?rk($a(t,e.nodeOrigin),n):n,rfId:e.rfId}},G_="react-flow__minimap-desc";function lg({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:m="bottom-right",onClick:y,onNodeClick:h,pannable:v=!1,zoomable:g=!1,ariaLabel:w="React Flow mini map",inversePan:f=!1,zoomStep:x=10,offsetScale:k=5}){const _=dt(),N=T.useRef(null),{boundingRect:z,viewBB:E,rfId:P}=Ke(Y_,pt),I=(e==null?void 0:e.width)??V_,$=(e==null?void 0:e.height)??Z_,q=z.width/I,D=z.height/$,O=Math.max(q,D),p=O*I,L=O*$,H=k*O,U=z.x-(p-z.width)/2-H,B=z.y-(L-z.height)/2-H,j=p+H*2,V=L+H*2,M=`${G_}-${P}`,A=T.useRef(0);A.current=O,T.useEffect(()=>{if(N.current){const K=Vt(N.current),fe=ve=>{const{transform:te,d3Selection:G,d3Zoom:ce}=_.getState();if(ve.sourceEvent.type!=="wheel"||!G||!ce)return;const pe=-ve.sourceEvent.deltaY*(ve.sourceEvent.deltaMode===1?.05:ve.sourceEvent.deltaMode?1:.002)*x,b=te[2]*Math.pow(2,pe);ce.scaleTo(G,b)},me=ve=>{const{transform:te,d3Selection:G,d3Zoom:ce,translateExtent:pe,width:b,height:ne}=_.getState();if(ve.sourceEvent.type!=="mousemove"||!G||!ce)return;const J=A.current*Math.max(1,te[2])*(f?-1:1),C={x:te[0]-ve.sourceEvent.movementX*J,y:te[1]-ve.sourceEvent.movementY*J},S=[[0,0],[b,ne]],Y=En.translate(C.x,C.y).scale(te[2]),le=ce.constrain()(Y,S,pe);ce.transform(G,le)},be=hm().on("zoom",v?me:null).on("zoom.wheel",g?fe:null);return K.call(be),()=>{K.on("zoom",null)}}},[v,g,f,x]);const se=y?K=>{const fe=nn(K);y(K,{x:fe[0],y:fe[1]})}:void 0,R=h?(K,fe)=>{const me=_.getState().nodeInternals.get(fe);h(K,me)}:void 0;return oe.createElement(Vu,{position:m,style:e,className:yt(["react-flow__minimap",t]),"data-testid":"rf__minimap"},oe.createElement("svg",{width:I,height:$,viewBox:`${U} ${B} ${j} ${V}`,role:"img","aria-labelledby":M,ref:N,onClick:se},w&&oe.createElement("title",{id:M},w),oe.createElement(W_,{onClick:R,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),oe.createElement("path",{className:"react-flow__minimap-mask",d:`M${U-H},${B-H}h${j+H*2}v${V+H*2}h${-j-H*2}z
        M${E.x},${E.y}h${E.width}v${E.height}h${-E.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}lg.displayName="MiniMap";var K_=T.memo(lg);function X_(){return oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},oe.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function q_(){return oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},oe.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Q_(){return oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},oe.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function J_(){return oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},oe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function eN(){return oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},oe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Vi=({children:e,className:t,...n})=>oe.createElement("button",{type:"button",className:yt(["react-flow__controls-button",t]),...n},e);Vi.displayName="ControlButton";const tN=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),cg=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:u,children:d,position:m="bottom-left"})=>{const y=dt(),[h,v]=T.useState(!1),{isInteractive:g,minZoomReached:w,maxZoomReached:f}=Ke(tN,pt),{zoomIn:x,zoomOut:k,fitView:_}=Fa();if(T.useEffect(()=>{v(!0)},[]),!h)return null;const N=()=>{x(),s==null||s()},z=()=>{k(),o==null||o()},E=()=>{_(i),a==null||a()},P=()=>{y.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)};return oe.createElement(Vu,{className:yt(["react-flow__controls",u]),position:m,style:e,"data-testid":"rf__controls"},t&&oe.createElement(oe.Fragment,null,oe.createElement(Vi,{onClick:N,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:f},oe.createElement(X_,null)),oe.createElement(Vi,{onClick:z,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},oe.createElement(q_,null))),n&&oe.createElement(Vi,{className:"react-flow__controls-fitview",onClick:E,title:"fit view","aria-label":"fit view"},oe.createElement(Q_,null)),r&&oe.createElement(Vi,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity"},g?oe.createElement(eN,null):oe.createElement(J_,null)),d)};cg.displayName="Controls";var nN=T.memo(cg),Kt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Kt||(Kt={}));function rN({color:e,dimensions:t,lineWidth:n}){return oe.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function iN({color:e,radius:t}){return oe.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const sN={[Kt.Dots]:"#91919a",[Kt.Lines]:"#eee",[Kt.Cross]:"#e2e2e2"},oN={[Kt.Dots]:1,[Kt.Lines]:1,[Kt.Cross]:6},aN=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function ug({id:e,variant:t=Kt.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=2,color:o,style:a,className:l}){const u=T.useRef(null),{transform:d,patternId:m}=Ke(aN,pt),y=o||sN[t],h=r||oN[t],v=t===Kt.Dots,g=t===Kt.Cross,w=Array.isArray(n)?n:[n,n],f=[w[0]*d[2]||1,w[1]*d[2]||1],x=h*d[2],k=g?[x,x]:f,_=v?[x/s,x/s]:[k[0]/s,k[1]/s];return oe.createElement("svg",{className:yt(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},oe.createElement("pattern",{id:m+e,x:d[0]%f[0],y:d[1]%f[1],width:f[0],height:f[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`},v?oe.createElement(iN,{color:y,radius:x/s}):oe.createElement(rN,{dimensions:k,color:y,lineWidth:i})),oe.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${m+e})`}))}ug.displayName="Background";var lN=T.memo(ug);const st="w-3 h-3 !bg-zinc-400 border border-zinc-900 z-50 transition-colors hover:!bg-blue-400",cN=({data:e,selected:t})=>c.jsxs("div",{className:`px-6 py-3 rounded-full flex items-center justify-center min-w-[120px] bg-zinc-900 border-2 shadow-sm transition-all ${t?"border-emerald-500 shadow-emerald-500/20":"border-emerald-500/50"}`,children:[c.jsx("div",{className:"text-center text-xs text-white font-semibold",children:e.label}),c.jsx(Ze,{type:"target",position:Ce.Top,id:"top",className:`${st} -mt-[2px]`}),c.jsx(Ze,{type:"source",position:Ce.Bottom,id:"bottom",className:`${st} -mb-[2px]`}),c.jsx(Ze,{type:"source",position:Ce.Right,id:"right",className:`${st} -mr-[2px]`}),c.jsx(Ze,{type:"target",position:Ce.Left,id:"left",className:`${st} -ml-[2px]`})]}),uN=({data:e,selected:t})=>c.jsxs("div",{className:`px-4 py-4 rounded-lg flex items-center justify-center min-w-[140px] bg-zinc-900 border-2 shadow-sm transition-all ${t?"border-blue-500 shadow-blue-500/20":"border-zinc-600"}`,children:[c.jsx("div",{className:"text-center text-xs text-white font-medium",children:e.label}),c.jsx(Ze,{type:"target",position:Ce.Top,id:"top",className:`${st} -mt-[2px]`}),c.jsx(Ze,{type:"source",position:Ce.Bottom,id:"bottom",className:`${st} -mb-[2px]`}),c.jsx(Ze,{type:"source",position:Ce.Right,id:"right",className:`${st} -mr-[2px]`}),c.jsx(Ze,{type:"target",position:Ce.Left,id:"left",className:`${st} -ml-[2px]`})]}),dN=({data:e,selected:t})=>c.jsxs("div",{className:"w-28 h-28 relative flex items-center justify-center",children:[c.jsx("div",{className:`absolute inset-0 transform rotate-45 bg-zinc-900 border-2 transition-all shadow-sm ${t?"border-purple-500 shadow-purple-500/20":"border-purple-500/60"}`}),c.jsx("div",{className:"relative z-10 p-2 text-[10px] text-white font-bold text-center leading-tight max-w-[70%]",children:e.label}),c.jsx(Ze,{type:"target",position:Ce.Top,id:"top",className:`${st} -mt-1`}),c.jsx(Ze,{type:"source",position:Ce.Bottom,id:"bottom",className:`${st} -mb-1`}),c.jsx(Ze,{type:"source",position:Ce.Right,id:"right",className:`${st} -mr-1`}),c.jsx(Ze,{type:"source",position:Ce.Left,id:"left",className:`${st} -ml-1`})]}),fN=({data:e,selected:t})=>c.jsxs("div",{className:"relative p-1",children:[c.jsx("div",{className:`px-6 py-3 min-w-[140px] transform -skew-x-12 bg-zinc-900 border-2 transition-all shadow-sm flex items-center justify-center ${t?"border-orange-500 shadow-orange-500/20":"border-orange-500/60"}`,children:c.jsx("div",{className:"transform skew-x-12 text-center text-xs text-white font-medium",children:e.label})}),c.jsx(Ze,{type:"target",position:Ce.Top,id:"top",className:`${st} top-0`}),c.jsx(Ze,{type:"source",position:Ce.Bottom,id:"bottom",className:`${st} bottom-0`}),c.jsx(Ze,{type:"source",position:Ce.Right,id:"right",className:`${st} right-1`}),c.jsx(Ze,{type:"target",position:Ce.Left,id:"left",className:`${st} left-1`})]}),hN=({data:e,selected:t})=>c.jsxs("div",{className:`w-24 h-24 relative flex flex-col items-center justify-center bg-zinc-900 border-x-2 border-zinc-500 ${t?"ring-2 ring-blue-500 border-blue-500":""}`,children:[c.jsx("div",{className:"absolute top-0 w-full h-6 bg-zinc-800 border-2 border-zinc-500 rounded-[50%] -mt-3 z-10"}),c.jsx("div",{className:"text-[10px] text-zinc-300 text-center px-1 z-0 mt-2 font-mono",children:e.label}),c.jsx("div",{className:"absolute bottom-0 w-full h-6 bg-zinc-900 border-b-2 border-x-2 border-zinc-500 rounded-[50%] -mb-3 z-0"}),c.jsx(Ze,{type:"target",position:Ce.Top,id:"top",className:`${st} -mt-3`}),c.jsx(Ze,{type:"source",position:Ce.Bottom,id:"bottom",className:`${st} -mb-3`}),c.jsx(Ze,{type:"source",position:Ce.Right,id:"right",className:`${st} -mr-[2px]`}),c.jsx(Ze,{type:"target",position:Ce.Left,id:"left",className:`${st} -ml-[2px]`})]}),pN=({data:e,selected:t})=>c.jsxs("div",{className:"w-32 h-16 relative flex items-center justify-center",children:[c.jsx("div",{className:`absolute inset-0 bg-zinc-900 border-2 transition-all ${t?"border-yellow-500 bg-yellow-500/10":"border-yellow-500/60"}`,style:{clipPath:"polygon(15% 0%, 85% 0%, 100% 50%, 85% 100%, 15% 100%, 0% 50%)"}}),c.jsx("div",{className:"relative z-10 text-[10px] uppercase tracking-wider font-bold text-yellow-500 text-center px-6",children:e.label}),c.jsx(Ze,{type:"target",position:Ce.Top,id:"top",className:`${st} -mt-[2px]`}),c.jsx(Ze,{type:"source",position:Ce.Bottom,id:"bottom",className:`${st} -mb-[2px]`})]}),mN=({data:e,selected:t})=>c.jsxs("div",{className:`w-40 min-h-[80px] bg-yellow-100/10 border-l-4 border-yellow-400 rounded p-2 flex flex-col relative ${t?"ring-1 ring-yellow-400":""}`,children:[c.jsx("div",{className:"text-[9px] text-yellow-500/80 font-bold uppercase mb-1",children:"Note"}),c.jsx("div",{className:"text-xs text-zinc-300 italic text-left whitespace-pre-wrap",children:e.label}),c.jsx(Ze,{type:"target",position:Ce.Left,id:"left",className:"w-2 h-2 !bg-yellow-400/50 opacity-0 hover:opacity-100"})]}),gN=({initialContent:e,onSave:t,fileName:n})=>{const r=(e==null?void 0:e.nodes)||[],i=(e==null?void 0:e.edges)||[],[s,o,a]=O_(r),[l,u,d]=$_(i),{deleteElements:m}=Fa(),[y,h]=T.useState("saved"),v=T.useRef(JSON.stringify({nodes:r,edges:i}));T.useEffect(()=>{if(JSON.stringify({nodes:s,edges:l})===v.current)return;h("unsaved");const P=setTimeout(()=>g(),2e3);return()=>clearTimeout(P)},[s,l]),T.useEffect(()=>{const E=P=>{(P.ctrlKey||P.metaKey)&&P.key==="s"&&(P.preventDefault(),g())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[s,l]);const g=()=>{h("saving"),t({nodes:s,edges:l}),v.current=JSON.stringify({nodes:s,edges:l}),setTimeout(()=>h("saved"),500)},w=T.useMemo(()=>({terminal:cN,process:uN,decision:dN,io:fN,database:hN,event:pN,note:mN}),[]);oe.useEffect(()=>{o(r),u(i),v.current=JSON.stringify({nodes:r,edges:i})},[r,i,o,u]);const f=T.useCallback(E=>u(P=>Sm({...E,animated:!1,type:"smoothstep",style:{stroke:"#a1a1aa",strokeWidth:2},markerEnd:{type:Es.ArrowClosed,color:"#a1a1aa",width:20,height:20}},P)),[u]),x=(E,P)=>{const I=crypto.randomUUID(),$={x:Math.random()*200+200,y:Math.random()*200+100},q={id:I,position:$,data:{label:P},type:E};o(D=>D.concat(q))},k=()=>{const E=s.filter(I=>I.selected),P=l.filter(I=>I.selected);m({nodes:E,edges:P})},_=(E,P)=>{const I=prompt("Enter text for this node:",P.data.label);I!==null&&o($=>$.map(q=>q.id===P.id?{...q,data:{...q.data,label:I}}:q))},N=(E,P)=>{const I=prompt("Enter label for this connection (e.g., 'Yes', 'No', 'True'):",P.label||"");I!==null&&u($=>$.map(q=>q.id===P.id?{...q,label:I,labelStyle:{fill:"#ffffff",fontWeight:700,fontSize:12},labelBgStyle:{fill:"#18181b",fillOpacity:.8},labelBgPadding:[4,4],labelBgBorderRadius:4}:q))},z=({onClick:E,icon:P,label:I,colorClass:$})=>c.jsxs("button",{onClick:E,className:"flex flex-col items-center justify-center p-2 rounded-lg hover:bg-zinc-800 transition-colors gap-1 group w-16 h-16 border border-transparent hover:border-zinc-700",title:`Add ${I}`,children:[c.jsx(P,{className:`w-6 h-6 ${$} group-hover:scale-110 transition-transform`}),c.jsx("span",{className:"text-[9px] text-zinc-500 group-hover:text-zinc-300",children:I})]});return c.jsxs("div",{className:"h-full w-full flex flex-col bg-zinc-900",children:[c.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center px-4 justify-between bg-zinc-900/50 backdrop-blur-sm z-10 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h3",{className:"text-zinc-200 font-medium ml-2",children:n}),c.jsx("div",{className:"h-6 w-px bg-zinc-800"}),c.jsxs("button",{onClick:k,className:"p-2 hover:bg-red-500/10 rounded text-zinc-400 hover:text-red-400 transition-colors flex items-center gap-2",title:"Delete Selected (Backspace)",children:[c.jsx(Qt,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Delete Selected"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center mr-2",children:[y==="saving"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[c.jsx(Mr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),y==="saved"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[c.jsx(cr,{className:"w-3 h-3"})," Saved"]}),y==="unsaved"&&c.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[c.jsx(Sn,{className:"w-3 h-3"})," Unsaved"]})]}),c.jsxs("button",{onClick:g,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${y==="unsaved"?"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[c.jsx(Ar,{className:"w-4 h-4"}),"Save"]})]})]}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c.jsxs("div",{className:"w-20 bg-zinc-950 border-r border-zinc-800 flex flex-col items-center py-4 gap-2 overflow-y-auto custom-scrollbar z-10",children:[c.jsx("div",{className:"text-[10px] font-bold text-zinc-600 uppercase mb-2",children:"Flow"}),c.jsx(z,{onClick:()=>x("terminal","Start"),icon:A1,label:"Start",colorClass:"text-emerald-400"}),c.jsx(z,{onClick:()=>x("terminal","End"),icon:$1,label:"End",colorClass:"text-red-400"}),c.jsx(z,{onClick:()=>x("process","Action"),icon:bc,label:"Process",colorClass:"text-blue-400"}),c.jsx(z,{onClick:()=>x("decision","Condition?"),icon:h1,label:"Decision",colorClass:"text-purple-400"}),c.jsx("div",{className:"w-10 h-px bg-zinc-800 my-2"}),c.jsx("div",{className:"text-[10px] font-bold text-zinc-600 uppercase mb-2",children:"Data"}),c.jsx(z,{onClick:()=>x("io","Input/Output"),icon:s1,label:"I/O",colorClass:"text-orange-400"}),c.jsx(z,{onClick:()=>x("database","Database"),icon:f1,label:"Data",colorClass:"text-zinc-300"}),c.jsx(z,{onClick:()=>x("event","On Trigger"),icon:_1,label:"Event",colorClass:"text-yellow-400"}),c.jsx("div",{className:"w-10 h-px bg-zinc-800 my-2"}),c.jsx(z,{onClick:()=>x("note","Add comment..."),icon:O1,label:"Note",colorClass:"text-yellow-200"})]}),c.jsx("div",{className:"flex-1 h-full w-full relative",children:c.jsxs(sg,{nodes:s,edges:l,onNodesChange:a,onEdgesChange:d,onConnect:f,onNodeDoubleClick:_,onEdgeDoubleClick:N,nodeTypes:w,fitView:!0,className:"bg-zinc-900",deleteKeyCode:["Backspace","Delete"],connectionMode:sr.Loose,children:[c.jsx(lN,{variant:Kt.Dots,gap:24,size:1,color:"#3f3f46"}),c.jsx(nN,{className:"bg-zinc-800 border-zinc-700 fill-zinc-200 text-zinc-200 [&>button]:border-zinc-700 [&>button:hover]:bg-zinc-700"}),c.jsx(K_,{nodeStrokeColor:"#52525b",nodeColor:"#18181b",maskColor:"rgba(9, 9, 11, 0.6)",className:"bg-zinc-950 border border-zinc-800 rounded-lg overflow-hidden"})]})})]})]})},xN=e=>c.jsx(td,{children:c.jsx(gN,{...e})}),yN="application/x-gdpm-file-id",vN=(e,t,n)=>{var a;const r=l=>{if(!l)return"";if(l.startsWith("asset://")){const u=l.replace("asset://","");return t[u]||l}return l},i=e.split(`
`);let s="",o=!1;for(let l=0;l<i.length;l++){let u=i[l];if(u.trim().startsWith("```")){o=!o,s+=o?'<div class="bg-zinc-950 p-4 rounded-lg my-4 border border-zinc-800 font-mono text-sm text-zinc-300 overflow-x-auto"><pre>':"</pre></div>";continue}if(o){const m=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");s+=`${m}
`;continue}if(u.startsWith("# ")){s+=`<h1 class="text-3xl font-bold text-zinc-100 mb-4 pb-2 border-b border-zinc-800 mt-6">${ur(u.slice(2),t,n)}</h1>`;continue}if(u.startsWith("## ")){s+=`<h2 class="text-2xl font-semibold text-zinc-100 mb-3 mt-8">${ur(u.slice(3),t,n)}</h2>`;continue}if(u.startsWith("### ")){s+=`<h3 class="text-xl font-medium text-zinc-200 mb-2 mt-6">${ur(u.slice(4),t,n)}</h3>`;continue}if(u.startsWith("> ")){s+=`<blockquote class="border-l-4 border-blue-500 pl-4 py-2 my-4 text-zinc-400 italic bg-zinc-800/30 rounded-r">${ur(u.slice(2),t,n)}</blockquote>`;continue}if(u.match(/^\s*-\s/)){s+=`<div class="flex gap-2 ml-4 mb-1 text-zinc-300"><span class="text-zinc-500"></span><span>${ur(u.replace(/^\s*-\s/,""),t,n)}</span></div>`;continue}if(u.match(/^\s*\d+\.\s/)){const m=((a=u.match(/^\s*(\d+)\./))==null?void 0:a[1])||"1";s+=`<div class="flex gap-2 ml-4 mb-1 text-zinc-300"><span class="text-zinc-500 font-mono">${m}.</span><span>${ur(u.replace(/^\s*\d+\.\s/,""),t,n)}</span></div>`;continue}const d=u.match(/^!\[(.*?)\]\((.*?)\)$/);if(d){const[m,y,h]=d,v=r(h),g=v.startsWith("data:video")||h.match(/\.(mp4|webm|mov)$/i),w=v.startsWith("data:audio")||h.match(/\.(mp3|wav|ogg)$/i);g?s+=`<div class="my-6"><video controls src="${v}" class="max-w-full rounded-lg shadow-lg border border-zinc-800 bg-black max-h-[500px]"></video><div class="text-xs text-zinc-500 mt-2 text-center italic">${y}</div></div>`:w?s+=`<div class="my-4 p-4 bg-zinc-800/50 rounded-lg border border-zinc-800 flex flex-col gap-2"><div class="text-xs text-zinc-400 flex items-center gap-2 font-mono uppercase"><span class="w-2 h-2 rounded-full bg-purple-500"></span> ${y||"Audio Track"}</div><audio controls src="${v}" class="w-full h-8"></audio></div>`:s+=`<div class="my-6"><img src="${v}" alt="${y}" class="max-w-full rounded-lg shadow-lg border border-zinc-800" /><div class="text-xs text-zinc-500 mt-2 text-center italic">${y}</div></div>`;continue}if(u.trim()==="---"||u.trim()==="***"){s+='<hr class="border-zinc-800 my-8" />';continue}if(u.trim()===""){s+='<div class="h-4"></div>';continue}s+=`<p class="mb-2 leading-relaxed text-zinc-300">${ur(u,t,n)}</p>`}return s},ur=(e,t,n)=>{let r=e;return r=r.replace(/\*\*(.*?)\*\*/g,'<strong class="text-zinc-100 font-bold">$1</strong>'),r=r.replace(/\*(.*?)\*/g,'<em class="text-zinc-200 italic">$1</em>'),r=r.replace(/~~(.*?)~~/g,'<s class="opacity-60 text-zinc-500 decoration-zinc-500">$1</s>'),r=r.replace(/<u>(.*?)<\/u>/g,'<u class="decoration-blue-500 decoration-2 underline-offset-4">$1</u>'),r=r.replace(/<span style="color: (.*?)">(.*?)<\/span>/g,'<span style="color: $1">$2</span>'),r=r.replace(/`([^`]+)`/g,'<code class="bg-zinc-800 text-red-400 px-1.5 py-0.5 rounded text-sm font-mono border border-zinc-700/50">$1</code>'),r=r.replace(/\[(.*?)\]\((.*?)\)/g,(i,s,o)=>{if(o.startsWith("file://")){const a=o.replace("file://",""),l=n.get(a);return`<a href="${o}" data-file-id="${a}" class="${l?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"} hover:underline cursor-pointer transition-colors">${s||l||"Open file"}</a>`}return`<a href="${o}" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-300 hover:underline cursor-pointer transition-colors">${s}</a>`}),r},wN=({initialContent:e,onSave:t,fileName:n,assets:r={},onAddAsset:i,projectFiles:s=[],activeFileId:o,onOpenFile:a})=>{const[l,u]=T.useState(e),[d,m]=T.useState("edit"),[y,h]=T.useState(!1),[v,g]=T.useState(""),[w,f]=T.useState(!1),[x,k]=T.useState("#ef4444"),[_,N]=T.useState(""),[z,E]=T.useState(""),[P,I]=T.useState(""),[$,q]=T.useState("saved"),D=T.useRef(e),O=T.useRef(null),p=T.useRef(null),L=T.useRef(null),H=T.useRef(null),U=oe.useMemo(()=>new Map(s.map(G=>[G.id,G.name])),[s]),B=oe.useMemo(()=>s.filter(G=>G.id!==o).sort((G,ce)=>G.name.localeCompare(ce.name,void 0,{sensitivity:"base"})),[s,o]);T.useEffect(()=>{e!==l&&e!==D.current&&(u(e),D.current=e)},[e]),T.useEffect(()=>{if(d==="edit")return;const G=setTimeout(()=>{g(vN(l,r,U))},500);return()=>clearTimeout(G)},[l,r,U,d]),T.useEffect(()=>{if(B.length===0){N("");return}B.some(G=>G.id===_)||N(B[0].id)},[B,_]),T.useEffect(()=>{if(l===D.current)return;q("unsaved");const G=setTimeout(j,1500);return()=>clearTimeout(G)},[l]),T.useEffect(()=>{const G=ce=>{L.current&&!L.current.contains(ce.target)&&f(!1)};return w&&document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[w]),T.useEffect(()=>{const G=ce=>{(ce.ctrlKey||ce.metaKey)&&ce.key==="s"&&(ce.preventDefault(),j())};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[l]);const j=()=>{q("saving"),t(l),D.current=l,setTimeout(()=>q("saved"),500)},V=()=>{confirm("Are you sure you want to clear the entire document?")&&u("")},M=(G,ce="")=>{const pe=O.current;if(!pe)return;const b=pe.selectionStart,ne=pe.selectionEnd,J=pe.value.substring(b,ne),C=pe.value.substring(0,b)+G+J+ce+pe.value.substring(ne);u(C),setTimeout(()=>{pe.focus(),pe.setSelectionRange(b+G.length,ne+G.length)},0)},A=async G=>{var pe;const ce=(pe=G.target.files)==null?void 0:pe[0];if(!(!ce||!i)){h(!0);try{const b=await i(ce),ne=ce.name.replace(/[\[\]\(\)]/g,"");M(`
![${ne}](${b})
`)}catch(b){console.error("Upload failed",b),alert("Failed to add media.")}finally{h(!1),p.current&&(p.current.value="")}}},se=G=>{M(`<span style="color: ${G}">`,"</span>"),f(!1)},R=()=>{const G=z.trim()||_;if(!G){alert("No other files available to link.");return}const ce=s.find(b=>b.id===G),pe=P.trim()||(ce==null?void 0:ce.name)||"Linked File";M(`[${pe}](file://${G})`)},K=G=>{var C;const ce=G.dataTransfer.getData(yN);if(ce)try{const S=JSON.parse(ce);if(S!=null&&S.id)return{id:S.id,name:S.name||((C=s.find(Y=>Y.id===S.id))==null?void 0:C.name)||"Linked File"}}catch{const S=s.find(Y=>Y.id===ce);if(S)return{id:S.id,name:S.name}}const pe=G.dataTransfer.getData("text/uri-list");if(pe!=null&&pe.startsWith("file://")){const S=pe.replace("file://","").trim(),Y=s.find(le=>le.id===S);if(Y)return{id:Y.id,name:Y.name}}const b=G.dataTransfer.getData("text/plain"),ne=b.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(ne){const S=ne[2],Y=s.find(le=>le.id===S);if(Y)return{id:Y.id,name:Y.name}}const J=s.find(S=>S.id===b.trim());return J?{id:J.id,name:J.name}:null},fe=G=>{K(G)&&(G.preventDefault(),G.dataTransfer.dropEffect="copy")},me=G=>{const ce=K(G);ce&&(G.preventDefault(),M(`[${ce.name}](file://${ce.id})`))},be=G=>{const pe=G.target.closest("a[data-file-id]");if(!pe)return;G.preventDefault();const b=pe.dataset.fileId;!b||!a||a(b)},ve=({icon:G,onClick:ce,title:pe,active:b=!1,disabled:ne=!1,color:J})=>c.jsx("button",{onClick:ce,disabled:ne,className:`p-1.5 rounded-md transition-all flex items-center justify-center shrink-0 ${b?"bg-blue-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800"} ${ne?"opacity-50 cursor-not-allowed":""}`,title:pe,children:c.jsx(G,{className:`w-4 h-4 ${J}`})}),te=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#a855f7","#ec4899","#71717a","#ffffff"];return c.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[c.jsxs("div",{className:"min-h-[3.5rem] border-b border-zinc-800 flex flex-wrap items-center justify-between px-4 py-2 bg-zinc-950/90 backdrop-blur-sm sticky top-0 z-30 shrink-0 gap-y-2",children:[c.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[c.jsx("h3",{className:"text-zinc-200 font-medium mr-2 truncate shrink-0 max-w-[150px]",children:n}),c.jsx("div",{className:"h-6 w-px bg-zinc-800 hidden sm:block shrink-0"}),c.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[c.jsx(ve,{icon:a1,onClick:()=>M("**","**"),title:"Bold"}),c.jsx(ve,{icon:z1,onClick:()=>M("*","*"),title:"Italic"}),c.jsx(ve,{icon:H1,onClick:()=>M("<u>","</u>"),title:"Underline"}),c.jsx(ve,{icon:F1,onClick:()=>M("~~","~~"),title:"Strikethrough"}),c.jsxs("div",{className:"relative",children:[c.jsx(ve,{icon:T1,onClick:()=>f(!w),title:"Text Color",color:"text-pink-400",active:w}),w&&c.jsxs("div",{ref:L,className:"absolute top-full left-0 mt-2 bg-zinc-900 border border-zinc-700 rounded-xl shadow-xl p-3 z-50 w-48 flex flex-col gap-3 animate-in fade-in slide-in-from-top-2 duration-200",children:[c.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:te.map(G=>c.jsx("button",{onClick:()=>se(G),className:"w-6 h-6 rounded-full border border-zinc-700 hover:scale-110 transition-transform shadow-sm",style:{backgroundColor:G},title:G},G))}),c.jsx("div",{className:"h-px bg-zinc-800 w-full"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"color",value:x,onChange:G=>k(G.target.value),className:"w-8 h-8 rounded cursor-pointer border-0 p-0 bg-transparent"}),c.jsx("button",{onClick:()=>se(x),className:"flex-1 bg-zinc-800 hover:bg-zinc-700 text-xs text-white py-1.5 rounded transition-colors",children:"Apply"})]})]})]}),c.jsx("div",{className:"w-px h-4 bg-zinc-800 mx-1"}),c.jsx(ve,{icon:b1,onClick:()=>M("# "),title:"Heading 1"}),c.jsx(ve,{icon:k1,onClick:()=>M("## "),title:"Heading 2"}),c.jsx(ve,{icon:E1,onClick:()=>M("- "),title:"Bullet List"}),c.jsx(ve,{icon:P1,onClick:()=>M("> "),title:"Quote"}),c.jsx(ve,{icon:j0,onClick:()=>M("```\n","\n```"),title:"Code Block"}),c.jsx(ve,{icon:ja,onClick:R,title:"Insert File Link",color:"text-cyan-400"}),c.jsx("select",{value:_,onChange:G=>N(G.target.value),className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-[11px] text-zinc-300 max-w-[160px]",title:"Select file to link",disabled:B.length===0,children:B.length===0?c.jsx("option",{value:"",children:"No link targets"}):B.map(G=>c.jsx("option",{value:G.id,children:G.name},G.id))}),c.jsx("input",{type:"text",value:z,onChange:G=>E(G.target.value),placeholder:"Paste File ID",className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-[11px] text-zinc-300 w-32",title:"Paste file ID"}),c.jsx("input",{type:"text",value:P,onChange:G=>I(G.target.value),placeholder:"Link Label",className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-[11px] text-zinc-300 w-28",title:"Optional link label"}),c.jsx("div",{className:"w-px h-4 bg-zinc-800 mx-1"}),c.jsx("input",{type:"file",ref:p,className:"hidden",accept:"image/*,video/*,audio/*",onChange:A}),c.jsx(ve,{icon:Si,onClick:()=>{var G;return(G=p.current)==null?void 0:G.click()},title:"Insert Image",color:"text-emerald-400"}),c.jsx(ve,{icon:V1,onClick:()=>{var G;return(G=p.current)==null?void 0:G.click()},title:"Insert Video",color:"text-blue-400"}),c.jsx(ve,{icon:D1,onClick:()=>{var G;return(G=p.current)==null?void 0:G.click()},title:"Insert Audio",color:"text-purple-400"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 shrink-0 ml-auto",children:[c.jsxs("div",{className:"flex items-center mr-2 hidden sm:flex",children:[$==="saving"&&c.jsx("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:c.jsx(Mr,{className:"w-3 h-3 animate-spin"})}),$==="saved"&&c.jsx("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:c.jsx(cr,{className:"w-3 h-3"})}),$==="unsaved"&&c.jsx("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:c.jsx(Sn,{className:"w-3 h-3"})})]}),c.jsxs("div",{className:"flex bg-zinc-800 p-1 rounded-lg border border-zinc-700 hidden sm:flex",children:[c.jsx("button",{onClick:()=>m("edit"),className:`p-1.5 rounded transition-all ${d==="edit"?"bg-zinc-600 text-white":"text-zinc-400"}`,title:"Edit Only",children:c.jsx(Da,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>m("split"),className:`p-1.5 rounded transition-all ${d==="split"?"bg-zinc-600 text-white":"text-zinc-400"}`,title:"Split View",children:c.jsx(D0,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>m("preview"),className:`p-1.5 rounded transition-all ${d==="preview"?"bg-zinc-600 text-white":"text-zinc-400"}`,title:"Preview Only",children:c.jsx(m1,{className:"w-4 h-4"})})]}),c.jsx("button",{onClick:V,className:"p-2 hover:bg-red-500/10 rounded text-zinc-500 hover:text-red-400 transition-colors",title:"Clear Document",children:c.jsx(Qt,{className:"w-4 h-4"})}),c.jsx("button",{onClick:j,className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors shadow-lg ${$==="unsaved"?"bg-blue-600 text-white":"bg-zinc-700 text-zinc-200"}`,children:c.jsx(Ar,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[(d==="edit"||d==="split")&&c.jsx("div",{className:`h-full flex flex-col ${d==="split"?"w-1/2 border-r border-zinc-800":"w-full"}`,children:c.jsx("textarea",{ref:O,className:"w-full h-full bg-zinc-950 p-6 text-zinc-300 font-mono text-sm resize-none focus:outline-none leading-relaxed custom-scrollbar selection:bg-blue-500/30",value:l,onChange:G=>u(G.target.value),onDragOver:fe,onDrop:me,placeholder:"# Start writing...",spellCheck:!1})}),(d==="preview"||d==="split")&&c.jsx("div",{className:`h-full overflow-auto custom-scrollbar bg-zinc-900 ${d==="split"?"w-1/2":"w-full"}`,children:c.jsx("div",{ref:H,onClick:be,className:"max-w-3xl mx-auto p-8 prose prose-invert prose-headings:border-b-0",dangerouslySetInnerHTML:{__html:v}})})]})]})},bN="application/x-gdpm-file-id",Br=({value:e,onChange:t,options:n,className:r="",selectClassName:i="",disabled:s=!1})=>c.jsxs("div",{className:`relative ${r}`,children:[c.jsx("select",{value:e,onChange:o=>t(o.target.value),disabled:s,className:`w-full appearance-none rounded-md border border-zinc-700 bg-zinc-900 px-2 py-1.5 pr-7 text-xs text-zinc-200 transition focus:border-zinc-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 ${i}`,children:n.map(o=>c.jsx("option",{value:o.value,className:"bg-zinc-900 text-zinc-200",children:o.label},o.value))}),c.jsx(Mu,{className:"pointer-events-none absolute right-2 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-zinc-500"})]}),kN=({initialContent:e,onSave:t,fileName:n,projectFiles:r=[],onOpenFile:i,activeFileId:s})=>{const[o,a]=T.useState(()=>((e==null?void 0:e.items)||[]).map(ye=>({...ye,status:ye.status||(ye.completed?"Done":"To Do")}))),[l,u]=T.useState("saved"),d=T.useRef(JSON.stringify(o)),[m,y]=T.useState(null),[h,v]=T.useState(null),[g,w]=T.useState(""),[f,x]=T.useState("Medium"),[k,_]=T.useState(""),[N,z]=T.useState(""),[E,P]=T.useState("All"),[I,$]=T.useState("All"),[q,D]=T.useState("Newest"),[O,p]=T.useState(null),[L,H]=T.useState(""),[U,B]=T.useState(null),[j,V]=T.useState(""),[M,A]=T.useState(null),[se,R]=T.useState(""),K=T.useRef(null),fe=oe.useMemo(()=>new Map(r.map(ie=>[ie.id,ie.name])),[r]),me=oe.useMemo(()=>r.filter(ie=>ie.id!==s).sort((ie,ye)=>ie.name.localeCompare(ye.name,void 0,{sensitivity:"base"})),[r,s]),be=oe.useMemo(()=>{const ie=se.trim().toLowerCase();return ie?me.filter(ye=>ye.name.toLowerCase().includes(ie)||ye.id.toLowerCase().includes(ie)):me},[me,se]),ve=["To Do","In Progress","Done"];T.useEffect(()=>{const ye=((e==null?void 0:e.items)||[]).map(Se=>({...Se,status:Se.status||(Se.completed?"Done":"To Do")}));a(ye),d.current=JSON.stringify(ye)},[e]),T.useEffect(()=>{if(!M)return;const ie=ye=>{K.current&&(K.current.contains(ye.target)||(A(null),R("")))};return document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[M]),T.useEffect(()=>{M&&O!==M&&(A(null),R(""))},[O,M]),T.useEffect(()=>{if(JSON.stringify(o)===d.current)return;u("unsaved");const ye=setTimeout(()=>te(),2e3);return()=>clearTimeout(ye)},[o]),T.useEffect(()=>{const ie=ye=>{(ye.ctrlKey||ye.metaKey)&&ye.key==="s"&&(ye.preventDefault(),te())};return window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)},[o]);const te=()=>{u("saving"),t({items:o}),d.current=JSON.stringify(o),setTimeout(()=>u("saved"),500)},G=ie=>{if(ie&&ie.preventDefault(),!g.trim())return;const ye={id:crypto.randomUUID(),text:g.trim(),completed:!1,status:"To Do",priority:f,dueDate:k||void 0,description:"",subTasks:[]};a([ye,...o]),w(""),x("Medium"),_("")},ce=(ie,ye)=>{ie.stopPropagation(),confirm("Delete this task?")&&a(o.filter(Se=>Se.id!==ye))},pe=ie=>{const ye=o.find(Ne=>Ne.id===ie);if(!ye)return;const Se={...ye,id:crypto.randomUUID(),text:`${ye.text} (Copy)`,subTasks:(ye.subTasks||[]).map(Ne=>({...Ne,id:crypto.randomUUID()}))};a([Se,...o])},b=(ie,ye)=>{a(o.map(Se=>Se.id===ie?{...Se,status:ye,completed:ye==="Done"}:Se))},ne=(ie,ye)=>{a(o.map(Se=>Se.id===ie?{...Se,description:ye}:Se))},J=(ie,ye)=>{a(o.map(Se=>Se.id===ie?{...Se,...ye}:Se))},C=ie=>{B(ie.id),V(ie.text)},S=()=>{if(!U)return;const ie=j.trim();ie&&J(U,{text:ie}),B(null),V("")},Y=()=>{B(null),V("")},le=(ie,ye)=>{const Se=r.find(De=>De.id===ye);if(!Se)return;const Ne=`[${Se.name}](file://${Se.id})`;a(De=>De.map($e=>$e.id===ie?{...$e,description:`${$e.description||""}${$e.description?`
`:""}${Ne}`}:$e)),A(null),R("")},X=ie=>{me.length!==0&&(A(ye=>ye===ie?null:ie),R(""))},W=ie=>{var F;const ye=ie.dataTransfer.getData(bN);if(ye)try{const Z=JSON.parse(ye);if(Z!=null&&Z.id)return{id:Z.id,name:Z.name||((F=r.find(Q=>Q.id===Z.id))==null?void 0:F.name)||"Linked File"}}catch{const Z=r.find(Q=>Q.id===ye);if(Z)return{id:Z.id,name:Z.name}}const Se=ie.dataTransfer.getData("text/uri-list");if(Se!=null&&Se.startsWith("file://")){const Z=Se.replace("file://","").trim(),Q=r.find(ke=>ke.id===Z);if(Q)return{id:Q.id,name:Q.name}}const Ne=ie.dataTransfer.getData("text/plain"),De=Ne.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(De!=null&&De[2]){const Z=r.find(Q=>Q.id===De[2]);if(Z)return{id:Z.id,name:Z.name}}const $e=r.find(Z=>Z.id===Ne.trim());return $e?{id:$e.id,name:$e.name}:null},ae=ie=>{W(ie)&&(ie.preventDefault(),ie.dataTransfer.dropEffect="copy")},ue=(ie,ye)=>{const Se=W(ie);if(!Se)return;ie.preventDefault();const Ne=`[${Se.name}](file://${Se.id})`;a(o.map(De=>De.id===ye?{...De,description:`${De.description||""}${De.description?`
`:""}${Ne}`}:De))},de=ie=>{const ye=[],Se=/\[([^\]]+)\]\(file:\/\/([^)]+)\)/g;let Ne=0,De=null;for(;(De=Se.exec(ie))!==null;){De.index>Ne&&ye.push(c.jsx("span",{children:ie.slice(Ne,De.index)},`txt-${Ne}`));const $e=De[2],F=fe.has($e);ye.push(c.jsx("button",{onClick:Z=>{Z.stopPropagation(),i==null||i($e)},className:`underline underline-offset-2 ${F?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"}`,title:F?`Open ${fe.get($e)}`:"Linked file not found",children:De[1]},`lnk-${$e}-${De.index}`)),Ne=Se.lastIndex}return Ne<ie.length&&ye.push(c.jsx("span",{children:ie.slice(Ne)},`txt-end-${Ne}`)),ye.length?ye:ie},Ee=ie=>{if(!L.trim())return;const ye={id:crypto.randomUUID(),text:L.trim(),completed:!1};a(o.map(Se=>Se.id===ie?{...Se,subTasks:[...Se.subTasks||[],ye]}:Se)),H("")},Pe=(ie,ye)=>{a(o.map(Se=>Se.id===ie&&Se.subTasks?{...Se,subTasks:Se.subTasks.map(Ne=>Ne.id===ye?{...Ne,completed:!Ne.completed}:Ne)}:Se))},Te=(ie,ye)=>{a(o.map(Se=>Se.id===ie&&Se.subTasks?{...Se,subTasks:Se.subTasks.filter(Ne=>Ne.id!==ye)}:Se))},Oe=()=>{const ie=new Set(Re.map(ye=>ye.id));a(o.map(ye=>ie.has(ye.id)?{...ye,status:"Done",completed:!0}:ye))},at=()=>{a(o.filter(ie=>ie.status!=="Done"&&!ie.completed)),O&&o.some(ie=>ie.id===O&&(ie.status==="Done"||ie.completed))&&p(null)},Ue=()=>{z(""),P("All"),$("All"),D("Newest")},ee=(ie,ye)=>{y(ye),ie.dataTransfer.effectAllowed="move",ie.dataTransfer.setData("text/plain",ye)},re=(ie,ye)=>{ie.preventDefault(),h!==ye&&v(ye)},he=(ie,ye)=>{ie.preventDefault(),v(null);const Se=ie.dataTransfer.getData("text/plain");Se&&Se===m&&b(Se,ye),y(null)},ge=ie=>{switch(ie){case"High":return"text-red-400 bg-red-400/10 border-red-400/20";case"Medium":return"text-yellow-400 bg-yellow-400/10 border-yellow-400/20";case"Low":return"text-blue-400 bg-blue-400/10 border-blue-400/20"}},we=ie=>{switch(ie){case"To Do":return"border-t-zinc-600";case"In Progress":return"border-t-blue-500";case"Done":return"border-t-emerald-500"}},xe={High:3,Medium:2,Low:1},Me=new Map(o.map((ie,ye)=>[ie.id,ye])),Re=[...o].filter(ie=>!(N&&!ie.text.toLowerCase().includes(N.toLowerCase())||E!=="All"&&ie.priority!==E||I!=="All"&&ie.status!==I)).sort((ie,ye)=>{const Se=Me.get(ie.id)??0,Ne=Me.get(ye.id)??0;switch(q){case"Oldest":return Ne-Se;case"Priority":return xe[ye.priority]-xe[ie.priority];case"Due Date":{const De=ie.dueDate?new Date(ie.dueDate).getTime():Number.POSITIVE_INFINITY,$e=ye.dueDate?new Date(ye.dueDate).getTime():Number.POSITIVE_INFINITY;return De-$e}case"Alphabetical":return ie.text.localeCompare(ye.text,void 0,{sensitivity:"base"});case"Newest":default:return Se-Ne}}),Be=I==="All"?ve:[I];return c.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[c.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-10 shrink-0",children:[c.jsx("h3",{className:"text-zinc-200 font-medium",children:n}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center mr-2",children:[l==="saving"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[c.jsx(Mr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),l==="saved"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[c.jsx(cr,{className:"w-3 h-3"})," Saved"]}),l==="unsaved"&&c.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[c.jsx(Sn,{className:"w-3 h-3"})," Unsaved"]})]}),c.jsxs("button",{onClick:te,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${l==="unsaved"?"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[c.jsx(Ar,{className:"w-4 h-4"})," Save"]})]})]}),c.jsxs("div",{className:"px-6 py-4 border-b border-zinc-800 bg-zinc-900 shrink-0 flex flex-col xl:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 bg-zinc-950 border border-zinc-800 rounded-lg p-1.5 flex gap-2 items-center shadow-sm",children:[c.jsx("input",{type:"text",value:g,onChange:ie=>w(ie.target.value),onKeyDown:ie=>{ie.key==="Enter"&&G()},placeholder:"Add a new task...",className:"flex-1 bg-transparent px-3 text-sm text-white focus:outline-none placeholder:text-zinc-600"}),c.jsx("div",{className:"h-4 w-px bg-zinc-800"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Br,{value:f,onChange:ie=>x(ie),options:[{value:"Low",label:"Low"},{value:"Medium",label:"Medium"},{value:"High",label:"High"}],className:"w-[102px]",selectClassName:"bg-zinc-950 border-zinc-800"}),c.jsx("input",{type:"date",value:k,onChange:ie=>_(ie.target.value),className:"bg-transparent text-xs text-zinc-400 focus:outline-none [color-scheme:dark] cursor-pointer"})]}),c.jsx("button",{onClick:G,disabled:!g.trim(),className:"bg-zinc-800 hover:bg-zinc-700 text-white p-2 rounded-md disabled:opacity-50 transition-colors",children:c.jsx(zn,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Ta,{className:"w-4 h-4 text-zinc-500 absolute left-3 top-1/2 -translate-y-1/2"}),c.jsx("input",{type:"text",value:N,onChange:ie=>z(ie.target.value),placeholder:"Search...",className:"bg-zinc-950 border border-zinc-800 rounded-md py-2 pl-9 pr-3 text-sm text-zinc-200 focus:outline-none focus:border-zinc-700 w-48"})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-3 py-2",children:[c.jsx(T0,{className:"w-3.5 h-3.5 text-zinc-500"}),c.jsx(Br,{value:E,onChange:ie=>P(ie),options:[{value:"All",label:"All Priorities"},{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],className:"w-[128px]",selectClassName:"border-zinc-800 bg-zinc-900"})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-3 py-2",children:[c.jsx(vf,{className:"w-3.5 h-3.5 text-zinc-500"}),c.jsx(Br,{value:I,onChange:ie=>$(ie),options:[{value:"All",label:"All Statuses"},{value:"To Do",label:"To Do"},{value:"In Progress",label:"In Progress"},{value:"Done",label:"Done"}],className:"w-[128px]",selectClassName:"border-zinc-800 bg-zinc-900"})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-3 py-2",children:[c.jsx(o1,{className:"w-3.5 h-3.5 text-zinc-500"}),c.jsx(Br,{value:q,onChange:ie=>D(ie),options:[{value:"Newest",label:"Newest"},{value:"Oldest",label:"Oldest"},{value:"Priority",label:"Priority"},{value:"Due Date",label:"Due Date"},{value:"Alphabetical",label:"A-Z"}],className:"w-[118px]",selectClassName:"border-zinc-800 bg-zinc-900"})]}),c.jsx("button",{onClick:Oe,disabled:Re.length===0,className:"text-xs px-3 py-2 rounded-md bg-zinc-950 border border-zinc-800 text-zinc-300 hover:text-white disabled:opacity-40",children:"Mark Filtered Done"}),c.jsx("button",{onClick:at,disabled:!o.some(ie=>ie.status==="Done"||ie.completed),className:"text-xs px-3 py-2 rounded-md bg-zinc-950 border border-zinc-800 text-zinc-300 hover:text-white disabled:opacity-40",children:"Clear Completed"}),c.jsxs("button",{onClick:Ue,className:"text-xs px-3 py-2 rounded-md bg-zinc-950 border border-zinc-800 text-zinc-300 hover:text-white flex items-center gap-1",title:"Reset filters and sorting",children:[c.jsx(L1,{className:"w-3 h-3"})," Reset View"]})]})]}),c.jsx("div",{className:"flex-1 overflow-x-auto p-6 bg-zinc-900",children:c.jsx("div",{className:`flex gap-6 h-full ${Be.length===1?"min-w-[320px]":"min-w-[900px]"}`,children:Be.map(ie=>{const ye=Re.filter(Ne=>Ne.status===ie),Se=h===ie;return c.jsxs("div",{onDragOver:Ne=>re(Ne,ie),onDrop:Ne=>he(Ne,ie),className:`flex-1 flex flex-col min-w-[280px] bg-zinc-950/50 rounded-xl border transition-colors ${Se?"border-blue-500/50 bg-zinc-900":"border-zinc-800"}`,children:[c.jsxs("div",{className:`p-4 border-b border-zinc-800 flex justify-between items-center rounded-t-xl border-t-4 ${we(ie)} bg-zinc-900`,children:[c.jsx("h4",{className:"font-semibold text-zinc-300 text-sm tracking-wide",children:ie}),c.jsx("span",{className:"bg-zinc-800 text-zinc-500 text-xs px-2 py-0.5 rounded-full font-medium",children:ye.length})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 custom-scrollbar",children:[ye.map(Ne=>{const De=Ne.subTasks||[],$e=De.filter(Q=>Q.completed).length,F=De.length>0?$e/De.length*100:0,Z=O===Ne.id;return c.jsxs("div",{draggable:!0,onDragStart:Q=>ee(Q,Ne.id),className:`group bg-zinc-900 border border-zinc-800 rounded-lg p-3 shadow-sm hover:border-zinc-700 hover:shadow-md transition-all cursor-grab active:cursor-grabbing ${m===Ne.id?"opacity-50 grayscale":"opacity-100"}`,children:[c.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[c.jsx("button",{onClick:()=>b(Ne.id,Ne.status==="Done"?"To Do":"Done"),className:`mt-0.5 shrink-0 transition-colors ${Ne.status==="Done"?"text-emerald-500":"text-zinc-600 hover:text-emerald-500"}`,children:Ne.status==="Done"?c.jsx(ys,{className:"w-5 h-5"}):c.jsx(bc,{className:"w-5 h-5"})}),c.jsx("div",{className:"flex-1 min-w-0",children:U===Ne.id?c.jsx("input",{autoFocus:!0,value:j,onChange:Q=>V(Q.target.value),onBlur:S,onKeyDown:Q=>{Q.key==="Enter"&&S(),Q.key==="Escape"&&Y()},className:"w-full bg-zinc-950 border border-zinc-700 rounded px-2 py-1 text-sm text-zinc-100 focus:outline-none"}):c.jsx("p",{onDoubleClick:()=>C(Ne),title:"Double-click to rename task",className:`text-sm font-medium leading-snug break-words cursor-text ${Ne.status==="Done"?"text-zinc-500 line-through":"text-zinc-200"}`,children:Ne.text})}),c.jsx("button",{onClick:()=>p(Z?null:Ne.id),className:"text-zinc-600 hover:text-white transition-colors",children:Z?c.jsx(u1,{className:"w-4 h-4"}):c.jsx(j1,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[c.jsx("span",{className:`text-[10px] uppercase font-bold px-1.5 py-0.5 rounded border ${ge(Ne.priority)}`,children:Ne.priority}),Ne.dueDate&&c.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-zinc-500 bg-zinc-950 border border-zinc-800 px-1.5 py-0.5 rounded",children:[c.jsx(C0,{className:"w-3 h-3"})," ",new Date(Ne.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]}),De.length>0&&c.jsxs("div",{className:"flex items-center gap-1.5 ml-auto",children:[c.jsx(vf,{className:"w-3 h-3 text-zinc-500"}),c.jsxs("span",{className:"text-[10px] text-zinc-500 font-medium",children:[$e,"/",De.length]}),c.jsx("div",{className:"w-8 h-1 bg-zinc-800 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500/80",style:{width:`${F}%`}})})]})]}),Z&&c.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-800/50 space-y-3 animate-in fade-in slide-in-from-top-1 duration-200",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[c.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[c.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Status"}),c.jsx(Br,{value:Ne.status,onChange:Q=>b(Ne.id,Q),options:[{value:"To Do",label:"To Do"},{value:"In Progress",label:"In Progress"},{value:"Done",label:"Done"}],className:"mt-1",selectClassName:"w-full border-zinc-800 bg-zinc-900"})]}),c.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[c.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Priority"}),c.jsx(Br,{value:Ne.priority,onChange:Q=>J(Ne.id,{priority:Q}),options:[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],className:"mt-1",selectClassName:"w-full border-zinc-800 bg-zinc-900"})]}),c.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[c.jsx("label",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Due Date"}),c.jsx("input",{type:"date",value:Ne.dueDate||"",onChange:Q=>J(Ne.id,{dueDate:Q.target.value||void 0}),className:"mt-1 w-full bg-transparent text-xs text-zinc-200 focus:outline-none [color-scheme:dark]"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"relative flex items-center justify-between gap-2",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Notes"}),c.jsxs("button",{onClick:()=>X(Ne.id),disabled:me.length===0,className:"text-[10px] text-cyan-400 hover:text-cyan-300 flex items-center gap-1 disabled:text-zinc-600 disabled:cursor-not-allowed",title:me.length===0?"No files available to link":"Insert file link",children:[c.jsx(ja,{className:"w-3 h-3"})," Link File"]}),M===Ne.id&&c.jsxs("div",{ref:K,className:"absolute right-0 top-5 z-20 w-[280px] rounded-md border border-zinc-700 bg-zinc-900 p-2 shadow-lg",children:[c.jsx("input",{type:"text",value:se,onChange:Q=>R(Q.target.value),placeholder:"Search files...",className:"mb-2 w-full rounded border border-zinc-700 bg-zinc-950 px-2 py-1.5 text-xs text-zinc-200 focus:outline-none focus:border-zinc-500",autoFocus:!0}),c.jsx("div",{className:"max-h-44 overflow-y-auto space-y-1 custom-scrollbar",children:be.length===0?c.jsx("p",{className:"px-2 py-2 text-[11px] text-zinc-500",children:"No matching files."}):be.map(Q=>c.jsxs("button",{onClick:()=>le(Ne.id,Q.id),className:"flex w-full items-center justify-between rounded px-2 py-1.5 text-left text-xs text-zinc-300 transition hover:bg-zinc-800 hover:text-white",title:Q.id,children:[c.jsx("span",{className:"truncate pr-2",children:Q.name}),c.jsx("span",{className:"text-[10px] text-zinc-500",children:Q.id.slice(0,8)})]},Q.id))})]})]}),c.jsx("textarea",{value:Ne.description||"",onChange:Q=>ne(Ne.id,Q.target.value),onDragOver:ae,onDrop:Q=>ue(Q,Ne.id),placeholder:"Add notes...",className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-xs text-zinc-300 focus:outline-none focus:border-zinc-700 min-h-[60px] resize-y"}),Ne.description&&Ne.description.includes("file://")&&c.jsx("div",{className:"text-xs text-zinc-400 bg-zinc-950 border border-zinc-800 rounded p-2 break-words",children:de(Ne.description)})]}),c.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:L,onChange:Q=>H(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"&&Ee(Ne.id)},placeholder:"Sub-task...",className:"flex-1 bg-transparent text-xs text-white focus:outline-none"}),c.jsx("button",{onClick:()=>Ee(Ne.id),disabled:!L.trim(),className:"text-zinc-400 hover:text-white disabled:opacity-30",children:c.jsx(zn,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1",children:De.map(Q=>c.jsxs("div",{className:"flex items-center gap-2 group/sub",children:[c.jsx("button",{onClick:()=>Pe(Ne.id,Q.id),className:`text-zinc-600 hover:text-blue-500 ${Q.completed?"text-blue-500":""}`,children:Q.completed?c.jsx(ys,{className:"w-3 h-3"}):c.jsx(bc,{className:"w-3 h-3"})}),c.jsx("span",{className:`text-xs flex-1 truncate ${Q.completed?"line-through text-zinc-600":"text-zinc-400"}`,children:Q.text}),c.jsx("button",{onClick:()=>Te(Ne.id,Q.id),className:"text-zinc-700 hover:text-red-400 opacity-0 group-hover/sub:opacity-100 transition-opacity",children:c.jsx(Qt,{className:"w-3 h-3"})})]},Q.id))})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[c.jsxs("button",{onClick:()=>pe(Ne.id),className:"flex items-center gap-1 text-xs text-zinc-300 hover:text-white px-2 py-1 rounded hover:bg-zinc-800 transition-colors",children:[c.jsx(zn,{className:"w-3 h-3"})," Duplicate"]}),c.jsxs("button",{onClick:Q=>ce(Q,Ne.id),className:"flex items-center gap-1 text-xs text-red-400 hover:text-red-300 px-2 py-1 rounded hover:bg-red-900/20 transition-colors",children:[c.jsx(Qt,{className:"w-3 h-3"})," Delete Task"]})]})]})]},Ne.id)}),ye.length===0&&c.jsxs("div",{className:"text-center py-10 opacity-30 text-zinc-500 select-none",children:[c.jsx("p",{className:"text-xs italic",children:"No tasks here"}),c.jsx("p",{className:"text-[11px] mt-1",children:"Add a task above or drag one into this column."})]})]})]},ie)})})})]})},_N="application/x-gdpm-file-id",NN=({initialContent:e,onSave:t,fileName:n,projectFiles:r=[],onOpenFile:i,activeFileId:s})=>{const[o,a]=T.useState((e==null?void 0:e.tasks)||[]),[l,u]=T.useState("saved"),d=T.useRef(JSON.stringify((e==null?void 0:e.tasks)||[])),[m,y]=T.useState(!1),[h,v]=T.useState(null),[g,w]=T.useState(""),[f,x]=T.useState("All"),[k,_]=T.useState(""),[N,z]=T.useState("Medium"),[E,P]=T.useState(""),[I,$]=T.useState(""),[q,D]=T.useState(""),[O,p]=T.useState(""),[L,H]=T.useState(null),[U,B]=T.useState(null),j=oe.useMemo(()=>new Map(r.map(X=>[X.id,X.name])),[r]),V=oe.useMemo(()=>r.filter(X=>X.id!==s).sort((X,W)=>X.name.localeCompare(W.name,void 0,{sensitivity:"base"})),[r,s]);T.useEffect(()=>{a((e==null?void 0:e.tasks)||[]),d.current=JSON.stringify((e==null?void 0:e.tasks)||[])},[e]),T.useEffect(()=>{if(V.length===0){$("");return}V.some(X=>X.id===I)||$(V[0].id)},[V,I]),T.useEffect(()=>{if(JSON.stringify(o)===d.current)return;u("unsaved");const W=setTimeout(()=>{M()},2e3);return()=>clearTimeout(W)},[o]),T.useEffect(()=>{const X=W=>{(W.ctrlKey||W.metaKey)&&W.key==="s"&&(W.preventDefault(),M())};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[o]);const M=()=>{u("saving"),t({tasks:o}),d.current=JSON.stringify(o),setTimeout(()=>u("saved"),500)},A=["Open","In Progress","Resolved","Closed"],se=()=>{_(""),P(""),z("Medium"),v(null),y(!1)},R=()=>{v(null),_(""),P(""),z("Medium"),y(!0)},K=(X,W)=>{X.stopPropagation(),X.preventDefault(),v(W),_(W.title),P(W.description),z(W.severity),y(!0)},fe=X=>{if(X.preventDefault(),!!k.trim()){if(h)a(W=>W.map(ae=>ae.id===h.id?{...ae,title:k,description:E,severity:N}:ae));else{const W={id:crypto.randomUUID(),title:k,description:E,severity:N,status:"Open",createdAt:Date.now()};a([...o,W])}se()}},me=(X,W)=>{a(ae=>ae.map(ue=>ue.id===X?{...ue,status:W}:ue))},be=X=>{confirm("Delete this bug ticket?")&&a(W=>W.filter(ae=>ae.id!==X))},ve=(X,W)=>{H(W),X.dataTransfer.effectAllowed="move",X.dataTransfer.setData("text/plain",W)},te=(X,W)=>{X.preventDefault(),X.dataTransfer.dropEffect="move",U!==W&&B(W)},G=(X,W)=>{X.preventDefault(),B(null);const ae=X.dataTransfer.getData("text/plain");ae&&ae===L&&me(ae,W),H(null)},ce=()=>{H(null),B(null)},pe=X=>{switch(X){case"Critical":return"bg-red-500 text-white border-red-600";case"High":return"bg-orange-500 text-white border-orange-600";case"Medium":return"bg-yellow-500/20 text-yellow-500 border-yellow-500/40";case"Low":return"bg-blue-500/20 text-blue-500 border-blue-500/40"}},b=X=>X==="Critical"?c.jsx(Sn,{className:"w-3 h-3 fill-white text-red-600"}):c.jsx(Sn,{className:"w-3 h-3"}),ne=()=>{const X=q.trim()||I;if(!X){alert("Provide a file ID or choose a file.");return}const W=r.find(ue=>ue.id===X),ae=O.trim()||(W==null?void 0:W.name)||"Linked File";P(ue=>`${ue}${ue?`
`:""}[${ae}](file://${X})`)},J=X=>{var Pe;const W=X.dataTransfer.getData(_N);if(W)try{const Te=JSON.parse(W);if(Te!=null&&Te.id)return{id:Te.id,name:Te.name||((Pe=r.find(Oe=>Oe.id===Te.id))==null?void 0:Pe.name)||"Linked File"}}catch{const Te=r.find(Oe=>Oe.id===W);if(Te)return{id:Te.id,name:Te.name}}const ae=X.dataTransfer.getData("text/uri-list");if(ae!=null&&ae.startsWith("file://")){const Te=ae.replace("file://","").trim(),Oe=r.find(at=>at.id===Te);if(Oe)return{id:Oe.id,name:Oe.name}}const ue=X.dataTransfer.getData("text/plain"),de=ue.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(de!=null&&de[2]){const Te=r.find(Oe=>Oe.id===de[2]);if(Te)return{id:Te.id,name:Te.name}}const Ee=r.find(Te=>Te.id===ue.trim());return Ee?{id:Ee.id,name:Ee.name}:null},C=X=>{J(X)&&(X.preventDefault(),X.dataTransfer.dropEffect="copy")},S=X=>{const W=J(X);W&&(X.preventDefault(),P(ae=>`${ae}${ae?`
`:""}[${W.name}](file://${W.id})`))},Y=X=>{const W=[],ae=/\[([^\]]+)\]\(file:\/\/([^)]+)\)/g;let ue=0,de=null;for(;(de=ae.exec(X))!==null;){de.index>ue&&W.push(c.jsx("span",{children:X.slice(ue,de.index)},`txt-${ue}`));const Ee=de[1],Pe=de[2],Te=j.get(Pe);W.push(c.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),i==null||i(Pe)},className:`underline underline-offset-2 ${Te?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"}`,title:Te?`Open ${Te}`:"Linked file not found",children:Ee},`lnk-${Pe}-${de.index}`)),ue=ae.lastIndex}return ue<X.length&&W.push(c.jsx("span",{children:X.slice(ue)},`txt-end-${ue}`)),W.length>0?W:X},le=o.filter(X=>{if(f!=="All"&&X.severity!==f)return!1;if(g){const W=g.toLowerCase();return X.title.toLowerCase().includes(W)||X.description.toLowerCase().includes(W)}return!0});return c.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[c.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-10 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg",children:c.jsx(Ca,{className:"w-5 h-5 text-red-500"})}),c.jsx("h3",{className:"text-zinc-200 font-medium",children:n})]}),c.jsx("div",{className:"flex gap-3",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center mr-2",children:[l==="saving"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[c.jsx(Mr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),l==="saved"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[c.jsx(cr,{className:"w-3 h-3"})," Saved"]}),l==="unsaved"&&c.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[c.jsx(Sn,{className:"w-3 h-3"})," Unsaved"]})]}),c.jsxs("button",{onClick:R,className:"flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 text-zinc-200 px-4 py-2 rounded-md text-sm font-medium transition-colors border border-zinc-700",children:[c.jsx(zn,{className:"w-4 h-4"}),"Report Bug"]}),c.jsxs("button",{onClick:M,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${l==="unsaved"?"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[c.jsx(Ar,{className:"w-4 h-4"}),"Save Board"]})]})})]}),c.jsxs("div",{className:"px-6 py-4 border-b border-zinc-800 flex flex-wrap gap-4 items-center bg-zinc-900",children:[c.jsxs("div",{className:"relative w-64",children:[c.jsx(Ta,{className:"w-4 h-4 text-zinc-500 absolute left-3 top-1/2 -translate-y-1/2"}),c.jsx("input",{type:"text",value:g,onChange:X=>w(X.target.value),placeholder:"Search bugs...",className:"w-full bg-zinc-950 border border-zinc-800 rounded-md py-1.5 pl-9 pr-3 text-sm text-zinc-200 focus:outline-none focus:border-zinc-600"})]}),c.jsx("div",{className:"h-6 w-px bg-zinc-800 hidden sm:block"}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[c.jsx(T0,{className:"w-4 h-4"}),c.jsx("span",{children:"Severity:"}),c.jsx("div",{className:"flex gap-1 bg-zinc-950 p-1 rounded-lg border border-zinc-800",children:["All","Low","Medium","High","Critical"].map(X=>c.jsx("button",{onClick:()=>x(X),className:`px-2 py-0.5 rounded text-xs font-medium transition-all ${f===X?"bg-zinc-800 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:X},X))})]}),c.jsxs("div",{className:"ml-auto text-xs text-zinc-500",children:["Showing ",le.length," of ",o.length," bugs"]})]}),c.jsx("div",{className:"flex-1 overflow-x-auto p-6",children:c.jsx("div",{className:"flex gap-6 h-full min-w-[1000px]",children:A.map(X=>{const W=le.filter(ue=>ue.status===X),ae=U===X;return c.jsxs("div",{onDragOver:ue=>te(ue,X),onDrop:ue=>G(ue,X),className:`
                    flex-1 flex flex-col min-w-[300px] h-full rounded-xl overflow-hidden transition-all duration-200
                    ${ae?"bg-zinc-900 border-2 border-blue-500/50 shadow-[0_0_30px_-5px_rgba(59,130,246,0.2)]":"bg-zinc-950/50 border border-zinc-800"}
                  `,children:[c.jsxs("div",{className:"p-4 border-b flex justify-between items-center sticky top-0 bg-zinc-900 border-zinc-800",children:[c.jsx("h4",{className:`font-semibold transition-colors ${ae?"text-blue-400":"text-zinc-300"}`,children:X}),c.jsx("span",{className:"text-xs bg-zinc-800 text-zinc-400 px-2 py-1 rounded-full",children:W.length})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 custom-scrollbar",children:[W.map(ue=>c.jsxs("div",{draggable:!0,onDragStart:de=>ve(de,ue.id),onDragEnd:ce,className:`bg-zinc-900 border border-zinc-800 p-4 rounded-lg shadow-sm hover:border-zinc-700 transition-colors group cursor-grab active:cursor-grabbing ${L===ue.id?"opacity-40 grayscale border-dashed border-zinc-600":"opacity-100"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2 relative",children:[c.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border flex items-center gap-1 pointer-events-none ${pe(ue.severity)}`,children:[b(ue.severity),ue.severity]}),c.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity relative z-20",children:[c.jsx("button",{onClick:de=>K(de,ue),className:"p-1 text-zinc-500 hover:text-blue-400 hover:bg-zinc-800 rounded cursor-pointer",title:"Edit Bug",children:c.jsx(M1,{className:"w-4 h-4"})}),c.jsx("button",{onClick:de=>{de.preventDefault(),de.stopPropagation(),be(ue.id)},className:"p-1 text-zinc-500 hover:text-red-400 hover:bg-zinc-800 rounded cursor-pointer",title:"Delete Bug",children:c.jsx(Qt,{className:"w-4 h-4"})})]})]}),c.jsx("h5",{className:"text-sm font-medium text-zinc-200 mb-1 pointer-events-none",children:ue.title}),c.jsx("p",{className:"text-xs text-zinc-500 line-clamp-2 mb-3 break-words",children:ue.description?Y(ue.description):"No description provided."}),c.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-zinc-800 pointer-events-auto relative z-10",children:[X!=="Open"?c.jsxs("button",{onClick:()=>me(ue.id,A[A.indexOf(X)-1]),className:"text-xs text-zinc-500 hover:text-zinc-300 flex items-center gap-1 hover:bg-zinc-800 px-2 py-1 rounded transition-colors",children:[c.jsx(c1,{className:"w-3 h-3"})," Prev"]}):c.jsx("div",{}),X!=="Closed"?c.jsxs("button",{onClick:()=>me(ue.id,A[A.indexOf(X)+1]),className:"text-xs text-zinc-500 hover:text-zinc-300 flex items-center gap-1 hover:bg-zinc-800 px-2 py-1 rounded transition-colors",children:["Next ",c.jsx(Au,{className:"w-3 h-3"})]}):c.jsx("div",{})]})]},ue.id)),W.length===0&&c.jsx("div",{className:`text-center py-8 pointer-events-none transition-opacity ${ae?"opacity-50 text-blue-400":"opacity-30 text-zinc-500"}`,children:c.jsx("div",{className:"text-sm italic",children:ae?"Drop to move here":"Drop items here"})})]})]},X)})})}),m&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-lg p-6 shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:h?"Edit Bug Report":"Report Bug"}),c.jsx("button",{onClick:se,className:"text-zinc-500 hover:text-white",children:c.jsx(vs,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Title"}),c.jsx("input",{autoFocus:!0,type:"text",required:!0,value:k,onChange:X=>_(X.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all",placeholder:"e.g., Crash on startup"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Severity"}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:["Low","Medium","High","Critical"].map(X=>c.jsx("button",{type:"button",onClick:()=>z(X),className:`py-2 px-1 rounded-lg text-xs font-medium border transition-all ${N===X?"bg-zinc-800 border-zinc-600 text-white ring-1 ring-zinc-500":"bg-zinc-950 border-zinc-800 text-zinc-400 hover:bg-zinc-800"}`,children:X},X))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"Description"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("select",{value:I,onChange:X=>$(X.target.value),className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs text-zinc-300 max-w-[170px]",disabled:V.length===0,children:V.length===0?c.jsx("option",{value:"",children:"No link targets"}):V.map(X=>c.jsx("option",{value:X.id,children:X.name},X.id))}),c.jsx("input",{type:"text",value:q,onChange:X=>D(X.target.value),placeholder:"Paste File ID",className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs text-zinc-300 w-32"}),c.jsx("input",{type:"text",value:O,onChange:X=>p(X.target.value),placeholder:"Link Label",className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs text-zinc-300 w-28"}),c.jsxs("button",{type:"button",onClick:ne,className:"text-xs text-cyan-400 hover:text-cyan-300 flex items-center gap-1",title:"Insert File Link",children:[c.jsx(ja,{className:"w-3 h-3"})," Link File"]})]})]}),c.jsx("textarea",{value:E,onChange:X=>P(X.target.value),onDragOver:C,onDrop:S,className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all min-h-[100px]",placeholder:"Steps to reproduce..."})]}),c.jsx("div",{className:"pt-4 border-t border-zinc-800",children:c.jsx("button",{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2.5 rounded-lg text-sm font-medium transition-colors",children:h?"Save Changes":"Create Ticket"})})]})]})})]})},SN="application/x-gdpm-file-id",zN=({initialContent:e,onSave:t,fileName:n,projectFiles:r=[],onOpenFile:i,activeFileId:s})=>{const[o,a]=T.useState((e==null?void 0:e.items)||[]),[l,u]=T.useState("saved"),d=T.useRef(JSON.stringify((e==null?void 0:e.items)||[])),[m,y]=T.useState(null),[h,v]=T.useState(!1),[g,w]=T.useState({title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+864e5*7).toISOString().split("T")[0],type:"phase",status:"planned",progress:0,description:""}),[f,x]=T.useState(""),[k,_]=T.useState(""),[N,z]=T.useState(""),E=T.useMemo(()=>new Map(r.map(R=>[R.id,R.name])),[r]),P=T.useMemo(()=>r.filter(R=>R.id!==s).sort((R,K)=>R.name.localeCompare(K.name,void 0,{sensitivity:"base"})),[r,s]);T.useEffect(()=>{a((e==null?void 0:e.items)||[]),d.current=JSON.stringify((e==null?void 0:e.items)||[])},[e]),T.useEffect(()=>{if(P.length===0){x("");return}P.some(R=>R.id===f)||x(P[0].id)},[P,f]),T.useEffect(()=>{if(JSON.stringify(o)===d.current)return;u("unsaved");const K=setTimeout(()=>I(),2e3);return()=>clearTimeout(K)},[o]),T.useEffect(()=>{const R=K=>{(K.ctrlKey||K.metaKey)&&K.key==="s"&&(K.preventDefault(),I())};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[o]);const I=()=>{u("saving"),t({items:o}),d.current=JSON.stringify(o),setTimeout(()=>u("saved"),500)},$=()=>{y(null),w({title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+864e5*14).toISOString().split("T")[0],type:"phase",status:"planned",progress:0,description:""}),v(!0)},q=R=>{y(R.id),w({...R}),v(!0)},D=R=>{confirm("Delete this roadmap item?")&&(a(o.filter(K=>K.id!==R)),m===R&&v(!1))},O=()=>{const R=k.trim()||f;if(!R){alert("Provide a file ID or choose a file.");return}const K=r.find(me=>me.id===R),fe=N.trim()||(K==null?void 0:K.name)||"Linked File";w(me=>({...me,description:`${me.description||""}${me.description?`
`:""}[${fe}](file://${R})`}))},p=R=>{var te;const K=R.dataTransfer.getData(SN);if(K)try{const G=JSON.parse(K);if(G!=null&&G.id)return{id:G.id,name:G.name||((te=r.find(ce=>ce.id===G.id))==null?void 0:te.name)||"Linked File"}}catch{const G=r.find(ce=>ce.id===K);if(G)return{id:G.id,name:G.name}}const fe=R.dataTransfer.getData("text/uri-list");if(fe!=null&&fe.startsWith("file://")){const G=fe.replace("file://","").trim(),ce=r.find(pe=>pe.id===G);if(ce)return{id:ce.id,name:ce.name}}const me=R.dataTransfer.getData("text/plain"),be=me.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(be!=null&&be[2]){const G=r.find(ce=>ce.id===be[2]);if(G)return{id:G.id,name:G.name}}const ve=r.find(G=>G.id===me.trim());return ve?{id:ve.id,name:ve.name}:null},L=R=>{p(R)&&(R.preventDefault(),R.dataTransfer.dropEffect="copy")},H=R=>{const K=p(R);K&&(R.preventDefault(),w(fe=>({...fe,description:`${fe.description||""}${fe.description?`
`:""}[${K.name}](file://${K.id})`})))},U=R=>{const K=[],fe=/\[([^\]]+)\]\(file:\/\/([^)]+)\)/g;let me=0,be=null;for(;(be=fe.exec(R))!==null;){be.index>me&&K.push(c.jsx("span",{children:R.slice(me,be.index)},`txt-${me}`));const ve=be[1],te=be[2],G=E.has(te);K.push(c.jsx("button",{onClick:ce=>{ce.stopPropagation(),i==null||i(te)},className:`underline underline-offset-2 ${G?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"}`,title:G?`Open ${E.get(te)}`:"Linked file not found",children:ve},`lnk-${te}-${be.index}`)),me=fe.lastIndex}return me<R.length&&K.push(c.jsx("span",{children:R.slice(me)},`txt-end-${me}`)),K.length?K:R},B=R=>{if(R.preventDefault(),!g.title)return;const K={id:m||crypto.randomUUID(),title:g.title,startDate:g.startDate,endDate:g.type==="milestone"?g.startDate:g.endDate,type:g.type,status:g.status,progress:Number(g.progress)||0,description:g.description||""};a(m?o.map(fe=>fe.id===m?K:fe):[...o,K]),v(!1)},j=T.useMemo(()=>{if(o.length===0)return{months:[],totalDays:0,startTs:0};const R=o.flatMap(G=>[new Date(G.startDate).getTime(),new Date(G.endDate).getTime()]);let K=Math.min(...R),fe=Math.max(...R);K-=26298e5,fe+=26298e5;const me=new Date(K),be=(fe-K)/(1e3*60*60*24),ve=[];let te=new Date(me.getFullYear(),me.getMonth(),1);for(;te.getTime()<fe;){const G=(te.getTime()-K)/(fe-K)*100;ve.push({label:te.toLocaleDateString(void 0,{month:"short",year:"2-digit"}),offset:G}),te.setMonth(te.getMonth()+1)}return{months:ve,totalDays:be,startTs:K,endTs:fe}},[o]),V=(R,K)=>{if(!j.totalDays)return{left:"0%",width:"0%"};const fe=new Date(R).getTime(),me=new Date(K).getTime(),be=j.endTs-j.startTs,ve=(fe-j.startTs)/be*100,te=Math.max((me-fe)/be*100,.5);return{left:`${ve}%`,width:`${te}%`}},M=R=>{switch(R){case"completed":return"bg-emerald-500";case"in-progress":return"bg-blue-500";case"delayed":return"bg-red-500";case"dropped":return"bg-zinc-600";default:return"bg-zinc-500"}},A=R=>{switch(R){case"completed":return c.jsx("span",{className:"text-emerald-400 bg-emerald-400/10 px-2 py-0.5 rounded text-[10px] uppercase font-bold border border-emerald-400/20",children:"Done"});case"in-progress":return c.jsx("span",{className:"text-blue-400 bg-blue-400/10 px-2 py-0.5 rounded text-[10px] uppercase font-bold border border-blue-400/20",children:"Active"});case"delayed":return c.jsx("span",{className:"text-red-400 bg-red-400/10 px-2 py-0.5 rounded text-[10px] uppercase font-bold border border-red-400/20",children:"Delayed"});default:return c.jsx("span",{className:"text-zinc-400 bg-zinc-800 px-2 py-0.5 rounded text-[10px] uppercase font-bold border border-zinc-700",children:"Planned"})}},se=[...o].sort((R,K)=>new Date(R.startDate).getTime()-new Date(K.startDate).getTime());return c.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[c.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-20",children:[c.jsx("div",{className:"flex items-center gap-3",children:c.jsx("h3",{className:"text-zinc-200 font-medium",children:n})}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center mr-2",children:[l==="saving"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[c.jsx(Mr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),l==="saved"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[c.jsx(cr,{className:"w-3 h-3"})," Saved"]}),l==="unsaved"&&c.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[c.jsx(Sn,{className:"w-3 h-3"})," Unsaved"]})]}),c.jsxs("button",{onClick:$,className:"flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 text-zinc-200 px-4 py-2 rounded-md text-sm font-medium transition-colors border border-zinc-700",children:[c.jsx(zn,{className:"w-4 h-4"})," Add Item"]}),c.jsxs("button",{onClick:I,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${l==="unsaved"?"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[c.jsx(Ar,{className:"w-4 h-4"})," Save"]})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[c.jsxs("div",{className:"w-full lg:w-1/3 border-r border-zinc-800 flex flex-col bg-zinc-950/50",children:[c.jsx("div",{className:"p-4 border-b border-zinc-800 bg-zinc-950 font-semibold text-sm text-zinc-400 uppercase tracking-wider",children:"Items List"}),c.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:se.length===0?c.jsx("div",{className:"text-center py-10 text-zinc-600 text-sm",children:"No roadmap items yet."}):se.map(R=>c.jsxs("div",{onClick:()=>q(R),className:`p-3 rounded-lg border cursor-pointer hover:border-zinc-600 transition-all ${m===R.id?"bg-zinc-900 border-blue-500/50 shadow-md":"bg-zinc-900/50 border-zinc-800"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[R.type==="milestone"?c.jsx(x1,{className:"w-4 h-4 text-amber-500"}):c.jsx(C0,{className:"w-4 h-4 text-blue-500"}),c.jsx("span",{className:"font-medium text-zinc-200 text-sm",children:R.title})]}),A(R.status)]}),c.jsxs("div",{className:"flex justify-between items-center text-xs text-zinc-500",children:[c.jsxs("span",{children:[new Date(R.startDate).toLocaleDateString()," ",R.type==="phase"&&` - ${new Date(R.endDate).toLocaleDateString()}`]}),R.type==="phase"&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(B1,{className:"w-3 h-3"})," ",R.progress,"%"]})]}),R.type==="phase"&&c.jsx("div",{className:"w-full h-1 bg-zinc-800 rounded-full mt-2 overflow-hidden",children:c.jsx("div",{className:`h-full ${M(R.status)}`,style:{width:`${R.progress}%`,opacity:.7}})})]},R.id))})]}),c.jsxs("div",{className:"flex-1 flex flex-col bg-zinc-900 overflow-hidden relative",children:[c.jsx("div",{className:"h-10 bg-zinc-950 border-b border-zinc-800 relative overflow-hidden shrink-0 select-none",children:j.months.map((R,K)=>c.jsx("div",{className:"absolute top-0 bottom-0 border-l border-zinc-800 text-[10px] text-zinc-500 pl-1 pt-2 truncate",style:{left:`${R.offset}%`},children:R.label},K))}),c.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar relative p-4 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMSIgY3k9IjEiIHI9IjEiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4wNSkiLz48L3N2Zz4=')]",children:[c.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0",children:[j.months.map((R,K)=>c.jsx("div",{className:"absolute top-0 bottom-0 border-l border-zinc-800/30",style:{left:`${R.offset}%`}},K)),c.jsx("div",{className:"absolute top-0 bottom-0 border-l border-red-500/50 z-0",style:{left:`${(Date.now()-j.startTs)/(j.endTs-j.startTs)*100}%`},children:c.jsx("div",{className:"text-[9px] text-red-500 bg-red-500/10 px-1 ml-1 mt-1 rounded",children:"Today"})})]}),c.jsx("div",{className:"relative z-10 space-y-6 mt-2",children:se.map(R=>{const K=V(R.startDate,R.endDate);return R.type==="milestone"?c.jsx("div",{className:"relative h-6 group",children:c.jsxs("div",{className:"absolute transform -translate-x-1/2 flex flex-col items-center cursor-pointer",style:{left:K.left},onClick:()=>q(R),children:[c.jsx("div",{className:`w-3 h-3 rotate-45 border border-zinc-900 ${M(R.status)} shadow-lg shadow-black/50 hover:scale-125 transition-transform`}),c.jsx("div",{className:"w-0.5 h-full bg-zinc-700/50 absolute top-3"}),c.jsx("span",{className:"text-xs text-zinc-300 mt-1 whitespace-nowrap bg-zinc-950/80 px-1.5 rounded border border-zinc-800",children:R.title}),c.jsx("span",{className:"text-[10px] text-zinc-500 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:new Date(R.startDate).toLocaleDateString()})]})},R.id):c.jsxs("div",{className:"relative h-8 group cursor-pointer",style:{marginLeft:K.left,width:K.width},onClick:()=>q(R),children:[c.jsxs("div",{className:"h-full rounded-md border border-white/5 overflow-hidden relative shadow-sm hover:shadow-lg transition-shadow bg-zinc-800",children:[c.jsx("div",{className:`absolute top-0 left-0 bottom-0 ${M(R.status)} opacity-20`,style:{width:"100%"}}),c.jsx("div",{className:`absolute top-0 left-0 bottom-0 ${M(R.status)}`,style:{width:`${R.progress}%`}}),c.jsx("div",{className:"absolute inset-0 flex items-center px-2",children:c.jsx("span",{className:"text-xs font-medium text-white drop-shadow-md truncate sticky left-0",children:R.title})})]}),c.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-black text-white text-[10px] px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-zinc-800",children:[new Date(R.startDate).toLocaleDateString()," - ",new Date(R.endDate).toLocaleDateString()," (",R.progress,"%)"]})]},R.id)})})]})]})]}),h&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-md p-6 shadow-2xl",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:m?"Edit Item":"Add Roadmap Item"}),c.jsxs("form",{onSubmit:B,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Title"}),c.jsx("input",{type:"text",required:!0,value:g.title,onChange:R=>w({...g,title:R.target.value}),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Type"}),c.jsxs("select",{value:g.type,onChange:R=>w({...g,type:R.target.value}),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none",children:[c.jsx("option",{value:"phase",children:"Phase"}),c.jsx("option",{value:"milestone",children:"Milestone"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Status"}),c.jsxs("select",{value:g.status,onChange:R=>w({...g,status:R.target.value}),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none",children:[c.jsx("option",{value:"planned",children:"Planned"}),c.jsx("option",{value:"in-progress",children:"In Progress"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"delayed",children:"Delayed"}),c.jsx("option",{value:"dropped",children:"Dropped"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:g.type==="milestone"?"Date":"Start Date"}),c.jsx("input",{type:"date",required:!0,value:g.startDate,onChange:R=>w({...g,startDate:R.target.value}),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none [color-scheme:dark]"})]}),g.type==="phase"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"End Date"}),c.jsx("input",{type:"date",required:!0,value:g.endDate,onChange:R=>w({...g,endDate:R.target.value}),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none [color-scheme:dark]"})]})]}),g.type==="phase"&&c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm text-zinc-400 mb-1",children:["Progress (",g.progress,"%)"]}),c.jsx("input",{type:"range",min:"0",max:"100",value:g.progress,onChange:R=>w({...g,progress:parseInt(R.target.value)}),className:"w-full accent-blue-500"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("label",{className:"block text-sm text-zinc-400",children:"Description"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("select",{value:f,onChange:R=>x(R.target.value),className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs text-zinc-300 max-w-[170px]",disabled:P.length===0,children:P.length===0?c.jsx("option",{value:"",children:"No link targets"}):P.map(R=>c.jsx("option",{value:R.id,children:R.name},R.id))}),c.jsx("input",{type:"text",value:k,onChange:R=>_(R.target.value),placeholder:"File ID",className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs text-zinc-300 w-28"}),c.jsx("input",{type:"text",value:N,onChange:R=>z(R.target.value),placeholder:"Label",className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs text-zinc-300 w-24"}),c.jsxs("button",{type:"button",onClick:O,className:"text-xs text-cyan-400 hover:text-cyan-300 flex items-center gap-1",title:"Insert File Link",children:[c.jsx(ja,{className:"w-3 h-3"})," Link File"]})]})]}),c.jsx("textarea",{value:g.description,onChange:R=>w({...g,description:R.target.value}),onDragOver:L,onDrop:H,className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none min-h-[80px]"}),g.description&&g.description.includes("file://")&&c.jsx("div",{className:"mt-2 text-xs text-zinc-400 bg-zinc-950 border border-zinc-800 rounded p-2 break-words",children:U(g.description)})]}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t border-zinc-800 mt-4",children:[m&&c.jsx("button",{type:"button",onClick:()=>D(m),className:"px-4 py-2 bg-red-500/10 text-red-500 hover:bg-red-500/20 rounded font-medium text-sm border border-red-500/20",children:"Delete"}),c.jsx("div",{className:"flex-1"}),c.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-zinc-400 hover:text-white font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded font-medium text-sm",children:m?"Save Changes":"Create Item"})]})]})]})})]})},EN=({initialContent:e,onSave:t,fileName:n})=>{const[r,i]=T.useState((e==null?void 0:e.columns)||[{id:"col_1",name:"ID",type:"text"},{id:"col_2",name:"Name",type:"text"},{id:"col_3",name:"Value",type:"number"}]),[s,o]=T.useState((e==null?void 0:e.rows)||[]),[a,l]=T.useState("saved"),u=T.useRef(JSON.stringify({columns:e==null?void 0:e.columns,rows:e==null?void 0:e.rows}));T.useEffect(()=>{if(JSON.stringify({columns:r,rows:s})===u.current)return;l("unsaved");const x=setTimeout(()=>d(),2e3);return()=>clearTimeout(x)},[r,s]);const d=()=>{l("saving"),t({columns:r,rows:s}),u.current=JSON.stringify({columns:r,rows:s}),setTimeout(()=>l("saved"),500)},m=()=>{const f=prompt("Column Name:");if(!f)return;const x={id:crypto.randomUUID(),name:f,type:"text"};i([...r,x])},y=()=>{const f={id:crypto.randomUUID()};r.forEach(x=>f[x.id]=x.type==="number"?0:""),o([...s,f])},h=(f,x,k)=>{o(s.map(_=>_.id===f?{..._,[x]:k}:_))},v=f=>{o(s.filter(x=>x.id!==f))},g=f=>{confirm("Delete column? Data will be lost.")&&i(r.filter(x=>x.id!==f))},w=()=>{const f=r.map(z=>z.name).join(","),x=s.map(z=>r.map(E=>z[E.id]).join(",")),k="data:text/csv;charset=utf-8,"+[f,...x].join(`
`),_=encodeURI(k),N=document.createElement("a");N.setAttribute("href",_),N.setAttribute("download",`${n}.csv`),document.body.appendChild(N),N.click(),document.body.removeChild(N)};return c.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[c.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-20",children:[c.jsxs("h3",{className:"text-zinc-200 font-medium flex items-center gap-2",children:[c.jsx(D0,{className:"w-4 h-4 text-emerald-500"})," ",n]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center mr-2",children:[a==="saving"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[c.jsx(Mr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),a==="saved"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[c.jsx(cr,{className:"w-3 h-3"})," Saved"]}),a==="unsaved"&&c.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[c.jsx(Sn,{className:"w-3 h-3"})," Unsaved"]})]}),c.jsx("button",{onClick:w,className:"text-zinc-400 hover:text-white p-2",title:"Export CSV",children:c.jsx(Pu,{className:"w-4 h-4"})}),c.jsxs("button",{onClick:d,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${a==="unsaved"?"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[c.jsx(Ar,{className:"w-4 h-4"})," Save"]})]})]}),c.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-6",children:c.jsxs("div",{className:"inline-block min-w-full align-middle",children:[c.jsx("div",{className:"border border-zinc-700 rounded-lg overflow-hidden",children:c.jsxs("table",{className:"min-w-full divide-y divide-zinc-700",children:[c.jsx("thead",{className:"bg-zinc-800",children:c.jsxs("tr",{children:[c.jsx("th",{className:"w-10 px-3 py-3 text-left text-xs font-medium text-zinc-400 uppercase tracking-wider",children:"#"}),r.map(f=>c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider group relative min-w-[150px]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("input",{value:f.name,onChange:x=>i(r.map(k=>k.id===f.id?{...k,name:x.target.value}:k)),className:"bg-transparent border-none focus:ring-0 text-zinc-300 font-bold w-full"}),c.jsx("button",{onClick:()=>g(f.id),className:"opacity-0 group-hover:opacity-100 text-zinc-500 hover:text-red-400",children:c.jsx(Qt,{className:"w-3 h-3"})})]})},f.id)),c.jsx("th",{className:"w-10 px-3 py-3",children:c.jsx("button",{onClick:m,className:"text-blue-400 hover:text-blue-300",children:c.jsx(zn,{className:"w-4 h-4"})})})]})}),c.jsx("tbody",{className:"bg-zinc-900 divide-y divide-zinc-800",children:s.map((f,x)=>c.jsxs("tr",{className:"hover:bg-zinc-800/50 transition-colors",children:[c.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-zinc-500",children:x+1}),r.map(k=>c.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:c.jsx("input",{type:k.type==="number"?"number":"text",value:f[k.id]||"",onChange:_=>h(f.id,k.id,_.target.value),className:"w-full bg-transparent border-none focus:ring-1 focus:ring-blue-500 rounded px-1 py-0.5 text-sm text-zinc-200 placeholder-zinc-700"})},k.id)),c.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>v(f.id),className:"text-zinc-600 hover:text-red-400",children:c.jsx(Qt,{className:"w-4 h-4"})})})]},f.id))})]})}),c.jsxs("button",{onClick:y,className:"mt-4 flex items-center gap-2 text-zinc-400 hover:text-white text-sm font-medium px-4 py-2 border border-zinc-700 rounded-lg border-dashed hover:border-zinc-500 transition-colors w-full justify-center",children:[c.jsx(zn,{className:"w-4 h-4"})," Add Row"]})]})})]})},ch=200,Ct=2e3,To=.2,uh=e=>e.map(t=>({...t,points:t.points.map(n=>({...n}))})),dh=e=>e.map(t=>({...t})),fh=e=>e.map(t=>({...t})),CN=e=>Array.isArray(e)?e.map(t=>{const n=Array.isArray(t==null?void 0:t.points)?t.points.filter(o=>Number.isFinite(o==null?void 0:o.x)&&Number.isFinite(o==null?void 0:o.y)).map(o=>({x:Number(o.x),y:Number(o.y)})):[];if(n.length===0)return null;const r=typeof(t==null?void 0:t.color)=="string"?t.color:"#facc15",i=Number.isFinite(t==null?void 0:t.width)?Math.max(1,Number(t.width)):18,s=Number.isFinite(t==null?void 0:t.opacity)?Math.min(1,Math.max(.05,Number(t.opacity))):To;return{id:typeof(t==null?void 0:t.id)=="string"?t.id:crypto.randomUUID(),color:r,width:i,opacity:s,points:n}}).filter(t=>t!==null):[],jN=e=>Array.isArray(e)?e.map(t=>!Number.isFinite(t==null?void 0:t.x)||!Number.isFinite(t==null?void 0:t.y)||typeof(t==null?void 0:t.text)!="string"?null:{id:typeof(t==null?void 0:t.id)=="string"?t.id:crypto.randomUUID(),x:Number(t.x),y:Number(t.y),text:t.text,color:typeof(t==null?void 0:t.color)=="string"?t.color:"#ffffff",fontSize:Number.isFinite(t==null?void 0:t.fontSize)?Math.max(8,Number(t.fontSize)):28,fontWeight:(t==null?void 0:t.fontWeight)==="bold"?"bold":"normal",fontStyle:(t==null?void 0:t.fontStyle)==="italic"?"italic":"normal"}).filter(t=>t!==null):[],DN=e=>Array.isArray(e)?e.map(t=>{const n=t==null?void 0:t.type;return n!=="image"&&n!=="video"&&n!=="audio"||typeof(t==null?void 0:t.src)!="string"||!Number.isFinite(t==null?void 0:t.x)||!Number.isFinite(t==null?void 0:t.y)||!Number.isFinite(t==null?void 0:t.width)||!Number.isFinite(t==null?void 0:t.height)?null:{id:typeof(t==null?void 0:t.id)=="string"?t.id:crypto.randomUUID(),type:n,src:t.src,name:typeof(t==null?void 0:t.name)=="string"?t.name:`${n}-${Date.now()}`,x:Number(t.x),y:Number(t.y),width:Math.max(40,Number(t.width)),height:Math.max(30,Number(t.height))}}).filter(t=>t!==null):[],On=(e,t,n)=>Math.min(n,Math.max(t,e)),TN=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=i=>{var s;if(typeof((s=i.target)==null?void 0:s.result)=="string"){t(i.target.result);return}n(new Error("Failed to read file data"))},r.onerror=()=>n(r.error||new Error("Failed to read file")),r.onabort=()=>n(new Error("Read aborted")),r.readAsDataURL(e)}),IN=e=>e.type.startsWith("image/")?"image":e.type.startsWith("video/")?"video":e.type.startsWith("audio/")?"audio":/\.(png|jpe?g|gif|webp|bmp|svg|avif|ico)$/i.test(e.name)?"image":/\.(mp4|webm|ogg|mov|m4v)$/i.test(e.name)?"video":/\.(mp3|wav|ogg|m4a|aac|flac)$/i.test(e.name)?"audio":null,MN=({initialContent:e,onSave:t,fileName:n,assets:r={}})=>{const i=T.useRef(null),s=T.useRef(null),o=T.useRef(null),a=T.useRef(null),l=T.useRef(null),u=T.useRef(null),[d,m]=T.useState("pen"),[y,h]=T.useState({pen:{color:"#ffffff",width:2},highlighter:{color:"#facc15",width:18},eraser:{color:"#09090b",width:20},text:{color:"#ffffff",width:28}}),[v,g]=T.useState(To),[w,f]=T.useState(!1),[x,k]=T.useState(!1),[_,N]=T.useState(null),[z,E]=T.useState(null),[P,I]=T.useState(""),[$,q]=T.useState("saved"),D=T.useRef(""),O=T.useRef([]),p=T.useRef(-1),[L,H]=T.useState({index:-1,length:0}),[U,B]=T.useState([]),[j,V]=T.useState([]),M=T.useRef([]),A=T.useRef([]),se=T.useRef([]),R=T.useRef(null),K=()=>{const F=i.current,Z=s.current;if(!F||!Z)return null;const Q=F.getContext("2d",{willReadFrequently:!0}),ke=Z.getContext("2d",{willReadFrequently:!0});return!Q||!ke?null:{baseCanvas:F,highlighterCanvas:Z,baseCtx:Q,highlighterCtx:ke}},fe=F=>{B(Z=>{const Q=F(Z);return M.current=Q,Q})},me=F=>{V(Z=>{const Q=F(Z);return A.current=Q,Q})},be=(F,Z)=>{F.globalCompositeOperation="source-over",F.globalAlpha=1,F.fillStyle="#09090b",F.fillRect(0,0,Z.width,Z.height)},ve=()=>{const F=K();if(!F)return;const{highlighterCtx:Z,highlighterCanvas:Q}=F;Z.globalAlpha=1,Z.globalCompositeOperation="source-over",Z.clearRect(0,0,Q.width,Q.height)},te=(F,Z)=>{if(Z.points.length!==0){if(F.globalCompositeOperation="destination-over",F.globalAlpha=Z.opacity,F.strokeStyle=Z.color,F.lineWidth=Z.width,F.lineCap="round",F.lineJoin="round",Z.points.length===1){const Q=Z.points[0];F.beginPath(),F.fillStyle=Z.color,F.arc(Q.x,Q.y,Z.width/2,0,Math.PI*2),F.fill();return}F.beginPath(),F.moveTo(Z.points[0].x,Z.points[0].y);for(let Q=1;Q<Z.points.length;Q++)F.lineTo(Z.points[Q].x,Z.points[Q].y);F.stroke()}},G=(F=se.current)=>{const Z=K();if(!Z)return;const{highlighterCtx:Q,highlighterCanvas:ke}=Z;Q.globalAlpha=1,Q.globalCompositeOperation="source-over",Q.clearRect(0,0,ke.width,ke.height),F.forEach(je=>te(Q,je)),Q.globalAlpha=1,Q.globalCompositeOperation="source-over"},ce=async F=>{const Z=K();if(!Z)return;const{baseCanvas:Q,baseCtx:ke}=Z;be(ke,Q),F&&await new Promise(je=>{const Ae=new Image;Ae.src=F,Ae.onload=()=>{ke.drawImage(Ae,0,0),je()},Ae.onerror=()=>je()})},pe=F=>({version:2,baseData:F,highlighterStrokes:uh(se.current),highlighterOpacity:v,textElements:dh(M.current),mediaElements:fh(A.current)}),b=()=>{const F=K();if(!F)return null;const Z=F.baseCanvas.toDataURL("image/png");if(!Z)return null;const Q=pe(Z);return{...Q,signature:JSON.stringify(Q)}},ne=()=>{H({index:p.current,length:O.current.length})},J=F=>{var Q;const Z=O.current.slice(0,p.current+1);return((Q=Z[Z.length-1])==null?void 0:Q.signature)===F.signature?!1:(Z.push(F),Z.length>ch&&Z.splice(0,Z.length-ch),O.current=Z,p.current=Z.length-1,ne(),!0)},C=(F=!0)=>{const Z=b();if(!Z)return;J(Z)&&(q("unsaved"),F&&setTimeout(()=>Be(),250))},S=async F=>{const Z=O.current[F];Z&&(await ce(Z.baseData),se.current=uh(Z.highlighterStrokes),R.current=null,g(typeof Z.highlighterOpacity=="number"?Z.highlighterOpacity:To),M.current=dh(Z.textElements),A.current=fh(Z.mediaElements),B(M.current),V(A.current),E(null),N(null),G(),p.current=F,ne(),q("unsaved"),setTimeout(()=>Be(),150))},Y=async()=>{p.current<=0||(N(null),E(null),await S(p.current-1))},le=async()=>{p.current>=O.current.length-1||(N(null),E(null),await S(p.current+1))};T.useEffect(()=>{(async()=>{let Z=null,Q=[],ke=To,je=[],Ae=[];if(typeof e=="string")Z=e;else if(e&&typeof e=="object"){typeof e.baseData=="string"?Z=e.baseData:typeof e.imageData=="string"?Z=e.imageData:typeof e.dataUrl=="string"&&(Z=e.dataUrl),Q=CN(e.highlighterStrokes),je=jN(e.textElements),Ae=DN(e.mediaElements);const Ve=e.highlighterOpacity;Number.isFinite(Ve)&&(ke=Math.min(1,Math.max(.05,Number(Ve))))}await ce(Z),g(ke),se.current=Q,M.current=je,A.current=Ae,B(je),V(Ae),G();const Qe=b();O.current=Qe?[Qe]:[],p.current=O.current.length-1,ne(),Qe&&(D.current=Qe.signature)})()},[]),T.useEffect(()=>{if(!_)return;const F=setTimeout(()=>{var Z;return(Z=a.current)==null?void 0:Z.focus()},0);return()=>clearTimeout(F)},[_]);const X=F=>{const Z=s.current||i.current;if(!Z)return{x:0,y:0};const Q=Z.getBoundingClientRect();return{x:(F.clientX-Q.left)*(Z.width/Q.width),y:(F.clientY-Q.top)*(Z.height/Q.height)}},W=(F,Z)=>{const Q=s.current||i.current;if(!Q)return{x:0,y:0};const ke=Q.getBoundingClientRect();return{x:(F-ke.left)*(Q.width/ke.width),y:(Z-ke.top)*(Q.height/ke.height)}},ae=(F,Z)=>{const Q=o.current;if(!Q)return{x:50,y:50};const ke=Q.getBoundingClientRect(),je=Q.scrollLeft+ke.width/2-F/2,Ae=Q.scrollTop+ke.height/2-Z/2;return{x:On(je,0,Ct-F),y:On(Ae,0,Ct-Z)}},ue=(F,Z)=>{const Q=crypto.randomUUID(),ke={id:Q,x:F,y:Z,text:"",color:y.text.color,fontSize:y.text.width,fontWeight:"normal",fontStyle:"normal"};fe(je=>[...je,ke]),E({kind:"text",id:Q}),N(Q),q("unsaved")},de=(F,Z)=>{let Q=!1;fe(ke=>{const je=ke.find(Ae=>Ae.id===F);return je?(Q=!0,je.text.trim()?ke:ke.filter(Ae=>Ae.id!==F)):ke}),N(null),Q&&C(!0)},Ee=(F,Z)=>{fe(Q=>Q.map(ke=>ke.id===F?Z(ke):ke))},Pe=async(F,Z,Q)=>{let ke=360,je=F==="audio"?72:220;F==="image"&&await new Promise(Ve=>{const Ye=new Image;Ye.src=Z,Ye.onload=()=>{const Pr=Ye.width>480?480/Ye.width:1;ke=Math.max(80,Math.round(Ye.width*Pr)),je=Math.max(60,Math.round(Ye.height*Pr)),Ve()},Ye.onerror=()=>Ve()}),F==="video"&&await new Promise(Ve=>{const Ye=document.createElement("video");Ye.preload="metadata",Ye.src=Z,Ye.onloadedmetadata=()=>{const Pn=Number.isFinite(Ye.videoWidth)&&Ye.videoWidth>0?Ye.videoWidth:640,Pr=Number.isFinite(Ye.videoHeight)&&Ye.videoHeight>0?Ye.videoHeight:360,Os=560,$s=Pn>Os?Os/Pn:1;ke=Math.max(220,Math.round(Pn*$s)),je=Math.max(140,Math.round(Pr*$s)),Ve()},Ye.onerror=()=>Ve()});const Ae=ae(ke,je),Qe={id:crypto.randomUUID(),type:F,src:Z,name:Q,x:Ae.x,y:Ae.y,width:ke,height:je};me(Ve=>[...Ve,Qe]),E({kind:"media",id:Qe.id}),C(!0)},Te=()=>{const F=K();!F||se.current.length===0||(F.baseCtx.globalCompositeOperation="source-over",F.baseCtx.globalAlpha=1,F.baseCtx.drawImage(F.highlighterCanvas,0,0),F.baseCtx.globalAlpha=1,se.current=[],R.current=null,ve())},Oe=F=>{x&&k(!1);const Z=K();if(!Z)return;const{x:Q,y:ke}=X(F),je=y[d];if(d==="text"){ue(Q,ke);return}if(_&&de(_),E(null),d==="eraser"&&Te(),d==="highlighter"){const Ae={id:crypto.randomUUID(),color:je.color,width:je.width,opacity:v,points:[{x:Q,y:ke}]};R.current=Ae,Z.highlighterCtx.globalCompositeOperation="destination-over",Z.highlighterCtx.globalAlpha=Ae.opacity,Z.highlighterCtx.strokeStyle=Ae.color,Z.highlighterCtx.lineWidth=Ae.width,Z.highlighterCtx.lineCap="round",Z.highlighterCtx.lineJoin="round",Z.highlighterCtx.beginPath(),Z.highlighterCtx.moveTo(Q,ke)}else Z.baseCtx.globalCompositeOperation="source-over",Z.baseCtx.globalAlpha=1,Z.baseCtx.strokeStyle=je.color,d==="eraser"&&(Z.baseCtx.globalCompositeOperation="destination-out",Z.baseCtx.strokeStyle="rgba(0,0,0,1)"),Z.baseCtx.lineWidth=je.width,Z.baseCtx.lineCap="round",Z.baseCtx.lineJoin="round",Z.baseCtx.beginPath(),Z.baseCtx.moveTo(Q,ke);f(!0),q("unsaved")},at=F=>{if(!w)return;const Z=K();if(!Z)return;const{x:Q,y:ke}=X(F);if(d==="highlighter"){const je=R.current;if(!je)return;je.points.push({x:Q,y:ke}),Z.highlighterCtx.lineTo(Q,ke),Z.highlighterCtx.stroke(),Z.highlighterCtx.beginPath(),Z.highlighterCtx.moveTo(Q,ke);return}Z.baseCtx.lineTo(Q,ke),Z.baseCtx.stroke(),Z.baseCtx.beginPath(),Z.baseCtx.moveTo(Q,ke)},Ue=()=>{if(!w)return;f(!1);const F=K();if(F){if(d==="highlighter"){F.highlighterCtx.closePath(),F.highlighterCtx.globalAlpha=1,F.highlighterCtx.globalCompositeOperation="source-over";const Z=R.current;Z&&(Z.points.length===1&&Z.points.push({...Z.points[0]}),se.current=[...se.current,{...Z,points:Z.points.map(Q=>({...Q}))}],R.current=null,G())}else F.baseCtx.closePath(),F.baseCtx.globalAlpha=1,F.baseCtx.globalCompositeOperation="source-over";C(!0)}},ee=async F=>{await Pe("image",F,"asset-image"),k(!1)},re=()=>{const F=document.createElement("input");F.type="file",F.multiple=!0,F.accept="image/*,video/*,audio/*",F.style.position="fixed",F.style.left="-9999px",document.body.appendChild(F),F.onchange=async Z=>{const Q=Z.target.files;if(!Q||Q.length===0){F.remove();return}let ke=0;const je=[];for(let Ae=0;Ae<Q.length;Ae++){const Qe=Q[Ae],Ve=IN(Qe);if(!Ve){je.push(Qe.name);continue}try{const Ye=await TN(Qe);await Pe(Ve,Ye,Qe.name),ke++}catch(Ye){console.error("Failed adding media",Qe.name,Ye),je.push(Qe.name)}}je.length===0?I(`Added ${ke} media file${ke===1?"":"s"}.`):I(ke===0?`Failed to add ${je.length} file${je.length===1?"":"s"}.`:`Added ${ke}/${Q.length}. Failed ${je.length}.`),setTimeout(()=>I(""),3200),F.remove()},F.oncancel=()=>F.remove(),F.click()},he=(F,Z)=>{if(_===Z)return;F.stopPropagation();const Q=W(F.clientX,F.clientY),ke=M.current.find(je=>je.id===Z);ke&&(l.current={kind:"text",id:Z,offsetX:Q.x-ke.x,offsetY:Q.y-ke.y,moved:!1},E({kind:"text",id:Z}))},ge=(F,Z)=>{F.stopPropagation();const Q=W(F.clientX,F.clientY),ke=A.current.find(je=>je.id===Z);ke&&(l.current={kind:"media",id:Z,offsetX:Q.x-ke.x,offsetY:Q.y-ke.y,moved:!1},E({kind:"media",id:Z}))},we=(F,Z)=>{F.stopPropagation();const Q=W(F.clientX,F.clientY),ke=A.current.find(je=>je.id===Z);ke&&(u.current={id:Z,originX:Q.x,originY:Q.y,startWidth:ke.width,startHeight:ke.height,moved:!1},E({kind:"media",id:Z}))},xe=F=>{const Z=W(F.clientX,F.clientY),Q=u.current;if(Q){const je=Z.x-Q.originX,Ae=Z.y-Q.originY;(Math.abs(je)>.5||Math.abs(Ae)>.5)&&(Q.moved=!0),me(Qe=>Qe.map(Ve=>{if(Ve.id!==Q.id)return Ve;const Ye=On(Q.startWidth+je,40,Ct-Ve.x),Pn=On(Q.startHeight+Ae,30,Ct-Ve.y);return{...Ve,width:Ye,height:Pn}}));return}const ke=l.current;if(ke){if(ke.kind==="text"){fe(je=>je.map(Ae=>{if(Ae.id!==ke.id)return Ae;const Qe=On(Z.x-ke.offsetX,0,Ct-30),Ve=On(Z.y-ke.offsetY,0,Ct-20);return(Math.abs(Qe-Ae.x)>.5||Math.abs(Ve-Ae.y)>.5)&&(ke.moved=!0),{...Ae,x:Qe,y:Ve}}));return}me(je=>je.map(Ae=>{if(Ae.id!==ke.id)return Ae;const Qe=On(Z.x-ke.offsetX,0,Ct-Ae.width),Ve=On(Z.y-ke.offsetY,0,Ct-Ae.height);return(Math.abs(Qe-Ae.x)>.5||Math.abs(Ve-Ae.y)>.5)&&(ke.moved=!0),{...Ae,x:Qe,y:Ve}}))}},Me=()=>{var Z,Q;const F=!!((Z=l.current)!=null&&Z.moved||(Q=u.current)!=null&&Q.moved);l.current=null,u.current=null,F&&(q("unsaved"),C(!0))},Re=(F,Z)=>{h(Q=>({...Q,[d]:{...Q[d],[F]:Z}}))},Be=()=>{try{const F=b();if(!F)return;F.signature!==D.current&&(q("saving"),t({version:2,baseData:F.baseData,highlighterStrokes:F.highlighterStrokes,highlighterOpacity:F.highlighterOpacity,textElements:F.textElements,mediaElements:F.mediaElements}),D.current=F.signature,setTimeout(()=>q("saved"),500))}catch(F){console.error("Canvas save blocked",F),q("unsaved")}};T.useEffect(()=>{const F=Z=>{const Q=Z.target,ke=!!Q&&(Q.tagName==="INPUT"||Q.tagName==="TEXTAREA"||Q.isContentEditable);if((Z.ctrlKey||Z.metaKey)&&Z.key.toLowerCase()==="s"){Z.preventDefault(),Be();return}if((Z.ctrlKey||Z.metaKey)&&Z.key.toLowerCase()==="z"&&!Z.shiftKey){Z.preventDefault(),Y();return}if((Z.ctrlKey||Z.metaKey)&&Z.key.toLowerCase()==="y"||(Z.ctrlKey||Z.metaKey)&&Z.shiftKey&&Z.key.toLowerCase()==="z"){Z.preventDefault(),le();return}if(!ke&&(Z.key==="Delete"||Z.key==="Backspace")&&z){Z.preventDefault(),z.kind==="text"?(fe(je=>je.filter(Ae=>Ae.id!==z.id)),_===z.id&&N(null)):me(je=>je.filter(Ae=>Ae.id!==z.id)),E(null),C(!0);return}Z.key==="Escape"&&(_?de(_):E(null))};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[z,_]);const ie=()=>{if(!confirm("Clear whiteboard? This cannot be undone."))return;const F=K();F&&(be(F.baseCtx,F.baseCanvas),N(null),E(null),M.current=[],A.current=[],B([]),V([]),se.current=[],R.current=null,ve(),C(!0))},ye=Object.entries(r),Se=L.index>0,Ne=L.index>=0&&L.index<L.length-1,De=T.useMemo(()=>(z==null?void 0:z.kind)==="text"&&U.find(F=>F.id===z.id)||null,[z,U]),$e=T.useMemo(()=>(z==null?void 0:z.kind)==="media"&&j.find(F=>F.id===z.id)||null,[z,j]);return c.jsxs("div",{className:"h-full flex flex-col bg-zinc-900 relative",onMouseMove:xe,onMouseUp:Me,onMouseLeave:Me,children:[c.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-4 sm:px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-20 shrink-0 select-none",children:[c.jsx("h3",{className:"text-zinc-200 font-medium truncate max-w-[100px] sm:max-w-none",children:n}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex bg-zinc-800 p-1 rounded-lg border border-zinc-700",children:[c.jsx("button",{onClick:()=>m("pen"),className:`p-2 rounded transition-all ${d==="pen"?"bg-blue-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Pen",children:c.jsx(I1,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>m("highlighter"),className:`p-2 rounded transition-all ${d==="highlighter"?"bg-yellow-500 text-black shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Highlighter",children:c.jsx(N1,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>m("eraser"),className:`p-2 rounded transition-all ${d==="eraser"?"bg-zinc-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Eraser",children:c.jsx(p1,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>m("text"),className:`p-2 rounded transition-all ${d==="text"?"bg-indigo-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Text",children:c.jsx(U1,{className:"w-4 h-4"})}),c.jsx("div",{className:"w-px h-full bg-zinc-700 mx-1"}),c.jsx("button",{onClick:()=>k(!x),className:`p-2 rounded transition-all ${x?"bg-purple-600 text-white":"text-zinc-400 hover:text-zinc-200"}`,title:"Import Image",children:c.jsx(Si,{className:"w-4 h-4"})}),c.jsx("button",{onClick:re,className:"p-2 rounded transition-all text-zinc-400 hover:text-zinc-200",title:"Upload Image / Video / Audio",children:c.jsx(M0,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex items-center gap-3 bg-zinc-800/50 px-3 py-1.5 rounded-lg border border-zinc-800 hidden md:flex",children:[(d==="pen"||d==="highlighter"||d==="text")&&c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("input",{type:"color",value:d==="text"?(De==null?void 0:De.color)||y.text.color:y[d].color,onChange:F=>{d==="text"?(h(Z=>({...Z,text:{...Z.text,color:F.target.value}})),De&&(Ee(De.id,Z=>({...Z,color:F.target.value})),C(!0))):Re("color",F.target.value)},className:"w-8 h-8 rounded cursor-pointer bg-transparent border-none",title:d==="highlighter"?"Highlighter Color":d==="text"?"Text Color":"Pen Color"})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${d==="eraser"?"bg-zinc-500":"bg-current"}`,style:{color:y[d].color}}),c.jsx("input",{type:"range",min:d==="text"?"8":"1",max:d==="eraser"?"100":d==="highlighter"?"80":d==="text"?"96":"50",value:d==="text"?(De==null?void 0:De.fontSize)||y.text.width:y[d].width,onChange:F=>{const Z=parseInt(F.target.value,10);d==="text"?(h(Q=>({...Q,text:{...Q.text,width:Z}})),De&&(Ee(De.id,Q=>({...Q,fontSize:Z})),C(!0))):Re("width",Z)},className:"w-24 h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),d==="highlighter"&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-[11px] uppercase tracking-wide text-zinc-500",children:"Opacity"}),c.jsx("input",{type:"range",min:"0.05",max:"1",step:"0.05",value:v,onChange:F=>g(parseFloat(F.target.value)),className:"w-24 h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-yellow-400"}),c.jsx("span",{className:"text-[11px] text-zinc-400 w-8 text-right",children:Math.round(v*100)})]}),d==="text"&&De&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{Ee(De.id,F=>({...F,fontWeight:F.fontWeight==="bold"?"normal":"bold"})),C(!0)},className:`px-2 py-1 text-xs rounded ${De.fontWeight==="bold"?"bg-zinc-600 text-white":"bg-zinc-800 text-zinc-300"}`,title:"Toggle Bold",children:"B"}),c.jsx("button",{onClick:()=>{Ee(De.id,F=>({...F,fontStyle:F.fontStyle==="italic"?"normal":"italic"})),C(!0)},className:`px-2 py-1 text-xs rounded ${De.fontStyle==="italic"?"bg-zinc-600 text-white":"bg-zinc-800 text-zinc-300"}`,title:"Toggle Italic",children:"I"})]}),$e&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-[11px] text-zinc-500",children:"W"}),c.jsx("input",{type:"range",min:"40",max:"1200",value:$e.width,onChange:F=>me(Z=>Z.map(Q=>Q.id===$e.id?{...Q,width:parseInt(F.target.value,10)}:Q)),onMouseUp:()=>C(!0),className:"w-16 h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"}),c.jsx("span",{className:"text-[11px] text-zinc-500",children:"H"}),c.jsx("input",{type:"range",min:"30",max:"900",value:$e.height,onChange:F=>me(Z=>Z.map(Q=>Q.id===$e.id?{...Q,height:parseInt(F.target.value,10)}:Q)),onMouseUp:()=>C(!0),className:"w-16 h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:Y,disabled:!Se,className:"text-zinc-500 hover:text-zinc-200 p-2 disabled:opacity-40 disabled:cursor-not-allowed",title:"Undo (Ctrl/Cmd+Z)",children:c.jsx(W1,{className:"w-4 h-4"})}),c.jsx("button",{onClick:le,disabled:!Ne,className:"text-zinc-500 hover:text-zinc-200 p-2 disabled:opacity-40 disabled:cursor-not-allowed",title:"Redo (Ctrl/Cmd+Y)",children:c.jsx(R1,{className:"w-4 h-4"})}),c.jsxs("div",{className:"flex items-center mr-2 hidden sm:flex",children:[$==="saving"&&c.jsx("span",{className:"text-xs text-zinc-500",children:c.jsx(Mr,{className:"w-3 h-3 animate-spin"})}),$==="saved"&&c.jsx("span",{className:"text-xs text-zinc-500 opacity-50",children:c.jsx(cr,{className:"w-3 h-3"})}),$==="unsaved"&&c.jsx("span",{className:"text-xs text-orange-400",children:c.jsx(Sn,{className:"w-3 h-3"})})]}),c.jsx("button",{onClick:ie,className:"text-zinc-500 hover:text-red-400 p-2",children:c.jsx(Qt,{className:"w-4 h-4"})}),c.jsxs("button",{onClick:Be,className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors shadow-lg ${$==="unsaved"?"bg-blue-600 text-white":"bg-zinc-700 text-zinc-200"}`,children:[c.jsx(Ar,{className:"w-4 h-4"})," Save"]})]})]}),P&&c.jsx("div",{className:"px-4 py-2 text-xs text-zinc-300 border-b border-zinc-800 bg-zinc-900/70",children:P}),x&&c.jsxs("div",{className:"absolute top-16 left-1/2 -translate-x-1/2 z-30 bg-zinc-900 border border-zinc-700 rounded-xl shadow-2xl p-4 w-80 max-h-[400px] flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("h4",{className:"text-sm font-semibold text-zinc-200",children:"Select Asset"}),c.jsx("button",{onClick:()=>k(!1),className:"text-zinc-500 hover:text-white",children:c.jsx(vs,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"grid grid-cols-3 gap-2 overflow-y-auto custom-scrollbar flex-1",children:ye.length>0?ye.map(([F,Z])=>c.jsx("button",{onClick:()=>ee(Z),className:"aspect-square bg-zinc-950 border border-zinc-800 rounded-md overflow-hidden hover:border-purple-500 transition-colors relative",children:c.jsx("img",{src:Z,alt:"asset",className:"w-full h-full object-contain pointer-events-none"})},F)):c.jsx("div",{className:"col-span-3 text-center py-4 text-xs text-zinc-500",children:"No assets found."})})]}),c.jsx("div",{className:`flex-1 overflow-auto bg-[#09090b] relative custom-scrollbar touch-none ${d==="text"?"cursor-text":"cursor-crosshair"}`,ref:o,children:c.jsx("div",{className:"min-w-full min-h-full inline-block relative",children:c.jsxs("div",{className:"relative",style:{width:Ct,height:Ct},children:[c.jsx("canvas",{ref:i,width:Ct,height:Ct,className:"absolute inset-0 block"}),c.jsx("canvas",{ref:s,width:Ct,height:Ct,onMouseDown:Oe,onMouseMove:at,onMouseUp:Ue,onMouseLeave:Ue,className:"absolute inset-0 block"}),U.map(F=>{const Z=(z==null?void 0:z.kind)==="text"&&z.id===F.id,Q=_===F.id,ke=Math.max(10,Math.round(F.fontSize*1.3));return Q?c.jsx("textarea",{ref:a,value:F.text,onChange:je=>Ee(F.id,Ae=>({...Ae,text:je.target.value})),onBlur:()=>de(F.id),onMouseDown:je=>je.stopPropagation(),onKeyDown:je=>{(je.ctrlKey||je.metaKey)&&je.key==="Enter"&&(je.preventDefault(),de(F.id)),je.key==="Escape"&&(je.preventDefault(),de(F.id))},className:"absolute z-20 min-w-[220px] max-w-[500px] min-h-[90px] bg-zinc-900/95 border border-blue-500 rounded-md p-2 text-zinc-100 resize-y focus:outline-none",style:{left:F.x,top:F.y,color:F.color,fontSize:`${F.fontSize}px`,fontWeight:F.fontWeight,fontStyle:F.fontStyle,lineHeight:`${ke}px`}},F.id):c.jsx("div",{className:`absolute z-20 px-1 py-0.5 rounded cursor-move whitespace-pre-wrap ${Z?"ring-1 ring-blue-500 bg-blue-500/10":""}`,style:{left:F.x,top:F.y,color:F.color,fontSize:`${F.fontSize}px`,fontWeight:F.fontWeight,fontStyle:F.fontStyle,lineHeight:`${ke}px`,userSelect:"none"},onMouseDown:je=>he(je,F.id),onClick:je=>{je.stopPropagation(),E({kind:"text",id:F.id})},onDoubleClick:je=>{je.stopPropagation(),m("text"),E({kind:"text",id:F.id}),N(F.id)},children:F.text||"Text"},F.id)}),j.map(F=>{const Z=(z==null?void 0:z.kind)==="media"&&z.id===F.id,Q=Math.max(10,F.height-24);return c.jsxs("div",{className:`absolute z-20 overflow-hidden rounded-md border ${Z?"border-blue-500 shadow-[0_0_0_1px_rgba(59,130,246,.4)]":"border-zinc-700"}`,style:{left:F.x,top:F.y,width:F.width,height:F.height,background:"#0a0a0a"},onMouseDown:ke=>{ke.stopPropagation(),E({kind:"media",id:F.id})},children:[c.jsxs("div",{className:"h-6 px-2 flex items-center justify-between text-[11px] text-zinc-200 bg-zinc-900/90 border-b border-zinc-700 cursor-move",onMouseDown:ke=>ge(ke,F.id),children:[c.jsx("span",{className:"truncate",children:F.name}),c.jsx("button",{className:"text-zinc-400 hover:text-red-400",onClick:ke=>{ke.stopPropagation(),me(je=>je.filter(Ae=>Ae.id!==F.id)),(z==null?void 0:z.kind)==="media"&&z.id===F.id&&E(null),C(!0)},children:c.jsx(vs,{className:"w-3 h-3"})})]}),c.jsxs("div",{className:"w-full",style:{height:Q},children:[F.type==="image"&&c.jsx("img",{src:F.src,alt:F.name,className:"w-full h-full object-contain",draggable:!1,onMouseDown:ke=>ge(ke,F.id)}),F.type==="video"&&c.jsx("video",{src:F.src,controls:!0,className:"w-full h-full object-contain bg-black"}),F.type==="audio"&&c.jsx("div",{className:"w-full h-full flex items-center justify-center px-2",children:c.jsx("audio",{src:F.src,controls:!0,className:"w-full"})})]}),c.jsx("div",{className:"absolute right-0 bottom-0 w-4 h-4 bg-blue-500 cursor-nwse-resize",onMouseDown:ke=>we(ke,F.id),title:"Resize",children:c.jsx(C1,{className:"w-3 h-3 text-white"})})]},F.id)})]})})})]})},hh=(e,t)=>{const n=Array.isArray(e==null?void 0:e.folders)?e.folders.filter(a=>typeof(a==null?void 0:a.id)=="string"&&typeof(a==null?void 0:a.name)=="string").map(a=>({id:a.id,name:a.name,parentId:typeof a.parentId=="string"?a.parentId:null})):[],r=new Set(n.map(a=>a.id)),i=n.map(a=>({...a,parentId:a.parentId&&r.has(a.parentId)?a.parentId:null})),s=e!=null&&e.assetFolderMap&&typeof e.assetFolderMap=="object"?e.assetFolderMap:{},o={};return Object.keys(t).forEach(a=>{const l=s[a];o[a]=typeof l=="string"&&r.has(l)?l:null}),{folders:i,assetFolderMap:o}},AN=({initialContent:e,assets:t={},onAddAsset:n,onDeleteAsset:r,onSave:i,fileName:s})=>{const[o,a]=T.useState(""),[l,u]=T.useState(null),[d,m]=T.useState(!1),[y,h]=T.useState(""),[v,g]=T.useState(()=>hh(e,t)),[w,f]=T.useState(null),[x,k]=T.useState(new Set),[_,N]=T.useState(null),[z,E]=T.useState(null);T.useEffect(()=>{const te=hh(e,t);g(te),f(G=>G&&te.folders.some(ce=>ce.id===G)?G:null)},[e,t]);const P=te=>{g(G=>{const ce=te(G);return i(ce),ce})},I=T.useMemo(()=>Object.entries(t).map(([te,G])=>({id:te,data:G})),[t]),$=T.useMemo(()=>I.filter(te=>te.id.toLowerCase().includes(o.toLowerCase())).filter(te=>(v.assetFolderMap[te.id]??null)===w).sort((te,G)=>te.id.localeCompare(G.id)),[I,o,v.assetFolderMap,w]),q=T.useMemo(()=>v.folders.filter(te=>te.parentId===null).sort((te,G)=>te.name.localeCompare(G.name,void 0,{sensitivity:"base"})),[v.folders]),D=te=>v.folders.filter(G=>G.parentId===te).sort((G,ce)=>G.name.localeCompare(ce.name,void 0,{sensitivity:"base"})),O=te=>{const G=prompt("Folder name:"),ce=G==null?void 0:G.trim();if(!ce)return;const pe=crypto.randomUUID();P(b=>({...b,folders:[...b.folders,{id:pe,name:ce,parentId:te}]})),k(b=>new Set(b).add(pe).add(te||"")),f(pe)},p=(te,G)=>{P(ce=>({...ce,assetFolderMap:{...ce.assetFolderMap,[te]:G}}))},L=(te,G)=>{N(G),te.dataTransfer.effectAllowed="move",te.dataTransfer.setData("text/plain",G)},H=()=>{N(null),E(null)},U=(te,G)=>{te.preventDefault(),te.stopPropagation(),te.dataTransfer.dropEffect="move",z!==G&&E(G)},B=(te,G)=>{te.preventDefault(),te.stopPropagation();const ce=te.dataTransfer.getData("text/plain")||_;E(null),N(null),ce&&(p(ce,G),k(pe=>new Set(pe).add(G)))},j=te=>{te.preventDefault(),te.dataTransfer.dropEffect="move",z!=="root"&&E("root")},V=te=>{te.preventDefault();const G=te.dataTransfer.getData("text/plain")||_;E(null),N(null),G&&p(G,null)},M=(te,G=0)=>{const ce=D(te.id),pe=ce.length>0,b=x.has(te.id),ne=w===te.id,J=z===te.id;return c.jsxs("div",{children:[c.jsxs("div",{style:{marginLeft:G*10},className:`group flex items-center justify-between rounded-md px-1 py-1 mb-0.5 transition-colors ${J?"bg-blue-500/10 ring-1 ring-blue-500/40":"hover:bg-zinc-900"}`,onDragOver:C=>U(C,te.id),onDrop:C=>B(C,te.id),children:[c.jsxs("button",{onClick:()=>{pe&&k(C=>{const S=new Set(C);return S.has(te.id)?S.delete(te.id):S.add(te.id),S}),f(te.id)},className:`flex-1 flex items-center gap-2 px-1.5 py-1 text-sm text-left rounded ${ne?"text-white bg-zinc-800":"text-zinc-300"}`,children:[pe?b?c.jsx(Mu,{className:"w-3.5 h-3.5 text-zinc-500"}):c.jsx(Au,{className:"w-3.5 h-3.5 text-zinc-500"}):c.jsx("span",{className:"w-3.5 h-3.5"}),c.jsx(wc,{className:"w-4 h-4 text-blue-400/90"}),c.jsx("span",{className:"truncate",children:te.name})]}),c.jsx("button",{onClick:()=>O(te.id),className:"p-1 text-zinc-500 hover:text-white hover:bg-zinc-800 rounded opacity-0 group-hover:opacity-100",title:"New Subfolder",children:c.jsx(ra,{className:"w-3.5 h-3.5"})})]}),b&&ce.map(C=>M(C,G+1))]},te.id)},A=te=>te.type.startsWith("image/")?!0:/\.(png|jpe?g|gif|webp|bmp|svg|avif|ico)$/i.test(te.name),se=async(te,G)=>{var pe;if(!te||!n)return;const ce=Array.from(te).filter(A);if(ce.length===0){alert(`No image files found in selected ${G}.`);return}m(!0);try{const b=[],ne=[];for(let C=0;C<ce.length;C++){h(`Uploading ${C+1}/${ce.length}...`);try{const S=await n(ce[C]),Y=typeof S=="string"&&S.startsWith("asset://")?S.slice(8):"";Y?b.push(Y):ne.push(ce[C].name||`file-${C+1}`)}catch(S){console.error("Asset upload failed for file",(pe=ce[C])==null?void 0:pe.name,S),ne.push(ce[C].name||`file-${C+1}`)}}b.length>0&&P(C=>{const S={...C.assetFolderMap};return b.forEach(Y=>{S[Y]=w}),{...C,assetFolderMap:S}});const J=b.length;J===ce.length?h(`Uploaded ${J} image${J===1?"":"s"}.`):h(J===0?`Upload failed for ${ne.length} file${ne.length===1?"":"s"}.`:`Uploaded ${J}/${ce.length}. Failed ${ne.length}.`),setTimeout(()=>h(""),3500)}finally{m(!1)}},R=te=>{const G=document.createElement("input");if(G.type="file",G.multiple=!0,G.accept="image/*",te==="folder"){const ce=G;ce.webkitdirectory=!0,ce.directory=!0}G.style.position="fixed",G.style.left="-9999px",document.body.appendChild(G),G.onchange=async ce=>{try{await se(ce.target.files,te)}finally{G.remove()}},G.oncancel=()=>{G.remove()},G.click()},K=()=>{R("files")},fe=()=>{R("folder")},me=te=>{navigator.clipboard.writeText(`asset://${te}`),u(te),setTimeout(()=>u(null),2e3)},be=te=>{if(!r){alert("Delete functionality not available.");return}confirm("Delete this asset permanently? It will disappear from all documents/whiteboards using it.")&&(r(te),P(G=>{const ce={...G.assetFolderMap};return delete ce[te],{...G,assetFolderMap:ce}}))},ve=(te,G)=>{const ce=document.createElement("a");ce.href=te,ce.download=`asset-${G.substring(0,8)}.png`,ce.click()};return c.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[c.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-20",children:[c.jsxs("h3",{className:"text-zinc-200 font-medium flex items-center gap-2",children:[c.jsx(Si,{className:"w-4 h-4 text-purple-500"})," ",s]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Ta,{className:"w-4 h-4 text-zinc-500 absolute left-3 top-1/2 -translate-y-1/2"}),c.jsx("input",{type:"text",placeholder:"Search ID...",value:o,onChange:te=>a(te.target.value),className:"bg-zinc-950 border border-zinc-800 rounded-full py-1.5 pl-9 pr-4 text-sm text-zinc-300 focus:outline-none focus:border-zinc-700 w-48"})]}),c.jsxs("button",{onClick:K,disabled:d,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-60 disabled:cursor-not-allowed text-white px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg shadow-purple-900/20",children:[c.jsx(M0,{className:"w-4 h-4"})," Upload Files"]}),c.jsxs("button",{onClick:fe,disabled:d,className:"flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 disabled:opacity-60 disabled:cursor-not-allowed text-zinc-200 px-4 py-2 rounded-md text-sm font-medium transition-colors border border-zinc-700",children:[c.jsx(gf,{className:"w-4 h-4"})," Upload Folder"]})]})]}),y&&c.jsx("div",{className:"px-6 py-2 text-xs text-zinc-400 border-b border-zinc-800 bg-zinc-900/70",children:y}),c.jsxs("div",{className:"flex-1 min-h-0 flex",children:[c.jsxs("aside",{className:"w-64 border-r border-zinc-800 p-3 overflow-y-auto custom-scrollbar",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-[11px] uppercase tracking-wide text-zinc-500",children:"Folders"}),c.jsx("button",{onClick:()=>O(w),className:"p-1.5 text-zinc-400 hover:text-white hover:bg-zinc-800 rounded",title:w?"New Subfolder":"New Folder",children:c.jsx(ra,{className:"w-4 h-4"})})]}),c.jsxs("button",{onClick:()=>f(null),onDragOver:j,onDrop:V,className:`w-full mb-2 flex items-center gap-2 px-2 py-2 rounded-md text-sm transition-colors ${w===null?"bg-zinc-800 text-white":"text-zinc-300 hover:bg-zinc-900"} ${z==="root"?"ring-1 ring-blue-500/40 bg-blue-500/10":""}`,title:"Drop here to move asset to root",children:[c.jsx(gf,{className:"w-4 h-4 text-zinc-500"}),c.jsx("span",{children:"Root (No Folder)"})]}),c.jsxs("div",{children:[q.map(te=>M(te)),q.length===0&&c.jsx("div",{className:"text-xs text-zinc-600 px-2 py-3",children:"No folders yet."})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:I.length===0?c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-500 opacity-50",children:[c.jsx(xf,{className:"w-16 h-16 mb-4"}),c.jsx("p",{children:"No assets in this project yet."}),c.jsx("p",{className:"text-sm mt-2",children:"Upload images or paste them into Documents."})]}):$.length===0?c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-500 opacity-60",children:[c.jsx(xf,{className:"w-12 h-12 mb-3"}),c.jsx("p",{children:"No assets in this folder."}),c.jsx("p",{className:"text-xs mt-2",children:"Drag assets onto folders to reorganize."})]}):c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:$.map(({id:te,data:G})=>c.jsxs("div",{draggable:!0,onDragStart:ce=>L(ce,te),onDragEnd:H,className:`group bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden hover:border-zinc-600 transition-all shadow-sm hover:shadow-xl cursor-grab active:cursor-grabbing ${_===te?"opacity-45 grayscale":""}`,children:[c.jsxs("div",{className:"aspect-square bg-[#101012] relative flex items-center justify-center overflow-hidden bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTAgMGgyMHYyMEgwem0xMCAxMGgxMHYxMEgxMHoiIGZpbGw9IiMxODE4MWIiIGZpbGwtb3BhY2l0eT0iMC40Ii8+PC9zdmc+')]",children:[c.jsx("img",{src:G,alt:te,className:"max-w-full max-h-full object-contain"}),c.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 backdrop-blur-sm",children:[c.jsx("button",{onClick:()=>me(te),className:"p-2 bg-white text-black rounded-full hover:scale-110 transition-transform",title:"Copy ID",children:l===te?c.jsx(cr,{className:"w-4 h-4"}):c.jsx(vc,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>ve(G,te),className:"p-2 bg-zinc-800 text-white rounded-full hover:scale-110 transition-transform",title:"Download",children:c.jsx(Pu,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>be(te),className:"p-2 bg-red-600 text-white rounded-full hover:scale-110 transition-transform",title:"Delete Asset",children:c.jsx(Qt,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"p-3 border-t border-zinc-800 bg-zinc-900/50",children:[c.jsx("div",{className:"text-[10px] font-mono text-zinc-500 truncate",title:te,children:te}),c.jsxs("div",{className:"text-[10px] text-zinc-600 mt-1",children:[(G.length/1024).toFixed(1)," KB  ",G.split(";")[0].split(":")[1]]})]})]},te))})})]})]})},PN=({isOpen:e,onClose:t,projects:n,activeProject:r,onSelectFile:i,onSelectProject:s,onCreateFile:o})=>{const[a,l]=T.useState(""),[u,d]=T.useState(0),m=T.useRef(null);if(T.useEffect(()=>{e&&(l(""),d(0),setTimeout(()=>{var w;return(w=m.current)==null?void 0:w.focus()},50))},[e]),!e)return null;const y=w=>{switch(w){case"doc":return c.jsx(na,{className:"w-4 h-4"});case"flowchart":return c.jsx(Lu,{className:"w-4 h-4"});case"todo":return c.jsx(ys,{className:"w-4 h-4"});case"kanban":return c.jsx(Ca,{className:"w-4 h-4"});case"roadmap":return c.jsx(Ru,{className:"w-4 h-4"});case"grid":return c.jsx(Ou,{className:"w-4 h-4"});case"whiteboard":return c.jsx(Da,{className:"w-4 h-4"});case"asset-gallery":return c.jsx(Si,{className:"w-4 h-4"});case"project":return c.jsx(I0,{className:"w-4 h-4"});case"create":return c.jsx(zn,{className:"w-4 h-4"});default:return c.jsx(na,{className:"w-4 h-4"})}};let h=[];if(r){const w=f=>r.files.some(x=>x.type===f);r.files.forEach(f=>{h.push({id:f.id,type:f.type,label:f.name,subLabel:"Go to file",action:()=>{i(f.id),t()}})}),h.push({id:"new-doc",type:"create",label:"Create Document",action:()=>{o("doc"),t()}}),h.push({id:"new-flow",type:"create",label:"Create Flowchart",action:()=>{o("flowchart"),t()}}),w("todo")||h.push({id:"new-todo",type:"create",label:"Create Task List",action:()=>{o("todo"),t()}}),w("kanban")||h.push({id:"new-kanban",type:"create",label:"Create Bug Tracker",action:()=>{o("kanban"),t()}}),w("roadmap")||h.push({id:"new-roadmap",type:"create",label:"Create Roadmap",action:()=>{o("roadmap"),t()}}),h.push({id:"new-grid",type:"create",label:"Create Data Grid",action:()=>{o("grid"),t()}}),h.push({id:"new-wb",type:"create",label:"Create Whiteboard",action:()=>{o("whiteboard"),t()}})}n.forEach(w=>{w.id!==(r==null?void 0:r.id)&&h.push({id:w.id,type:"project",label:w.name,subLabel:w.isLocal?"Switch to Local Repo":"Switch Project",action:()=>{s(w.id),t()}})});const v=h.filter(w=>w.label.toLowerCase().includes(a.toLowerCase())||w.type.toLowerCase().includes(a.toLowerCase()));u>=v.length&&v.length>0&&d(v.length-1);const g=w=>{w.key==="ArrowDown"?(w.preventDefault(),d(f=>(f+1)%v.length)):w.key==="ArrowUp"?(w.preventDefault(),d(f=>(f-1+v.length)%v.length)):w.key==="Enter"?(w.preventDefault(),v[u]&&v[u].action()):w.key==="Escape"&&t()};return c.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-[20vh] bg-black/50 backdrop-blur-sm p-4",onClick:t,children:c.jsxs("div",{className:"w-full max-w-2xl bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl overflow-hidden flex flex-col",onClick:w=>w.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center px-4 py-3 border-b border-zinc-800",children:[c.jsx(Ta,{className:"w-5 h-5 text-zinc-500 mr-3"}),c.jsx("input",{ref:m,type:"text",className:"flex-1 bg-transparent text-lg text-white placeholder-zinc-600 focus:outline-none",placeholder:r?`Search files in ${r.name}...`:"Search projects...",value:a,onChange:w=>{l(w.target.value),d(0)},onKeyDown:g}),c.jsx("div",{className:"text-xs text-zinc-600 border border-zinc-800 rounded px-2 py-1",children:"ESC"})]}),c.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar p-2",children:v.length===0?c.jsx("div",{className:"p-4 text-center text-zinc-500",children:"No results found."}):v.map((w,f)=>c.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg cursor-pointer transition-colors ${f===u?"bg-blue-600 text-white":"text-zinc-300 hover:bg-zinc-800"}`,onClick:()=>w.action(),onMouseEnter:()=>d(f),children:[c.jsx("div",{className:`p-2 rounded-md ${f===u?"bg-white/20":"bg-zinc-800"}`,children:y(w.type)}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-sm",children:w.label}),w.subLabel&&c.jsx("div",{className:`text-xs ${f===u?"text-blue-200":"text-zinc-500"}`,children:w.subLabel})]}),f===u&&c.jsx("div",{className:"text-xs opacity-70",children:"Enter"})]},`${w.type}-${w.id}`))}),c.jsxs("div",{className:"px-4 py-2 bg-zinc-950 border-t border-zinc-800 text-[10px] text-zinc-500 flex justify-between",children:[c.jsx("span",{children:"Navigate with "}),c.jsx("span",{children:'Use keywords like "create", "todo", "doc"'})]})]})})},RN=({isOpen:e,onClose:t})=>{if(!e)return null;const n=[{icon:na,color:"text-blue-400",title:"Documents",desc:"Markdown-based text editor. Use this for Game Design Documents (GDD), technical specifications, story drafts, and general notes. Supports inserting images from the Asset Library."},{icon:Lu,color:"text-purple-400",title:"Flowcharts",desc:"Node-based diagram editor. Perfect for visualizing game loops, dialogue trees, quest branching, or finite state machines (FSM) for AI behavior."},{icon:ys,color:"text-emerald-400",title:"Task Lists",desc:"Simple, prioritized checklist for daily tasks. Supports sub-tasks and drag-and-drop reordering to keep track of immediate to-dos."},{icon:Ca,color:"text-red-400",title:"Bug Tracker",desc:"A Kanban board (To Do, In Progress, Done) designed for tracking bugs, glitches, and feature requests. Allows assigning severity levels to issues."},{icon:Ru,color:"text-amber-400",title:"Roadmap",desc:"Timeline view for long-term project planning. Create phases and milestones to visualize your development schedule over weeks or months."},{icon:Ou,color:"text-cyan-400",title:"Data Grid",desc:"Spreadsheet-like database editor. Essential for balancing game stats (e.g., weapon damage, enemy HP), managing item lists, or localized strings."},{icon:Da,color:"text-pink-400",title:"Whiteboard",desc:"Infinite canvas for freehand drawing and brainstorming. Great for quick level layout sketches, UI mockups, or scribbling ideas during meetings."},{icon:Si,color:"text-indigo-400",title:"Asset Library",desc:"Central repository for project images. Upload reference art or screenshots here to use them inside Documents and Whiteboards."}];return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-800 bg-zinc-950/50 rounded-t-2xl",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:c.jsx(l1,{className:"w-6 h-6 text-blue-500"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"DevArchitect Guide"}),c.jsx("p",{className:"text-sm text-zinc-400",children:"Project management suite for game developers"})]})]}),c.jsx("button",{onClick:t,className:"p-2 text-zinc-500 hover:text-white hover:bg-zinc-800 rounded-full transition-colors",children:c.jsx(vs,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar bg-zinc-900/50",children:[c.jsxs("div",{className:"mb-10 bg-zinc-800/30 border border-zinc-700/50 rounded-xl p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-zinc-100 mb-2",children:"What is this tool?"}),c.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"DevArchitect is an offline-capable workspace designed to centralize the messy process of game development planning. Instead of scattering your GDDs in Word, tasks in Trello, and stats in Excel, this tool keeps everything in one project file that can be saved locally to your disk or version control system."})]}),c.jsx("h3",{className:"text-sm font-bold text-zinc-500 uppercase tracking-wider mb-4 px-2",children:"Available Tools"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(r=>c.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border border-zinc-800 bg-zinc-950 hover:border-zinc-700 transition-colors",children:[c.jsx("div",{className:`shrink-0 p-3 rounded-lg bg-zinc-900 h-fit ${r.color}`,children:c.jsx(r.icon,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-zinc-200 mb-1",children:r.title}),c.jsx("p",{className:"text-sm text-zinc-500 leading-snug",children:r.desc})]})]},r.title))}),c.jsx("div",{className:"mt-10 p-4 border-t border-zinc-800 text-center text-xs text-zinc-600",children:c.jsxs("p",{children:["Use ",c.jsx("span",{className:"font-mono bg-zinc-800 px-1 rounded text-zinc-400",children:"Ctrl + K"})," to open the Command Palette anywhere."]})})]})]})})};var pr=(e=>(e.DASHBOARD="DASHBOARD",e.PROJECT="PROJECT",e))(pr||{});const LN=e=>{try{const t=e.split(","),n=t[0].match(/:(.*?);/),r=n?n[1]:"application/octet-stream",i=atob(t[1]);let s=i.length;const o=new Uint8Array(s);for(;s--;)o[s]=i.charCodeAt(s);return new Blob([o],{type:r})}catch(t){return console.error("Failed to convert base64 to blob",t),new Blob([])}},yn={DB_NAME:"devarchitect_db",STORE_PROJECTS:"projects",STORE_HANDLES:"handles",init:function(){return new Promise((e,t)=>{const n=indexedDB.open(this.DB_NAME,2);n.onerror=()=>t(n.error),n.onupgradeneeded=r=>{const i=r.target.result;i.objectStoreNames.contains(this.STORE_PROJECTS)||i.createObjectStore(this.STORE_PROJECTS,{keyPath:"id"}),i.objectStoreNames.contains(this.STORE_HANDLES)||i.createObjectStore(this.STORE_HANDLES)},n.onsuccess=()=>e()})},saveProject:function(e){return new Promise((t,n)=>{const r=indexedDB.open(this.DB_NAME,2);r.onsuccess=i=>{const s=i.target.result.transaction([this.STORE_PROJECTS],"readwrite");s.objectStore(this.STORE_PROJECTS).put(e),s.oncomplete=()=>t(),s.onerror=()=>n(s.error)}})},saveHandle:function(e,t){return new Promise((n,r)=>{const i=indexedDB.open(this.DB_NAME,2);i.onsuccess=s=>{const o=s.target.result.transaction([this.STORE_HANDLES],"readwrite");o.objectStore(this.STORE_HANDLES).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>r(o.error)}})},loadAllProjects:function(){return new Promise((e,t)=>{const n=indexedDB.open(this.DB_NAME,2);n.onsuccess=r=>{const s=r.target.result.transaction([this.STORE_PROJECTS],"readonly").objectStore(this.STORE_PROJECTS).getAll();s.onsuccess=()=>e(s.result),s.onerror=()=>t(s.error)},n.onerror=()=>e([])})},loadHandle:function(e){return new Promise((t,n)=>{const r=indexedDB.open(this.DB_NAME,2);r.onsuccess=i=>{const o=i.target.result.transaction([this.STORE_HANDLES],"readonly").objectStore(this.STORE_HANDLES).get(e);o.onsuccess=()=>t(o.result),o.onerror=()=>t(null)},r.onerror=()=>t(null)})},delete:function(e){return new Promise((t,n)=>{const r=indexedDB.open(this.DB_NAME,2);r.onsuccess=i=>{const s=i.target.result.transaction([this.STORE_PROJECTS,this.STORE_HANDLES],"readwrite");s.objectStore(this.STORE_PROJECTS).delete(e),s.objectStore(this.STORE_HANDLES).delete(e),s.oncomplete=()=>t()}})}},Ut=[{type:"doc",label:"Document",pluralLabel:"Documents",icon:na,component:wN,createDefaultContent:e=>`# ${e}

Created on ${new Date().toLocaleDateString()}`},{type:"flowchart",label:"Flowchart",pluralLabel:"Flowcharts",icon:Lu,component:xN,createDefaultContent:()=>({nodes:[],edges:[]})},{type:"todo",label:"Task List",pluralLabel:"Task Lists",icon:ys,component:kN,createDefaultContent:()=>({items:[]})},{type:"kanban",label:"Bug Tracker",pluralLabel:"Bug Trackers",icon:Ca,component:NN,createDefaultContent:()=>({tasks:[]})},{type:"roadmap",label:"Roadmap",pluralLabel:"Roadmaps",icon:Ru,component:zN,createDefaultContent:()=>({items:[]})},{type:"grid",label:"Data Grid",pluralLabel:"Data Grids",icon:Ou,component:EN,createDefaultContent:()=>({columns:[],rows:[]})},{type:"whiteboard",label:"Whiteboard",pluralLabel:"Whiteboards",icon:Da,component:MN,createDefaultContent:()=>""},{type:"asset-gallery",label:"Asset Library",pluralLabel:"Asset Libraries",icon:Si,component:AN,createDefaultContent:()=>({})}],Nt="asset-gallery",js="Asset Library",ph="application/x-gdpm-file-id",mr=new Set([Nt,"todo","kanban","roadmap"]),dg=[{type:Nt,name:js},{type:"todo",name:"Task List"},{type:"kanban",name:"Bug Tracker"},{type:"roadmap",name:"Roadmap"}],ON=()=>({id:crypto.randomUUID(),name:js,type:Nt,content:{},folderId:null}),$N=(e,t)=>{const n=Ut.find(r=>r.type===e);return{id:crypto.randomUUID(),name:t,type:e,content:n?n.createDefaultContent(t):"",folderId:null}},Ur=e=>{const t=e.files||[],n=t.filter(o=>o.type===Nt),r=new Map,i=[];for(const o of t.filter(a=>a.type!==Nt)){if(mr.has(o.type)){r.has(o.type)||r.set(o.type,{...o,folderId:null});continue}i.push(o)}let s=n[0]||ON();(s.name!==js||s.folderId!==null)&&(s={...s,name:js,folderId:null});for(const o of dg){if(o.type===Nt)continue;const a=r.get(o.type);a?i.push({...a,name:o.name,folderId:null}):i.push($N(o.type,o.name))}return{...e,folders:e.folders||[],assets:e.assets||{},files:[...i,s]}},mh=[{id:"1",name:"Cosmic Invaders",type:"Game",description:"A retro-style space shooter.",lastModified:Date.now(),files:[{id:"f1",name:"Game Design Document",type:"doc",content:"# Cosmic Invaders",folderId:null},{id:"f-asset-lib",name:js,type:Nt,content:{},folderId:null}],folders:[],assets:{}}],FN=()=>{const[e,t]=T.useState([]),[n,r]=T.useState(!1),[i,s]=T.useState(pr.DASHBOARD),[o,a]=T.useState(null),[l,u]=T.useState(null),[d,m]=T.useState(!1),[y,h]=T.useState(!1),[v,g]=T.useState(new Set),[w,f]=T.useState({open:!1,folderId:null}),[x,k]=T.useState(""),[_,N]=T.useState("doc"),[z,E]=T.useState(null),[P,I]=T.useState(null),$=oe.useRef(!1),q=oe.useRef(null),D=oe.useRef(new Map),O=oe.useRef([]);O.current=e,T.useEffect(()=>{O.current=e},[e]),T.useEffect(()=>{(async()=>{try{await yn.init();const re=await yn.loadAllProjects();for(const ge of re)if(ge.isLocal){const we=await yn.loadHandle(ge.id);we&&D.current.set(ge.id,we)}const he=re.map(Ur);t(he.length>0?he:mh.map(Ur))}catch(re){console.error("Init error",re),t(mh.map(Ur))}finally{r(!0)}})()},[]),T.useEffect(()=>{n&&e.length>0&&e.forEach(ee=>yn.saveProject(ee))},[e,n]),T.useEffect(()=>{const ee=re=>{(re.ctrlKey||re.metaKey)&&re.key==="k"&&(re.preventDefault(),m(he=>!he))};return window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)},[]);const p=async ee=>{const re=D.current.get(ee.id);if(re)try{const he={...ee,assets:{}},we=await(await re.getFileHandle("project.json",{create:!0})).createWritable();if(await we.write(JSON.stringify(he,null,2)),await we.close(),ee.assets&&Object.keys(ee.assets).length>0){const xe=await re.getDirectoryHandle("assets",{create:!0});for(const[Me,Re]of Object.entries(ee.assets)){const Be=Re.startsWith("data:image/png")?"png":"jpg",ie=`${Me}.${Be}`,Se=await(await xe.getFileHandle(ie,{create:!0})).createWritable();await Se.write(LN(Re)),await Se.close()}}}catch(he){console.error("Failed to save to disk:",he)}},L=async()=>{if($.current||!q.current)return;const ee=q.current;q.current=null,$.current=!0;try{await p(ee)}catch(re){console.error("Save queue error:",re)}finally{$.current=!1,q.current&&L()}},H=async ee=>{try{const ge=await(await(await ee.getFileHandle("project.json")).getFile()).text(),we=JSON.parse(ge);we.folders||(we.folders=[]),we.files&&(we.files=we.files.map(Me=>({...Me,folderId:Me.folderId||null})));const xe={};try{const Me=await ee.getDirectoryHandle("assets");for await(const Re of Me.values())if(Re.kind==="file"){const Be=await Re.getFile(),ie=new FileReader,ye=await new Promise(Ne=>{ie.onload=De=>{var $e;return Ne(($e=De.target)==null?void 0:$e.result)},ie.readAsDataURL(Be)}),Se=Re.name.split(".")[0];xe[Se]=ye}}catch{}return we.assets=xe,we.isLocal=!0,Ur(we)}catch{return null}},U=async()=>{if(typeof window.showDirectoryPicker!="function"){alert("Browser not supported. Please use Chrome, Edge, or Opera on desktop.");return}try{const ee=await window.showDirectoryPicker({id:"devarchitect_open",mode:"readwrite"});let re=await H(ee);const he=[];if(re&&(he.push(re),await yn.saveHandle(re.id,ee),D.current.set(re.id,ee)),he.length>0){const ge=new Set(he.map(we=>we.id));t(we=>[...he,...we.filter(xe=>!ge.has(xe.id))]),he.forEach(we=>yn.saveProject(we))}else alert("No 'project.json' found in selected folder.")}catch(ee){if(ee.name==="AbortError")return;console.error("Error opening folder:",ee)}},B=async ee=>{const re=e.find(ge=>ge.id===ee);if(!re)return;const he=re.files.find(ge=>ge.type!==Nt)||re.files.find(ge=>ge.type===Nt);a(ee),u((he==null?void 0:he.id)||null),s(pr.PROJECT)},j=async(ee,re)=>{const he=Ut.find(we=>we.type==="doc"),ge=Ur({id:crypto.randomUUID(),name:ee,type:re,description:"",lastModified:Date.now(),files:[{id:crypto.randomUUID(),name:"Readme",type:"doc",content:he?he.createDefaultContent(ee):"",folderId:null}],folders:[],assets:{}});t(we=>[ge,...we]),yn.saveProject(ge)},V=async ee=>{e.find(he=>he.id===ee)&&confirm("Delete project?")&&(await yn.delete(ee),D.current.delete(ee),t(he=>he.filter(ge=>ge.id!==ee)),o===ee&&(a(null),s(pr.DASHBOARD)))},M=async ee=>{const re=new Y1,he={...ee,assets:{}};re.file("project.json",JSON.stringify(he,null,2));const ge=re.folder("assets");ee.assets&&ge&&Object.entries(ee.assets).forEach(([Re,Be])=>{const ie=Be.split(",")[1],ye=Be.substring(Be.indexOf("/")+1,Be.indexOf(";"));ge.file(`${Re}.${ye}`,ie,{base64:!0})});const we=await re.generateAsync({type:"blob"}),xe=window.URL.createObjectURL(we),Me=document.createElement("a");Me.href=xe,Me.download=`${ee.name.replace(/\s+/g,"_")}.zip`,Me.click(),window.URL.revokeObjectURL(xe)},A=ee=>{const re=Ur(ee);t(he=>{const ge=he.map(we=>we.id===re.id?re:we);return O.current=ge,ge}),re.isLocal&&(q.current=re,L()),yn.saveProject(re)},se=ee=>{if(!o)return;const re=prompt("Folder Name:");if(!re)return;const he=e.find(ge=>ge.id===o);if(he){const ge={id:crypto.randomUUID(),name:re,parentId:ee};A({...he,folders:[...he.folders,ge]}),g(we=>new Set(we).add(ge.id).add(ee||""))}},R=ee=>{if(!o)return;const re=e.find(he=>he.id===o);if(re){const he=new Set([ee]);let ge=!0;for(;ge;){ge=!1;for(const De of re.folders)De.parentId&&he.has(De.parentId)&&!he.has(De.id)&&(he.add(De.id),ge=!0)}const we=re.files.filter(De=>De.folderId&&he.has(De.folderId)),xe=new Set(we.map(De=>De.id)),Me=he.size,Re=we.length;if(!confirm(`Delete this folder and all of its contents?

This will permanently delete ${Me} ${Me===1?"folder":"folders"} and ${Re} ${Re===1?"file":"files"}.`))return;const Se=re.folders.filter(De=>!he.has(De.id)),Ne=re.files.filter(De=>!De.folderId||!he.has(De.folderId));if(A({...re,lastModified:Date.now(),files:Ne,folders:Se}),l&&xe.has(l)){const De=Ne.find($e=>$e.type!==Nt)||Ne.find($e=>$e.type===Nt);u((De==null?void 0:De.id)||null)}g(De=>{const $e=new Set(De);for(const F of he)$e.delete(F);return $e})}},K=(ee,re)=>ee===Nt?!1:!re||!mr.has(ee)?!0:!re.files.some(he=>he.type===ee),fe=(ee,re)=>{var Me;const he=e.find(Re=>Re.id===o),we=((Me=Ut.filter(Re=>K(Re.type,he))[0])==null?void 0:Me.type)||"doc",xe=re&&K(re,he)?re:we;if(re&&!K(re,he)){const Re=Ut.find(Be=>Be.type===re);alert(`Only one ${(Re==null?void 0:Re.label)||re} is allowed per project.`)}f({open:!0,folderId:ee}),k(""),N(xe)},me=ee=>{if(ee.preventDefault(),!o||!x)return;const re=e.find(we=>we.id===o);if(!re)return;if(!K(_,re)){const we=Ut.find(xe=>xe.type===_);alert(`Only one ${(we==null?void 0:we.label)||_} is allowed per project.`);return}const he=Ut.find(we=>we.type===_);if(!he)return;const ge={id:crypto.randomUUID(),name:x,type:_,content:he.createDefaultContent(x),folderId:w.folderId};A({...re,lastModified:Date.now(),files:[...re.files,ge]}),u(ge.id),w.folderId&&g(we=>new Set(we).add(w.folderId)),f({open:!1,folderId:null})},be=(ee,re)=>{if(ee.stopPropagation(),!o)return;const he=e.find(we=>we.id===o);if(!he)return;const ge=he.files.find(we=>we.id===re);if(ge){if(mr.has(ge.type)&&he.files.filter(xe=>xe.type===ge.type).length<=1){const xe=Ut.find(Me=>Me.type===ge.type);alert(`${(xe==null?void 0:xe.label)||ge.type} is required in every project and cannot be deleted.`);return}if(confirm("Delete file?")){const we=he.files.filter(xe=>xe.id!==re);if(A({...he,files:we}),l===re){const xe=we.find(Me=>Me.type!==Nt)||we.find(Me=>Me.type===Nt);u((xe==null?void 0:xe.id)||null)}}}},ve=ee=>new Promise((re,he)=>{const ge=new FileReader;ge.onload=we=>{var Me;const xe=(Me=we.target)==null?void 0:Me.result;if(typeof xe=="string"){re(xe);return}he(new Error("Failed to read image data."))},ge.onerror=()=>he(ge.error||new Error("Failed to read image file.")),ge.onabort=()=>he(new Error("Image read was aborted.")),ge.readAsDataURL(ee)}),te=async ee=>{if(!o)throw new Error("No active project");const re=await ve(ee),he=crypto.randomUUID(),ge=O.current.find(xe=>xe.id===o);if(!ge)throw new Error("Active project not found");const we={...ge,lastModified:Date.now(),assets:{...ge.assets||{},[he]:re}};return O.current=O.current.map(xe=>xe.id===we.id?we:xe),A(we),`asset://${he}`},G=async ee=>{if(!o)return;const re=O.current.find(he=>he.id===o);if(re){const he={...re.assets};delete he[ee];const ge={...re,lastModified:Date.now(),assets:he};O.current=O.current.map(we=>we.id===ge.id?ge:we),A(ge)}},ce=ee=>{if(!o||!l)return;const re=O.current.find(he=>he.id===o);if(re){const he={...re,lastModified:Date.now(),files:re.files.map(ge=>ge.id===l?{...ge,content:ee}:ge)};O.current=O.current.map(ge=>ge.id===he.id?he:ge),A(he)}},pe=e.find(ee=>ee.id===o),b=pe==null?void 0:pe.files.find(ee=>ee.id===l),ne=pe?pe.files.filter(ee=>ee.type!==Nt).sort((ee,re)=>ee.name.localeCompare(re.name,void 0,{sensitivity:"base"})).slice(0,6):[],J=new Map(dg.map((ee,re)=>[ee.type,re])),C=pe?pe.files.filter(ee=>mr.has(ee.type)).sort((ee,re)=>(J.get(ee.type)??Number.MAX_SAFE_INTEGER)-(J.get(re.type)??Number.MAX_SAFE_INTEGER)):[],S=pe?pe.files.filter(ee=>!mr.has(ee.type)).length:0,Y=ee=>{if(pe){if(!pe.files.some(re=>re.id===ee)){alert("Linked file was not found in this project.");return}u(ee)}},le=ee=>{const re=ee.dataTransfer.getData(ph);if(re)try{const xe=JSON.parse(re);if(xe!=null&&xe.id)return xe.id}catch{if(pe!=null&&pe.files.some(xe=>xe.id===re))return re}const he=ee.dataTransfer.getData("text/uri-list");if(he!=null&&he.startsWith("file://")){const xe=he.replace("file://","").trim();if(pe!=null&&pe.files.some(Me=>Me.id===xe))return xe}const ge=ee.dataTransfer.getData("text/plain"),we=ge.match(/\(file:\/\/([^)]+)\)/);return we!=null&&we[1]&&(pe!=null&&pe.files.some(xe=>xe.id===we[1]))?we[1]:ge&&(pe!=null&&pe.files.some(xe=>xe.id===ge.trim()))?ge.trim():z},X=async ee=>{try{await navigator.clipboard.writeText(ee)}catch{alert("Failed to copy file ID.")}},W=ee=>{const re=new Set(v);re.has(ee)?re.delete(ee):re.add(ee),g(re)},ae=(ee,re)=>{if(!pe)return;const he=pe.files.find(ge=>ge.id===ee);!he||mr.has(he.type)||(he.folderId||null)===re||A({...pe,lastModified:Date.now(),files:pe.files.map(ge=>ge.id===ee?{...ge,folderId:re}:ge)})},ue=(ee,re,he)=>{E(re),ee.dataTransfer.effectAllowed="move",ee.dataTransfer.setData(ph,JSON.stringify({id:re,name:he})),ee.dataTransfer.setData("application/x-gdpm-file-name",he),ee.dataTransfer.setData("text/uri-list",`file://${re}`),ee.dataTransfer.setData("text/plain",`[${he}](file://${re})`)},de=()=>{E(null),I(null)},Ee=(ee,re)=>{ee.preventDefault(),ee.stopPropagation(),ee.dataTransfer.dropEffect="move",P!==re&&I(re)},Pe=(ee,re)=>{ee.preventDefault(),ee.stopPropagation();const he=le(ee);I(null),E(null),he&&(ae(he,re),g(ge=>new Set(ge).add(re)))},Te=ee=>{ee.preventDefault(),ee.dataTransfer.dropEffect="move",P!=="root"&&I("root")},Oe=ee=>{ee.preventDefault();const re=le(ee);I(null),E(null),re&&ae(re,null)},at=(ee,re=0)=>{if(!pe)return null;const he=pe.folders.filter(xe=>xe.parentId===ee),ge=new Map(Ut.map((xe,Me)=>[xe.type,Me])),we=pe.files.filter(xe=>!mr.has(xe.type)&&(xe.folderId||null)===ee).sort((xe,Me)=>{const Re=ge.get(xe.type)??Number.MAX_SAFE_INTEGER,Be=ge.get(Me.type)??Number.MAX_SAFE_INTEGER;return Re!==Be?Re-Be:xe.name.localeCompare(Me.name,void 0,{sensitivity:"base"})});return c.jsxs("div",{children:[he.map(xe=>{const Me=v.has(xe.id),Re=P===xe.id;return c.jsxs("div",{children:[c.jsxs("div",{style:{marginLeft:re*12},onDragOver:Be=>Ee(Be,xe.id),onDrop:Be=>Pe(Be,xe.id),className:`group flex items-center justify-between rounded-lg pr-1 py-1 mb-0.5 transition-colors ${Re?"bg-blue-500/10 ring-1 ring-blue-500/40":"hover:bg-zinc-900"}`,children:[c.jsxs("button",{onClick:()=>W(xe.id),className:"flex-1 flex items-center gap-2 px-2 text-sm text-zinc-400 hover:text-zinc-200 truncate",children:[Me?c.jsx(Mu,{className:"w-4 h-4"}):c.jsx(Au,{className:"w-4 h-4"}),c.jsx(wc,{className:"w-4 h-4 text-blue-500/80"}),c.jsx("span",{className:"truncate",children:xe.name})]}),c.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex items-center gap-1",children:[c.jsx("button",{onClick:()=>fe(xe.id),className:"p-1 hover:bg-zinc-800 text-zinc-500 hover:text-white rounded",title:"New File",children:c.jsx(mf,{className:"w-3.5 h-3.5"})}),c.jsx("button",{onClick:()=>se(xe.id),className:"p-1 hover:bg-zinc-800 text-zinc-500 hover:text-white rounded",title:"New Subfolder",children:c.jsx(ra,{className:"w-3.5 h-3.5"})}),c.jsx("button",{onClick:()=>R(xe.id),className:"p-1 hover:bg-zinc-800 text-zinc-500 hover:text-red-400 rounded",title:"Delete Folder",children:c.jsx(Qt,{className:"w-3.5 h-3.5"})})]})]}),Me&&at(xe.id,re+1)]},xe.id)}),we.map(xe=>{const Me=Ut.find(ie=>ie.type===xe.type),Re=(Me==null?void 0:Me.icon)||pl,Be=z===xe.id;return c.jsxs("div",{style:{marginLeft:re*12},draggable:!0,onDragStart:ie=>ue(ie,xe.id,xe.name),onDragEnd:de,className:`group flex items-center gap-1 rounded-lg pr-1 mb-0.5 transition-colors cursor-grab active:cursor-grabbing ${Be?"opacity-45 grayscale":"opacity-100 hover:bg-zinc-900"}`,children:[c.jsxs("button",{onClick:()=>u(xe.id),draggable:!0,onDragStart:ie=>ue(ie,xe.id,xe.name),onDragEnd:de,className:`flex-1 flex items-center gap-2 pl-1.5 pr-2 py-1.5 text-sm text-left truncate ${l===xe.id?"bg-zinc-800 text-white":"text-zinc-400 hover:text-zinc-200"}`,children:[c.jsx(Re,{className:`w-4 h-4 shrink-0 ${l===xe.id?"text-blue-400":"text-zinc-500"}`}),c.jsx("span",{className:"truncate",children:xe.name})]}),c.jsx("button",{onClick:ie=>{ie.stopPropagation(),X(xe.id)},className:"p-1.5 text-zinc-600 hover:text-cyan-300 hover:bg-zinc-800 rounded opacity-0 group-hover:opacity-100",title:"Copy File ID",children:c.jsx(vc,{className:"w-3.5 h-3.5"})}),c.jsx("button",{onClick:ie=>be(ie,xe.id),className:"p-1.5 text-zinc-600 hover:text-red-400 hover:bg-zinc-800 rounded opacity-0 group-hover:opacity-100",children:c.jsx(Qt,{className:"w-3.5 h-3.5"})})]},xe.id)})]})},Ue=()=>i===pr.DASHBOARD||!pe?c.jsxs("aside",{className:"w-16 md:w-20 bg-zinc-950 border-r border-zinc-800 flex flex-col items-center py-6 gap-6 z-20",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-900/20 mb-4",children:c.jsx(wc,{className:"w-6 h-6 text-white"})}),c.jsx("button",{className:"p-3 rounded-xl bg-zinc-800 text-white shadow-md",title:"Dashboard",children:c.jsx(I0,{className:"w-5 h-5"})}),c.jsx("div",{className:"mt-auto",children:c.jsx("button",{onClick:()=>h(!0),className:"p-3 rounded-xl text-zinc-500 hover:bg-zinc-800 hover:text-white transition-colors",title:"Help",children:c.jsx(yf,{className:"w-5 h-5"})})})]}):c.jsxs("aside",{className:"w-64 bg-zinc-950 border-r border-zinc-800 flex flex-col z-20",children:[c.jsxs("div",{className:"h-16 flex items-center px-4 border-b border-zinc-800 shrink-0 gap-2",children:[c.jsx("button",{onClick:()=>{a(null),s(pr.DASHBOARD)},className:"p-2 hover:bg-zinc-900 rounded-lg text-zinc-400 hover:text-white",children:c.jsx(i1,{className:"w-4 h-4"})}),c.jsx("span",{className:"font-semibold text-zinc-200 truncate flex-1",children:pe.name})]}),c.jsxs("div",{className:"px-3 py-3 border-b border-zinc-900 flex gap-2",children:[c.jsxs("button",{onClick:()=>fe(null),className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white py-1.5 rounded-md text-xs font-medium transition-colors",children:[c.jsx(mf,{className:"w-3.5 h-3.5"})," New File"]}),c.jsx("button",{onClick:()=>se(null),className:"px-3 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 py-1.5 rounded-md text-xs font-medium transition-colors",title:"New Folder",children:c.jsx(ra,{className:"w-3.5 h-3.5"})})]}),C.length>0&&c.jsxs("div",{className:"px-3 pt-3",children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-wide text-zinc-500",children:"Project Systems"}),c.jsx("div",{className:"space-y-1",children:C.map(ee=>{const re=Ut.find(ge=>ge.type===ee.type),he=(re==null?void 0:re.icon)||pl;return c.jsxs("button",{onClick:()=>u(ee.id),draggable:!0,onDragStart:ge=>ue(ge,ee.id,ee.name),onDragEnd:de,className:`w-full flex items-center gap-2 px-2 py-2 rounded-lg text-sm transition-colors border cursor-grab active:cursor-grabbing group ${l===ee.id?"bg-zinc-800 text-white border-blue-500/40":"text-zinc-300 hover:text-white hover:bg-zinc-900 border-zinc-800"}`,title:`Drag to create link to ${ee.name}`,children:[c.jsx(he,{className:`w-4 h-4 ${l===ee.id?"text-blue-400":"text-zinc-500"}`}),c.jsx("span",{className:"truncate flex-1",children:ee.name}),c.jsx("span",{onClick:ge=>{ge.stopPropagation(),X(ee.id)},className:"p-1 text-zinc-500 hover:text-cyan-300 hover:bg-zinc-800 rounded opacity-0 group-hover:opacity-100",title:"Copy File ID",children:c.jsx(vc,{className:"w-3.5 h-3.5"})})]},ee.id)})}),c.jsx("div",{className:"my-3 border-t border-zinc-800"}),c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-wide text-zinc-600",children:"Project Files"})]}),c.jsxs("div",{className:`p-3 flex-1 overflow-y-auto custom-scrollbar transition-colors ${P==="root"?"bg-blue-500/5 ring-1 ring-inset ring-blue-500/30 rounded-lg":""}`,onDragOver:Te,onDrop:Oe,children:[at(null),S===0&&pe.folders.length===0&&c.jsx("div",{className:"text-center py-8 text-zinc-600 text-xs italic",children:"Project is empty. Create a file or folder to get started."})]}),c.jsx("div",{className:"p-4 border-t border-zinc-800",children:c.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-3 px-3 py-2 text-zinc-500 hover:text-white hover:bg-zinc-900 rounded-lg w-full transition-colors",children:[c.jsx(yf,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Guide & Help"})]})})]});return c.jsxs("div",{className:"flex h-screen bg-black text-zinc-100 font-sans overflow-hidden",children:[Ue(),c.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-zinc-950",children:[c.jsx("div",{className:"flex-1 overflow-hidden relative",children:i===pr.DASHBOARD?c.jsx(G1,{projects:e,onSelectProject:B,onCreateProject:j,onExportProject:M,onDeleteProject:V,onImportFolder:U}):pe&&b?oe.createElement(Ut.find(ee=>ee.type===b.type).component,{key:b.id,fileName:b.name,initialContent:b.content,onSave:ce,assets:pe.assets||{},onAddAsset:te,onDeleteAsset:G,projectFiles:pe.files,activeFileId:l,onOpenFile:Y}):c.jsx("div",{className:"h-full flex items-center justify-center p-6",children:c.jsxs("div",{className:"w-full max-w-2xl bg-zinc-900 border border-zinc-800 rounded-xl p-6 shadow-xl",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(pl,{className:"w-7 h-7 text-zinc-500"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-zinc-100",children:"Start Working"}),c.jsx("p",{className:"text-sm text-zinc-400",children:"Open an existing file or create a new one."})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-5",children:[c.jsxs("button",{onClick:()=>fe(null,"doc"),className:"px-4 py-3 rounded-lg bg-zinc-950 border border-zinc-800 text-left hover:border-blue-500/40 hover:bg-zinc-900",children:[c.jsx("p",{className:"text-sm font-medium text-zinc-100",children:"New Document"}),c.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Write specs and notes."})]}),c.jsxs("button",{onClick:()=>fe(null,"whiteboard"),className:"px-4 py-3 rounded-lg bg-zinc-950 border border-zinc-800 text-left hover:border-blue-500/40 hover:bg-zinc-900",children:[c.jsx("p",{className:"text-sm font-medium text-zinc-100",children:"New Whiteboard"}),c.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Sketch ideas visually."})]}),c.jsxs("button",{onClick:()=>fe(null,"flowchart"),className:"px-4 py-3 rounded-lg bg-zinc-950 border border-zinc-800 text-left hover:border-blue-500/40 hover:bg-zinc-900",children:[c.jsx("p",{className:"text-sm font-medium text-zinc-100",children:"New Flowchart"}),c.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Map systems and logic."})]})]}),c.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-zinc-500 mb-2",children:"Open Existing"}),ne.length>0?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:ne.map(ee=>c.jsx("button",{onClick:()=>u(ee.id),className:"px-3 py-2 rounded-md bg-zinc-950 border border-zinc-800 text-zinc-300 hover:text-white hover:bg-zinc-900 text-left truncate",children:ee.name},ee.id))}):c.jsx("p",{className:"text-sm text-zinc-500",children:"No files yet. Use one of the create actions above."})]})]})})}),c.jsx(PN,{isOpen:d,onClose:()=>m(!1),projects:e,activeProject:pe,onSelectFile:ee=>{u(ee)},onSelectProject:B,onCreateFile:ee=>fe(null,ee)}),c.jsx(RN,{isOpen:y,onClose:()=>h(!1)}),w.open&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-sm p-6 shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-white",children:"Create New File"}),c.jsx("button",{onClick:()=>f({open:!1,folderId:null}),children:c.jsx(vs,{className:"w-5 h-5 text-zinc-500"})})]}),c.jsxs("form",{onSubmit:me,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Name"}),c.jsx("input",{autoFocus:!0,type:"text",required:!0,value:x,onChange:ee=>k(ee.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:ring-2 focus:ring-blue-600 outline-none",placeholder:"e.g. Character Specs"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Type"}),c.jsx("select",{value:_,onChange:ee=>N(ee.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:ring-2 focus:ring-blue-600 outline-none",children:Ut.filter(ee=>K(ee.type,pe)).map(ee=>c.jsx("option",{value:ee.type,children:ee.label},ee.type))})]}),c.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Create File"})]})]})})]})]})},fg=document.getElementById("root");if(!fg)throw new Error("Could not find root element to mount to");const BN=zl.createRoot(fg);BN.render(c.jsx(oe.StrictMode,{children:c.jsx(FN,{})}));
