(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _c(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qf={exports:{}},Yo={},Qf={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gi=Symbol.for("react.element"),Sg=Symbol.for("react.portal"),Ng=Symbol.for("react.fragment"),zg=Symbol.for("react.strict_mode"),Eg=Symbol.for("react.profiler"),Cg=Symbol.for("react.provider"),jg=Symbol.for("react.context"),Dg=Symbol.for("react.forward_ref"),Tg=Symbol.for("react.suspense"),Ig=Symbol.for("react.memo"),Ag=Symbol.for("react.lazy"),Uu=Symbol.iterator;function Mg(e){return e===null||typeof e!="object"?null:(e=Uu&&e[Uu]||e["@@iterator"],typeof e=="function"?e:null)}var Jf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eh=Object.assign,th={};function ls(e,t,n){this.props=e,this.context=t,this.refs=th,this.updater=n||Jf}ls.prototype.isReactComponent={};ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nh(){}nh.prototype=ls.prototype;function Sc(e,t,n){this.props=e,this.context=t,this.refs=th,this.updater=n||Jf}var Nc=Sc.prototype=new nh;Nc.constructor=Sc;eh(Nc,ls.prototype);Nc.isPureReactComponent=!0;var Vu=Array.isArray,rh=Object.prototype.hasOwnProperty,zc={current:null},sh={key:!0,ref:!0,__self:!0,__source:!0};function ih(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)rh.call(t,r)&&!sh.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:gi,type:e,key:i,ref:o,props:s,_owner:zc.current}}function Rg(e,t){return{$$typeof:gi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ec(e){return typeof e=="object"&&e!==null&&e.$$typeof===gi}function Pg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Wu=/\/+/g;function za(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pg(""+e.key):t.toString(36)}function Qi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case gi:case Sg:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+za(o,0):r,Vu(s)?(n="",e!=null&&(n=e.replace(Wu,"$&/")+"/"),Qi(s,t,n,"",function(u){return u})):s!=null&&(Ec(s)&&(s=Rg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Wu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Vu(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+za(i,a);o+=Qi(i,t,n,l,s)}else if(l=Mg(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+za(i,a++),o+=Qi(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ni(e,t,n){if(e==null)return e;var r=[],s=0;return Qi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Lg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pt={current:null},Ji={transition:null},Og={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:Ji,ReactCurrentOwner:zc};function oh(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Ni,forEach:function(e,t,n){Ni(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ni(e,function(){t++}),t},toArray:function(e){return Ni(e,function(t){return t})||[]},only:function(e){if(!Ec(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=ls;je.Fragment=Ng;je.Profiler=Eg;je.PureComponent=Sc;je.StrictMode=zg;je.Suspense=Tg;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Og;je.act=oh;je.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=eh({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=zc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)rh.call(t,l)&&!sh.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gi,type:e.type,key:s,ref:i,props:r,_owner:o}};je.createContext=function(e){return e={$$typeof:jg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cg,_context:e},e.Consumer=e};je.createElement=ih;je.createFactory=function(e){var t=ih.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:Dg,render:e}};je.isValidElement=Ec;je.lazy=function(e){return{$$typeof:Ag,_payload:{_status:-1,_result:e},_init:Lg}};je.memo=function(e,t){return{$$typeof:Ig,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=Ji.transition;Ji.transition={};try{e()}finally{Ji.transition=t}};je.unstable_act=oh;je.useCallback=function(e,t){return pt.current.useCallback(e,t)};je.useContext=function(e){return pt.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return pt.current.useDeferredValue(e)};je.useEffect=function(e,t){return pt.current.useEffect(e,t)};je.useId=function(){return pt.current.useId()};je.useImperativeHandle=function(e,t,n){return pt.current.useImperativeHandle(e,t,n)};je.useInsertionEffect=function(e,t){return pt.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return pt.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return pt.current.useMemo(e,t)};je.useReducer=function(e,t,n){return pt.current.useReducer(e,t,n)};je.useRef=function(e){return pt.current.useRef(e)};je.useState=function(e){return pt.current.useState(e)};je.useSyncExternalStore=function(e,t,n){return pt.current.useSyncExternalStore(e,t,n)};je.useTransition=function(){return pt.current.useTransition()};je.version="18.3.1";Qf.exports=je;var M=Qf.exports;const ie=_c(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g=M,Fg=Symbol.for("react.element"),Bg=Symbol.for("react.fragment"),Hg=Object.prototype.hasOwnProperty,Ug=$g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vg={key:!0,ref:!0,__self:!0,__source:!0};function ah(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Hg.call(t,r)&&!Vg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Fg,type:e,key:i,ref:o,props:s,_owner:Ug.current}}Yo.Fragment=Bg;Yo.jsx=ah;Yo.jsxs=ah;qf.exports=Yo;var c=qf.exports,dl={},lh={exports:{}},Ct={},ch={exports:{}},uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,z){var U=Z.length;Z.push(z);e:for(;0<U;){var R=U-1>>>1,P=Z[R];if(0<s(P,z))Z[R]=z,Z[U]=P,U=R;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var z=Z[0],U=Z.pop();if(U!==z){Z[0]=U;e:for(var R=0,P=Z.length,le=P>>>1;R<le;){var O=2*(R+1)-1,X=Z[O],fe=O+1,ge=Z[fe];if(0>s(X,U))fe<P&&0>s(ge,X)?(Z[R]=ge,Z[fe]=U,R=fe):(Z[R]=X,Z[O]=U,R=O);else if(fe<P&&0>s(ge,U))Z[R]=ge,Z[fe]=U,R=fe;else break e}}return z}function s(Z,z){var U=Z.sortIndex-z.sortIndex;return U!==0?U:Z.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,g=null,y=3,h=!1,v=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Z){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=Z)r(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(u)}}function _(Z){if(x=!1,b(Z),!v)if(n(l)!==null)v=!0,W(S);else{var z=n(u);z!==null&&G(_,z.startTime-Z)}}function S(Z,z){v=!1,x&&(x=!1,d(A),A=-1),h=!0;var U=y;try{for(b(z),g=n(l);g!==null&&(!(g.expirationTime>z)||Z&&!q());){var R=g.callback;if(typeof R=="function"){g.callback=null,y=g.priorityLevel;var P=R(g.expirationTime<=z);z=e.unstable_now(),typeof P=="function"?g.callback=P:g===n(l)&&r(l),b(z)}else r(l);g=n(l)}if(g!==null)var le=!0;else{var O=n(u);O!==null&&G(_,O.startTime-z),le=!1}return le}finally{g=null,y=U,h=!1}}var D=!1,E=null,A=-1,T=5,H=-1;function q(){return!(e.unstable_now()-H<T)}function C(){if(E!==null){var Z=e.unstable_now();H=Z;var z=!0;try{z=E(!0,Z)}finally{z?F():(D=!1,E=null)}}else D=!1}var F;if(typeof m=="function")F=function(){m(C)};else if(typeof MessageChannel<"u"){var p=new MessageChannel,$=p.port2;p.port1.onmessage=C,F=function(){$.postMessage(null)}}else F=function(){w(C,0)};function W(Z){E=Z,D||(D=!0,F())}function G(Z,z){A=w(function(){Z(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,W(S))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var z=3;break;default:z=y}var U=y;y=z;try{return Z()}finally{y=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,z){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var U=y;y=Z;try{return z()}finally{y=U}},e.unstable_scheduleCallback=function(Z,z,U){var R=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?R+U:R):U=R,Z){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=U+P,Z={id:f++,callback:z,priorityLevel:Z,startTime:U,expirationTime:P,sortIndex:-1},U>R?(Z.sortIndex=U,t(u,Z),n(l)===null&&Z===n(u)&&(x?(d(A),A=-1):x=!0,G(_,U-R))):(Z.sortIndex=P,t(l,Z),v||h||(v=!0,W(S))),Z},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(Z){var z=y;return function(){var U=y;y=z;try{return Z.apply(this,arguments)}finally{y=U}}}})(uh);ch.exports=uh;var Wg=ch.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg=M,zt=Wg;function ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dh=new Set,Bs={};function yr(e,t){qr(e,t),qr(e+"Capture",t)}function qr(e,t){for(Bs[e]=t,e=0;e<t.length;e++)dh.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fl=Object.prototype.hasOwnProperty,Gg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zu={},Gu={};function Kg(e){return fl.call(Gu,e)?!0:fl.call(Zu,e)?!1:Gg.test(e)?Gu[e]=!0:(Zu[e]=!0,!1)}function Yg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xg(e,t,n,r){if(t===null||typeof t>"u"||Yg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cc=/[\-:]([a-z])/g;function jc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cc,jc);it[t]=new mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cc,jc);it[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cc,jc);it[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new mt(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dc(e,t,n,r){var s=it.hasOwnProperty(t)?it[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xg(t,n,s,r)&&(n=null),r||s===null?Kg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _n=Zg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zi=Symbol.for("react.element"),jr=Symbol.for("react.portal"),Dr=Symbol.for("react.fragment"),Tc=Symbol.for("react.strict_mode"),hl=Symbol.for("react.profiler"),fh=Symbol.for("react.provider"),hh=Symbol.for("react.context"),Ic=Symbol.for("react.forward_ref"),pl=Symbol.for("react.suspense"),ml=Symbol.for("react.suspense_list"),Ac=Symbol.for("react.memo"),zn=Symbol.for("react.lazy"),ph=Symbol.for("react.offscreen"),Ku=Symbol.iterator;function fs(e){return e===null||typeof e!="object"?null:(e=Ku&&e[Ku]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,Ea;function Ns(e){if(Ea===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ea=t&&t[1]||""}return`
`+Ea+e}var Ca=!1;function ja(e,t){if(!e||Ca)return"";Ca=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ca=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ns(e):""}function qg(e){switch(e.tag){case 5:return Ns(e.type);case 16:return Ns("Lazy");case 13:return Ns("Suspense");case 19:return Ns("SuspenseList");case 0:case 2:case 15:return e=ja(e.type,!1),e;case 11:return e=ja(e.type.render,!1),e;case 1:return e=ja(e.type,!0),e;default:return""}}function gl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dr:return"Fragment";case jr:return"Portal";case hl:return"Profiler";case Tc:return"StrictMode";case pl:return"Suspense";case ml:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hh:return(e.displayName||"Context")+".Consumer";case fh:return(e._context.displayName||"Context")+".Provider";case Ic:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ac:return t=e.displayName||null,t!==null?t:gl(e.type)||"Memo";case zn:t=e._payload,e=e._init;try{return gl(e(t))}catch{}}return null}function Qg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gl(t);case 8:return t===Tc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jg(e){var t=mh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ei(e){e._valueTracker||(e._valueTracker=Jg(e))}function gh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xl(e,t){var n=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Yu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xh(e,t){t=t.checked,t!=null&&Dc(e,"checked",t,!1)}function yl(e,t){xh(e,t);var n=Vn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vl(e,t.type,n):t.hasOwnProperty("defaultValue")&&vl(e,t.type,Vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vl(e,t,n){(t!=="number"||mo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var zs=Array.isArray;function Hr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function wl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ye(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ye(92));if(zs(n)){if(1<n.length)throw Error(ye(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vn(n)}}function yh(e,t){var n=Vn(t.value),r=Vn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ci,wh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ci=Ci||document.createElement("div"),Ci.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ci.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ex=["Webkit","ms","Moz","O"];Object.keys(Is).forEach(function(e){ex.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Is[t]=Is[e]})});function bh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Is.hasOwnProperty(e)&&Is[e]?(""+t).trim():t+"px"}function kh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=bh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var tx=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kl(e,t){if(t){if(tx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ye(62))}}function _l(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sl=null;function Mc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nl=null,Ur=null,Vr=null;function Ju(e){if(e=vi(e)){if(typeof Nl!="function")throw Error(ye(280));var t=e.stateNode;t&&(t=ea(t),Nl(e.stateNode,e.type,t))}}function _h(e){Ur?Vr?Vr.push(e):Vr=[e]:Ur=e}function Sh(){if(Ur){var e=Ur,t=Vr;if(Vr=Ur=null,Ju(e),t)for(e=0;e<t.length;e++)Ju(t[e])}}function Nh(e,t){return e(t)}function zh(){}var Da=!1;function Eh(e,t,n){if(Da)return e(t,n);Da=!0;try{return Nh(e,t,n)}finally{Da=!1,(Ur!==null||Vr!==null)&&(zh(),Sh())}}function Us(e,t){var n=e.stateNode;if(n===null)return null;var r=ea(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ye(231,t,typeof n));return n}var zl=!1;if(gn)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){zl=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{zl=!1}function nx(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var As=!1,go=null,xo=!1,El=null,rx={onError:function(e){As=!0,go=e}};function sx(e,t,n,r,s,i,o,a,l){As=!1,go=null,nx.apply(rx,arguments)}function ix(e,t,n,r,s,i,o,a,l){if(sx.apply(this,arguments),As){if(As){var u=go;As=!1,go=null}else throw Error(ye(198));xo||(xo=!0,El=u)}}function vr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ch(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ed(e){if(vr(e)!==e)throw Error(ye(188))}function ox(e){var t=e.alternate;if(!t){if(t=vr(e),t===null)throw Error(ye(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ed(s),e;if(i===r)return ed(s),t;i=i.sibling}throw Error(ye(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ye(189))}}if(n.alternate!==r)throw Error(ye(190))}if(n.tag!==3)throw Error(ye(188));return n.stateNode.current===n?e:t}function jh(e){return e=ox(e),e!==null?Dh(e):null}function Dh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dh(e);if(t!==null)return t;e=e.sibling}return null}var Th=zt.unstable_scheduleCallback,td=zt.unstable_cancelCallback,ax=zt.unstable_shouldYield,lx=zt.unstable_requestPaint,Ge=zt.unstable_now,cx=zt.unstable_getCurrentPriorityLevel,Rc=zt.unstable_ImmediatePriority,Ih=zt.unstable_UserBlockingPriority,yo=zt.unstable_NormalPriority,ux=zt.unstable_LowPriority,Ah=zt.unstable_IdlePriority,Xo=null,tn=null;function dx(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Xo,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:px,fx=Math.log,hx=Math.LN2;function px(e){return e>>>=0,e===0?32:31-(fx(e)/hx|0)|0}var ji=64,Di=4194304;function Es(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Es(a):(i&=o,i!==0&&(r=Es(i)))}else o=n&~s,o!==0?r=Es(o):i!==0&&(r=Es(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Kt(t),s=1<<n,r|=e[n],t&=~s;return r}function mx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Kt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=mx(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Cl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mh(){var e=ji;return ji<<=1,!(ji&4194240)&&(ji=64),e}function Ta(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kt(t),e[t]=n}function xx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Kt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Pc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Kt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Te=0;function Rh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ph,Lc,Lh,Oh,$h,jl=!1,Ti=[],Rn=null,Pn=null,Ln=null,Vs=new Map,Ws=new Map,Dn=[],yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nd(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(t.pointerId)}}function ps(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=vi(t),t!==null&&Lc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function vx(e,t,n,r,s){switch(t){case"focusin":return Rn=ps(Rn,e,t,n,r,s),!0;case"dragenter":return Pn=ps(Pn,e,t,n,r,s),!0;case"mouseover":return Ln=ps(Ln,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vs.set(i,ps(Vs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ws.set(i,ps(Ws.get(i)||null,e,t,n,r,s)),!0}return!1}function Fh(e){var t=rr(e.target);if(t!==null){var n=vr(t);if(n!==null){if(t=n.tag,t===13){if(t=Ch(n),t!==null){e.blockedOn=t,$h(e.priority,function(){Lh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Sl=r,n.target.dispatchEvent(r),Sl=null}else return t=vi(n),t!==null&&Lc(t),e.blockedOn=n,!1;t.shift()}return!0}function rd(e,t,n){eo(e)&&n.delete(t)}function wx(){jl=!1,Rn!==null&&eo(Rn)&&(Rn=null),Pn!==null&&eo(Pn)&&(Pn=null),Ln!==null&&eo(Ln)&&(Ln=null),Vs.forEach(rd),Ws.forEach(rd)}function ms(e,t){e.blockedOn===t&&(e.blockedOn=null,jl||(jl=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,wx)))}function Zs(e){function t(s){return ms(s,e)}if(0<Ti.length){ms(Ti[0],e);for(var n=1;n<Ti.length;n++){var r=Ti[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rn!==null&&ms(Rn,e),Pn!==null&&ms(Pn,e),Ln!==null&&ms(Ln,e),Vs.forEach(t),Ws.forEach(t),n=0;n<Dn.length;n++)r=Dn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dn.length&&(n=Dn[0],n.blockedOn===null);)Fh(n),n.blockedOn===null&&Dn.shift()}var Wr=_n.ReactCurrentBatchConfig,wo=!0;function bx(e,t,n,r){var s=Te,i=Wr.transition;Wr.transition=null;try{Te=1,Oc(e,t,n,r)}finally{Te=s,Wr.transition=i}}function kx(e,t,n,r){var s=Te,i=Wr.transition;Wr.transition=null;try{Te=4,Oc(e,t,n,r)}finally{Te=s,Wr.transition=i}}function Oc(e,t,n,r){if(wo){var s=Dl(e,t,n,r);if(s===null)Ba(e,t,r,bo,n),nd(e,r);else if(vx(s,e,t,n,r))r.stopPropagation();else if(nd(e,r),t&4&&-1<yx.indexOf(e)){for(;s!==null;){var i=vi(s);if(i!==null&&Ph(i),i=Dl(e,t,n,r),i===null&&Ba(e,t,r,bo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ba(e,t,r,null,n)}}var bo=null;function Dl(e,t,n,r){if(bo=null,e=Mc(r),e=rr(e),e!==null)if(t=vr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ch(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bo=e,null}function Bh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cx()){case Rc:return 1;case Ih:return 4;case yo:case ux:return 16;case Ah:return 536870912;default:return 16}default:return 16}}var An=null,$c=null,to=null;function Hh(){if(to)return to;var e,t=$c,n=t.length,r,s="value"in An?An.value:An.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return to=s.slice(e,1<r?1-r:void 0)}function no(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function sd(){return!1}function jt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ii:sd,this.isPropagationStopped=sd,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),t}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fc=jt(cs),yi=He({},cs,{view:0,detail:0}),_x=jt(yi),Ia,Aa,gs,qo=He({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gs&&(gs&&e.type==="mousemove"?(Ia=e.screenX-gs.screenX,Aa=e.screenY-gs.screenY):Aa=Ia=0,gs=e),Ia)},movementY:function(e){return"movementY"in e?e.movementY:Aa}}),id=jt(qo),Sx=He({},qo,{dataTransfer:0}),Nx=jt(Sx),zx=He({},yi,{relatedTarget:0}),Ma=jt(zx),Ex=He({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Cx=jt(Ex),jx=He({},cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dx=jt(jx),Tx=He({},cs,{data:0}),od=jt(Tx),Ix={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ax={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mx[e])?!!t[e]:!1}function Bc(){return Rx}var Px=He({},yi,{key:function(e){if(e.key){var t=Ix[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=no(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ax[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(e){return e.type==="keypress"?no(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?no(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lx=jt(Px),Ox=He({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ad=jt(Ox),$x=He({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),Fx=jt($x),Bx=He({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hx=jt(Bx),Ux=He({},qo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vx=jt(Ux),Wx=[9,13,27,32],Hc=gn&&"CompositionEvent"in window,Ms=null;gn&&"documentMode"in document&&(Ms=document.documentMode);var Zx=gn&&"TextEvent"in window&&!Ms,Uh=gn&&(!Hc||Ms&&8<Ms&&11>=Ms),ld=" ",cd=!1;function Vh(e,t){switch(e){case"keyup":return Wx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function Gx(e,t){switch(e){case"compositionend":return Wh(t);case"keypress":return t.which!==32?null:(cd=!0,ld);case"textInput":return e=t.data,e===ld&&cd?null:e;default:return null}}function Kx(e,t){if(Tr)return e==="compositionend"||!Hc&&Vh(e,t)?(e=Hh(),to=$c=An=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uh&&t.locale!=="ko"?null:t.data;default:return null}}var Yx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yx[e.type]:t==="textarea"}function Zh(e,t,n,r){_h(r),t=ko(t,"onChange"),0<t.length&&(n=new Fc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rs=null,Gs=null;function Xx(e){rp(e,0)}function Qo(e){var t=Mr(e);if(gh(t))return e}function qx(e,t){if(e==="change")return t}var Gh=!1;if(gn){var Ra;if(gn){var Pa="oninput"in document;if(!Pa){var dd=document.createElement("div");dd.setAttribute("oninput","return;"),Pa=typeof dd.oninput=="function"}Ra=Pa}else Ra=!1;Gh=Ra&&(!document.documentMode||9<document.documentMode)}function fd(){Rs&&(Rs.detachEvent("onpropertychange",Kh),Gs=Rs=null)}function Kh(e){if(e.propertyName==="value"&&Qo(Gs)){var t=[];Zh(t,Gs,e,Mc(e)),Eh(Xx,t)}}function Qx(e,t,n){e==="focusin"?(fd(),Rs=t,Gs=n,Rs.attachEvent("onpropertychange",Kh)):e==="focusout"&&fd()}function Jx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qo(Gs)}function ey(e,t){if(e==="click")return Qo(t)}function ty(e,t){if(e==="input"||e==="change")return Qo(t)}function ny(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:ny;function Ks(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!fl.call(t,s)||!Xt(e[s],t[s]))return!1}return!0}function hd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pd(e,t){var n=hd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hd(n)}}function Yh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xh(){for(var e=window,t=mo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mo(e.document)}return t}function Uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ry(e){var t=Xh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yh(n.ownerDocument.documentElement,n)){if(r!==null&&Uc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=pd(n,i);var o=pd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sy=gn&&"documentMode"in document&&11>=document.documentMode,Ir=null,Tl=null,Ps=null,Il=!1;function md(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Il||Ir==null||Ir!==mo(r)||(r=Ir,"selectionStart"in r&&Uc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ps&&Ks(Ps,r)||(Ps=r,r=ko(Tl,"onSelect"),0<r.length&&(t=new Fc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ir)))}function Ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionend:Ai("Transition","TransitionEnd")},La={},qh={};gn&&(qh=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function Jo(e){if(La[e])return La[e];if(!Ar[e])return e;var t=Ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qh)return La[e]=t[n];return e}var Qh=Jo("animationend"),Jh=Jo("animationiteration"),ep=Jo("animationstart"),tp=Jo("transitionend"),np=new Map,gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(e,t){np.set(e,t),yr(t,[e])}for(var Oa=0;Oa<gd.length;Oa++){var $a=gd[Oa],iy=$a.toLowerCase(),oy=$a[0].toUpperCase()+$a.slice(1);Kn(iy,"on"+oy)}Kn(Qh,"onAnimationEnd");Kn(Jh,"onAnimationIteration");Kn(ep,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(tp,"onTransitionEnd");qr("onMouseEnter",["mouseout","mouseover"]);qr("onMouseLeave",["mouseout","mouseover"]);qr("onPointerEnter",["pointerout","pointerover"]);qr("onPointerLeave",["pointerout","pointerover"]);yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ay=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function xd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ix(r,t,void 0,e),e.currentTarget=null}function rp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;xd(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;xd(s,a,u),i=l}}}if(xo)throw e=El,xo=!1,El=null,e}function Pe(e,t){var n=t[Ll];n===void 0&&(n=t[Ll]=new Set);var r=e+"__bubble";n.has(r)||(sp(t,e,2,!1),n.add(r))}function Fa(e,t,n){var r=0;t&&(r|=4),sp(n,e,r,t)}var Mi="_reactListening"+Math.random().toString(36).slice(2);function Ys(e){if(!e[Mi]){e[Mi]=!0,dh.forEach(function(n){n!=="selectionchange"&&(ay.has(n)||Fa(n,!1,e),Fa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mi]||(t[Mi]=!0,Fa("selectionchange",!1,t))}}function sp(e,t,n,r){switch(Bh(t)){case 1:var s=bx;break;case 4:s=kx;break;default:s=Oc}n=s.bind(null,t,n,e),s=void 0,!zl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ba(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=rr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Eh(function(){var u=i,f=Mc(n),g=[];e:{var y=np.get(e);if(y!==void 0){var h=Fc,v=e;switch(e){case"keypress":if(no(n)===0)break e;case"keydown":case"keyup":h=Lx;break;case"focusin":v="focus",h=Ma;break;case"focusout":v="blur",h=Ma;break;case"beforeblur":case"afterblur":h=Ma;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Nx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Fx;break;case Qh:case Jh:case ep:h=Cx;break;case tp:h=Hx;break;case"scroll":h=_x;break;case"wheel":h=Vx;break;case"copy":case"cut":case"paste":h=Dx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=ad}var x=(t&4)!==0,w=!x&&e==="scroll",d=x?y!==null?y+"Capture":null:y;x=[];for(var m=u,b;m!==null;){b=m;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,d!==null&&(_=Us(m,d),_!=null&&x.push(Xs(m,_,b)))),w)break;m=m.return}0<x.length&&(y=new h(y,v,null,n,f),g.push({event:y,listeners:x}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",y&&n!==Sl&&(v=n.relatedTarget||n.fromElement)&&(rr(v)||v[xn]))break e;if((h||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?rr(v):null,v!==null&&(w=vr(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(x=id,_="onMouseLeave",d="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=ad,_="onPointerLeave",d="onPointerEnter",m="pointer"),w=h==null?y:Mr(h),b=v==null?y:Mr(v),y=new x(_,m+"leave",h,n,f),y.target=w,y.relatedTarget=b,_=null,rr(f)===u&&(x=new x(d,m+"enter",v,n,f),x.target=b,x.relatedTarget=w,_=x),w=_,h&&v)t:{for(x=h,d=v,m=0,b=x;b;b=kr(b))m++;for(b=0,_=d;_;_=kr(_))b++;for(;0<m-b;)x=kr(x),m--;for(;0<b-m;)d=kr(d),b--;for(;m--;){if(x===d||d!==null&&x===d.alternate)break t;x=kr(x),d=kr(d)}x=null}else x=null;h!==null&&yd(g,y,h,x,!1),v!==null&&w!==null&&yd(g,w,v,x,!0)}}e:{if(y=u?Mr(u):window,h=y.nodeName&&y.nodeName.toLowerCase(),h==="select"||h==="input"&&y.type==="file")var S=qx;else if(ud(y))if(Gh)S=ty;else{S=Jx;var D=Qx}else(h=y.nodeName)&&h.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(S=ey);if(S&&(S=S(e,u))){Zh(g,S,n,f);break e}D&&D(e,y,u),e==="focusout"&&(D=y._wrapperState)&&D.controlled&&y.type==="number"&&vl(y,"number",y.value)}switch(D=u?Mr(u):window,e){case"focusin":(ud(D)||D.contentEditable==="true")&&(Ir=D,Tl=u,Ps=null);break;case"focusout":Ps=Tl=Ir=null;break;case"mousedown":Il=!0;break;case"contextmenu":case"mouseup":case"dragend":Il=!1,md(g,n,f);break;case"selectionchange":if(sy)break;case"keydown":case"keyup":md(g,n,f)}var E;if(Hc)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Tr?Vh(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Uh&&n.locale!=="ko"&&(Tr||A!=="onCompositionStart"?A==="onCompositionEnd"&&Tr&&(E=Hh()):(An=f,$c="value"in An?An.value:An.textContent,Tr=!0)),D=ko(u,A),0<D.length&&(A=new od(A,e,null,n,f),g.push({event:A,listeners:D}),E?A.data=E:(E=Wh(n),E!==null&&(A.data=E)))),(E=Zx?Gx(e,n):Kx(e,n))&&(u=ko(u,"onBeforeInput"),0<u.length&&(f=new od("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:u}),f.data=E))}rp(g,t)})}function Xs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ko(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Us(e,n),i!=null&&r.unshift(Xs(e,i,s)),i=Us(e,t),i!=null&&r.push(Xs(e,i,s))),e=e.return}return r}function kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yd(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Us(n,i),l!=null&&o.unshift(Xs(n,l,a))):s||(l=Us(n,i),l!=null&&o.push(Xs(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ly=/\r\n?/g,cy=/\u0000|\uFFFD/g;function vd(e){return(typeof e=="string"?e:""+e).replace(ly,`
`).replace(cy,"")}function Ri(e,t,n){if(t=vd(t),vd(e)!==t&&n)throw Error(ye(425))}function _o(){}var Al=null,Ml=null;function Rl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,uy=typeof clearTimeout=="function"?clearTimeout:void 0,wd=typeof Promise=="function"?Promise:void 0,dy=typeof queueMicrotask=="function"?queueMicrotask:typeof wd<"u"?function(e){return wd.resolve(null).then(e).catch(fy)}:Pl;function fy(e){setTimeout(function(){throw e})}function Ha(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Zs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Zs(t)}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),en="__reactFiber$"+us,qs="__reactProps$"+us,xn="__reactContainer$"+us,Ll="__reactEvents$"+us,hy="__reactListeners$"+us,py="__reactHandles$"+us;function rr(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xn]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bd(e);e!==null;){if(n=e[en])return n;e=bd(e)}return t}e=n,n=e.parentNode}return null}function vi(e){return e=e[en]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ye(33))}function ea(e){return e[qs]||null}var Ol=[],Rr=-1;function Yn(e){return{current:e}}function Le(e){0>Rr||(e.current=Ol[Rr],Ol[Rr]=null,Rr--)}function Me(e,t){Rr++,Ol[Rr]=e.current,e.current=t}var Wn={},ut=Yn(Wn),wt=Yn(!1),fr=Wn;function Qr(e,t){var n=e.type.contextTypes;if(!n)return Wn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function bt(e){return e=e.childContextTypes,e!=null}function So(){Le(wt),Le(ut)}function kd(e,t,n){if(ut.current!==Wn)throw Error(ye(168));Me(ut,t),Me(wt,n)}function ip(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ye(108,Qg(e)||"Unknown",s));return He({},n,r)}function No(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wn,fr=ut.current,Me(ut,e),Me(wt,wt.current),!0}function _d(e,t,n){var r=e.stateNode;if(!r)throw Error(ye(169));n?(e=ip(e,t,fr),r.__reactInternalMemoizedMergedChildContext=e,Le(wt),Le(ut),Me(ut,e)):Le(wt),Me(wt,n)}var cn=null,ta=!1,Ua=!1;function op(e){cn===null?cn=[e]:cn.push(e)}function my(e){ta=!0,op(e)}function Xn(){if(!Ua&&cn!==null){Ua=!0;var e=0,t=Te;try{var n=cn;for(Te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}cn=null,ta=!1}catch(s){throw cn!==null&&(cn=cn.slice(e+1)),Th(Rc,Xn),s}finally{Te=t,Ua=!1}}return null}var Pr=[],Lr=0,zo=null,Eo=0,Tt=[],It=0,hr=null,un=1,dn="";function Qn(e,t){Pr[Lr++]=Eo,Pr[Lr++]=zo,zo=e,Eo=t}function ap(e,t,n){Tt[It++]=un,Tt[It++]=dn,Tt[It++]=hr,hr=e;var r=un;e=dn;var s=32-Kt(r)-1;r&=~(1<<s),n+=1;var i=32-Kt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,un=1<<32-Kt(t)+s|n<<s|r,dn=i+e}else un=1<<i|n<<s|r,dn=e}function Vc(e){e.return!==null&&(Qn(e,1),ap(e,1,0))}function Wc(e){for(;e===zo;)zo=Pr[--Lr],Pr[Lr]=null,Eo=Pr[--Lr],Pr[Lr]=null;for(;e===hr;)hr=Tt[--It],Tt[It]=null,dn=Tt[--It],Tt[It]=null,un=Tt[--It],Tt[It]=null}var Nt=null,St=null,$e=!1,Zt=null;function lp(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,St=On(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hr!==null?{id:un,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Nt=e,St=null,!0):!1;default:return!1}}function $l(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fl(e){if($e){var t=St;if(t){var n=t;if(!Sd(e,t)){if($l(e))throw Error(ye(418));t=On(n.nextSibling);var r=Nt;t&&Sd(e,t)?lp(r,n):(e.flags=e.flags&-4097|2,$e=!1,Nt=e)}}else{if($l(e))throw Error(ye(418));e.flags=e.flags&-4097|2,$e=!1,Nt=e}}}function Nd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function Pi(e){if(e!==Nt)return!1;if(!$e)return Nd(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rl(e.type,e.memoizedProps)),t&&(t=St)){if($l(e))throw cp(),Error(ye(418));for(;t;)lp(e,t),t=On(t.nextSibling)}if(Nd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){St=On(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}St=null}}else St=Nt?On(e.stateNode.nextSibling):null;return!0}function cp(){for(var e=St;e;)e=On(e.nextSibling)}function Jr(){St=Nt=null,$e=!1}function Zc(e){Zt===null?Zt=[e]:Zt.push(e)}var gy=_n.ReactCurrentBatchConfig;function xs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ye(309));var r=n.stateNode}if(!r)throw Error(ye(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ye(284));if(!n._owner)throw Error(ye(290,e))}return e}function Li(e,t){throw e=Object.prototype.toString.call(t),Error(ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zd(e){var t=e._init;return t(e._payload)}function up(e){function t(d,m){if(e){var b=d.deletions;b===null?(d.deletions=[m],d.flags|=16):b.push(m)}}function n(d,m){if(!e)return null;for(;m!==null;)t(d,m),m=m.sibling;return null}function r(d,m){for(d=new Map;m!==null;)m.key!==null?d.set(m.key,m):d.set(m.index,m),m=m.sibling;return d}function s(d,m){return d=Hn(d,m),d.index=0,d.sibling=null,d}function i(d,m,b){return d.index=b,e?(b=d.alternate,b!==null?(b=b.index,b<m?(d.flags|=2,m):b):(d.flags|=2,m)):(d.flags|=1048576,m)}function o(d){return e&&d.alternate===null&&(d.flags|=2),d}function a(d,m,b,_){return m===null||m.tag!==6?(m=Xa(b,d.mode,_),m.return=d,m):(m=s(m,b),m.return=d,m)}function l(d,m,b,_){var S=b.type;return S===Dr?f(d,m,b.props.children,_,b.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===zn&&zd(S)===m.type)?(_=s(m,b.props),_.ref=xs(d,m,b),_.return=d,_):(_=co(b.type,b.key,b.props,null,d.mode,_),_.ref=xs(d,m,b),_.return=d,_)}function u(d,m,b,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==b.containerInfo||m.stateNode.implementation!==b.implementation?(m=qa(b,d.mode,_),m.return=d,m):(m=s(m,b.children||[]),m.return=d,m)}function f(d,m,b,_,S){return m===null||m.tag!==7?(m=cr(b,d.mode,_,S),m.return=d,m):(m=s(m,b),m.return=d,m)}function g(d,m,b){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Xa(""+m,d.mode,b),m.return=d,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case zi:return b=co(m.type,m.key,m.props,null,d.mode,b),b.ref=xs(d,null,m),b.return=d,b;case jr:return m=qa(m,d.mode,b),m.return=d,m;case zn:var _=m._init;return g(d,_(m._payload),b)}if(zs(m)||fs(m))return m=cr(m,d.mode,b,null),m.return=d,m;Li(d,m)}return null}function y(d,m,b,_){var S=m!==null?m.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(d,m,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zi:return b.key===S?l(d,m,b,_):null;case jr:return b.key===S?u(d,m,b,_):null;case zn:return S=b._init,y(d,m,S(b._payload),_)}if(zs(b)||fs(b))return S!==null?null:f(d,m,b,_,null);Li(d,b)}return null}function h(d,m,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return d=d.get(b)||null,a(m,d,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zi:return d=d.get(_.key===null?b:_.key)||null,l(m,d,_,S);case jr:return d=d.get(_.key===null?b:_.key)||null,u(m,d,_,S);case zn:var D=_._init;return h(d,m,b,D(_._payload),S)}if(zs(_)||fs(_))return d=d.get(b)||null,f(m,d,_,S,null);Li(m,_)}return null}function v(d,m,b,_){for(var S=null,D=null,E=m,A=m=0,T=null;E!==null&&A<b.length;A++){E.index>A?(T=E,E=null):T=E.sibling;var H=y(d,E,b[A],_);if(H===null){E===null&&(E=T);break}e&&E&&H.alternate===null&&t(d,E),m=i(H,m,A),D===null?S=H:D.sibling=H,D=H,E=T}if(A===b.length)return n(d,E),$e&&Qn(d,A),S;if(E===null){for(;A<b.length;A++)E=g(d,b[A],_),E!==null&&(m=i(E,m,A),D===null?S=E:D.sibling=E,D=E);return $e&&Qn(d,A),S}for(E=r(d,E);A<b.length;A++)T=h(E,d,A,b[A],_),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?A:T.key),m=i(T,m,A),D===null?S=T:D.sibling=T,D=T);return e&&E.forEach(function(q){return t(d,q)}),$e&&Qn(d,A),S}function x(d,m,b,_){var S=fs(b);if(typeof S!="function")throw Error(ye(150));if(b=S.call(b),b==null)throw Error(ye(151));for(var D=S=null,E=m,A=m=0,T=null,H=b.next();E!==null&&!H.done;A++,H=b.next()){E.index>A?(T=E,E=null):T=E.sibling;var q=y(d,E,H.value,_);if(q===null){E===null&&(E=T);break}e&&E&&q.alternate===null&&t(d,E),m=i(q,m,A),D===null?S=q:D.sibling=q,D=q,E=T}if(H.done)return n(d,E),$e&&Qn(d,A),S;if(E===null){for(;!H.done;A++,H=b.next())H=g(d,H.value,_),H!==null&&(m=i(H,m,A),D===null?S=H:D.sibling=H,D=H);return $e&&Qn(d,A),S}for(E=r(d,E);!H.done;A++,H=b.next())H=h(E,d,A,H.value,_),H!==null&&(e&&H.alternate!==null&&E.delete(H.key===null?A:H.key),m=i(H,m,A),D===null?S=H:D.sibling=H,D=H);return e&&E.forEach(function(C){return t(d,C)}),$e&&Qn(d,A),S}function w(d,m,b,_){if(typeof b=="object"&&b!==null&&b.type===Dr&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case zi:e:{for(var S=b.key,D=m;D!==null;){if(D.key===S){if(S=b.type,S===Dr){if(D.tag===7){n(d,D.sibling),m=s(D,b.props.children),m.return=d,d=m;break e}}else if(D.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===zn&&zd(S)===D.type){n(d,D.sibling),m=s(D,b.props),m.ref=xs(d,D,b),m.return=d,d=m;break e}n(d,D);break}else t(d,D);D=D.sibling}b.type===Dr?(m=cr(b.props.children,d.mode,_,b.key),m.return=d,d=m):(_=co(b.type,b.key,b.props,null,d.mode,_),_.ref=xs(d,m,b),_.return=d,d=_)}return o(d);case jr:e:{for(D=b.key;m!==null;){if(m.key===D)if(m.tag===4&&m.stateNode.containerInfo===b.containerInfo&&m.stateNode.implementation===b.implementation){n(d,m.sibling),m=s(m,b.children||[]),m.return=d,d=m;break e}else{n(d,m);break}else t(d,m);m=m.sibling}m=qa(b,d.mode,_),m.return=d,d=m}return o(d);case zn:return D=b._init,w(d,m,D(b._payload),_)}if(zs(b))return v(d,m,b,_);if(fs(b))return x(d,m,b,_);Li(d,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,m!==null&&m.tag===6?(n(d,m.sibling),m=s(m,b),m.return=d,d=m):(n(d,m),m=Xa(b,d.mode,_),m.return=d,d=m),o(d)):n(d,m)}return w}var es=up(!0),dp=up(!1),Co=Yn(null),jo=null,Or=null,Gc=null;function Kc(){Gc=Or=jo=null}function Yc(e){var t=Co.current;Le(Co),e._currentValue=t}function Bl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zr(e,t){jo=e,Gc=Or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(Gc!==e)if(e={context:e,memoizedValue:t,next:null},Or===null){if(jo===null)throw Error(ye(308));Or=e,jo.dependencies={lanes:0,firstContext:e}}else Or=Or.next=e;return t}var sr=null;function Xc(e){sr===null?sr=[e]:sr.push(e)}function fp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Xc(t)):(n.next=s.next,s.next=n),t.interleaved=n,yn(e,r)}function yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var En=!1;function qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,yn(e,n)}return s=r.interleaved,s===null?(t.next=t,Xc(r)):(t.next=s.next,s.next=t),r.interleaved=t,yn(e,n)}function ro(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pc(e,n)}}function Ed(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Do(e,t,n,r){var s=e.updateQueue;En=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(i!==null){var g=s.baseState;o=0,f=u=l=null,a=i;do{var y=a.lane,h=a.eventTime;if((r&y)===y){f!==null&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,x=a;switch(y=t,h=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){g=v.call(h,g,y);break e}g=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,y=typeof v=="function"?v.call(h,g,y):v,y==null)break e;g=He({},g,y);break e;case 2:En=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[a]:y.push(a))}else h={eventTime:h,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=h,l=g):f=f.next=h,o|=y;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;y=a,a=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(f===null&&(l=g),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);mr|=o,e.lanes=o,e.memoizedState=g}}function Cd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ye(191,s));s.call(r)}}}var wi={},nn=Yn(wi),Qs=Yn(wi),Js=Yn(wi);function ir(e){if(e===wi)throw Error(ye(174));return e}function Qc(e,t){switch(Me(Js,t),Me(Qs,e),Me(nn,wi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bl(t,e)}Le(nn),Me(nn,t)}function ts(){Le(nn),Le(Qs),Le(Js)}function pp(e){ir(Js.current);var t=ir(nn.current),n=bl(t,e.type);t!==n&&(Me(Qs,e),Me(nn,n))}function Jc(e){Qs.current===e&&(Le(nn),Le(Qs))}var Fe=Yn(0);function To(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=[];function eu(){for(var e=0;e<Va.length;e++)Va[e]._workInProgressVersionPrimary=null;Va.length=0}var so=_n.ReactCurrentDispatcher,Wa=_n.ReactCurrentBatchConfig,pr=0,Be=null,Xe=null,et=null,Io=!1,Ls=!1,ei=0,xy=0;function at(){throw Error(ye(321))}function tu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function nu(e,t,n,r,s,i){if(pr=i,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=e===null||e.memoizedState===null?by:ky,e=n(r,s),Ls){i=0;do{if(Ls=!1,ei=0,25<=i)throw Error(ye(301));i+=1,et=Xe=null,t.updateQueue=null,so.current=_y,e=n(r,s)}while(Ls)}if(so.current=Ao,t=Xe!==null&&Xe.next!==null,pr=0,et=Xe=Be=null,Io=!1,t)throw Error(ye(300));return e}function ru(){var e=ei!==0;return ei=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Be.memoizedState=et=e:et=et.next=e,et}function $t(){if(Xe===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=et===null?Be.memoizedState:et.next;if(t!==null)et=t,Xe=e;else{if(e===null)throw Error(ye(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},et===null?Be.memoizedState=et=e:et=et.next=e}return et}function ti(e,t){return typeof t=="function"?t(e):t}function Za(e){var t=$t(),n=t.queue;if(n===null)throw Error(ye(311));n.lastRenderedReducer=e;var r=Xe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var f=u.lane;if((pr&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var g={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=g,o=r):l=l.next=g,Be.lanes|=f,mr|=f}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Xt(r,t.memoizedState)||(yt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Be.lanes|=i,mr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ga(e){var t=$t(),n=t.queue;if(n===null)throw Error(ye(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Xt(i,t.memoizedState)||(yt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function mp(){}function gp(e,t){var n=Be,r=$t(),s=t(),i=!Xt(r.memoizedState,s);if(i&&(r.memoizedState=s,yt=!0),r=r.queue,su(vp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,ni(9,yp.bind(null,n,r,s,t),void 0,null),tt===null)throw Error(ye(349));pr&30||xp(n,t,s)}return s}function xp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yp(e,t,n,r){t.value=n,t.getSnapshot=r,wp(t)&&bp(e)}function vp(e,t,n){return n(function(){wp(t)&&bp(e)})}function wp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xt(e,n)}catch{return!0}}function bp(e){var t=yn(e,1);t!==null&&Yt(t,e,1,-1)}function jd(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:e},t.queue=e,e=e.dispatch=wy.bind(null,Be,e),[t.memoizedState,e]}function ni(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function kp(){return $t().memoizedState}function io(e,t,n,r){var s=Jt();Be.flags|=e,s.memoizedState=ni(1|t,n,void 0,r===void 0?null:r)}function na(e,t,n,r){var s=$t();r=r===void 0?null:r;var i=void 0;if(Xe!==null){var o=Xe.memoizedState;if(i=o.destroy,r!==null&&tu(r,o.deps)){s.memoizedState=ni(t,n,i,r);return}}Be.flags|=e,s.memoizedState=ni(1|t,n,i,r)}function Dd(e,t){return io(8390656,8,e,t)}function su(e,t){return na(2048,8,e,t)}function _p(e,t){return na(4,2,e,t)}function Sp(e,t){return na(4,4,e,t)}function Np(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zp(e,t,n){return n=n!=null?n.concat([e]):null,na(4,4,Np.bind(null,t,e),n)}function iu(){}function Ep(e,t){var n=$t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cp(e,t){var n=$t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jp(e,t,n){return pr&21?(Xt(n,t)||(n=Mh(),Be.lanes|=n,mr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=n)}function yy(e,t){var n=Te;Te=n!==0&&4>n?n:4,e(!0);var r=Wa.transition;Wa.transition={};try{e(!1),t()}finally{Te=n,Wa.transition=r}}function Dp(){return $t().memoizedState}function vy(e,t,n){var r=Bn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Tp(e))Ip(t,n);else if(n=fp(e,t,n,r),n!==null){var s=ht();Yt(n,e,r,s),Ap(n,t,r)}}function wy(e,t,n){var r=Bn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tp(e))Ip(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Xt(a,o)){var l=t.interleaved;l===null?(s.next=s,Xc(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=fp(e,t,s,r),n!==null&&(s=ht(),Yt(n,e,r,s),Ap(n,t,r))}}function Tp(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function Ip(e,t){Ls=Io=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ap(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pc(e,n)}}var Ao={readContext:Ot,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},by={readContext:Ot,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:Dd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,io(4194308,4,Np.bind(null,t,e),n)},useLayoutEffect:function(e,t){return io(4194308,4,e,t)},useInsertionEffect:function(e,t){return io(4,2,e,t)},useMemo:function(e,t){var n=Jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vy.bind(null,Be,e),[r.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:jd,useDebugValue:iu,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=jd(!1),t=e[0];return e=yy.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Be,s=Jt();if($e){if(n===void 0)throw Error(ye(407));n=n()}else{if(n=t(),tt===null)throw Error(ye(349));pr&30||xp(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Dd(vp.bind(null,r,i,e),[e]),r.flags|=2048,ni(9,yp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Jt(),t=tt.identifierPrefix;if($e){var n=dn,r=un;n=(r&~(1<<32-Kt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ei++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ky={readContext:Ot,useCallback:Ep,useContext:Ot,useEffect:su,useImperativeHandle:zp,useInsertionEffect:_p,useLayoutEffect:Sp,useMemo:Cp,useReducer:Za,useRef:kp,useState:function(){return Za(ti)},useDebugValue:iu,useDeferredValue:function(e){var t=$t();return jp(t,Xe.memoizedState,e)},useTransition:function(){var e=Za(ti)[0],t=$t().memoizedState;return[e,t]},useMutableSource:mp,useSyncExternalStore:gp,useId:Dp,unstable_isNewReconciler:!1},_y={readContext:Ot,useCallback:Ep,useContext:Ot,useEffect:su,useImperativeHandle:zp,useInsertionEffect:_p,useLayoutEffect:Sp,useMemo:Cp,useReducer:Ga,useRef:kp,useState:function(){return Ga(ti)},useDebugValue:iu,useDeferredValue:function(e){var t=$t();return Xe===null?t.memoizedState=e:jp(t,Xe.memoizedState,e)},useTransition:function(){var e=Ga(ti)[0],t=$t().memoizedState;return[e,t]},useMutableSource:mp,useSyncExternalStore:gp,useId:Dp,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ra={isMounted:function(e){return(e=e._reactInternals)?vr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ht(),s=Bn(e),i=hn(r,s);i.payload=t,n!=null&&(i.callback=n),t=$n(e,i,s),t!==null&&(Yt(t,e,s,r),ro(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ht(),s=Bn(e),i=hn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=$n(e,i,s),t!==null&&(Yt(t,e,s,r),ro(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ht(),r=Bn(e),s=hn(n,r);s.tag=2,t!=null&&(s.callback=t),t=$n(e,s,r),t!==null&&(Yt(t,e,r,n),ro(t,e,r))}};function Td(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ks(n,r)||!Ks(s,i):!0}function Mp(e,t,n){var r=!1,s=Wn,i=t.contextType;return typeof i=="object"&&i!==null?i=Ot(i):(s=bt(t)?fr:ut.current,r=t.contextTypes,i=(r=r!=null)?Qr(e,s):Wn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ra,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Id(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ra.enqueueReplaceState(t,t.state,null)}function Ul(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},qc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ot(i):(i=bt(t)?fr:ut.current,s.context=Qr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Hl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ra.enqueueReplaceState(s,s.state,null),Do(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ns(e,t){try{var n="",r=t;do n+=qg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ka(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Sy=typeof WeakMap=="function"?WeakMap:Map;function Rp(e,t,n){n=hn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ro||(Ro=!0,ec=r),Vl(e,t)},n}function Pp(e,t,n){n=hn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Vl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Vl(e,t),typeof r!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ad(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sy;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Oy.bind(null,e,t,n),t.then(e,e))}function Md(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hn(-1,1),t.tag=2,$n(n,t,1))),n.lanes|=1),e)}var Ny=_n.ReactCurrentOwner,yt=!1;function ft(e,t,n,r){t.child=e===null?dp(t,null,n,r):es(t,e.child,n,r)}function Pd(e,t,n,r,s){n=n.render;var i=t.ref;return Zr(t,s),r=nu(e,t,n,r,i,s),n=ru(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):($e&&n&&Vc(t),t.flags|=1,ft(e,t,r,s),t.child)}function Ld(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!hu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Lp(e,t,i,r,s)):(e=co(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ks,n(o,r)&&e.ref===t.ref)return vn(e,t,s)}return t.flags|=1,e=Hn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Lp(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ks(i,r)&&e.ref===t.ref)if(yt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,vn(e,t,s)}return Wl(e,t,n,r,s)}function Op(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Fr,_t),_t|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(Fr,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Me(Fr,_t),_t|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Me(Fr,_t),_t|=r;return ft(e,t,s,n),t.child}function $p(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wl(e,t,n,r,s){var i=bt(n)?fr:ut.current;return i=Qr(t,i),Zr(t,s),n=nu(e,t,n,r,i,s),r=ru(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):($e&&r&&Vc(t),t.flags|=1,ft(e,t,n,s),t.child)}function Od(e,t,n,r,s){if(bt(n)){var i=!0;No(t)}else i=!1;if(Zr(t,s),t.stateNode===null)oo(e,t),Mp(t,n,r),Ul(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ot(u):(u=bt(n)?fr:ut.current,u=Qr(t,u));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Id(t,o,r,u),En=!1;var y=t.memoizedState;o.state=y,Do(t,r,o,s),l=t.memoizedState,a!==r||y!==l||wt.current||En?(typeof f=="function"&&(Hl(t,n,f,r),l=t.memoizedState),(a=En||Td(t,n,a,r,y,l,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,hp(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Ut(t.type,a),o.props=u,g=t.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ot(l):(l=bt(n)?fr:ut.current,l=Qr(t,l));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||y!==l)&&Id(t,o,r,l),En=!1,y=t.memoizedState,o.state=y,Do(t,r,o,s);var v=t.memoizedState;a!==g||y!==v||wt.current||En?(typeof h=="function"&&(Hl(t,n,h,r),v=t.memoizedState),(u=En||Td(t,n,u,r,y,v,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return Zl(e,t,n,r,i,s)}function Zl(e,t,n,r,s,i){$p(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&_d(t,n,!1),vn(e,t,i);r=t.stateNode,Ny.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=es(t,e.child,null,i),t.child=es(t,null,a,i)):ft(e,t,a,i),t.memoizedState=r.state,s&&_d(t,n,!0),t.child}function Fp(e){var t=e.stateNode;t.pendingContext?kd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kd(e,t.context,!1),Qc(e,t.containerInfo)}function $d(e,t,n,r,s){return Jr(),Zc(s),t.flags|=256,ft(e,t,n,r),t.child}var Gl={dehydrated:null,treeContext:null,retryLane:0};function Kl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bp(e,t,n){var r=t.pendingProps,s=Fe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Me(Fe,s&1),e===null)return Fl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=oa(o,r,0,null),e=cr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Kl(n),t.memoizedState=Gl,e):ou(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return zy(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Hn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Hn(a,i):(i=cr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Kl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Gl,r}return i=e.child,e=i.sibling,r=Hn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ou(e,t){return t=oa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oi(e,t,n,r){return r!==null&&Zc(r),es(t,e.child,null,n),e=ou(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zy(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ka(Error(ye(422))),Oi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=oa({mode:"visible",children:r.children},s,0,null),i=cr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&es(t,e.child,null,o),t.child.memoizedState=Kl(o),t.memoizedState=Gl,i);if(!(t.mode&1))return Oi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ye(419)),r=Ka(i,r,void 0),Oi(e,t,o,r)}if(a=(o&e.childLanes)!==0,yt||a){if(r=tt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yn(e,s),Yt(r,e,s,-1))}return fu(),r=Ka(Error(ye(421))),Oi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=$y.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,St=On(s.nextSibling),Nt=t,$e=!0,Zt=null,e!==null&&(Tt[It++]=un,Tt[It++]=dn,Tt[It++]=hr,un=e.id,dn=e.overflow,hr=t),t=ou(t,r.children),t.flags|=4096,t)}function Fd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bl(e.return,t,n)}function Ya(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Hp(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ft(e,t,r.children,n),r=Fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fd(e,n,t);else if(e.tag===19)Fd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Me(Fe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&To(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ya(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&To(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ya(t,!0,n,null,i);break;case"together":Ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ye(153));if(t.child!==null){for(e=t.child,n=Hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ey(e,t,n){switch(t.tag){case 3:Fp(t),Jr();break;case 5:pp(t);break;case 1:bt(t.type)&&No(t);break;case 4:Qc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Me(Co,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Me(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?Bp(e,t,n):(Me(Fe,Fe.current&1),e=vn(e,t,n),e!==null?e.sibling:null);Me(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Me(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,Op(e,t,n)}return vn(e,t,n)}var Up,Yl,Vp,Wp;Up=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yl=function(){};Vp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ir(nn.current);var i=null;switch(n){case"input":s=xl(e,s),r=xl(e,r),i=[];break;case"select":s=He({},s,{value:void 0}),r=He({},r,{value:void 0}),i=[];break;case"textarea":s=wl(e,s),r=wl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_o)}kl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Pe("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Wp=function(e,t,n,r){n!==r&&(t.flags|=4)};function ys(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Cy(e,t,n){var r=t.pendingProps;switch(Wc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return bt(t.type)&&So(),lt(t),null;case 3:return r=t.stateNode,ts(),Le(wt),Le(ut),eu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zt!==null&&(rc(Zt),Zt=null))),Yl(e,t),lt(t),null;case 5:Jc(t);var s=ir(Js.current);if(n=t.type,e!==null&&t.stateNode!=null)Vp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ye(166));return lt(t),null}if(e=ir(nn.current),Pi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[en]=t,r[qs]=i,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<Cs.length;s++)Pe(Cs[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Yu(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":qu(r,i),Pe("invalid",r)}kl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ri(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ri(r.textContent,a,e),s=["children",""+a]):Bs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":Ei(r),Xu(r,i,!0);break;case"textarea":Ei(r),Qu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_o)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[en]=t,e[qs]=r,Up(e,t,!1,!1),t.stateNode=e;e:{switch(o=_l(n,r),n){case"dialog":Pe("cancel",e),Pe("close",e),s=r;break;case"iframe":case"object":case"embed":Pe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Cs.length;s++)Pe(Cs[s],e);s=r;break;case"source":Pe("error",e),s=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),s=r;break;case"details":Pe("toggle",e),s=r;break;case"input":Yu(e,r),s=xl(e,r),Pe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=He({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":qu(e,r),s=wl(e,r),Pe("invalid",e);break;default:s=r}kl(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?kh(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wh(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Hs(e,l):typeof l=="number"&&Hs(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Pe("scroll",e):l!=null&&Dc(e,i,l,o))}switch(n){case"input":Ei(e),Xu(e,r,!1);break;case"textarea":Ei(e),Qu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Hr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Hr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=_o)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)Wp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ye(166));if(n=ir(Js.current),ir(nn.current),Pi(t)){if(r=t.stateNode,n=t.memoizedProps,r[en]=t,(i=r.nodeValue!==n)&&(e=Nt,e!==null))switch(e.tag){case 3:Ri(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ri(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=t,t.stateNode=r}return lt(t),null;case 13:if(Le(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&St!==null&&t.mode&1&&!(t.flags&128))cp(),Jr(),t.flags|=98560,i=!1;else if(i=Pi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ye(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ye(317));i[en]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),i=!1}else Zt!==null&&(rc(Zt),Zt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?qe===0&&(qe=3):fu())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return ts(),Yl(e,t),e===null&&Ys(t.stateNode.containerInfo),lt(t),null;case 10:return Yc(t.type._context),lt(t),null;case 17:return bt(t.type)&&So(),lt(t),null;case 19:if(Le(Fe),i=t.memoizedState,i===null)return lt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ys(i,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=To(e),o!==null){for(t.flags|=128,ys(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Me(Fe,Fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ge()>rs&&(t.flags|=128,r=!0,ys(i,!1),t.lanes=4194304)}else{if(!r)if(e=To(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ys(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!$e)return lt(t),null}else 2*Ge()-i.renderingStartTime>rs&&n!==1073741824&&(t.flags|=128,r=!0,ys(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,n=Fe.current,Me(Fe,r?n&1|2:n&1),t):(lt(t),null);case 22:case 23:return du(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_t&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(ye(156,t.tag))}function jy(e,t){switch(Wc(t),t.tag){case 1:return bt(t.type)&&So(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ts(),Le(wt),Le(ut),eu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jc(t),null;case 13:if(Le(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ye(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(Fe),null;case 4:return ts(),null;case 10:return Yc(t.type._context),null;case 22:case 23:return du(),null;case 24:return null;default:return null}}var $i=!1,ct=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,Se=null;function $r(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(e,t,r)}else n.current=null}function Xl(e,t,n){try{n()}catch(r){Ue(e,t,r)}}var Bd=!1;function Ty(e,t){if(Al=wo,e=Xh(),Uc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,g=e,y=null;t:for(;;){for(var h;g!==n||s!==0&&g.nodeType!==3||(a=o+s),g!==i||r!==0&&g.nodeType!==3||(l=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(h=g.firstChild)!==null;)y=g,g=h;for(;;){if(g===e)break t;if(y===n&&++u===s&&(a=o),y===i&&++f===r&&(l=o),(h=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ml={focusedElem:e,selectionRange:n},wo=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,w=v.memoizedState,d=t.stateNode,m=d.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ut(t.type,x),w);d.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(_){Ue(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return v=Bd,Bd=!1,v}function Os(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xl(t,n,i)}s=s.next}while(s!==r)}}function sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ql(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zp(e){var t=e.alternate;t!==null&&(e.alternate=null,Zp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[qs],delete t[Ll],delete t[hy],delete t[py])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gp(e){return e.tag===5||e.tag===3||e.tag===4}function Hd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ql(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_o));else if(r!==4&&(e=e.child,e!==null))for(Ql(e,t,n),e=e.sibling;e!==null;)Ql(e,t,n),e=e.sibling}function Jl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Jl(e,t,n),e=e.sibling;e!==null;)Jl(e,t,n),e=e.sibling}var rt=null,Vt=!1;function Sn(e,t,n){for(n=n.child;n!==null;)Kp(e,t,n),n=n.sibling}function Kp(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Xo,n)}catch{}switch(n.tag){case 5:ct||$r(n,t);case 6:var r=rt,s=Vt;rt=null,Sn(e,t,n),rt=r,Vt=s,rt!==null&&(Vt?(e=rt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(Vt?(e=rt,n=n.stateNode,e.nodeType===8?Ha(e.parentNode,n):e.nodeType===1&&Ha(e,n),Zs(e)):Ha(rt,n.stateNode));break;case 4:r=rt,s=Vt,rt=n.stateNode.containerInfo,Vt=!0,Sn(e,t,n),rt=r,Vt=s;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xl(n,t,o),s=s.next}while(s!==r)}Sn(e,t,n);break;case 1:if(!ct&&($r(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,t,a)}Sn(e,t,n);break;case 21:Sn(e,t,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,Sn(e,t,n),ct=r):Sn(e,t,n);break;default:Sn(e,t,n)}}function Ud(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dy),t.forEach(function(r){var s=Fy.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:rt=a.stateNode,Vt=!1;break e;case 3:rt=a.stateNode.containerInfo,Vt=!0;break e;case 4:rt=a.stateNode.containerInfo,Vt=!0;break e}a=a.return}if(rt===null)throw Error(ye(160));Kp(i,o,s),rt=null,Vt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yp(t,e),t=t.sibling}function Yp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),Qt(e),r&4){try{Os(3,e,e.return),sa(3,e)}catch(x){Ue(e,e.return,x)}try{Os(5,e,e.return)}catch(x){Ue(e,e.return,x)}}break;case 1:Ht(t,e),Qt(e),r&512&&n!==null&&$r(n,n.return);break;case 5:if(Ht(t,e),Qt(e),r&512&&n!==null&&$r(n,n.return),e.flags&32){var s=e.stateNode;try{Hs(s,"")}catch(x){Ue(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&xh(s,i),_l(a,o);var u=_l(a,i);for(o=0;o<l.length;o+=2){var f=l[o],g=l[o+1];f==="style"?kh(s,g):f==="dangerouslySetInnerHTML"?wh(s,g):f==="children"?Hs(s,g):Dc(s,f,g,u)}switch(a){case"input":yl(s,i);break;case"textarea":yh(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Hr(s,!!i.multiple,h,!1):y!==!!i.multiple&&(i.defaultValue!=null?Hr(s,!!i.multiple,i.defaultValue,!0):Hr(s,!!i.multiple,i.multiple?[]:"",!1))}s[qs]=i}catch(x){Ue(e,e.return,x)}}break;case 6:if(Ht(t,e),Qt(e),r&4){if(e.stateNode===null)throw Error(ye(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Ue(e,e.return,x)}}break;case 3:if(Ht(t,e),Qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zs(t.containerInfo)}catch(x){Ue(e,e.return,x)}break;case 4:Ht(t,e),Qt(e);break;case 13:Ht(t,e),Qt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(cu=Ge())),r&4&&Ud(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ct=(u=ct)||f,Ht(t,e),ct=u):Ht(t,e),Qt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Se=e,f=e.child;f!==null;){for(g=Se=f;Se!==null;){switch(y=Se,h=y.child,y.tag){case 0:case 11:case 14:case 15:Os(4,y,y.return);break;case 1:$r(y,y.return);var v=y.stateNode;if(typeof v.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){Ue(r,n,x)}}break;case 5:$r(y,y.return);break;case 22:if(y.memoizedState!==null){Wd(g);continue}}h!==null?(h.return=y,Se=h):Wd(g)}f=f.sibling}e:for(f=null,g=e;;){if(g.tag===5){if(f===null){f=g;try{s=g.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=g.stateNode,l=g.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=bh("display",o))}catch(x){Ue(e,e.return,x)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(x){Ue(e,e.return,x)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ht(t,e),Qt(e),r&4&&Ud(e);break;case 21:break;default:Ht(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gp(n)){var r=n;break e}n=n.return}throw Error(ye(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Hs(s,""),r.flags&=-33);var i=Hd(e);Jl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Hd(e);Ql(e,a,o);break;default:throw Error(ye(161))}}catch(l){Ue(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Iy(e,t,n){Se=e,Xp(e)}function Xp(e,t,n){for(var r=(e.mode&1)!==0;Se!==null;){var s=Se,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$i;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ct;a=$i;var u=ct;if($i=o,(ct=l)&&!u)for(Se=s;Se!==null;)o=Se,l=o.child,o.tag===22&&o.memoizedState!==null?Zd(s):l!==null?(l.return=o,Se=l):Zd(s);for(;i!==null;)Se=i,Xp(i),i=i.sibling;Se=s,$i=a,ct=u}Vd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Se=i):Vd(e)}}function Vd(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ct||sa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ct)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ut(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Cd(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cd(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&Zs(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}ct||t.flags&512&&ql(t)}catch(y){Ue(t,t.return,y)}}if(t===e){Se=null;break}if(n=t.sibling,n!==null){n.return=t.return,Se=n;break}Se=t.return}}function Wd(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Se=n;break}Se=t.return}}function Zd(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sa(4,t)}catch(l){Ue(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Ue(t,s,l)}}var i=t.return;try{ql(t)}catch(l){Ue(t,i,l)}break;case 5:var o=t.return;try{ql(t)}catch(l){Ue(t,o,l)}}}catch(l){Ue(t,t.return,l)}if(t===e){Se=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Se=a;break}Se=t.return}}var Ay=Math.ceil,Mo=_n.ReactCurrentDispatcher,au=_n.ReactCurrentOwner,Pt=_n.ReactCurrentBatchConfig,De=0,tt=null,Ke=null,st=0,_t=0,Fr=Yn(0),qe=0,ri=null,mr=0,ia=0,lu=0,$s=null,xt=null,cu=0,rs=1/0,ln=null,Ro=!1,ec=null,Fn=null,Fi=!1,Mn=null,Po=0,Fs=0,tc=null,ao=-1,lo=0;function ht(){return De&6?Ge():ao!==-1?ao:ao=Ge()}function Bn(e){return e.mode&1?De&2&&st!==0?st&-st:gy.transition!==null?(lo===0&&(lo=Mh()),lo):(e=Te,e!==0||(e=window.event,e=e===void 0?16:Bh(e.type)),e):1}function Yt(e,t,n,r){if(50<Fs)throw Fs=0,tc=null,Error(ye(185));xi(e,n,r),(!(De&2)||e!==tt)&&(e===tt&&(!(De&2)&&(ia|=n),qe===4&&Tn(e,st)),kt(e,r),n===1&&De===0&&!(t.mode&1)&&(rs=Ge()+500,ta&&Xn()))}function kt(e,t){var n=e.callbackNode;gx(e,t);var r=vo(e,e===tt?st:0);if(r===0)n!==null&&td(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&td(n),t===1)e.tag===0?my(Gd.bind(null,e)):op(Gd.bind(null,e)),dy(function(){!(De&6)&&Xn()}),n=null;else{switch(Rh(r)){case 1:n=Rc;break;case 4:n=Ih;break;case 16:n=yo;break;case 536870912:n=Ah;break;default:n=yo}n=s0(n,qp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qp(e,t){if(ao=-1,lo=0,De&6)throw Error(ye(327));var n=e.callbackNode;if(Gr()&&e.callbackNode!==n)return null;var r=vo(e,e===tt?st:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lo(e,r);else{t=r;var s=De;De|=2;var i=Jp();(tt!==e||st!==t)&&(ln=null,rs=Ge()+500,lr(e,t));do try{Py();break}catch(a){Qp(e,a)}while(!0);Kc(),Mo.current=i,De=s,Ke!==null?t=0:(tt=null,st=0,t=qe)}if(t!==0){if(t===2&&(s=Cl(e),s!==0&&(r=s,t=nc(e,s))),t===1)throw n=ri,lr(e,0),Tn(e,r),kt(e,Ge()),n;if(t===6)Tn(e,r);else{if(s=e.current.alternate,!(r&30)&&!My(s)&&(t=Lo(e,r),t===2&&(i=Cl(e),i!==0&&(r=i,t=nc(e,i))),t===1))throw n=ri,lr(e,0),Tn(e,r),kt(e,Ge()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ye(345));case 2:Jn(e,xt,ln);break;case 3:if(Tn(e,r),(r&130023424)===r&&(t=cu+500-Ge(),10<t)){if(vo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ht(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pl(Jn.bind(null,e,xt,ln),t);break}Jn(e,xt,ln);break;case 4:if(Tn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Kt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ay(r/1960))-r,10<r){e.timeoutHandle=Pl(Jn.bind(null,e,xt,ln),r);break}Jn(e,xt,ln);break;case 5:Jn(e,xt,ln);break;default:throw Error(ye(329))}}}return kt(e,Ge()),e.callbackNode===n?qp.bind(null,e):null}function nc(e,t){var n=$s;return e.current.memoizedState.isDehydrated&&(lr(e,t).flags|=256),e=Lo(e,t),e!==2&&(t=xt,xt=n,t!==null&&rc(t)),e}function rc(e){xt===null?xt=e:xt.push.apply(xt,e)}function My(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Xt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t){for(t&=~lu,t&=~ia,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function Gd(e){if(De&6)throw Error(ye(327));Gr();var t=vo(e,0);if(!(t&1))return kt(e,Ge()),null;var n=Lo(e,t);if(e.tag!==0&&n===2){var r=Cl(e);r!==0&&(t=r,n=nc(e,r))}if(n===1)throw n=ri,lr(e,0),Tn(e,t),kt(e,Ge()),n;if(n===6)throw Error(ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jn(e,xt,ln),kt(e,Ge()),null}function uu(e,t){var n=De;De|=1;try{return e(t)}finally{De=n,De===0&&(rs=Ge()+500,ta&&Xn())}}function gr(e){Mn!==null&&Mn.tag===0&&!(De&6)&&Gr();var t=De;De|=1;var n=Pt.transition,r=Te;try{if(Pt.transition=null,Te=1,e)return e()}finally{Te=r,Pt.transition=n,De=t,!(De&6)&&Xn()}}function du(){_t=Fr.current,Le(Fr)}function lr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uy(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(Wc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&So();break;case 3:ts(),Le(wt),Le(ut),eu();break;case 5:Jc(r);break;case 4:ts();break;case 13:Le(Fe);break;case 19:Le(Fe);break;case 10:Yc(r.type._context);break;case 22:case 23:du()}n=n.return}if(tt=e,Ke=e=Hn(e.current,null),st=_t=t,qe=0,ri=null,lu=ia=mr=0,xt=$s=null,sr!==null){for(t=0;t<sr.length;t++)if(n=sr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}sr=null}return e}function Qp(e,t){do{var n=Ke;try{if(Kc(),so.current=Ao,Io){for(var r=Be.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Io=!1}if(pr=0,et=Xe=Be=null,Ls=!1,ei=0,au.current=null,n===null||n.return===null){qe=1,ri=t,Ke=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=st,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=Md(o);if(h!==null){h.flags&=-257,Rd(h,o,a,i,t),h.mode&1&&Ad(i,u,t),t=h,l=u;var v=t.updateQueue;if(v===null){var x=new Set;x.add(l),t.updateQueue=x}else v.add(l);break e}else{if(!(t&1)){Ad(i,u,t),fu();break e}l=Error(ye(426))}}else if($e&&a.mode&1){var w=Md(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Rd(w,o,a,i,t),Zc(ns(l,a));break e}}i=l=ns(l,a),qe!==4&&(qe=2),$s===null?$s=[i]:$s.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var d=Rp(i,l,t);Ed(i,d);break e;case 1:a=l;var m=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Fn===null||!Fn.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Pp(i,a,t);Ed(i,_);break e}}i=i.return}while(i!==null)}t0(n)}catch(S){t=S,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function Jp(){var e=Mo.current;return Mo.current=Ao,e===null?Ao:e}function fu(){(qe===0||qe===3||qe===2)&&(qe=4),tt===null||!(mr&268435455)&&!(ia&268435455)||Tn(tt,st)}function Lo(e,t){var n=De;De|=2;var r=Jp();(tt!==e||st!==t)&&(ln=null,lr(e,t));do try{Ry();break}catch(s){Qp(e,s)}while(!0);if(Kc(),De=n,Mo.current=r,Ke!==null)throw Error(ye(261));return tt=null,st=0,qe}function Ry(){for(;Ke!==null;)e0(Ke)}function Py(){for(;Ke!==null&&!ax();)e0(Ke)}function e0(e){var t=r0(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?t0(e):Ke=t,au.current=null}function t0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=jy(n,t),n!==null){n.flags&=32767,Ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Ke=null;return}}else if(n=Cy(n,t,_t),n!==null){Ke=n;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);qe===0&&(qe=5)}function Jn(e,t,n){var r=Te,s=Pt.transition;try{Pt.transition=null,Te=1,Ly(e,t,n,r)}finally{Pt.transition=s,Te=r}return null}function Ly(e,t,n,r){do Gr();while(Mn!==null);if(De&6)throw Error(ye(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ye(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(xx(e,i),e===tt&&(Ke=tt=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fi||(Fi=!0,s0(yo,function(){return Gr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Pt.transition,Pt.transition=null;var o=Te;Te=1;var a=De;De|=4,au.current=null,Ty(e,n),Yp(n,e),ry(Ml),wo=!!Al,Ml=Al=null,e.current=n,Iy(n),lx(),De=a,Te=o,Pt.transition=i}else e.current=n;if(Fi&&(Fi=!1,Mn=e,Po=s),i=e.pendingLanes,i===0&&(Fn=null),dx(n.stateNode),kt(e,Ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ro)throw Ro=!1,e=ec,ec=null,e;return Po&1&&e.tag!==0&&Gr(),i=e.pendingLanes,i&1?e===tc?Fs++:(Fs=0,tc=e):Fs=0,Xn(),null}function Gr(){if(Mn!==null){var e=Rh(Po),t=Pt.transition,n=Te;try{if(Pt.transition=null,Te=16>e?16:e,Mn===null)var r=!1;else{if(e=Mn,Mn=null,Po=0,De&6)throw Error(ye(331));var s=De;for(De|=4,Se=e.current;Se!==null;){var i=Se,o=i.child;if(Se.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Se=u;Se!==null;){var f=Se;switch(f.tag){case 0:case 11:case 15:Os(8,f,i)}var g=f.child;if(g!==null)g.return=f,Se=g;else for(;Se!==null;){f=Se;var y=f.sibling,h=f.return;if(Zp(f),f===u){Se=null;break}if(y!==null){y.return=h,Se=y;break}Se=h}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}Se=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Se=o;else e:for(;Se!==null;){if(i=Se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Os(9,i,i.return)}var d=i.sibling;if(d!==null){d.return=i.return,Se=d;break e}Se=i.return}}var m=e.current;for(Se=m;Se!==null;){o=Se;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Se=b;else e:for(o=m;Se!==null;){if(a=Se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sa(9,a)}}catch(S){Ue(a,a.return,S)}if(a===o){Se=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Se=_;break e}Se=a.return}}if(De=s,Xn(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Xo,e)}catch{}r=!0}return r}finally{Te=n,Pt.transition=t}}return!1}function Kd(e,t,n){t=ns(n,t),t=Rp(e,t,1),e=$n(e,t,1),t=ht(),e!==null&&(xi(e,1,t),kt(e,t))}function Ue(e,t,n){if(e.tag===3)Kd(e,e,n);else for(;t!==null;){if(t.tag===3){Kd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fn===null||!Fn.has(r))){e=ns(n,e),e=Pp(t,e,1),t=$n(t,e,1),e=ht(),t!==null&&(xi(t,1,e),kt(t,e));break}}t=t.return}}function Oy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&n,tt===e&&(st&n)===n&&(qe===4||qe===3&&(st&130023424)===st&&500>Ge()-cu?lr(e,0):lu|=n),kt(e,t)}function n0(e,t){t===0&&(e.mode&1?(t=Di,Di<<=1,!(Di&130023424)&&(Di=4194304)):t=1);var n=ht();e=yn(e,t),e!==null&&(xi(e,t,n),kt(e,n))}function $y(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),n0(e,n)}function Fy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ye(314))}r!==null&&r.delete(t),n0(e,n)}var r0;r0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)yt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yt=!1,Ey(e,t,n);yt=!!(e.flags&131072)}else yt=!1,$e&&t.flags&1048576&&ap(t,Eo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;oo(e,t),e=t.pendingProps;var s=Qr(t,ut.current);Zr(t,n),s=nu(null,t,r,e,s,n);var i=ru();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(r)?(i=!0,No(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qc(t),s.updater=ra,t.stateNode=s,s._reactInternals=t,Ul(t,r,e,n),t=Zl(null,t,r,!0,i,n)):(t.tag=0,$e&&i&&Vc(t),ft(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(oo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Hy(r),e=Ut(r,e),s){case 0:t=Wl(null,t,r,e,n);break e;case 1:t=Od(null,t,r,e,n);break e;case 11:t=Pd(null,t,r,e,n);break e;case 14:t=Ld(null,t,r,Ut(r.type,e),n);break e}throw Error(ye(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ut(r,s),Wl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ut(r,s),Od(e,t,r,s,n);case 3:e:{if(Fp(t),e===null)throw Error(ye(387));r=t.pendingProps,i=t.memoizedState,s=i.element,hp(e,t),Do(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ns(Error(ye(423)),t),t=$d(e,t,r,n,s);break e}else if(r!==s){s=ns(Error(ye(424)),t),t=$d(e,t,r,n,s);break e}else for(St=On(t.stateNode.containerInfo.firstChild),Nt=t,$e=!0,Zt=null,n=dp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jr(),r===s){t=vn(e,t,n);break e}ft(e,t,r,n)}t=t.child}return t;case 5:return pp(t),e===null&&Fl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Rl(r,s)?o=null:i!==null&&Rl(r,i)&&(t.flags|=32),$p(e,t),ft(e,t,o,n),t.child;case 6:return e===null&&Fl(t),null;case 13:return Bp(e,t,n);case 4:return Qc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=es(t,null,r,n):ft(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ut(r,s),Pd(e,t,r,s,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Me(Co,r._currentValue),r._currentValue=o,i!==null)if(Xt(i.value,o)){if(i.children===s.children&&!wt.current){t=vn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=hn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Bl(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ye(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ft(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Zr(t,n),s=Ot(s),r=r(s),t.flags|=1,ft(e,t,r,n),t.child;case 14:return r=t.type,s=Ut(r,t.pendingProps),s=Ut(r.type,s),Ld(e,t,r,s,n);case 15:return Lp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ut(r,s),oo(e,t),t.tag=1,bt(r)?(e=!0,No(t)):e=!1,Zr(t,n),Mp(t,r,s),Ul(t,r,s,n),Zl(null,t,r,!0,e,n);case 19:return Hp(e,t,n);case 22:return Op(e,t,n)}throw Error(ye(156,t.tag))};function s0(e,t){return Th(e,t)}function By(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new By(e,t,n,r)}function hu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hy(e){if(typeof e=="function")return hu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ic)return 11;if(e===Ac)return 14}return 2}function Hn(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function co(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")hu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Dr:return cr(n.children,s,i,t);case Tc:o=8,s|=8;break;case hl:return e=Mt(12,n,t,s|2),e.elementType=hl,e.lanes=i,e;case pl:return e=Mt(13,n,t,s),e.elementType=pl,e.lanes=i,e;case ml:return e=Mt(19,n,t,s),e.elementType=ml,e.lanes=i,e;case ph:return oa(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fh:o=10;break e;case hh:o=9;break e;case Ic:o=11;break e;case Ac:o=14;break e;case zn:o=16,r=null;break e}throw Error(ye(130,e==null?e:typeof e,""))}return t=Mt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function cr(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function oa(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=ph,e.lanes=n,e.stateNode={isHidden:!1},e}function Xa(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function qa(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uy(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ta(0),this.expirationTimes=Ta(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pu(e,t,n,r,s,i,o,a,l){return e=new Uy(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qc(i),e}function Vy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function i0(e){if(!e)return Wn;e=e._reactInternals;e:{if(vr(e)!==e||e.tag!==1)throw Error(ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ye(171))}if(e.tag===1){var n=e.type;if(bt(n))return ip(e,n,t)}return t}function o0(e,t,n,r,s,i,o,a,l){return e=pu(n,r,!0,e,s,i,o,a,l),e.context=i0(null),n=e.current,r=ht(),s=Bn(n),i=hn(r,s),i.callback=t??null,$n(n,i,s),e.current.lanes=s,xi(e,s,r),kt(e,r),e}function aa(e,t,n,r){var s=t.current,i=ht(),o=Bn(s);return n=i0(n),t.context===null?t.context=n:t.pendingContext=n,t=hn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$n(s,t,o),e!==null&&(Yt(e,s,o,i),ro(e,s,o)),o}function Oo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mu(e,t){Yd(e,t),(e=e.alternate)&&Yd(e,t)}function Wy(){return null}var a0=typeof reportError=="function"?reportError:function(e){console.error(e)};function gu(e){this._internalRoot=e}la.prototype.render=gu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ye(409));aa(e,t,null,null)};la.prototype.unmount=gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gr(function(){aa(null,e,null,null)}),t[xn]=null}};function la(e){this._internalRoot=e}la.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&t!==0&&t<Dn[n].priority;n++);Dn.splice(n,0,e),n===0&&Fh(e)}};function xu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xd(){}function Zy(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Oo(o);i.call(u)}}var o=o0(t,r,e,0,null,!1,!1,"",Xd);return e._reactRootContainer=o,e[xn]=o.current,Ys(e.nodeType===8?e.parentNode:e),gr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Oo(l);a.call(u)}}var l=pu(e,0,!1,null,null,!1,!1,"",Xd);return e._reactRootContainer=l,e[xn]=l.current,Ys(e.nodeType===8?e.parentNode:e),gr(function(){aa(t,l,n,r)}),l}function ua(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Oo(o);a.call(l)}}aa(t,o,e,s)}else o=Zy(n,t,e,s,r);return Oo(o)}Ph=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Es(t.pendingLanes);n!==0&&(Pc(t,n|1),kt(t,Ge()),!(De&6)&&(rs=Ge()+500,Xn()))}break;case 13:gr(function(){var r=yn(e,1);if(r!==null){var s=ht();Yt(r,e,1,s)}}),mu(e,1)}};Lc=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var n=ht();Yt(t,e,134217728,n)}mu(e,134217728)}};Lh=function(e){if(e.tag===13){var t=Bn(e),n=yn(e,t);if(n!==null){var r=ht();Yt(n,e,t,r)}mu(e,t)}};Oh=function(){return Te};$h=function(e,t){var n=Te;try{return Te=e,t()}finally{Te=n}};Nl=function(e,t,n){switch(t){case"input":if(yl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ea(r);if(!s)throw Error(ye(90));gh(r),yl(r,s)}}}break;case"textarea":yh(e,n);break;case"select":t=n.value,t!=null&&Hr(e,!!n.multiple,t,!1)}};Nh=uu;zh=gr;var Gy={usingClientEntryPoint:!1,Events:[vi,Mr,ea,_h,Sh,uu]},vs={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ky={bundleType:vs.bundleType,version:vs.version,rendererPackageName:vs.rendererPackageName,rendererConfig:vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jh(e),e===null?null:e.stateNode},findFiberByHostInstance:vs.findFiberByHostInstance||Wy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bi.isDisabled&&Bi.supportsFiber)try{Xo=Bi.inject(Ky),tn=Bi}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gy;Ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xu(t))throw Error(ye(200));return Vy(e,t,null,n)};Ct.createRoot=function(e,t){if(!xu(e))throw Error(ye(299));var n=!1,r="",s=a0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=pu(e,1,!1,null,null,n,!1,r,s),e[xn]=t.current,Ys(e.nodeType===8?e.parentNode:e),new gu(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ye(188)):(e=Object.keys(e).join(","),Error(ye(268,e)));return e=jh(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return gr(e)};Ct.hydrate=function(e,t,n){if(!ca(t))throw Error(ye(200));return ua(null,e,t,!0,n)};Ct.hydrateRoot=function(e,t,n){if(!xu(e))throw Error(ye(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=a0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=o0(t,null,e,1,n??null,s,!1,i,o),e[xn]=t.current,Ys(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new la(t)};Ct.render=function(e,t,n){if(!ca(t))throw Error(ye(200));return ua(null,e,t,!1,n)};Ct.unmountComponentAtNode=function(e){if(!ca(e))throw Error(ye(40));return e._reactRootContainer?(gr(function(){ua(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1};Ct.unstable_batchedUpdates=uu;Ct.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ca(n))throw Error(ye(200));if(e==null||e._reactInternals===void 0)throw Error(ye(38));return ua(e,t,n,!1,r)};Ct.version="18.3.1-next-f1338f8080-20240426";function l0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l0)}catch(e){console.error(e)}}l0(),lh.exports=Ct;var Yy=lh.exports,qd=Yy;dl.createRoot=qd.createRoot,dl.hydrateRoot=qd.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_e=(e,t)=>{const n=M.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},f)=>M.createElement("svg",{ref:f,...Xy,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${qy(e)}`,a].join(" "),...u},[...t.map(([g,y])=>M.createElement(g,y)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=_e("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=_e("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=_e("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=_e("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=_e("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=_e("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=_e("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=_e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=_e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=_e("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=_e("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=_e("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=_e("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=_e("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=_e("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=_e("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=_e("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=_e("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=_e("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=_e("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=_e("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=_e("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=_e("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=_e("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=_e("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=_e("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=_e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=_e("Import",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=_e("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=_e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=_e("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=_e("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=_e("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=_e("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=_e("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=_e("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=_e("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=_e("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=_e("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=_e("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=_e("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=_e("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=_e("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=_e("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=_e("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=_e("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=_e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=_e("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=_e("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=_e("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=_e("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=_e("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=_e("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=_e("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=_e("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=_e("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Hi(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var m0={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,i){function o(u,f){if(!s[u]){if(!r[u]){var g=typeof Hi=="function"&&Hi;if(!f&&g)return g(u,!0);if(a)return a(u,!0);var y=new Error("Cannot find module '"+u+"'");throw y.code="MODULE_NOT_FOUND",y}var h=s[u]={exports:{}};r[u][0].call(h.exports,function(v){var x=r[u][1][v];return o(x||v)},h,h.exports,n,r,s,i)}return s[u].exports}for(var a=typeof Hi=="function"&&Hi,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(n,r,s){var i=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var u,f,g,y,h,v,x,w=[],d=0,m=l.length,b=m,_=i.getTypeOf(l)!=="string";d<l.length;)b=m-d,g=_?(u=l[d++],f=d<m?l[d++]:0,d<m?l[d++]:0):(u=l.charCodeAt(d++),f=d<m?l.charCodeAt(d++):0,d<m?l.charCodeAt(d++):0),y=u>>2,h=(3&u)<<4|f>>4,v=1<b?(15&f)<<2|g>>6:64,x=2<b?63&g:64,w.push(a.charAt(y)+a.charAt(h)+a.charAt(v)+a.charAt(x));return w.join("")},s.decode=function(l){var u,f,g,y,h,v,x=0,w=0,d="data:";if(l.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var m,b=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&b--,l.charAt(l.length-2)===a.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(m=o.uint8array?new Uint8Array(0|b):new Array(0|b);x<l.length;)u=a.indexOf(l.charAt(x++))<<2|(y=a.indexOf(l.charAt(x++)))>>4,f=(15&y)<<4|(h=a.indexOf(l.charAt(x++)))>>2,g=(3&h)<<6|(v=a.indexOf(l.charAt(x++))),m[w++]=u,h!==64&&(m[w++]=f),v!==64&&(m[w++]=g);return m}},{"./support":30,"./utils":32}],2:[function(n,r,s){var i=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(f,g,y,h,v){this.compressedSize=f,this.uncompressedSize=g,this.crc32=y,this.compression=h,this.compressedContent=v}u.prototype={getContentWorker:function(){var f=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),g=this;return f.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(f,g,y){return f.pipe(new a).pipe(new l("uncompressedSize")).pipe(g.compressWorker(y)).pipe(new l("compressedSize")).withStreamInfo("compression",g)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var i=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var i=n("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var f=0;f<8;f++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(u,f,g,y){var h=o,v=y+g;u^=-1;for(var x=y;x<v;x++)u=u>>>8^h[255&(u^f[x])];return-1^u}(0|l,a,a.length,0):function(u,f,g,y){var h=o,v=y+g;u^=-1;for(var x=y;x<v;x++)u=u>>>8^h[255&(u^f.charCodeAt(x))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=i?"uint8array":"array";function f(g,y){l.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=y,this.meta={}}s.magic="\b\0",a.inherits(f,l),f.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,g.data),!1)},f.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(y){g.push({data:y,meta:g.meta})}},s.compressWorker=function(g){return new f("Deflate",g)},s.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function i(h,v){var x,w="";for(x=0;x<v;x++)w+=String.fromCharCode(255&h),h>>>=8;return w}function o(h,v,x,w,d,m){var b,_,S=h.file,D=h.compression,E=m!==u.utf8encode,A=a.transformTo("string",m(S.name)),T=a.transformTo("string",u.utf8encode(S.name)),H=S.comment,q=a.transformTo("string",m(H)),C=a.transformTo("string",u.utf8encode(H)),F=T.length!==S.name.length,p=C.length!==H.length,$="",W="",G="",Z=S.dir,z=S.date,U={crc32:0,compressedSize:0,uncompressedSize:0};v&&!x||(U.crc32=h.crc32,U.compressedSize=h.compressedSize,U.uncompressedSize=h.uncompressedSize);var R=0;v&&(R|=8),E||!F&&!p||(R|=2048);var P=0,le=0;Z&&(P|=16),d==="UNIX"?(le=798,P|=function(X,fe){var ge=X;return X||(ge=fe?16893:33204),(65535&ge)<<16}(S.unixPermissions,Z)):(le=20,P|=function(X){return 63&(X||0)}(S.dosPermissions)),b=z.getUTCHours(),b<<=6,b|=z.getUTCMinutes(),b<<=5,b|=z.getUTCSeconds()/2,_=z.getUTCFullYear()-1980,_<<=4,_|=z.getUTCMonth()+1,_<<=5,_|=z.getUTCDate(),F&&(W=i(1,1)+i(f(A),4)+T,$+="up"+i(W.length,2)+W),p&&(G=i(1,1)+i(f(q),4)+C,$+="uc"+i(G.length,2)+G);var O="";return O+=`
\0`,O+=i(R,2),O+=D.magic,O+=i(b,2),O+=i(_,2),O+=i(U.crc32,4),O+=i(U.compressedSize,4),O+=i(U.uncompressedSize,4),O+=i(A.length,2),O+=i($.length,2),{fileRecord:g.LOCAL_FILE_HEADER+O+A+$,dirRecord:g.CENTRAL_FILE_HEADER+i(le,2)+O+i(q.length,2)+"\0\0\0\0"+i(P,4)+i(w,4)+A+$+q}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),f=n("../crc32"),g=n("../signature");function y(h,v,x,w){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=x,this.encodeFileName=w,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(y,l),y.prototype.push=function(h){var v=h.meta.percent||0,x=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:x?(v+100*(x-w-1))/x:100}}))},y.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var v=this.streamFiles&&!h.file.dir;if(v){var x=o(h,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(h){this.accumulate=!1;var v=this.streamFiles&&!h.file.dir,x=o(h,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),v)this.push({data:function(w){return g.DATA_DESCRIPTOR+i(w.crc32,4)+i(w.compressedSize,4)+i(w.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var h=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var x=this.bytesWritten-h,w=function(d,m,b,_,S){var D=a.transformTo("string",S(_));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(d,2)+i(d,2)+i(m,4)+i(b,4)+i(D.length,2)+D}(this.dirRecords.length,x,h,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(h){this._sources.push(h);var v=this;return h.on("data",function(x){v.processChunk(x)}),h.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),h.on("error",function(x){v.error(x)}),this},y.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(h){var v=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var x=0;x<v.length;x++)try{v[x].error(h)}catch{}return!0},y.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,v=0;v<h.length;v++)h[v].lock()},r.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var i=n("../compressions"),o=n("./ZipFileWorker");s.generateWorker=function(a,l,u){var f=new o(l.streamFiles,u,l.platform,l.encodeFileName),g=0;try{a.forEach(function(y,h){g++;var v=function(m,b){var _=m||b,S=i[_];if(!S)throw new Error(_+" is not a valid compression method !");return S}(h.options.compression,l.compression),x=h.options.compressionOptions||l.compressionOptions||{},w=h.dir,d=h.date;h._compressWorker(v,x).withStreamInfo("file",{name:y,dir:w,date:d,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(f)}),f.entriesCount=g}catch(y){f.error(y)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(o,a){return new i().loadAsync(o,a)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var i=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),f=n("./nodejsUtils");function g(y){return new o.Promise(function(h,v){var x=y.decompressed.getContentWorker().pipe(new u);x.on("error",function(w){v(w)}).on("end",function(){x.streamInfo.crc32!==y.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(y,h){var v=this;return h=i.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),f.isNode&&f.isStream(y)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",y,!0,h.optimizedBinaryString,h.base64).then(function(x){var w=new l(h);return w.load(x),w}).then(function(x){var w=[o.Promise.resolve(x)],d=x.files;if(h.checkCRC32)for(var m=0;m<d.length;m++)w.push(g(d[m]));return o.Promise.all(w)}).then(function(x){for(var w=x.shift(),d=w.files,m=0;m<d.length;m++){var b=d[m],_=b.fileNameStr,S=i.resolve(b.fileNameStr);v.file(S,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:h.createFolders}),b.dir||(v.file(S).unsafeOriginalName=_)}return w.zipComment.length&&(v.comment=w.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var i=n("../utils"),o=n("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(f){u.push({data:f,meta:{percent:0}})}).on("error",function(f){u.isPaused?this.generatedError=f:u.error(f)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var i=n("readable-stream").Readable;function o(a,l,u){i.call(this,l),this._helper=a;var f=this;a.on("data",function(g,y){f.push(g)||f._helper.pause(),u&&u(y)}).on("error",function(g){f.emit("error",g)}).on("end",function(){f.push(null)})}n("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,s){function i(S,D,E){var A,T=a.getTypeOf(D),H=a.extend(E||{},f);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(S=d(S)),H.createFolders&&(A=w(S))&&m.call(this,A,!0);var q=T==="string"&&H.binary===!1&&H.base64===!1;E&&E.binary!==void 0||(H.binary=!q),(D instanceof g&&D.uncompressedSize===0||H.dir||!D||D.length===0)&&(H.base64=!1,H.binary=!0,D="",H.compression="STORE",T="string");var C=null;C=D instanceof g||D instanceof l?D:v.isNode&&v.isStream(D)?new x(S,D):a.prepareContent(S,D,H.binary,H.optimizedBinaryString,H.base64);var F=new y(S,C,H);this.files[S]=F}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),f=n("./defaults"),g=n("./compressedObject"),y=n("./zipObject"),h=n("./generate"),v=n("./nodejsUtils"),x=n("./nodejs/NodejsStreamInputAdapter"),w=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var D=S.lastIndexOf("/");return 0<D?S.substring(0,D):""},d=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},m=function(S,D){return D=D!==void 0?D:f.createFolders,S=d(S),this.files[S]||i.call(this,S,null,{dir:!0,createFolders:D}),this.files[S]};function b(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var D,E,A;for(D in this.files)A=this.files[D],(E=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&S(E,A)},filter:function(S){var D=[];return this.forEach(function(E,A){S(E,A)&&D.push(A)}),D},file:function(S,D,E){if(arguments.length!==1)return S=this.root+S,i.call(this,S,D,E),this;if(b(S)){var A=S;return this.filter(function(H,q){return!q.dir&&A.test(H)})}var T=this.files[this.root+S];return T&&!T.dir?T:null},folder:function(S){if(!S)return this;if(b(S))return this.filter(function(T,H){return H.dir&&S.test(T)});var D=this.root+S,E=m.call(this,D),A=this.clone();return A.root=E.name,A},remove:function(S){S=this.root+S;var D=this.files[S];if(D||(S.slice(-1)!=="/"&&(S+="/"),D=this.files[S]),D&&!D.dir)delete this.files[S];else for(var E=this.filter(function(T,H){return H.name.slice(0,S.length)===S}),A=0;A<E.length;A++)delete this.files[E[A].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var D,E={};try{if((E=a.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");a.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var A=E.comment||this.comment||"";D=h.generateWorker(this,E,A)}catch(T){(D=new l("error")).error(T)}return new u(D,E.type||"string",E.mimeType)},generateAsync:function(S,D){return this.generateInternalStream(S).accumulate(D)},generateNodeStream:function(S,D){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(D)}};r.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),f=a.charCodeAt(2),g=a.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===l&&this.data[y+1]===u&&this.data[y+2]===f&&this.data[y+3]===g)return y-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),f=a.charCodeAt(2),g=a.charCodeAt(3),y=this.readData(4);return l===y[0]&&u===y[1]&&f===y[2]&&g===y[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var i=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,s){var i=n("./Uint8ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var i=n("./ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var i=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),f=n("./Uint8ArrayReader");r.exports=function(g){var y=i.getTypeOf(g);return i.checkSupport(y),y!=="string"||o.uint8array?y==="nodebuffer"?new u(g):o.uint8array?new f(i.transformTo("uint8array",g)):new a(i.transformTo("array",g)):new l(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var i=n("./GenericWorker"),o=n("../utils");function a(l){i.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,i),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var i=n("./GenericWorker"),o=n("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,i),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(f){u.dataIsReady=!0,u.data=f,u.max=f&&f.length||0,u.type=i.getTypeOf(f),u.isPaused||u._tickAndRepeat()},function(f){u.error(f)})}i.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=i},{}],29:[function(n,r,s){var i=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),f=n("../external"),g=null;if(u.nodestream)try{g=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(v,x){return new f.Promise(function(w,d){var m=[],b=v._internalType,_=v._outputType,S=v._mimeType;v.on("data",function(D,E){m.push(D),x&&x(E)}).on("error",function(D){m=[],d(D)}).on("end",function(){try{var D=function(E,A,T){switch(E){case"blob":return i.newBlob(i.transformTo("arraybuffer",A),T);case"base64":return l.encode(A);default:return i.transformTo(E,A)}}(_,function(E,A){var T,H=0,q=null,C=0;for(T=0;T<A.length;T++)C+=A[T].length;switch(E){case"string":return A.join("");case"array":return Array.prototype.concat.apply([],A);case"uint8array":for(q=new Uint8Array(C),T=0;T<A.length;T++)q.set(A[T],H),H+=A[T].length;return q;case"nodebuffer":return Buffer.concat(A);default:throw new Error("concat : unsupported type '"+E+"'")}}(b,m),S);w(D)}catch(E){d(E)}m=[]}).resume()})}function h(v,x,w){var d=x;switch(x){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=x,this._mimeType=w,i.checkSupport(d),this._worker=v.pipe(new o(d)),v.lock()}catch(m){this._worker=new a("error"),this._worker.error(m)}}h.prototype={accumulate:function(v){return y(this,v)},on:function(v,x){var w=this;return v==="data"?this._worker.on(v,function(d){x.call(w,d.data,d.meta)}):this._worker.on(v,function(){i.delay(x,arguments,w)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var i=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;u[254]=u[254]=1;function g(){l.call(this,"utf-8 decode"),this.leftOver=null}function y(){l.call(this,"utf-8 encode")}s.utf8encode=function(h){return o.nodebuffer?a.newBufferFrom(h,"utf-8"):function(v){var x,w,d,m,b,_=v.length,S=0;for(m=0;m<_;m++)(64512&(w=v.charCodeAt(m)))==55296&&m+1<_&&(64512&(d=v.charCodeAt(m+1)))==56320&&(w=65536+(w-55296<<10)+(d-56320),m++),S+=w<128?1:w<2048?2:w<65536?3:4;for(x=o.uint8array?new Uint8Array(S):new Array(S),m=b=0;b<S;m++)(64512&(w=v.charCodeAt(m)))==55296&&m+1<_&&(64512&(d=v.charCodeAt(m+1)))==56320&&(w=65536+(w-55296<<10)+(d-56320),m++),w<128?x[b++]=w:(w<2048?x[b++]=192|w>>>6:(w<65536?x[b++]=224|w>>>12:(x[b++]=240|w>>>18,x[b++]=128|w>>>12&63),x[b++]=128|w>>>6&63),x[b++]=128|63&w);return x}(h)},s.utf8decode=function(h){return o.nodebuffer?i.transformTo("nodebuffer",h).toString("utf-8"):function(v){var x,w,d,m,b=v.length,_=new Array(2*b);for(x=w=0;x<b;)if((d=v[x++])<128)_[w++]=d;else if(4<(m=u[d]))_[w++]=65533,x+=m-1;else{for(d&=m===2?31:m===3?15:7;1<m&&x<b;)d=d<<6|63&v[x++],m--;1<m?_[w++]=65533:d<65536?_[w++]=d:(d-=65536,_[w++]=55296|d>>10&1023,_[w++]=56320|1023&d)}return _.length!==w&&(_.subarray?_=_.subarray(0,w):_.length=w),i.applyFromCharCode(_)}(h=i.transformTo(o.uint8array?"uint8array":"array",h))},i.inherits(g,l),g.prototype.processChunk=function(h){var v=i.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var x=v;(v=new Uint8Array(x.length+this.leftOver.length)).set(this.leftOver,0),v.set(x,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var w=function(m,b){var _;for((b=b||m.length)>m.length&&(b=m.length),_=b-1;0<=_&&(192&m[_])==128;)_--;return _<0||_===0?b:_+u[m[_]]>b?_:b}(v),d=v;w!==v.length&&(o.uint8array?(d=v.subarray(0,w),this.leftOver=v.subarray(w,v.length)):(d=v.slice(0,w),this.leftOver=v.slice(w,v.length))),this.push({data:s.utf8decode(d),meta:h.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=g,i.inherits(y,l),y.prototype.processChunk=function(h){this.push({data:s.utf8encode(h.data),meta:h.meta})},s.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var i=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(x){return x}function f(x,w){for(var d=0;d<x.length;++d)w[d]=255&x.charCodeAt(d);return w}n("setimmediate"),s.newBlob=function(x,w){s.checkSupport("blob");try{return new Blob([x],{type:w})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(x),d.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(x,w,d){var m=[],b=0,_=x.length;if(_<=d)return String.fromCharCode.apply(null,x);for(;b<_;)w==="array"||w==="nodebuffer"?m.push(String.fromCharCode.apply(null,x.slice(b,Math.min(b+d,_)))):m.push(String.fromCharCode.apply(null,x.subarray(b,Math.min(b+d,_)))),b+=d;return m.join("")},stringifyByChar:function(x){for(var w="",d=0;d<x.length;d++)w+=String.fromCharCode(x[d]);return w},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function y(x){var w=65536,d=s.getTypeOf(x),m=!0;if(d==="uint8array"?m=g.applyCanBeUsed.uint8array:d==="nodebuffer"&&(m=g.applyCanBeUsed.nodebuffer),m)for(;1<w;)try{return g.stringifyByChunk(x,d,w)}catch{w=Math.floor(w/2)}return g.stringifyByChar(x)}function h(x,w){for(var d=0;d<x.length;d++)w[d]=x[d];return w}s.applyFromCharCode=y;var v={};v.string={string:u,array:function(x){return f(x,new Array(x.length))},arraybuffer:function(x){return v.string.uint8array(x).buffer},uint8array:function(x){return f(x,new Uint8Array(x.length))},nodebuffer:function(x){return f(x,a.allocBuffer(x.length))}},v.array={string:y,array:u,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return a.newBufferFrom(x)}},v.arraybuffer={string:function(x){return y(new Uint8Array(x))},array:function(x){return h(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:u,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return a.newBufferFrom(new Uint8Array(x))}},v.uint8array={string:y,array:function(x){return h(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:u,nodebuffer:function(x){return a.newBufferFrom(x)}},v.nodebuffer={string:y,array:function(x){return h(x,new Array(x.length))},arraybuffer:function(x){return v.nodebuffer.uint8array(x).buffer},uint8array:function(x){return h(x,new Uint8Array(x.length))},nodebuffer:u},s.transformTo=function(x,w){if(w=w||"",!x)return w;s.checkSupport(x);var d=s.getTypeOf(w);return v[d][x](w)},s.resolve=function(x){for(var w=x.split("/"),d=[],m=0;m<w.length;m++){var b=w[m];b==="."||b===""&&m!==0&&m!==w.length-1||(b===".."?d.pop():d.push(b))}return d.join("/")},s.getTypeOf=function(x){return typeof x=="string"?"string":Object.prototype.toString.call(x)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(x)?"nodebuffer":i.uint8array&&x instanceof Uint8Array?"uint8array":i.arraybuffer&&x instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(x){if(!i[x.toLowerCase()])throw new Error(x+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(x){var w,d,m="";for(d=0;d<(x||"").length;d++)m+="\\x"+((w=x.charCodeAt(d))<16?"0":"")+w.toString(16).toUpperCase();return m},s.delay=function(x,w,d){setImmediate(function(){x.apply(d||null,w||[])})},s.inherits=function(x,w){function d(){}d.prototype=w.prototype,x.prototype=new d},s.extend=function(){var x,w,d={};for(x=0;x<arguments.length;x++)for(w in arguments[x])Object.prototype.hasOwnProperty.call(arguments[x],w)&&d[w]===void 0&&(d[w]=arguments[x][w]);return d},s.prepareContent=function(x,w,d,m,b){return l.Promise.resolve(w).then(function(_){return i.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,D){var E=new FileReader;E.onload=function(A){S(A.target.result)},E.onerror=function(A){D(A.target.error)},E.readAsArrayBuffer(_)}):_}).then(function(_){var S=s.getTypeOf(_);return S?(S==="arraybuffer"?_=s.transformTo("uint8array",_):S==="string"&&(b?_=o.decode(_):d&&m!==!0&&(_=function(D){return f(D,i.uint8array?new Uint8Array(D.length):new Array(D.length))}(_))),_):l.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function f(g){this.files=[],this.loadOptions=g}f.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(y)+", expected "+o.pretty(g)+")")}},isSignature:function(g,y){var h=this.reader.index;this.reader.setIndex(g);var v=this.reader.readString(4)===y;return this.reader.setIndex(h),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),y=u.uint8array?"uint8array":"array",h=o.transformTo(y,g);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,y,h,v=this.zip64EndOfCentralSize-44;0<v;)g=this.reader.readInt(2),y=this.reader.readInt(4),h=this.reader.readData(y),this.zip64ExtensibleData[g]={id:g,length:y,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,y;for(g=0;g<this.files.length;g++)y=this.files[g],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(g=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var y=g;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var v=y-h;if(0<v)this.isSignature(y,a.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(g){this.reader=i(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),f=n("./compressions"),g=n("./support");function y(h,v){this.options=h,this.loadOptions=v}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var v,x;if(h.skip(22),this.fileNameLength=h.readInt(2),x=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(w){for(var d in f)if(Object.prototype.hasOwnProperty.call(f,d)&&f[d].magic===w)return f[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,v,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var v=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(v),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var v,x,w,d=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<d;)v=h.readInt(2),x=h.readInt(2),w=h.readData(x),this.extraFields[v]={id:v,length:x,value:w};h.setIndex(d)},handleUTF8:function(){var h=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var x=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var d=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var v=i(h.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var v=i(h.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(h.length-5))}return null}},r.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function i(v,x,w){this.name=v,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=x,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),f=n("./stream/GenericWorker");i.prototype={internalStream:function(v){var x=null,w="string";try{if(!v)throw new Error("No output type specified.");var d=(w=v.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),x=this._decompressWorker();var m=!this._dataBinary;m&&!d&&(x=x.pipe(new l.Utf8EncodeWorker)),!m&&d&&(x=x.pipe(new l.Utf8DecodeWorker))}catch(b){(x=new f("error")).error(b)}return new o(x,w,"")},async:function(v,x){return this.internalStream(v).accumulate(x)},nodeStream:function(v,x){return this.internalStream(v||"nodebuffer").toNodejsStream(x)},_compressWorker:function(v,x){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(w,v,x)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof f?this._data:new a(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<g.length;h++)i.prototype[g[h]]=y;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(i){var o,a,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var u=0,f=new l(v),g=i.document.createTextNode("");f.observe(g,{characterData:!0}),o=function(){g.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var x=i.document.createElement("script");x.onreadystatechange=function(){v(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},i.document.documentElement.appendChild(x)}:function(){setTimeout(v,0)};else{var y=new i.MessageChannel;y.port1.onmessage=v,o=function(){y.port2.postMessage(0)}}var h=[];function v(){var x,w;a=!0;for(var d=h.length;d;){for(w=h,h=[],x=-1;++x<d;)w[x]();d=h.length}a=!1}r.exports=function(x){h.push(x)!==1||a||o()}}).call(this,typeof Si<"u"?Si:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var i=n("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],f=["PENDING"];function g(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,d!==o&&x(this,d)}function y(d,m,b){this.promise=d,typeof m=="function"&&(this.onFulfilled=m,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function h(d,m,b){i(function(){var _;try{_=m(b)}catch(S){return a.reject(d,S)}_===d?a.reject(d,new TypeError("Cannot resolve promise with itself")):a.resolve(d,_)})}function v(d){var m=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof m=="function")return function(){m.apply(d,arguments)}}function x(d,m){var b=!1;function _(E){b||(b=!0,a.reject(d,E))}function S(E){b||(b=!0,a.resolve(d,E))}var D=w(function(){m(S,_)});D.status==="error"&&_(D.value)}function w(d,m){var b={};try{b.value=d(m),b.status="success"}catch(_){b.status="error",b.value=_}return b}(r.exports=g).prototype.finally=function(d){if(typeof d!="function")return this;var m=this.constructor;return this.then(function(b){return m.resolve(d()).then(function(){return b})},function(b){return m.resolve(d()).then(function(){throw b})})},g.prototype.catch=function(d){return this.then(null,d)},g.prototype.then=function(d,m){if(typeof d!="function"&&this.state===u||typeof m!="function"&&this.state===l)return this;var b=new this.constructor(o);return this.state!==f?h(b,this.state===u?d:m,this.outcome):this.queue.push(new y(b,d,m)),b},y.prototype.callFulfilled=function(d){a.resolve(this.promise,d)},y.prototype.otherCallFulfilled=function(d){h(this.promise,this.onFulfilled,d)},y.prototype.callRejected=function(d){a.reject(this.promise,d)},y.prototype.otherCallRejected=function(d){h(this.promise,this.onRejected,d)},a.resolve=function(d,m){var b=w(v,m);if(b.status==="error")return a.reject(d,b.value);var _=b.value;if(_)x(d,_);else{d.state=u,d.outcome=m;for(var S=-1,D=d.queue.length;++S<D;)d.queue[S].callFulfilled(m)}return d},a.reject=function(d,m){d.state=l,d.outcome=m;for(var b=-1,_=d.queue.length;++b<_;)d.queue[b].callRejected(m);return d},g.resolve=function(d){return d instanceof this?d:a.resolve(new this(o),d)},g.reject=function(d){var m=new this(o);return a.reject(m,d)},g.all=function(d){var m=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=d.length,_=!1;if(!b)return this.resolve([]);for(var S=new Array(b),D=0,E=-1,A=new this(o);++E<b;)T(d[E],E);return A;function T(H,q){m.resolve(H).then(function(C){S[q]=C,++D!==b||_||(_=!0,a.resolve(A,S))},function(C){_||(_=!0,a.reject(A,C))})}},g.race=function(d){var m=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=d.length,_=!1;if(!b)return this.resolve([]);for(var S=-1,D=new this(o);++S<b;)E=d[S],m.resolve(E).then(function(A){_||(_=!0,a.resolve(D,A))},function(A){_||(_=!0,a.reject(D,A))});var E;return D}},{immediate:36}],38:[function(n,r,s){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var i=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),f=Object.prototype.toString,g=0,y=-1,h=0,v=8;function x(d){if(!(this instanceof x))return new x(d);this.options=o.assign({level:y,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},d||{});var m=this.options;m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=i.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(b!==g)throw new Error(l[b]);if(m.header&&i.deflateSetHeader(this.strm,m.header),m.dictionary){var _;if(_=typeof m.dictionary=="string"?a.string2buf(m.dictionary):f.call(m.dictionary)==="[object ArrayBuffer]"?new Uint8Array(m.dictionary):m.dictionary,(b=i.deflateSetDictionary(this.strm,_))!==g)throw new Error(l[b]);this._dict_set=!0}}function w(d,m){var b=new x(m);if(b.push(d,!0),b.err)throw b.msg||l[b.err];return b.result}x.prototype.push=function(d,m){var b,_,S=this.strm,D=this.options.chunkSize;if(this.ended)return!1;_=m===~~m?m:m===!0?4:0,typeof d=="string"?S.input=a.string2buf(d):f.call(d)==="[object ArrayBuffer]"?S.input=new Uint8Array(d):S.input=d,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new o.Buf8(D),S.next_out=0,S.avail_out=D),(b=i.deflate(S,_))!==1&&b!==g)return this.onEnd(b),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(S.output,S.next_out))):this.onData(o.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&b!==1);return _===4?(b=i.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===g):_!==2||(this.onEnd(g),!(S.avail_out=0))},x.prototype.onData=function(d){this.chunks.push(d)},x.prototype.onEnd=function(d){d===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},s.Deflate=x,s.deflate=w,s.deflateRaw=function(d,m){return(m=m||{}).raw=!0,w(d,m)},s.gzip=function(d,m){return(m=m||{}).gzip=!0,w(d,m)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var i=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),f=n("./zlib/zstream"),g=n("./zlib/gzheader"),y=Object.prototype.toString;function h(x){if(!(this instanceof h))return new h(x);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},x||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||x&&x.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var d=i.inflateInit2(this.strm,w.windowBits);if(d!==l.Z_OK)throw new Error(u[d]);this.header=new g,i.inflateGetHeader(this.strm,this.header)}function v(x,w){var d=new h(w);if(d.push(x,!0),d.err)throw d.msg||u[d.err];return d.result}h.prototype.push=function(x,w){var d,m,b,_,S,D,E=this.strm,A=this.options.chunkSize,T=this.options.dictionary,H=!1;if(this.ended)return!1;m=w===~~w?w:w===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof x=="string"?E.input=a.binstring2buf(x):y.call(x)==="[object ArrayBuffer]"?E.input=new Uint8Array(x):E.input=x,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(A),E.next_out=0,E.avail_out=A),(d=i.inflate(E,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&T&&(D=typeof T=="string"?a.string2buf(T):y.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,d=i.inflateSetDictionary(this.strm,D)),d===l.Z_BUF_ERROR&&H===!0&&(d=l.Z_OK,H=!1),d!==l.Z_STREAM_END&&d!==l.Z_OK)return this.onEnd(d),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&d!==l.Z_STREAM_END&&(E.avail_in!==0||m!==l.Z_FINISH&&m!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=a.utf8border(E.output,E.next_out),_=E.next_out-b,S=a.buf2string(E.output,b),E.next_out=_,E.avail_out=A-_,_&&o.arraySet(E.output,E.output,b,_,0),this.onData(S)):this.onData(o.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(H=!0)}while((0<E.avail_in||E.avail_out===0)&&d!==l.Z_STREAM_END);return d===l.Z_STREAM_END&&(m=l.Z_FINISH),m===l.Z_FINISH?(d=i.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===l.Z_OK):m!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(E.avail_out=0))},h.prototype.onData=function(x){this.chunks.push(x)},h.prototype.onEnd=function(x){x===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},s.Inflate=h,s.inflate=v,s.inflateRaw=function(x,w){return(w=w||{}).raw=!0,v(x,w)},s.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var f=u.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var g in f)f.hasOwnProperty(g)&&(l[g]=f[g])}}return l},s.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,f,g,y){if(u.subarray&&l.subarray)l.set(u.subarray(f,f+g),y);else for(var h=0;h<g;h++)l[y+h]=u[f+h]},flattenChunks:function(l){var u,f,g,y,h,v;for(u=g=0,f=l.length;u<f;u++)g+=l[u].length;for(v=new Uint8Array(g),u=y=0,f=l.length;u<f;u++)h=l[u],v.set(h,y),y+=h.length;return v}},a={arraySet:function(l,u,f,g,y){for(var h=0;h<g;h++)l[y+h]=u[f+h]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(n,r,s){var i=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new i.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function f(g,y){if(y<65537&&(g.subarray&&a||!g.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(g,y));for(var h="",v=0;v<y;v++)h+=String.fromCharCode(g[v]);return h}l[254]=l[254]=1,s.string2buf=function(g){var y,h,v,x,w,d=g.length,m=0;for(x=0;x<d;x++)(64512&(h=g.charCodeAt(x)))==55296&&x+1<d&&(64512&(v=g.charCodeAt(x+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),x++),m+=h<128?1:h<2048?2:h<65536?3:4;for(y=new i.Buf8(m),x=w=0;w<m;x++)(64512&(h=g.charCodeAt(x)))==55296&&x+1<d&&(64512&(v=g.charCodeAt(x+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),x++),h<128?y[w++]=h:(h<2048?y[w++]=192|h>>>6:(h<65536?y[w++]=224|h>>>12:(y[w++]=240|h>>>18,y[w++]=128|h>>>12&63),y[w++]=128|h>>>6&63),y[w++]=128|63&h);return y},s.buf2binstring=function(g){return f(g,g.length)},s.binstring2buf=function(g){for(var y=new i.Buf8(g.length),h=0,v=y.length;h<v;h++)y[h]=g.charCodeAt(h);return y},s.buf2string=function(g,y){var h,v,x,w,d=y||g.length,m=new Array(2*d);for(h=v=0;h<d;)if((x=g[h++])<128)m[v++]=x;else if(4<(w=l[x]))m[v++]=65533,h+=w-1;else{for(x&=w===2?31:w===3?15:7;1<w&&h<d;)x=x<<6|63&g[h++],w--;1<w?m[v++]=65533:x<65536?m[v++]=x:(x-=65536,m[v++]=55296|x>>10&1023,m[v++]=56320|1023&x)}return f(m,v)},s.utf8border=function(g,y){var h;for((y=y||g.length)>g.length&&(y=g.length),h=y-1;0<=h&&(192&g[h])==128;)h--;return h<0||h===0?y:h+l[g[h]]>y?h:y}},{"./common":41}],43:[function(n,r,s){r.exports=function(i,o,a,l){for(var u=65535&i|0,f=i>>>16&65535|0,g=0;a!==0;){for(a-=g=2e3<a?2e3:a;f=f+(u=u+o[l++]|0)|0,--g;);u%=65521,f%=65521}return u|f<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var i=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,u){var f=i,g=u+l;o^=-1;for(var y=u;y<g;y++)o=o>>>8^f[255&(o^a[y])];return-1^o}},{}],46:[function(n,r,s){var i,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),f=n("./messages"),g=0,y=4,h=0,v=-2,x=-1,w=4,d=2,m=8,b=9,_=286,S=30,D=19,E=2*_+1,A=15,T=3,H=258,q=H+T+1,C=42,F=113,p=1,$=2,W=3,G=4;function Z(k,se){return k.msg=f[se],se}function z(k){return(k<<1)-(4<k?9:0)}function U(k){for(var se=k.length;0<=--se;)k[se]=0}function R(k){var se=k.state,ne=se.pending;ne>k.avail_out&&(ne=k.avail_out),ne!==0&&(o.arraySet(k.output,se.pending_buf,se.pending_out,ne,k.next_out),k.next_out+=ne,se.pending_out+=ne,k.total_out+=ne,k.avail_out-=ne,se.pending-=ne,se.pending===0&&(se.pending_out=0))}function P(k,se){a._tr_flush_block(k,0<=k.block_start?k.block_start:-1,k.strstart-k.block_start,se),k.block_start=k.strstart,R(k.strm)}function le(k,se){k.pending_buf[k.pending++]=se}function O(k,se){k.pending_buf[k.pending++]=se>>>8&255,k.pending_buf[k.pending++]=255&se}function X(k,se){var ne,j,N=k.max_chain_length,K=k.strstart,ue=k.prev_length,I=k.nice_match,L=k.strstart>k.w_size-q?k.strstart-(k.w_size-q):0,Q=k.window,J=k.w_mask,ae=k.prev,ve=k.strstart+H,ze=Q[K+ue-1],xe=Q[K+ue];k.prev_length>=k.good_match&&(N>>=2),I>k.lookahead&&(I=k.lookahead);do if(Q[(ne=se)+ue]===xe&&Q[ne+ue-1]===ze&&Q[ne]===Q[K]&&Q[++ne]===Q[K+1]){K+=2,ne++;do;while(Q[++K]===Q[++ne]&&Q[++K]===Q[++ne]&&Q[++K]===Q[++ne]&&Q[++K]===Q[++ne]&&Q[++K]===Q[++ne]&&Q[++K]===Q[++ne]&&Q[++K]===Q[++ne]&&Q[++K]===Q[++ne]&&K<ve);if(j=H-(ve-K),K=ve-H,ue<j){if(k.match_start=se,I<=(ue=j))break;ze=Q[K+ue-1],xe=Q[K+ue]}}while((se=ae[se&J])>L&&--N!=0);return ue<=k.lookahead?ue:k.lookahead}function fe(k){var se,ne,j,N,K,ue,I,L,Q,J,ae=k.w_size;do{if(N=k.window_size-k.lookahead-k.strstart,k.strstart>=ae+(ae-q)){for(o.arraySet(k.window,k.window,ae,ae,0),k.match_start-=ae,k.strstart-=ae,k.block_start-=ae,se=ne=k.hash_size;j=k.head[--se],k.head[se]=ae<=j?j-ae:0,--ne;);for(se=ne=ae;j=k.prev[--se],k.prev[se]=ae<=j?j-ae:0,--ne;);N+=ae}if(k.strm.avail_in===0)break;if(ue=k.strm,I=k.window,L=k.strstart+k.lookahead,Q=N,J=void 0,J=ue.avail_in,Q<J&&(J=Q),ne=J===0?0:(ue.avail_in-=J,o.arraySet(I,ue.input,ue.next_in,J,L),ue.state.wrap===1?ue.adler=l(ue.adler,I,J,L):ue.state.wrap===2&&(ue.adler=u(ue.adler,I,J,L)),ue.next_in+=J,ue.total_in+=J,J),k.lookahead+=ne,k.lookahead+k.insert>=T)for(K=k.strstart-k.insert,k.ins_h=k.window[K],k.ins_h=(k.ins_h<<k.hash_shift^k.window[K+1])&k.hash_mask;k.insert&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[K+T-1])&k.hash_mask,k.prev[K&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=K,K++,k.insert--,!(k.lookahead+k.insert<T)););}while(k.lookahead<q&&k.strm.avail_in!==0)}function ge(k,se){for(var ne,j;;){if(k.lookahead<q){if(fe(k),k.lookahead<q&&se===g)return p;if(k.lookahead===0)break}if(ne=0,k.lookahead>=T&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+T-1])&k.hash_mask,ne=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),ne!==0&&k.strstart-ne<=k.w_size-q&&(k.match_length=X(k,ne)),k.match_length>=T)if(j=a._tr_tally(k,k.strstart-k.match_start,k.match_length-T),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=T){for(k.match_length--;k.strstart++,k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+T-1])&k.hash_mask,ne=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart,--k.match_length!=0;);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+1])&k.hash_mask;else j=a._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(j&&(P(k,!1),k.strm.avail_out===0))return p}return k.insert=k.strstart<T-1?k.strstart:T-1,se===y?(P(k,!0),k.strm.avail_out===0?W:G):k.last_lit&&(P(k,!1),k.strm.avail_out===0)?p:$}function me(k,se){for(var ne,j,N;;){if(k.lookahead<q){if(fe(k),k.lookahead<q&&se===g)return p;if(k.lookahead===0)break}if(ne=0,k.lookahead>=T&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+T-1])&k.hash_mask,ne=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=T-1,ne!==0&&k.prev_length<k.max_lazy_match&&k.strstart-ne<=k.w_size-q&&(k.match_length=X(k,ne),k.match_length<=5&&(k.strategy===1||k.match_length===T&&4096<k.strstart-k.match_start)&&(k.match_length=T-1)),k.prev_length>=T&&k.match_length<=k.prev_length){for(N=k.strstart+k.lookahead-T,j=a._tr_tally(k,k.strstart-1-k.prev_match,k.prev_length-T),k.lookahead-=k.prev_length-1,k.prev_length-=2;++k.strstart<=N&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+T-1])&k.hash_mask,ne=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),--k.prev_length!=0;);if(k.match_available=0,k.match_length=T-1,k.strstart++,j&&(P(k,!1),k.strm.avail_out===0))return p}else if(k.match_available){if((j=a._tr_tally(k,0,k.window[k.strstart-1]))&&P(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return p}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(j=a._tr_tally(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<T-1?k.strstart:T-1,se===y?(P(k,!0),k.strm.avail_out===0?W:G):k.last_lit&&(P(k,!1),k.strm.avail_out===0)?p:$}function pe(k,se,ne,j,N){this.good_length=k,this.max_lazy=se,this.nice_length=ne,this.max_chain=j,this.func=N}function re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*E),this.dyn_dtree=new o.Buf16(2*(2*S+1)),this.bl_tree=new o.Buf16(2*(2*D+1)),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(A+1),this.heap=new o.Buf16(2*_+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*_+1),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Y(k){var se;return k&&k.state?(k.total_in=k.total_out=0,k.data_type=d,(se=k.state).pending=0,se.pending_out=0,se.wrap<0&&(se.wrap=-se.wrap),se.status=se.wrap?C:F,k.adler=se.wrap===2?0:1,se.last_flush=g,a._tr_init(se),h):Z(k,v)}function de(k){var se=Y(k);return se===h&&function(ne){ne.window_size=2*ne.w_size,U(ne.head),ne.max_lazy_match=i[ne.level].max_lazy,ne.good_match=i[ne.level].good_length,ne.nice_match=i[ne.level].nice_length,ne.max_chain_length=i[ne.level].max_chain,ne.strstart=0,ne.block_start=0,ne.lookahead=0,ne.insert=0,ne.match_length=ne.prev_length=T-1,ne.match_available=0,ne.ins_h=0}(k.state),se}function he(k,se,ne,j,N,K){if(!k)return v;var ue=1;if(se===x&&(se=6),j<0?(ue=0,j=-j):15<j&&(ue=2,j-=16),N<1||b<N||ne!==m||j<8||15<j||se<0||9<se||K<0||w<K)return Z(k,v);j===8&&(j=9);var I=new re;return(k.state=I).strm=k,I.wrap=ue,I.gzhead=null,I.w_bits=j,I.w_size=1<<I.w_bits,I.w_mask=I.w_size-1,I.hash_bits=N+7,I.hash_size=1<<I.hash_bits,I.hash_mask=I.hash_size-1,I.hash_shift=~~((I.hash_bits+T-1)/T),I.window=new o.Buf8(2*I.w_size),I.head=new o.Buf16(I.hash_size),I.prev=new o.Buf16(I.w_size),I.lit_bufsize=1<<N+6,I.pending_buf_size=4*I.lit_bufsize,I.pending_buf=new o.Buf8(I.pending_buf_size),I.d_buf=1*I.lit_bufsize,I.l_buf=3*I.lit_bufsize,I.level=se,I.strategy=K,I.method=ne,de(k)}i=[new pe(0,0,0,0,function(k,se){var ne=65535;for(ne>k.pending_buf_size-5&&(ne=k.pending_buf_size-5);;){if(k.lookahead<=1){if(fe(k),k.lookahead===0&&se===g)return p;if(k.lookahead===0)break}k.strstart+=k.lookahead,k.lookahead=0;var j=k.block_start+ne;if((k.strstart===0||k.strstart>=j)&&(k.lookahead=k.strstart-j,k.strstart=j,P(k,!1),k.strm.avail_out===0)||k.strstart-k.block_start>=k.w_size-q&&(P(k,!1),k.strm.avail_out===0))return p}return k.insert=0,se===y?(P(k,!0),k.strm.avail_out===0?W:G):(k.strstart>k.block_start&&(P(k,!1),k.strm.avail_out),p)}),new pe(4,4,8,4,ge),new pe(4,5,16,8,ge),new pe(4,6,32,32,ge),new pe(4,4,16,16,me),new pe(8,16,32,32,me),new pe(8,16,128,128,me),new pe(8,32,128,256,me),new pe(32,128,258,1024,me),new pe(32,258,258,4096,me)],s.deflateInit=function(k,se){return he(k,se,m,15,8,0)},s.deflateInit2=he,s.deflateReset=de,s.deflateResetKeep=Y,s.deflateSetHeader=function(k,se){return k&&k.state?k.state.wrap!==2?v:(k.state.gzhead=se,h):v},s.deflate=function(k,se){var ne,j,N,K;if(!k||!k.state||5<se||se<0)return k?Z(k,v):v;if(j=k.state,!k.output||!k.input&&k.avail_in!==0||j.status===666&&se!==y)return Z(k,k.avail_out===0?-5:v);if(j.strm=k,ne=j.last_flush,j.last_flush=se,j.status===C)if(j.wrap===2)k.adler=0,le(j,31),le(j,139),le(j,8),j.gzhead?(le(j,(j.gzhead.text?1:0)+(j.gzhead.hcrc?2:0)+(j.gzhead.extra?4:0)+(j.gzhead.name?8:0)+(j.gzhead.comment?16:0)),le(j,255&j.gzhead.time),le(j,j.gzhead.time>>8&255),le(j,j.gzhead.time>>16&255),le(j,j.gzhead.time>>24&255),le(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),le(j,255&j.gzhead.os),j.gzhead.extra&&j.gzhead.extra.length&&(le(j,255&j.gzhead.extra.length),le(j,j.gzhead.extra.length>>8&255)),j.gzhead.hcrc&&(k.adler=u(k.adler,j.pending_buf,j.pending,0)),j.gzindex=0,j.status=69):(le(j,0),le(j,0),le(j,0),le(j,0),le(j,0),le(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),le(j,3),j.status=F);else{var ue=m+(j.w_bits-8<<4)<<8;ue|=(2<=j.strategy||j.level<2?0:j.level<6?1:j.level===6?2:3)<<6,j.strstart!==0&&(ue|=32),ue+=31-ue%31,j.status=F,O(j,ue),j.strstart!==0&&(O(j,k.adler>>>16),O(j,65535&k.adler)),k.adler=1}if(j.status===69)if(j.gzhead.extra){for(N=j.pending;j.gzindex<(65535&j.gzhead.extra.length)&&(j.pending!==j.pending_buf_size||(j.gzhead.hcrc&&j.pending>N&&(k.adler=u(k.adler,j.pending_buf,j.pending-N,N)),R(k),N=j.pending,j.pending!==j.pending_buf_size));)le(j,255&j.gzhead.extra[j.gzindex]),j.gzindex++;j.gzhead.hcrc&&j.pending>N&&(k.adler=u(k.adler,j.pending_buf,j.pending-N,N)),j.gzindex===j.gzhead.extra.length&&(j.gzindex=0,j.status=73)}else j.status=73;if(j.status===73)if(j.gzhead.name){N=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>N&&(k.adler=u(k.adler,j.pending_buf,j.pending-N,N)),R(k),N=j.pending,j.pending===j.pending_buf_size)){K=1;break}K=j.gzindex<j.gzhead.name.length?255&j.gzhead.name.charCodeAt(j.gzindex++):0,le(j,K)}while(K!==0);j.gzhead.hcrc&&j.pending>N&&(k.adler=u(k.adler,j.pending_buf,j.pending-N,N)),K===0&&(j.gzindex=0,j.status=91)}else j.status=91;if(j.status===91)if(j.gzhead.comment){N=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>N&&(k.adler=u(k.adler,j.pending_buf,j.pending-N,N)),R(k),N=j.pending,j.pending===j.pending_buf_size)){K=1;break}K=j.gzindex<j.gzhead.comment.length?255&j.gzhead.comment.charCodeAt(j.gzindex++):0,le(j,K)}while(K!==0);j.gzhead.hcrc&&j.pending>N&&(k.adler=u(k.adler,j.pending_buf,j.pending-N,N)),K===0&&(j.status=103)}else j.status=103;if(j.status===103&&(j.gzhead.hcrc?(j.pending+2>j.pending_buf_size&&R(k),j.pending+2<=j.pending_buf_size&&(le(j,255&k.adler),le(j,k.adler>>8&255),k.adler=0,j.status=F)):j.status=F),j.pending!==0){if(R(k),k.avail_out===0)return j.last_flush=-1,h}else if(k.avail_in===0&&z(se)<=z(ne)&&se!==y)return Z(k,-5);if(j.status===666&&k.avail_in!==0)return Z(k,-5);if(k.avail_in!==0||j.lookahead!==0||se!==g&&j.status!==666){var I=j.strategy===2?function(L,Q){for(var J;;){if(L.lookahead===0&&(fe(L),L.lookahead===0)){if(Q===g)return p;break}if(L.match_length=0,J=a._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,J&&(P(L,!1),L.strm.avail_out===0))return p}return L.insert=0,Q===y?(P(L,!0),L.strm.avail_out===0?W:G):L.last_lit&&(P(L,!1),L.strm.avail_out===0)?p:$}(j,se):j.strategy===3?function(L,Q){for(var J,ae,ve,ze,xe=L.window;;){if(L.lookahead<=H){if(fe(L),L.lookahead<=H&&Q===g)return p;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=T&&0<L.strstart&&(ae=xe[ve=L.strstart-1])===xe[++ve]&&ae===xe[++ve]&&ae===xe[++ve]){ze=L.strstart+H;do;while(ae===xe[++ve]&&ae===xe[++ve]&&ae===xe[++ve]&&ae===xe[++ve]&&ae===xe[++ve]&&ae===xe[++ve]&&ae===xe[++ve]&&ae===xe[++ve]&&ve<ze);L.match_length=H-(ze-ve),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=T?(J=a._tr_tally(L,1,L.match_length-T),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(J=a._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),J&&(P(L,!1),L.strm.avail_out===0))return p}return L.insert=0,Q===y?(P(L,!0),L.strm.avail_out===0?W:G):L.last_lit&&(P(L,!1),L.strm.avail_out===0)?p:$}(j,se):i[j.level].func(j,se);if(I!==W&&I!==G||(j.status=666),I===p||I===W)return k.avail_out===0&&(j.last_flush=-1),h;if(I===$&&(se===1?a._tr_align(j):se!==5&&(a._tr_stored_block(j,0,0,!1),se===3&&(U(j.head),j.lookahead===0&&(j.strstart=0,j.block_start=0,j.insert=0))),R(k),k.avail_out===0))return j.last_flush=-1,h}return se!==y?h:j.wrap<=0?1:(j.wrap===2?(le(j,255&k.adler),le(j,k.adler>>8&255),le(j,k.adler>>16&255),le(j,k.adler>>24&255),le(j,255&k.total_in),le(j,k.total_in>>8&255),le(j,k.total_in>>16&255),le(j,k.total_in>>24&255)):(O(j,k.adler>>>16),O(j,65535&k.adler)),R(k),0<j.wrap&&(j.wrap=-j.wrap),j.pending!==0?h:1)},s.deflateEnd=function(k){var se;return k&&k.state?(se=k.state.status)!==C&&se!==69&&se!==73&&se!==91&&se!==103&&se!==F&&se!==666?Z(k,v):(k.state=null,se===F?Z(k,-3):h):v},s.deflateSetDictionary=function(k,se){var ne,j,N,K,ue,I,L,Q,J=se.length;if(!k||!k.state||(K=(ne=k.state).wrap)===2||K===1&&ne.status!==C||ne.lookahead)return v;for(K===1&&(k.adler=l(k.adler,se,J,0)),ne.wrap=0,J>=ne.w_size&&(K===0&&(U(ne.head),ne.strstart=0,ne.block_start=0,ne.insert=0),Q=new o.Buf8(ne.w_size),o.arraySet(Q,se,J-ne.w_size,ne.w_size,0),se=Q,J=ne.w_size),ue=k.avail_in,I=k.next_in,L=k.input,k.avail_in=J,k.next_in=0,k.input=se,fe(ne);ne.lookahead>=T;){for(j=ne.strstart,N=ne.lookahead-(T-1);ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[j+T-1])&ne.hash_mask,ne.prev[j&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=j,j++,--N;);ne.strstart=j,ne.lookahead=T-1,fe(ne)}return ne.strstart+=ne.lookahead,ne.block_start=ne.strstart,ne.insert=ne.lookahead,ne.lookahead=0,ne.match_length=ne.prev_length=T-1,ne.match_available=0,k.next_in=I,k.input=L,k.avail_in=ue,ne.wrap=K,h},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(i,o){var a,l,u,f,g,y,h,v,x,w,d,m,b,_,S,D,E,A,T,H,q,C,F,p,$;a=i.state,l=i.next_in,p=i.input,u=l+(i.avail_in-5),f=i.next_out,$=i.output,g=f-(o-i.avail_out),y=f+(i.avail_out-257),h=a.dmax,v=a.wsize,x=a.whave,w=a.wnext,d=a.window,m=a.hold,b=a.bits,_=a.lencode,S=a.distcode,D=(1<<a.lenbits)-1,E=(1<<a.distbits)-1;e:do{b<15&&(m+=p[l++]<<b,b+=8,m+=p[l++]<<b,b+=8),A=_[m&D];t:for(;;){if(m>>>=T=A>>>24,b-=T,(T=A>>>16&255)===0)$[f++]=65535&A;else{if(!(16&T)){if(!(64&T)){A=_[(65535&A)+(m&(1<<T)-1)];continue t}if(32&T){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}H=65535&A,(T&=15)&&(b<T&&(m+=p[l++]<<b,b+=8),H+=m&(1<<T)-1,m>>>=T,b-=T),b<15&&(m+=p[l++]<<b,b+=8,m+=p[l++]<<b,b+=8),A=S[m&E];n:for(;;){if(m>>>=T=A>>>24,b-=T,!(16&(T=A>>>16&255))){if(!(64&T)){A=S[(65535&A)+(m&(1<<T)-1)];continue n}i.msg="invalid distance code",a.mode=30;break e}if(q=65535&A,b<(T&=15)&&(m+=p[l++]<<b,(b+=8)<T&&(m+=p[l++]<<b,b+=8)),h<(q+=m&(1<<T)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(m>>>=T,b-=T,(T=f-g)<q){if(x<(T=q-T)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(F=d,(C=0)===w){if(C+=v-T,T<H){for(H-=T;$[f++]=d[C++],--T;);C=f-q,F=$}}else if(w<T){if(C+=v+w-T,(T-=w)<H){for(H-=T;$[f++]=d[C++],--T;);if(C=0,w<H){for(H-=T=w;$[f++]=d[C++],--T;);C=f-q,F=$}}}else if(C+=w-T,T<H){for(H-=T;$[f++]=d[C++],--T;);C=f-q,F=$}for(;2<H;)$[f++]=F[C++],$[f++]=F[C++],$[f++]=F[C++],H-=3;H&&($[f++]=F[C++],1<H&&($[f++]=F[C++]))}else{for(C=f-q;$[f++]=$[C++],$[f++]=$[C++],$[f++]=$[C++],2<(H-=3););H&&($[f++]=$[C++],1<H&&($[f++]=$[C++]))}break}}break}}while(l<u&&f<y);l-=H=b>>3,m&=(1<<(b-=H<<3))-1,i.next_in=l,i.next_out=f,i.avail_in=l<u?u-l+5:5-(l-u),i.avail_out=f<y?y-f+257:257-(f-y),a.hold=m,a.bits=b}},{}],49:[function(n,r,s){var i=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),f=1,g=2,y=0,h=-2,v=1,x=852,w=592;function d(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(C){var F;return C&&C.state?(F=C.state,C.total_in=C.total_out=F.total=0,C.msg="",F.wrap&&(C.adler=1&F.wrap),F.mode=v,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new i.Buf32(x),F.distcode=F.distdyn=new i.Buf32(w),F.sane=1,F.back=-1,y):h}function _(C){var F;return C&&C.state?((F=C.state).wsize=0,F.whave=0,F.wnext=0,b(C)):h}function S(C,F){var p,$;return C&&C.state?($=C.state,F<0?(p=0,F=-F):(p=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?h:($.window!==null&&$.wbits!==F&&($.window=null),$.wrap=p,$.wbits=F,_(C))):h}function D(C,F){var p,$;return C?($=new m,(C.state=$).window=null,(p=S(C,F))!==y&&(C.state=null),p):h}var E,A,T=!0;function H(C){if(T){var F;for(E=new i.Buf32(512),A=new i.Buf32(32),F=0;F<144;)C.lens[F++]=8;for(;F<256;)C.lens[F++]=9;for(;F<280;)C.lens[F++]=7;for(;F<288;)C.lens[F++]=8;for(u(f,C.lens,0,288,E,0,C.work,{bits:9}),F=0;F<32;)C.lens[F++]=5;u(g,C.lens,0,32,A,0,C.work,{bits:5}),T=!1}C.lencode=E,C.lenbits=9,C.distcode=A,C.distbits=5}function q(C,F,p,$){var W,G=C.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new i.Buf8(G.wsize)),$>=G.wsize?(i.arraySet(G.window,F,p-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):($<(W=G.wsize-G.wnext)&&(W=$),i.arraySet(G.window,F,p-$,W,G.wnext),($-=W)?(i.arraySet(G.window,F,p-$,$,0),G.wnext=$,G.whave=G.wsize):(G.wnext+=W,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=W))),0}s.inflateReset=_,s.inflateReset2=S,s.inflateResetKeep=b,s.inflateInit=function(C){return D(C,15)},s.inflateInit2=D,s.inflate=function(C,F){var p,$,W,G,Z,z,U,R,P,le,O,X,fe,ge,me,pe,re,Y,de,he,k,se,ne,j,N=0,K=new i.Buf8(4),ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return h;(p=C.state).mode===12&&(p.mode=13),Z=C.next_out,W=C.output,U=C.avail_out,G=C.next_in,$=C.input,z=C.avail_in,R=p.hold,P=p.bits,le=z,O=U,se=y;e:for(;;)switch(p.mode){case v:if(p.wrap===0){p.mode=13;break}for(;P<16;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}if(2&p.wrap&&R===35615){K[p.check=0]=255&R,K[1]=R>>>8&255,p.check=a(p.check,K,2,0),P=R=0,p.mode=2;break}if(p.flags=0,p.head&&(p.head.done=!1),!(1&p.wrap)||(((255&R)<<8)+(R>>8))%31){C.msg="incorrect header check",p.mode=30;break}if((15&R)!=8){C.msg="unknown compression method",p.mode=30;break}if(P-=4,k=8+(15&(R>>>=4)),p.wbits===0)p.wbits=k;else if(k>p.wbits){C.msg="invalid window size",p.mode=30;break}p.dmax=1<<k,C.adler=p.check=1,p.mode=512&R?10:12,P=R=0;break;case 2:for(;P<16;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}if(p.flags=R,(255&p.flags)!=8){C.msg="unknown compression method",p.mode=30;break}if(57344&p.flags){C.msg="unknown header flags set",p.mode=30;break}p.head&&(p.head.text=R>>8&1),512&p.flags&&(K[0]=255&R,K[1]=R>>>8&255,p.check=a(p.check,K,2,0)),P=R=0,p.mode=3;case 3:for(;P<32;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}p.head&&(p.head.time=R),512&p.flags&&(K[0]=255&R,K[1]=R>>>8&255,K[2]=R>>>16&255,K[3]=R>>>24&255,p.check=a(p.check,K,4,0)),P=R=0,p.mode=4;case 4:for(;P<16;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}p.head&&(p.head.xflags=255&R,p.head.os=R>>8),512&p.flags&&(K[0]=255&R,K[1]=R>>>8&255,p.check=a(p.check,K,2,0)),P=R=0,p.mode=5;case 5:if(1024&p.flags){for(;P<16;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}p.length=R,p.head&&(p.head.extra_len=R),512&p.flags&&(K[0]=255&R,K[1]=R>>>8&255,p.check=a(p.check,K,2,0)),P=R=0}else p.head&&(p.head.extra=null);p.mode=6;case 6:if(1024&p.flags&&(z<(X=p.length)&&(X=z),X&&(p.head&&(k=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Array(p.head.extra_len)),i.arraySet(p.head.extra,$,G,X,k)),512&p.flags&&(p.check=a(p.check,$,X,G)),z-=X,G+=X,p.length-=X),p.length))break e;p.length=0,p.mode=7;case 7:if(2048&p.flags){if(z===0)break e;for(X=0;k=$[G+X++],p.head&&k&&p.length<65536&&(p.head.name+=String.fromCharCode(k)),k&&X<z;);if(512&p.flags&&(p.check=a(p.check,$,X,G)),z-=X,G+=X,k)break e}else p.head&&(p.head.name=null);p.length=0,p.mode=8;case 8:if(4096&p.flags){if(z===0)break e;for(X=0;k=$[G+X++],p.head&&k&&p.length<65536&&(p.head.comment+=String.fromCharCode(k)),k&&X<z;);if(512&p.flags&&(p.check=a(p.check,$,X,G)),z-=X,G+=X,k)break e}else p.head&&(p.head.comment=null);p.mode=9;case 9:if(512&p.flags){for(;P<16;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}if(R!==(65535&p.check)){C.msg="header crc mismatch",p.mode=30;break}P=R=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),C.adler=p.check=0,p.mode=12;break;case 10:for(;P<32;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}C.adler=p.check=d(R),P=R=0,p.mode=11;case 11:if(p.havedict===0)return C.next_out=Z,C.avail_out=U,C.next_in=G,C.avail_in=z,p.hold=R,p.bits=P,2;C.adler=p.check=1,p.mode=12;case 12:if(F===5||F===6)break e;case 13:if(p.last){R>>>=7&P,P-=7&P,p.mode=27;break}for(;P<3;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}switch(p.last=1&R,P-=1,3&(R>>>=1)){case 0:p.mode=14;break;case 1:if(H(p),p.mode=20,F!==6)break;R>>>=2,P-=2;break e;case 2:p.mode=17;break;case 3:C.msg="invalid block type",p.mode=30}R>>>=2,P-=2;break;case 14:for(R>>>=7&P,P-=7&P;P<32;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}if((65535&R)!=(R>>>16^65535)){C.msg="invalid stored block lengths",p.mode=30;break}if(p.length=65535&R,P=R=0,p.mode=15,F===6)break e;case 15:p.mode=16;case 16:if(X=p.length){if(z<X&&(X=z),U<X&&(X=U),X===0)break e;i.arraySet(W,$,G,X,Z),z-=X,G+=X,U-=X,Z+=X,p.length-=X;break}p.mode=12;break;case 17:for(;P<14;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}if(p.nlen=257+(31&R),R>>>=5,P-=5,p.ndist=1+(31&R),R>>>=5,P-=5,p.ncode=4+(15&R),R>>>=4,P-=4,286<p.nlen||30<p.ndist){C.msg="too many length or distance symbols",p.mode=30;break}p.have=0,p.mode=18;case 18:for(;p.have<p.ncode;){for(;P<3;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}p.lens[ue[p.have++]]=7&R,R>>>=3,P-=3}for(;p.have<19;)p.lens[ue[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,ne={bits:p.lenbits},se=u(0,p.lens,0,19,p.lencode,0,p.work,ne),p.lenbits=ne.bits,se){C.msg="invalid code lengths set",p.mode=30;break}p.have=0,p.mode=19;case 19:for(;p.have<p.nlen+p.ndist;){for(;pe=(N=p.lencode[R&(1<<p.lenbits)-1])>>>16&255,re=65535&N,!((me=N>>>24)<=P);){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}if(re<16)R>>>=me,P-=me,p.lens[p.have++]=re;else{if(re===16){for(j=me+2;P<j;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}if(R>>>=me,P-=me,p.have===0){C.msg="invalid bit length repeat",p.mode=30;break}k=p.lens[p.have-1],X=3+(3&R),R>>>=2,P-=2}else if(re===17){for(j=me+3;P<j;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}P-=me,k=0,X=3+(7&(R>>>=me)),R>>>=3,P-=3}else{for(j=me+7;P<j;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}P-=me,k=0,X=11+(127&(R>>>=me)),R>>>=7,P-=7}if(p.have+X>p.nlen+p.ndist){C.msg="invalid bit length repeat",p.mode=30;break}for(;X--;)p.lens[p.have++]=k}}if(p.mode===30)break;if(p.lens[256]===0){C.msg="invalid code -- missing end-of-block",p.mode=30;break}if(p.lenbits=9,ne={bits:p.lenbits},se=u(f,p.lens,0,p.nlen,p.lencode,0,p.work,ne),p.lenbits=ne.bits,se){C.msg="invalid literal/lengths set",p.mode=30;break}if(p.distbits=6,p.distcode=p.distdyn,ne={bits:p.distbits},se=u(g,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,ne),p.distbits=ne.bits,se){C.msg="invalid distances set",p.mode=30;break}if(p.mode=20,F===6)break e;case 20:p.mode=21;case 21:if(6<=z&&258<=U){C.next_out=Z,C.avail_out=U,C.next_in=G,C.avail_in=z,p.hold=R,p.bits=P,l(C,O),Z=C.next_out,W=C.output,U=C.avail_out,G=C.next_in,$=C.input,z=C.avail_in,R=p.hold,P=p.bits,p.mode===12&&(p.back=-1);break}for(p.back=0;pe=(N=p.lencode[R&(1<<p.lenbits)-1])>>>16&255,re=65535&N,!((me=N>>>24)<=P);){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}if(pe&&!(240&pe)){for(Y=me,de=pe,he=re;pe=(N=p.lencode[he+((R&(1<<Y+de)-1)>>Y)])>>>16&255,re=65535&N,!(Y+(me=N>>>24)<=P);){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}R>>>=Y,P-=Y,p.back+=Y}if(R>>>=me,P-=me,p.back+=me,p.length=re,pe===0){p.mode=26;break}if(32&pe){p.back=-1,p.mode=12;break}if(64&pe){C.msg="invalid literal/length code",p.mode=30;break}p.extra=15&pe,p.mode=22;case 22:if(p.extra){for(j=p.extra;P<j;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}p.length+=R&(1<<p.extra)-1,R>>>=p.extra,P-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=23;case 23:for(;pe=(N=p.distcode[R&(1<<p.distbits)-1])>>>16&255,re=65535&N,!((me=N>>>24)<=P);){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}if(!(240&pe)){for(Y=me,de=pe,he=re;pe=(N=p.distcode[he+((R&(1<<Y+de)-1)>>Y)])>>>16&255,re=65535&N,!(Y+(me=N>>>24)<=P);){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}R>>>=Y,P-=Y,p.back+=Y}if(R>>>=me,P-=me,p.back+=me,64&pe){C.msg="invalid distance code",p.mode=30;break}p.offset=re,p.extra=15&pe,p.mode=24;case 24:if(p.extra){for(j=p.extra;P<j;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}p.offset+=R&(1<<p.extra)-1,R>>>=p.extra,P-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){C.msg="invalid distance too far back",p.mode=30;break}p.mode=25;case 25:if(U===0)break e;if(X=O-U,p.offset>X){if((X=p.offset-X)>p.whave&&p.sane){C.msg="invalid distance too far back",p.mode=30;break}fe=X>p.wnext?(X-=p.wnext,p.wsize-X):p.wnext-X,X>p.length&&(X=p.length),ge=p.window}else ge=W,fe=Z-p.offset,X=p.length;for(U<X&&(X=U),U-=X,p.length-=X;W[Z++]=ge[fe++],--X;);p.length===0&&(p.mode=21);break;case 26:if(U===0)break e;W[Z++]=p.length,U--,p.mode=21;break;case 27:if(p.wrap){for(;P<32;){if(z===0)break e;z--,R|=$[G++]<<P,P+=8}if(O-=U,C.total_out+=O,p.total+=O,O&&(C.adler=p.check=p.flags?a(p.check,W,O,Z-O):o(p.check,W,O,Z-O)),O=U,(p.flags?R:d(R))!==p.check){C.msg="incorrect data check",p.mode=30;break}P=R=0}p.mode=28;case 28:if(p.wrap&&p.flags){for(;P<32;){if(z===0)break e;z--,R+=$[G++]<<P,P+=8}if(R!==(4294967295&p.total)){C.msg="incorrect length check",p.mode=30;break}P=R=0}p.mode=29;case 29:se=1;break e;case 30:se=-3;break e;case 31:return-4;case 32:default:return h}return C.next_out=Z,C.avail_out=U,C.next_in=G,C.avail_in=z,p.hold=R,p.bits=P,(p.wsize||O!==C.avail_out&&p.mode<30&&(p.mode<27||F!==4))&&q(C,C.output,C.next_out,O-C.avail_out)?(p.mode=31,-4):(le-=C.avail_in,O-=C.avail_out,C.total_in+=le,C.total_out+=O,p.total+=O,p.wrap&&O&&(C.adler=p.check=p.flags?a(p.check,W,O,C.next_out-O):o(p.check,W,O,C.next_out-O)),C.data_type=p.bits+(p.last?64:0)+(p.mode===12?128:0)+(p.mode===20||p.mode===15?256:0),(le==0&&O===0||F===4)&&se===y&&(se=-5),se)},s.inflateEnd=function(C){if(!C||!C.state)return h;var F=C.state;return F.window&&(F.window=null),C.state=null,y},s.inflateGetHeader=function(C,F){var p;return C&&C.state&&2&(p=C.state).wrap?((p.head=F).done=!1,y):h},s.inflateSetDictionary=function(C,F){var p,$=F.length;return C&&C.state?(p=C.state).wrap!==0&&p.mode!==11?h:p.mode===11&&o(1,F,$,0)!==p.check?-3:q(C,F,$,$)?(p.mode=31,-4):(p.havedict=1,y):h},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var i=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,g,y,h,v,x,w,d){var m,b,_,S,D,E,A,T,H,q=d.bits,C=0,F=0,p=0,$=0,W=0,G=0,Z=0,z=0,U=0,R=0,P=null,le=0,O=new i.Buf16(16),X=new i.Buf16(16),fe=null,ge=0;for(C=0;C<=15;C++)O[C]=0;for(F=0;F<h;F++)O[g[y+F]]++;for(W=q,$=15;1<=$&&O[$]===0;$--);if($<W&&(W=$),$===0)return v[x++]=20971520,v[x++]=20971520,d.bits=1,0;for(p=1;p<$&&O[p]===0;p++);for(W<p&&(W=p),C=z=1;C<=15;C++)if(z<<=1,(z-=O[C])<0)return-1;if(0<z&&(f===0||$!==1))return-1;for(X[1]=0,C=1;C<15;C++)X[C+1]=X[C]+O[C];for(F=0;F<h;F++)g[y+F]!==0&&(w[X[g[y+F]]++]=F);if(E=f===0?(P=fe=w,19):f===1?(P=o,le-=257,fe=a,ge-=257,256):(P=l,fe=u,-1),C=p,D=x,Z=F=R=0,_=-1,S=(U=1<<(G=W))-1,f===1&&852<U||f===2&&592<U)return 1;for(;;){for(A=C-Z,H=w[F]<E?(T=0,w[F]):w[F]>E?(T=fe[ge+w[F]],P[le+w[F]]):(T=96,0),m=1<<C-Z,p=b=1<<G;v[D+(R>>Z)+(b-=m)]=A<<24|T<<16|H|0,b!==0;);for(m=1<<C-1;R&m;)m>>=1;if(m!==0?(R&=m-1,R+=m):R=0,F++,--O[C]==0){if(C===$)break;C=g[y+w[F]]}if(W<C&&(R&S)!==_){for(Z===0&&(Z=W),D+=p,z=1<<(G=C-Z);G+Z<$&&!((z-=O[G+Z])<=0);)G++,z<<=1;if(U+=1<<G,f===1&&852<U||f===2&&592<U)return 1;v[_=R&S]=W<<24|G<<16|D-x|0}}return R!==0&&(v[D+R]=C-Z<<24|64<<16|0),d.bits=W,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var i=n("../utils/common"),o=0,a=1;function l(N){for(var K=N.length;0<=--K;)N[K]=0}var u=0,f=29,g=256,y=g+1+f,h=30,v=19,x=2*y+1,w=15,d=16,m=7,b=256,_=16,S=17,D=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(y+2));l(q);var C=new Array(2*h);l(C);var F=new Array(512);l(F);var p=new Array(256);l(p);var $=new Array(f);l($);var W,G,Z,z=new Array(h);function U(N,K,ue,I,L){this.static_tree=N,this.extra_bits=K,this.extra_base=ue,this.elems=I,this.max_length=L,this.has_stree=N&&N.length}function R(N,K){this.dyn_tree=N,this.max_code=0,this.stat_desc=K}function P(N){return N<256?F[N]:F[256+(N>>>7)]}function le(N,K){N.pending_buf[N.pending++]=255&K,N.pending_buf[N.pending++]=K>>>8&255}function O(N,K,ue){N.bi_valid>d-ue?(N.bi_buf|=K<<N.bi_valid&65535,le(N,N.bi_buf),N.bi_buf=K>>d-N.bi_valid,N.bi_valid+=ue-d):(N.bi_buf|=K<<N.bi_valid&65535,N.bi_valid+=ue)}function X(N,K,ue){O(N,ue[2*K],ue[2*K+1])}function fe(N,K){for(var ue=0;ue|=1&N,N>>>=1,ue<<=1,0<--K;);return ue>>>1}function ge(N,K,ue){var I,L,Q=new Array(w+1),J=0;for(I=1;I<=w;I++)Q[I]=J=J+ue[I-1]<<1;for(L=0;L<=K;L++){var ae=N[2*L+1];ae!==0&&(N[2*L]=fe(Q[ae]++,ae))}}function me(N){var K;for(K=0;K<y;K++)N.dyn_ltree[2*K]=0;for(K=0;K<h;K++)N.dyn_dtree[2*K]=0;for(K=0;K<v;K++)N.bl_tree[2*K]=0;N.dyn_ltree[2*b]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function pe(N){8<N.bi_valid?le(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function re(N,K,ue,I){var L=2*K,Q=2*ue;return N[L]<N[Q]||N[L]===N[Q]&&I[K]<=I[ue]}function Y(N,K,ue){for(var I=N.heap[ue],L=ue<<1;L<=N.heap_len&&(L<N.heap_len&&re(K,N.heap[L+1],N.heap[L],N.depth)&&L++,!re(K,I,N.heap[L],N.depth));)N.heap[ue]=N.heap[L],ue=L,L<<=1;N.heap[ue]=I}function de(N,K,ue){var I,L,Q,J,ae=0;if(N.last_lit!==0)for(;I=N.pending_buf[N.d_buf+2*ae]<<8|N.pending_buf[N.d_buf+2*ae+1],L=N.pending_buf[N.l_buf+ae],ae++,I===0?X(N,L,K):(X(N,(Q=p[L])+g+1,K),(J=E[Q])!==0&&O(N,L-=$[Q],J),X(N,Q=P(--I),ue),(J=A[Q])!==0&&O(N,I-=z[Q],J)),ae<N.last_lit;);X(N,b,K)}function he(N,K){var ue,I,L,Q=K.dyn_tree,J=K.stat_desc.static_tree,ae=K.stat_desc.has_stree,ve=K.stat_desc.elems,ze=-1;for(N.heap_len=0,N.heap_max=x,ue=0;ue<ve;ue++)Q[2*ue]!==0?(N.heap[++N.heap_len]=ze=ue,N.depth[ue]=0):Q[2*ue+1]=0;for(;N.heap_len<2;)Q[2*(L=N.heap[++N.heap_len]=ze<2?++ze:0)]=1,N.depth[L]=0,N.opt_len--,ae&&(N.static_len-=J[2*L+1]);for(K.max_code=ze,ue=N.heap_len>>1;1<=ue;ue--)Y(N,Q,ue);for(L=ve;ue=N.heap[1],N.heap[1]=N.heap[N.heap_len--],Y(N,Q,1),I=N.heap[1],N.heap[--N.heap_max]=ue,N.heap[--N.heap_max]=I,Q[2*L]=Q[2*ue]+Q[2*I],N.depth[L]=(N.depth[ue]>=N.depth[I]?N.depth[ue]:N.depth[I])+1,Q[2*ue+1]=Q[2*I+1]=L,N.heap[1]=L++,Y(N,Q,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(xe,be){var Ye,te,oe,ce,V,B,ee=be.dyn_tree,we=be.max_code,Ne=be.stat_desc.static_tree,Ee=be.stat_desc.has_stree,Ie=be.stat_desc.extra_bits,dt=be.stat_desc.extra_base,Je=be.stat_desc.max_length,Ze=0;for(ce=0;ce<=w;ce++)xe.bl_count[ce]=0;for(ee[2*xe.heap[xe.heap_max]+1]=0,Ye=xe.heap_max+1;Ye<x;Ye++)Je<(ce=ee[2*ee[2*(te=xe.heap[Ye])+1]+1]+1)&&(ce=Je,Ze++),ee[2*te+1]=ce,we<te||(xe.bl_count[ce]++,V=0,dt<=te&&(V=Ie[te-dt]),B=ee[2*te],xe.opt_len+=B*(ce+V),Ee&&(xe.static_len+=B*(Ne[2*te+1]+V)));if(Ze!==0){do{for(ce=Je-1;xe.bl_count[ce]===0;)ce--;xe.bl_count[ce]--,xe.bl_count[ce+1]+=2,xe.bl_count[Je]--,Ze-=2}while(0<Ze);for(ce=Je;ce!==0;ce--)for(te=xe.bl_count[ce];te!==0;)we<(oe=xe.heap[--Ye])||(ee[2*oe+1]!==ce&&(xe.opt_len+=(ce-ee[2*oe+1])*ee[2*oe],ee[2*oe+1]=ce),te--)}}(N,K),ge(Q,ze,N.bl_count)}function k(N,K,ue){var I,L,Q=-1,J=K[1],ae=0,ve=7,ze=4;for(J===0&&(ve=138,ze=3),K[2*(ue+1)+1]=65535,I=0;I<=ue;I++)L=J,J=K[2*(I+1)+1],++ae<ve&&L===J||(ae<ze?N.bl_tree[2*L]+=ae:L!==0?(L!==Q&&N.bl_tree[2*L]++,N.bl_tree[2*_]++):ae<=10?N.bl_tree[2*S]++:N.bl_tree[2*D]++,Q=L,ze=(ae=0)===J?(ve=138,3):L===J?(ve=6,3):(ve=7,4))}function se(N,K,ue){var I,L,Q=-1,J=K[1],ae=0,ve=7,ze=4;for(J===0&&(ve=138,ze=3),I=0;I<=ue;I++)if(L=J,J=K[2*(I+1)+1],!(++ae<ve&&L===J)){if(ae<ze)for(;X(N,L,N.bl_tree),--ae!=0;);else L!==0?(L!==Q&&(X(N,L,N.bl_tree),ae--),X(N,_,N.bl_tree),O(N,ae-3,2)):ae<=10?(X(N,S,N.bl_tree),O(N,ae-3,3)):(X(N,D,N.bl_tree),O(N,ae-11,7));Q=L,ze=(ae=0)===J?(ve=138,3):L===J?(ve=6,3):(ve=7,4)}}l(z);var ne=!1;function j(N,K,ue,I){O(N,(u<<1)+(I?1:0),3),function(L,Q,J,ae){pe(L),le(L,J),le(L,~J),i.arraySet(L.pending_buf,L.window,Q,J,L.pending),L.pending+=J}(N,K,ue)}s._tr_init=function(N){ne||(function(){var K,ue,I,L,Q,J=new Array(w+1);for(L=I=0;L<f-1;L++)for($[L]=I,K=0;K<1<<E[L];K++)p[I++]=L;for(p[I-1]=L,L=Q=0;L<16;L++)for(z[L]=Q,K=0;K<1<<A[L];K++)F[Q++]=L;for(Q>>=7;L<h;L++)for(z[L]=Q<<7,K=0;K<1<<A[L]-7;K++)F[256+Q++]=L;for(ue=0;ue<=w;ue++)J[ue]=0;for(K=0;K<=143;)q[2*K+1]=8,K++,J[8]++;for(;K<=255;)q[2*K+1]=9,K++,J[9]++;for(;K<=279;)q[2*K+1]=7,K++,J[7]++;for(;K<=287;)q[2*K+1]=8,K++,J[8]++;for(ge(q,y+1,J),K=0;K<h;K++)C[2*K+1]=5,C[2*K]=fe(K,5);W=new U(q,E,g+1,y,w),G=new U(C,A,0,h,w),Z=new U(new Array(0),T,0,v,m)}(),ne=!0),N.l_desc=new R(N.dyn_ltree,W),N.d_desc=new R(N.dyn_dtree,G),N.bl_desc=new R(N.bl_tree,Z),N.bi_buf=0,N.bi_valid=0,me(N)},s._tr_stored_block=j,s._tr_flush_block=function(N,K,ue,I){var L,Q,J=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(ae){var ve,ze=4093624447;for(ve=0;ve<=31;ve++,ze>>>=1)if(1&ze&&ae.dyn_ltree[2*ve]!==0)return o;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return a;for(ve=32;ve<g;ve++)if(ae.dyn_ltree[2*ve]!==0)return a;return o}(N)),he(N,N.l_desc),he(N,N.d_desc),J=function(ae){var ve;for(k(ae,ae.dyn_ltree,ae.l_desc.max_code),k(ae,ae.dyn_dtree,ae.d_desc.max_code),he(ae,ae.bl_desc),ve=v-1;3<=ve&&ae.bl_tree[2*H[ve]+1]===0;ve--);return ae.opt_len+=3*(ve+1)+5+5+4,ve}(N),L=N.opt_len+3+7>>>3,(Q=N.static_len+3+7>>>3)<=L&&(L=Q)):L=Q=ue+5,ue+4<=L&&K!==-1?j(N,K,ue,I):N.strategy===4||Q===L?(O(N,2+(I?1:0),3),de(N,q,C)):(O(N,4+(I?1:0),3),function(ae,ve,ze,xe){var be;for(O(ae,ve-257,5),O(ae,ze-1,5),O(ae,xe-4,4),be=0;be<xe;be++)O(ae,ae.bl_tree[2*H[be]+1],3);se(ae,ae.dyn_ltree,ve-1),se(ae,ae.dyn_dtree,ze-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,J+1),de(N,N.dyn_ltree,N.dyn_dtree)),me(N),I&&pe(N)},s._tr_tally=function(N,K,ue){return N.pending_buf[N.d_buf+2*N.last_lit]=K>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&K,N.pending_buf[N.l_buf+N.last_lit]=255&ue,N.last_lit++,K===0?N.dyn_ltree[2*ue]++:(N.matches++,K--,N.dyn_ltree[2*(p[ue]+g+1)]++,N.dyn_dtree[2*P(K)]++),N.last_lit===N.lit_bufsize-1},s._tr_align=function(N){O(N,2,3),X(N,b,q),function(K){K.bi_valid===16?(le(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):8<=K.bi_valid&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(i){(function(o,a){if(!o.setImmediate){var l,u,f,g,y=1,h={},v=!1,x=o.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(o);w=w&&w.setTimeout?w:o,l={}.toString.call(o.process)==="[object process]"?function(_){process.nextTick(function(){m(_)})}:function(){if(o.postMessage&&!o.importScripts){var _=!0,S=o.onmessage;return o.onmessage=function(){_=!1},o.postMessage("","*"),o.onmessage=S,_}}()?(g="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",b,!1):o.attachEvent("onmessage",b),function(_){o.postMessage(g+_,"*")}):o.MessageChannel?((f=new MessageChannel).port1.onmessage=function(_){m(_.data)},function(_){f.port2.postMessage(_)}):x&&"onreadystatechange"in x.createElement("script")?(u=x.documentElement,function(_){var S=x.createElement("script");S.onreadystatechange=function(){m(_),S.onreadystatechange=null,u.removeChild(S),S=null},u.appendChild(S)}):function(_){setTimeout(m,0,_)},w.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var S=new Array(arguments.length-1),D=0;D<S.length;D++)S[D]=arguments[D+1];var E={callback:_,args:S};return h[y]=E,l(y),y++},w.clearImmediate=d}function d(_){delete h[_]}function m(_){if(v)setTimeout(m,0,_);else{var S=h[_];if(S){v=!0;try{(function(D){var E=D.callback,A=D.args;switch(A.length){case 0:E();break;case 1:E(A[0]);break;case 2:E(A[0],A[1]);break;case 3:E(A[0],A[1],A[2]);break;default:E.apply(a,A)}})(S)}finally{d(_),v=!1}}}}function b(_){_.source===o&&typeof _.data=="string"&&_.data.indexOf(g)===0&&m(+_.data.slice(g.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Si<"u"?Si:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(m0);var F1=m0.exports;const B1=_c(F1),H1=({projects:e,onSelectProject:t,onCreateProject:n,onExportProject:r,onDeleteProject:s,onImportFolder:i})=>{const[o,a]=M.useState(!1),[l,u]=M.useState(""),[f,g]=M.useState("Software"),y=v=>{v.preventDefault(),l.trim()&&(n(l,f),a(!1),u(""))},h=v=>{switch(v){case"Game":return c.jsx(d1,{className:"w-6 h-6 text-purple-400"});case"Web":return c.jsx(f1,{className:"w-6 h-6 text-blue-400"});default:return c.jsx(d0,{className:"w-6 h-6 text-emerald-400"})}};return c.jsxs("div",{className:"p-8 max-w-7xl mx-auto w-full",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:"Projects"}),c.jsx("p",{className:"text-zinc-400 mt-2",children:"Manage your development plans, specs, and architectures."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:i,className:"flex items-center gap-2 bg-zinc-800 text-zinc-200 px-5 py-2.5 rounded-lg font-semibold hover:bg-zinc-700 transition-colors border border-zinc-700",children:[c.jsx(y1,{className:"w-5 h-5"}),"Import Local Folder"]}),c.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-white text-zinc-950 px-5 py-2.5 rounded-lg font-semibold hover:bg-zinc-200 transition-colors shadow-lg shadow-white/5",children:[c.jsx(Zn,{className:"w-5 h-5"}),"New Project"]})]})]}),e.length===0?c.jsxs("div",{className:"text-center py-20 border border-dashed border-zinc-800 rounded-2xl bg-zinc-900/30",children:[c.jsx(c1,{className:"w-16 h-16 text-zinc-700 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-medium text-zinc-300",children:"No projects yet"}),c.jsx("p",{className:"text-zinc-500 mt-2 max-w-sm mx-auto",children:"Start planning by creating a new project or importing an existing folder."})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>c.jsxs("div",{className:"group relative bg-zinc-900 border border-zinc-800 rounded-xl p-6 hover:border-zinc-600 transition-all hover:shadow-xl hover:shadow-black/50 overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"cursor-pointer flex-1 relative z-10",onClick:()=>t(v.id),children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:"p-3 bg-zinc-950 rounded-lg inline-block border border-zinc-800 group-hover:border-zinc-700 transition-colors",children:h(v.type)}),v.isLocal&&c.jsxs("div",{className:"flex items-center gap-1 bg-blue-500/10 border border-blue-500/20 px-2 py-1 rounded text-[10px] text-blue-400 font-bold uppercase tracking-wider",children:[c.jsx(h1,{className:"w-3 h-3"}),"Local"]})]}),c.jsx("h3",{className:"text-xl font-semibold text-zinc-100 mb-2 group-hover:text-blue-400 transition-colors",children:v.name}),c.jsx("p",{className:"text-zinc-400 text-sm line-clamp-2 mb-4 h-10",children:v.description||"No description yet."}),c.jsxs("div",{className:"text-xs text-zinc-500 mb-4",children:[v.files.length," files"]})]}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-zinc-800 mt-auto relative z-20",children:[c.jsxs("div",{className:"flex items-center text-xs text-zinc-500",children:[c.jsx(s1,{className:"w-3.5 h-3.5 mr-1.5"}),new Date(v.lastModified).toLocaleDateString()]}),c.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:x=>{x.preventDefault(),x.stopPropagation(),r(v)},className:"p-2 hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-blue-400 transition-colors",title:"Export JSON",children:c.jsx(vu,{className:"w-4 h-4"})}),c.jsx("button",{onClick:x=>{x.preventDefault(),x.stopPropagation(),s(v.id)},className:"p-2 hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-red-400 transition-colors",title:v.isLocal?"Remove from List":"Delete Permanently",children:c.jsx(Ft,{className:"w-4 h-4"})})]})]})]},v.id))}),o&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-md p-6 shadow-2xl",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Create New Project"}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Project Name"}),c.jsx("input",{autoFocus:!0,type:"text",required:!0,value:l,onChange:v=>u(v.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent outline-none transition-all",placeholder:"e.g., Space Explorer RPG"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Type"}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Software","Game","Web"].map(v=>c.jsx("button",{type:"button",onClick:()=>g(v),className:`py-2 px-3 rounded-lg text-sm font-medium border transition-all ${f===v?"bg-blue-600/10 border-blue-600 text-blue-400":"bg-zinc-950 border-zinc-800 text-zinc-400 hover:bg-zinc-800"}`,children:v},v))})]}),c.jsxs("div",{className:"flex gap-3 mt-8 pt-4 border-t border-zinc-800",children:[c.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 px-4 py-2 rounded-lg text-zinc-300 hover:bg-zinc-800 transition-colors text-sm font-medium",children:"Cancel"}),c.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Create"})]})]})]})})]})};function ot(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=ot(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var g0={exports:{}},x0={},y0={exports:{}},v0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=M;function U1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var V1=typeof Object.is=="function"?Object.is:U1,W1=ss.useState,Z1=ss.useEffect,G1=ss.useLayoutEffect,K1=ss.useDebugValue;function Y1(e,t){var n=t(),r=W1({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return G1(function(){s.value=n,s.getSnapshot=t,Ja(s)&&i({inst:s})},[e,n,t]),Z1(function(){return Ja(s)&&i({inst:s}),e(function(){Ja(s)&&i({inst:s})})},[e]),K1(n),n}function Ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!V1(e,n)}catch{return!0}}function X1(e,t){return t()}var q1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?X1:Y1;v0.useSyncExternalStore=ss.useSyncExternalStore!==void 0?ss.useSyncExternalStore:q1;y0.exports=v0;var Q1=y0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=M,J1=Q1;function ev(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tv=typeof Object.is=="function"?Object.is:ev,nv=J1.useSyncExternalStore,rv=ma.useRef,sv=ma.useEffect,iv=ma.useMemo,ov=ma.useDebugValue;x0.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=rv(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=iv(function(){function l(h){if(!u){if(u=!0,f=h,h=r(h),s!==void 0&&o.hasValue){var v=o.value;if(s(v,h))return g=v}return g=h}if(v=g,tv(f,h))return v;var x=r(h);return s!==void 0&&s(v,x)?(f=h,v):(f=h,g=x)}var u=!1,f,g,y=n===void 0?null:n;return[function(){return l(t())},y===null?void 0:function(){return l(y())}]},[t,n,r,s]);var a=nv(e,i[0],i[1]);return sv(function(){o.hasValue=!0,o.value=a},[a]),ov(a),a};g0.exports=x0;var av=g0.exports;const lv=_c(av),cv={},nf=e=>{let t;const n=new Set,r=(f,g)=>{const y=typeof f=="function"?f(t):f;if(!Object.is(y,t)){const h=t;t=g??(typeof y!="object"||y===null)?y:Object.assign({},t,y),n.forEach(v=>v(t,h))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(cv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,l);return l},uv=e=>e?nf(e):nf,{useDebugValue:dv}=ie,{useSyncExternalStoreWithSelector:fv}=lv,hv=e=>e;function w0(e,t=hv,n){const r=fv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return dv(r),r}const rf=(e,t)=>{const n=uv(e),r=(s,i=t)=>w0(n,s,i);return Object.assign(r,n),r},pv=(e,t)=>e?rf(e,t):rf;function nt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var mv={value:()=>{}};function ga(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new uo(n)}function uo(e){this._=e}function gv(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}uo.prototype=ga.prototype={constructor:uo,on:function(e,t){var n=this._,r=gv(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=xv(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=sf(n[s],e.name,t);else if(t==null)for(s in n)n[s]=sf(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new uo(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function xv(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function sf(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=mv,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ac="http://www.w3.org/1999/xhtml";const of={svg:"http://www.w3.org/2000/svg",xhtml:ac,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xa(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),of.hasOwnProperty(t)?{space:of[t],local:e}:e}function yv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ac&&t.documentElement.namespaceURI===ac?t.createElement(e):t.createElementNS(n,e)}}function vv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function b0(e){var t=xa(e);return(t.local?vv:yv)(t)}function wv(){}function _u(e){return e==null?wv:function(){return this.querySelector(e)}}function bv(e){typeof e!="function"&&(e=_u(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=new Array(o),l,u,f=0;f<o;++f)(l=i[f])&&(u=e.call(l,l.__data__,f,i))&&("__data__"in l&&(u.__data__=l.__data__),a[f]=u);return new Et(r,this._parents)}function kv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function _v(){return[]}function k0(e){return e==null?_v:function(){return this.querySelectorAll(e)}}function Sv(e){return function(){return kv(e.apply(this,arguments))}}function Nv(e){typeof e=="function"?e=Sv(e):e=k0(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),s.push(l));return new Et(r,s)}function _0(e){return function(){return this.matches(e)}}function S0(e){return function(t){return t.matches(e)}}var zv=Array.prototype.find;function Ev(e){return function(){return zv.call(this.children,e)}}function Cv(){return this.firstElementChild}function jv(e){return this.select(e==null?Cv:Ev(typeof e=="function"?e:S0(e)))}var Dv=Array.prototype.filter;function Tv(){return Array.from(this.children)}function Iv(e){return function(){return Dv.call(this.children,e)}}function Av(e){return this.selectAll(e==null?Tv:Iv(typeof e=="function"?e:S0(e)))}function Mv(e){typeof e!="function"&&(e=_0(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],l,u=0;u<o;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&a.push(l);return new Et(r,this._parents)}function N0(e){return new Array(e.length)}function Rv(){return new Et(this._enter||this._groups.map(N0),this._parents)}function Bo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Bo.prototype={constructor:Bo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Pv(e){return function(){return e}}function Lv(e,t,n,r,s,i){for(var o=0,a,l=t.length,u=i.length;o<u;++o)(a=t[o])?(a.__data__=i[o],r[o]=a):n[o]=new Bo(e,i[o]);for(;o<l;++o)(a=t[o])&&(s[o]=a)}function Ov(e,t,n,r,s,i,o){var a,l,u=new Map,f=t.length,g=i.length,y=new Array(f),h;for(a=0;a<f;++a)(l=t[a])&&(y[a]=h=o.call(l,l.__data__,a,t)+"",u.has(h)?s[a]=l:u.set(h,l));for(a=0;a<g;++a)h=o.call(e,i[a],a,i)+"",(l=u.get(h))?(r[a]=l,l.__data__=i[a],u.delete(h)):n[a]=new Bo(e,i[a]);for(a=0;a<f;++a)(l=t[a])&&u.get(y[a])===l&&(s[a]=l)}function $v(e){return e.__data__}function Fv(e,t){if(!arguments.length)return Array.from(this,$v);var n=t?Ov:Lv,r=this._parents,s=this._groups;typeof e!="function"&&(e=Pv(e));for(var i=s.length,o=new Array(i),a=new Array(i),l=new Array(i),u=0;u<i;++u){var f=r[u],g=s[u],y=g.length,h=Bv(e.call(f,f&&f.__data__,u,r)),v=h.length,x=a[u]=new Array(v),w=o[u]=new Array(v),d=l[u]=new Array(y);n(f,g,x,w,d,h,t);for(var m=0,b=0,_,S;m<v;++m)if(_=x[m]){for(m>=b&&(b=m+1);!(S=w[b])&&++b<v;);_._next=S||null}}return o=new Et(o,r),o._enter=a,o._exit=l,o}function Bv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Hv(){return new Et(this._exit||this._groups.map(N0),this._parents)}function Uv(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function Vv(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),a=new Array(s),l=0;l<o;++l)for(var u=n[l],f=r[l],g=u.length,y=a[l]=new Array(g),h,v=0;v<g;++v)(h=u[v]||f[v])&&(y[v]=h);for(;l<s;++l)a[l]=n[l];return new Et(a,this._parents)}function Wv(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function Zv(e){e||(e=Gv);function t(g,y){return g&&y?e(g.__data__,y.__data__):!g-!y}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],a=o.length,l=s[i]=new Array(a),u,f=0;f<a;++f)(u=o[f])&&(l[f]=u);l.sort(t)}return new Et(s,this._parents).order()}function Gv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Kv(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Yv(){return Array.from(this)}function Xv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function qv(){let e=0;for(const t of this)++e;return e}function Qv(){return!this.node()}function Jv(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,a;i<o;++i)(a=s[i])&&e.call(a,a.__data__,i,s);return this}function ew(e){return function(){this.removeAttribute(e)}}function tw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nw(e,t){return function(){this.setAttribute(e,t)}}function rw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function sw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function iw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ow(e,t){var n=xa(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?tw:ew:typeof t=="function"?n.local?iw:sw:n.local?rw:nw)(n,t))}function z0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function aw(e){return function(){this.style.removeProperty(e)}}function lw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function cw(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function uw(e,t,n){return arguments.length>1?this.each((t==null?aw:typeof t=="function"?cw:lw)(e,t,n??"")):is(this.node(),e)}function is(e,t){return e.style.getPropertyValue(t)||z0(e).getComputedStyle(e,null).getPropertyValue(t)}function dw(e){return function(){delete this[e]}}function fw(e,t){return function(){this[e]=t}}function hw(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function pw(e,t){return arguments.length>1?this.each((t==null?dw:typeof t=="function"?hw:fw)(e,t)):this.node()[e]}function E0(e){return e.trim().split(/^|\s+/)}function Su(e){return e.classList||new C0(e)}function C0(e){this._node=e,this._names=E0(e.getAttribute("class")||"")}C0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function j0(e,t){for(var n=Su(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function D0(e,t){for(var n=Su(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function mw(e){return function(){j0(this,e)}}function gw(e){return function(){D0(this,e)}}function xw(e,t){return function(){(t.apply(this,arguments)?j0:D0)(this,e)}}function yw(e,t){var n=E0(e+"");if(arguments.length<2){for(var r=Su(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?xw:t?mw:gw)(n,t))}function vw(){this.textContent=""}function ww(e){return function(){this.textContent=e}}function bw(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function kw(e){return arguments.length?this.each(e==null?vw:(typeof e=="function"?bw:ww)(e)):this.node().textContent}function _w(){this.innerHTML=""}function Sw(e){return function(){this.innerHTML=e}}function Nw(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function zw(e){return arguments.length?this.each(e==null?_w:(typeof e=="function"?Nw:Sw)(e)):this.node().innerHTML}function Ew(){this.nextSibling&&this.parentNode.appendChild(this)}function Cw(){return this.each(Ew)}function jw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dw(){return this.each(jw)}function Tw(e){var t=typeof e=="function"?e:b0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Iw(){return null}function Aw(e,t){var n=typeof e=="function"?e:b0(e),r=t==null?Iw:typeof t=="function"?t:_u(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Mw(){var e=this.parentNode;e&&e.removeChild(this)}function Rw(){return this.each(Mw)}function Pw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Lw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ow(e){return this.select(e?Lw:Pw)}function $w(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Fw(e){return function(t){e.call(this,t,this.__data__)}}function Bw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Hw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function Uw(e,t,n){return function(){var r=this.__on,s,i=Fw(t);if(r){for(var o=0,a=r.length;o<a;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function Vw(e,t,n){var r=Bw(e+""),s,i=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,f;l<u;++l)for(s=0,f=a[l];s<i;++s)if((o=r[s]).type===f.type&&o.name===f.name)return f.value}return}for(a=t?Uw:Hw,s=0;s<i;++s)this.each(a(r[s],t,n));return this}function T0(e,t,n){var r=z0(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function Ww(e,t){return function(){return T0(this,e,t)}}function Zw(e,t){return function(){return T0(this,e,t.apply(this,arguments))}}function Gw(e,t){return this.each((typeof t=="function"?Zw:Ww)(e,t))}function*Kw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var I0=[null];function Et(e,t){this._groups=e,this._parents=t}function bi(){return new Et([[document.documentElement]],I0)}function Yw(){return this}Et.prototype=bi.prototype={constructor:Et,select:bv,selectAll:Nv,selectChild:jv,selectChildren:Av,filter:Mv,data:Fv,enter:Rv,exit:Hv,join:Uv,merge:Vv,selection:Yw,order:Wv,sort:Zv,call:Kv,nodes:Yv,node:Xv,size:qv,empty:Qv,each:Jv,attr:ow,style:uw,property:pw,classed:yw,text:kw,html:zw,raise:Cw,lower:Dw,append:Tw,insert:Aw,remove:Rw,clone:Ow,datum:$w,on:Vw,dispatch:Gw,[Symbol.iterator]:Kw};function At(e){return typeof e=="string"?new Et([[document.querySelector(e)]],[document.documentElement]):new Et([[e]],I0)}function Xw(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Wt(e,t){if(e=Xw(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const qw={passive:!1},oi={capture:!0,passive:!1};function el(e){e.stopImmediatePropagation()}function Kr(e){e.preventDefault(),e.stopImmediatePropagation()}function A0(e){var t=e.document.documentElement,n=At(e).on("dragstart.drag",Kr,oi);"onselectstart"in t?n.on("selectstart.drag",Kr,oi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function M0(e,t){var n=e.document.documentElement,r=At(e).on("dragstart.drag",null);t&&(r.on("click.drag",Kr,oi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ui=e=>()=>e;function lc(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:o,y:a,dx:l,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}lc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Qw(e){return!e.ctrlKey&&!e.button}function Jw(){return this.parentNode}function e2(e,t){return t??{x:e.x,y:e.y}}function t2(){return navigator.maxTouchPoints||"ontouchstart"in this}function n2(){var e=Qw,t=Jw,n=e2,r=t2,s={},i=ga("start","drag","end"),o=0,a,l,u,f,g=0;function y(_){_.on("mousedown.drag",h).filter(r).on("touchstart.drag",w).on("touchmove.drag",d,qw).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(_,S){if(!(f||!e.call(this,_,S))){var D=b(this,t.call(this,_,S),_,S,"mouse");D&&(At(_.view).on("mousemove.drag",v,oi).on("mouseup.drag",x,oi),A0(_.view),el(_),u=!1,a=_.clientX,l=_.clientY,D("start",_))}}function v(_){if(Kr(_),!u){var S=_.clientX-a,D=_.clientY-l;u=S*S+D*D>g}s.mouse("drag",_)}function x(_){At(_.view).on("mousemove.drag mouseup.drag",null),M0(_.view,u),Kr(_),s.mouse("end",_)}function w(_,S){if(e.call(this,_,S)){var D=_.changedTouches,E=t.call(this,_,S),A=D.length,T,H;for(T=0;T<A;++T)(H=b(this,E,_,S,D[T].identifier,D[T]))&&(el(_),H("start",_,D[T]))}}function d(_){var S=_.changedTouches,D=S.length,E,A;for(E=0;E<D;++E)(A=s[S[E].identifier])&&(Kr(_),A("drag",_,S[E]))}function m(_){var S=_.changedTouches,D=S.length,E,A;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),E=0;E<D;++E)(A=s[S[E].identifier])&&(el(_),A("end",_,S[E]))}function b(_,S,D,E,A,T){var H=i.copy(),q=Wt(T||D,S),C,F,p;if((p=n.call(_,new lc("beforestart",{sourceEvent:D,target:y,identifier:A,active:o,x:q[0],y:q[1],dx:0,dy:0,dispatch:H}),E))!=null)return C=p.x-q[0]||0,F=p.y-q[1]||0,function $(W,G,Z){var z=q,U;switch(W){case"start":s[A]=$,U=o++;break;case"end":delete s[A],--o;case"drag":q=Wt(Z||G,S),U=o;break}H.call(W,_,new lc(W,{sourceEvent:G,subject:p,target:y,identifier:A,active:U,x:q[0]+C,y:q[1]+F,dx:q[0]-z[0],dy:q[1]-z[1],dispatch:H}),E)}}return y.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Ui(!!_),y):e},y.container=function(_){return arguments.length?(t=typeof _=="function"?_:Ui(_),y):t},y.subject=function(_){return arguments.length?(n=typeof _=="function"?_:Ui(_),y):n},y.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:Ui(!!_),y):r},y.on=function(){var _=i.on.apply(i,arguments);return _===i?y:_},y.clickDistance=function(_){return arguments.length?(g=(_=+_)*_,y):Math.sqrt(g)},y}function Nu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function R0(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ki(){}var ai=.7,Ho=1/ai,Yr="\\s*([+-]?\\d+)\\s*",li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r2=/^#([0-9a-f]{3,8})$/,s2=new RegExp(`^rgb\\(${Yr},${Yr},${Yr}\\)$`),i2=new RegExp(`^rgb\\(${rn},${rn},${rn}\\)$`),o2=new RegExp(`^rgba\\(${Yr},${Yr},${Yr},${li}\\)$`),a2=new RegExp(`^rgba\\(${rn},${rn},${rn},${li}\\)$`),l2=new RegExp(`^hsl\\(${li},${rn},${rn}\\)$`),c2=new RegExp(`^hsla\\(${li},${rn},${rn},${li}\\)$`),af={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nu(ki,ci,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lf,formatHex:lf,formatHex8:u2,formatHsl:d2,formatRgb:cf,toString:cf});function lf(){return this.rgb().formatHex()}function u2(){return this.rgb().formatHex8()}function d2(){return P0(this).formatHsl()}function cf(){return this.rgb().formatRgb()}function ci(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=r2.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?uf(t):n===3?new vt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Vi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Vi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=s2.exec(e))?new vt(t[1],t[2],t[3],1):(t=i2.exec(e))?new vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=o2.exec(e))?Vi(t[1],t[2],t[3],t[4]):(t=a2.exec(e))?Vi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=l2.exec(e))?hf(t[1],t[2]/100,t[3]/100,1):(t=c2.exec(e))?hf(t[1],t[2]/100,t[3]/100,t[4]):af.hasOwnProperty(e)?uf(af[e]):e==="transparent"?new vt(NaN,NaN,NaN,0):null}function uf(e){return new vt(e>>16&255,e>>8&255,e&255,1)}function Vi(e,t,n,r){return r<=0&&(e=t=n=NaN),new vt(e,t,n,r)}function f2(e){return e instanceof ki||(e=ci(e)),e?(e=e.rgb(),new vt(e.r,e.g,e.b,e.opacity)):new vt}function cc(e,t,n,r){return arguments.length===1?f2(e):new vt(e,t,n,r??1)}function vt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Nu(vt,cc,R0(ki,{brighter(e){return e=e==null?Ho:Math.pow(Ho,e),new vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ai:Math.pow(ai,e),new vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vt(ur(this.r),ur(this.g),ur(this.b),Uo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:df,formatHex:df,formatHex8:h2,formatRgb:ff,toString:ff}));function df(){return`#${or(this.r)}${or(this.g)}${or(this.b)}`}function h2(){return`#${or(this.r)}${or(this.g)}${or(this.b)}${or((isNaN(this.opacity)?1:this.opacity)*255)}`}function ff(){const e=Uo(this.opacity);return`${e===1?"rgb(":"rgba("}${ur(this.r)}, ${ur(this.g)}, ${ur(this.b)}${e===1?")":`, ${e})`}`}function Uo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ur(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function or(e){return e=ur(e),(e<16?"0":"")+e.toString(16)}function hf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Gt(e,t,n,r)}function P0(e){if(e instanceof Gt)return new Gt(e.h,e.s,e.l,e.opacity);if(e instanceof ki||(e=ci(e)),!e)return new Gt;if(e instanceof Gt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,a=i-s,l=(i+s)/2;return a?(t===i?o=(n-r)/a+(n<r)*6:n===i?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?i+s:2-i-s,o*=60):a=l>0&&l<1?0:o,new Gt(o,a,l,e.opacity)}function p2(e,t,n,r){return arguments.length===1?P0(e):new Gt(e,t,n,r??1)}function Gt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Nu(Gt,p2,R0(ki,{brighter(e){return e=e==null?Ho:Math.pow(Ho,e),new Gt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ai:Math.pow(ai,e),new Gt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new vt(tl(e>=240?e-240:e+120,s,r),tl(e,s,r),tl(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Gt(pf(this.h),Wi(this.s),Wi(this.l),Uo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Uo(this.opacity);return`${e===1?"hsl(":"hsla("}${pf(this.h)}, ${Wi(this.s)*100}%, ${Wi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pf(e){return e=(e||0)%360,e<0?e+360:e}function Wi(e){return Math.max(0,Math.min(1,e||0))}function tl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const L0=e=>()=>e;function m2(e,t){return function(n){return e+n*t}}function g2(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function x2(e){return(e=+e)==1?O0:function(t,n){return n-t?g2(t,n,e):L0(isNaN(t)?n:t)}}function O0(e,t){var n=t-e;return n?m2(e,n):L0(isNaN(e)?t:e)}const mf=function e(t){var n=x2(t);function r(s,i){var o=n((s=cc(s)).r,(i=cc(i)).r),a=n(s.g,i.g),l=n(s.b,i.b),u=O0(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=a(f),s.b=l(f),s.opacity=u(f),s+""}}return r.gamma=e,r}(1);function Cn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var uc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nl=new RegExp(uc.source,"g");function y2(e){return function(){return e}}function v2(e){return function(t){return e(t)+""}}function w2(e,t){var n=uc.lastIndex=nl.lastIndex=0,r,s,i,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=uc.exec(e))&&(s=nl.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:Cn(r,s)})),n=nl.lastIndex;return n<t.length&&(i=t.slice(n),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?v2(l[0].x):y2(t):(t=l.length,function(u){for(var f=0,g;f<t;++f)a[(g=l[f]).i]=g.x(u);return a.join("")})}var gf=180/Math.PI,dc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $0(e,t,n,r,s,i){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*gf,skewX:Math.atan(l)*gf,scaleX:o,scaleY:a}}var Zi;function b2(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?dc:$0(t.a,t.b,t.c,t.d,t.e,t.f)}function k2(e){return e==null||(Zi||(Zi=document.createElementNS("http://www.w3.org/2000/svg","g")),Zi.setAttribute("transform",e),!(e=Zi.transform.baseVal.consolidate()))?dc:(e=e.matrix,$0(e.a,e.b,e.c,e.d,e.e,e.f))}function F0(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function i(u,f,g,y,h,v){if(u!==g||f!==y){var x=h.push("translate(",null,t,null,n);v.push({i:x-4,x:Cn(u,g)},{i:x-2,x:Cn(f,y)})}else(g||y)&&h.push("translate("+g+t+y+n)}function o(u,f,g,y){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),y.push({i:g.push(s(g)+"rotate(",null,r)-2,x:Cn(u,f)})):f&&g.push(s(g)+"rotate("+f+r)}function a(u,f,g,y){u!==f?y.push({i:g.push(s(g)+"skewX(",null,r)-2,x:Cn(u,f)}):f&&g.push(s(g)+"skewX("+f+r)}function l(u,f,g,y,h,v){if(u!==g||f!==y){var x=h.push(s(h)+"scale(",null,",",null,")");v.push({i:x-4,x:Cn(u,g)},{i:x-2,x:Cn(f,y)})}else(g!==1||y!==1)&&h.push(s(h)+"scale("+g+","+y+")")}return function(u,f){var g=[],y=[];return u=e(u),f=e(f),i(u.translateX,u.translateY,f.translateX,f.translateY,g,y),o(u.rotate,f.rotate,g,y),a(u.skewX,f.skewX,g,y),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,g,y),u=f=null,function(h){for(var v=-1,x=y.length,w;++v<x;)g[(w=y[v]).i]=w.x(h);return g.join("")}}}var _2=F0(b2,"px, ","px)","deg)"),S2=F0(k2,", ",")",")"),N2=1e-12;function xf(e){return((e=Math.exp(e))+1/e)/2}function z2(e){return((e=Math.exp(e))-1/e)/2}function E2(e){return((e=Math.exp(2*e))-1)/(e+1)}const C2=function e(t,n,r){function s(i,o){var a=i[0],l=i[1],u=i[2],f=o[0],g=o[1],y=o[2],h=f-a,v=g-l,x=h*h+v*v,w,d;if(x<N2)d=Math.log(y/u)/t,w=function(E){return[a+E*h,l+E*v,u*Math.exp(t*E*d)]};else{var m=Math.sqrt(x),b=(y*y-u*u+r*x)/(2*u*n*m),_=(y*y-u*u-r*x)/(2*y*n*m),S=Math.log(Math.sqrt(b*b+1)-b),D=Math.log(Math.sqrt(_*_+1)-_);d=(D-S)/t,w=function(E){var A=E*d,T=xf(S),H=u/(n*m)*(T*E2(t*A+S)-z2(S));return[a+H*h,l+H*v,u*T/xf(t*A+S)]}}return w.duration=d*1e3*t/Math.SQRT2,w}return s.rho=function(i){var o=Math.max(.001,+i),a=o*o,l=a*a;return e(o,a,l)},s}(Math.SQRT2,2,4);var os=0,js=0,ws=0,B0=1e3,Vo,Ds,Wo=0,xr=0,ya=0,ui=typeof performance=="object"&&performance.now?performance:Date,H0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function zu(){return xr||(H0(j2),xr=ui.now()+ya)}function j2(){xr=0}function Zo(){this._call=this._time=this._next=null}Zo.prototype=U0.prototype={constructor:Zo,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?zu():+n)+(t==null?0:+t),!this._next&&Ds!==this&&(Ds?Ds._next=this:Vo=this,Ds=this),this._call=e,this._time=n,fc()},stop:function(){this._call&&(this._call=null,this._time=1/0,fc())}};function U0(e,t,n){var r=new Zo;return r.restart(e,t,n),r}function D2(){zu(),++os;for(var e=Vo,t;e;)(t=xr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--os}function yf(){xr=(Wo=ui.now())+ya,os=js=0;try{D2()}finally{os=0,I2(),xr=0}}function T2(){var e=ui.now(),t=e-Wo;t>B0&&(ya-=t,Wo=e)}function I2(){for(var e,t=Vo,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Vo=n);Ds=e,fc(r)}function fc(e){if(!os){js&&(js=clearTimeout(js));var t=e-xr;t>24?(e<1/0&&(js=setTimeout(yf,e-ui.now()-ya)),ws&&(ws=clearInterval(ws))):(ws||(Wo=ui.now(),ws=setInterval(T2,B0)),os=1,H0(yf))}}function vf(e,t,n){var r=new Zo;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var A2=ga("start","end","cancel","interrupt"),M2=[],V0=0,wf=1,hc=2,fo=3,bf=4,pc=5,ho=6;function va(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;R2(e,n,{name:t,index:r,group:s,on:A2,tween:M2,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:V0})}function Eu(e,t){var n=qt(e,t);if(n.state>V0)throw new Error("too late; already scheduled");return n}function sn(e,t){var n=qt(e,t);if(n.state>fo)throw new Error("too late; already running");return n}function qt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function R2(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=U0(i,0,n.time);function i(u){n.state=wf,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var f,g,y,h;if(n.state!==wf)return l();for(f in r)if(h=r[f],h.name===n.name){if(h.state===fo)return vf(o);h.state===bf?(h.state=ho,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[f]):+f<t&&(h.state=ho,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[f])}if(vf(function(){n.state===fo&&(n.state=bf,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=hc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===hc){for(n.state=fo,s=new Array(y=n.tween.length),f=0,g=-1;f<y;++f)(h=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(s[++g]=h);s.length=g+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=pc,1),g=-1,y=s.length;++g<y;)s[g].call(e,f);n.state===pc&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ho,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function po(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>hc&&r.state<pc,r.state=ho,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function P2(e){return this.each(function(){po(this,e)})}function L2(e,t){var n,r;return function(){var s=sn(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function O2(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=sn(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var a={name:t,value:n},l=0,u=s.length;l<u;++l)if(s[l].name===t){s[l]=a;break}l===u&&s.push(a)}i.tween=s}}function $2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=qt(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?L2:O2)(n,e,t))}function Cu(e,t,n){var r=e._id;return e.each(function(){var s=sn(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return qt(s,r).value[t]}}function W0(e,t){var n;return(typeof t=="number"?Cn:t instanceof ci?mf:(n=ci(t))?(t=n,mf):w2)(e,t)}function F2(e){return function(){this.removeAttribute(e)}}function B2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function H2(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function U2(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function V2(e,t,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a)))}}function W2(e,t,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a)))}}function Z2(e,t){var n=xa(e),r=n==="transform"?S2:W0;return this.attrTween(e,typeof t=="function"?(n.local?W2:V2)(n,r,Cu(this,"attr."+e,t)):t==null?(n.local?B2:F2)(n):(n.local?U2:H2)(n,r,t))}function G2(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function K2(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Y2(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&K2(e,i)),n}return s._value=t,s}function X2(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&G2(e,i)),n}return s._value=t,s}function q2(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=xa(e);return this.tween(n,(r.local?Y2:X2)(r,t))}function Q2(e,t){return function(){Eu(this,e).delay=+t.apply(this,arguments)}}function J2(e,t){return t=+t,function(){Eu(this,e).delay=t}}function eb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Q2:J2)(t,e)):qt(this.node(),t).delay}function tb(e,t){return function(){sn(this,e).duration=+t.apply(this,arguments)}}function nb(e,t){return t=+t,function(){sn(this,e).duration=t}}function rb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tb:nb)(t,e)):qt(this.node(),t).duration}function sb(e,t){if(typeof t!="function")throw new Error;return function(){sn(this,e).ease=t}}function ib(e){var t=this._id;return arguments.length?this.each(sb(t,e)):qt(this.node(),t).ease}function ob(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;sn(this,e).ease=n}}function ab(e){if(typeof e!="function")throw new Error;return this.each(ob(this._id,e))}function lb(e){typeof e!="function"&&(e=_0(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],l,u=0;u<o;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&a.push(l);return new bn(r,this._parents,this._name,this._id)}function cb(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),a=0;a<i;++a)for(var l=t[a],u=n[a],f=l.length,g=o[a]=new Array(f),y,h=0;h<f;++h)(y=l[h]||u[h])&&(g[h]=y);for(;a<r;++a)o[a]=t[a];return new bn(o,this._parents,this._name,this._id)}function ub(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function db(e,t,n){var r,s,i=ub(t)?Eu:sn;return function(){var o=i(this,e),a=o.on;a!==r&&(s=(r=a).copy()).on(t,n),o.on=s}}function fb(e,t){var n=this._id;return arguments.length<2?qt(this.node(),n).on.on(e):this.each(db(n,e,t))}function hb(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function pb(){return this.on("end.remove",hb(this._id))}function mb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_u(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var a=r[o],l=a.length,u=i[o]=new Array(l),f,g,y=0;y<l;++y)(f=a[y])&&(g=e.call(f,f.__data__,y,a))&&("__data__"in f&&(g.__data__=f.__data__),u[y]=g,va(u[y],t,n,y,u,qt(f,n)));return new bn(i,this._parents,t,n)}function gb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=k0(e));for(var r=this._groups,s=r.length,i=[],o=[],a=0;a<s;++a)for(var l=r[a],u=l.length,f,g=0;g<u;++g)if(f=l[g]){for(var y=e.call(f,f.__data__,g,l),h,v=qt(f,n),x=0,w=y.length;x<w;++x)(h=y[x])&&va(h,t,n,x,y,v);i.push(y),o.push(f)}return new bn(i,o,t,n)}var xb=bi.prototype.constructor;function yb(){return new xb(this._groups,this._parents)}function vb(e,t){var n,r,s;return function(){var i=is(this,e),o=(this.style.removeProperty(e),is(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function Z0(e){return function(){this.style.removeProperty(e)}}function wb(e,t,n){var r,s=n+"",i;return function(){var o=is(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function bb(e,t,n){var r,s,i;return function(){var o=is(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),is(this,e))),o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a))}}function kb(e,t){var n,r,s,i="style."+t,o="end."+i,a;return function(){var l=sn(this,e),u=l.on,f=l.value[i]==null?a||(a=Z0(t)):void 0;(u!==n||s!==f)&&(r=(n=u).copy()).on(o,s=f),l.on=r}}function _b(e,t,n){var r=(e+="")=="transform"?_2:W0;return t==null?this.styleTween(e,vb(e,r)).on("end.style."+e,Z0(e)):typeof t=="function"?this.styleTween(e,bb(e,r,Cu(this,"style."+e,t))).each(kb(this._id,e)):this.styleTween(e,wb(e,r,t),n).on("end.style."+e,null)}function Sb(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Nb(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&Sb(e,o,n)),r}return i._value=t,i}function zb(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Nb(e,t,n??""))}function Eb(e){return function(){this.textContent=e}}function Cb(e){return function(){var t=e(this);this.textContent=t??""}}function jb(e){return this.tween("text",typeof e=="function"?Cb(Cu(this,"text",e)):Eb(e==null?"":e+""))}function Db(e){return function(t){this.textContent=e.call(this,t)}}function Tb(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Db(s)),t}return r._value=e,r}function Ib(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Tb(e))}function Ab(){for(var e=this._name,t=this._id,n=G0(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var f=qt(l,t);va(l,e,n,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new bn(r,this._parents,e,n)}function Mb(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var a={value:o},l={value:function(){--s===0&&i()}};n.each(function(){var u=sn(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),s===0&&i()})}var Rb=0;function bn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function G0(){return++Rb}var on=bi.prototype;bn.prototype={constructor:bn,select:mb,selectAll:gb,selectChild:on.selectChild,selectChildren:on.selectChildren,filter:lb,merge:cb,selection:yb,transition:Ab,call:on.call,nodes:on.nodes,node:on.node,size:on.size,empty:on.empty,each:on.each,on:fb,attr:Z2,attrTween:q2,style:_b,styleTween:zb,text:jb,textTween:Ib,remove:pb,tween:$2,delay:eb,duration:rb,ease:ib,easeVarying:ab,end:Mb,[Symbol.iterator]:on[Symbol.iterator]};function Pb(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Lb={time:null,delay:0,duration:250,ease:Pb};function Ob(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function $b(e){var t,n;e instanceof bn?(t=e._id,e=e._name):(t=G0(),(n=Lb).time=zu(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,u=0;u<a;++u)(l=o[u])&&va(l,e,t,u,o,n||Ob(l,t));return new bn(r,this._parents,e,t)}bi.prototype.interrupt=P2;bi.prototype.transition=$b;const Gi=e=>()=>e;function Fb(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function fn(e,t,n){this.k=e,this.x=t,this.y=n}fn.prototype={constructor:fn,scale:function(e){return e===1?this:new fn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new fn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var mn=new fn(1,0,0);fn.prototype;function rl(e){e.stopImmediatePropagation()}function bs(e){e.preventDefault(),e.stopImmediatePropagation()}function Bb(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Hb(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function kf(){return this.__zoom||mn}function Ub(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Vb(){return navigator.maxTouchPoints||"ontouchstart"in this}function Wb(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function K0(){var e=Bb,t=Hb,n=Wb,r=Ub,s=Vb,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=C2,u=ga("start","zoom","end"),f,g,y,h=500,v=150,x=0,w=10;function d(p){p.property("__zoom",kf).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",H).filter(s).on("touchstart.zoom",q).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}d.transform=function(p,$,W,G){var Z=p.selection?p.selection():p;Z.property("__zoom",kf),p!==Z?S(p,$,W,G):Z.interrupt().each(function(){D(this,arguments).event(G).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},d.scaleBy=function(p,$,W,G){d.scaleTo(p,function(){var Z=this.__zoom.k,z=typeof $=="function"?$.apply(this,arguments):$;return Z*z},W,G)},d.scaleTo=function(p,$,W,G){d.transform(p,function(){var Z=t.apply(this,arguments),z=this.__zoom,U=W==null?_(Z):typeof W=="function"?W.apply(this,arguments):W,R=z.invert(U),P=typeof $=="function"?$.apply(this,arguments):$;return n(b(m(z,P),U,R),Z,o)},W,G)},d.translateBy=function(p,$,W,G){d.transform(p,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof W=="function"?W.apply(this,arguments):W),t.apply(this,arguments),o)},null,G)},d.translateTo=function(p,$,W,G,Z){d.transform(p,function(){var z=t.apply(this,arguments),U=this.__zoom,R=G==null?_(z):typeof G=="function"?G.apply(this,arguments):G;return n(mn.translate(R[0],R[1]).scale(U.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof W=="function"?-W.apply(this,arguments):-W),z,o)},G,Z)};function m(p,$){return $=Math.max(i[0],Math.min(i[1],$)),$===p.k?p:new fn($,p.x,p.y)}function b(p,$,W){var G=$[0]-W[0]*p.k,Z=$[1]-W[1]*p.k;return G===p.x&&Z===p.y?p:new fn(p.k,G,Z)}function _(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function S(p,$,W,G){p.on("start.zoom",function(){D(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(G).end()}).tween("zoom",function(){var Z=this,z=arguments,U=D(Z,z).event(G),R=t.apply(Z,z),P=W==null?_(R):typeof W=="function"?W.apply(Z,z):W,le=Math.max(R[1][0]-R[0][0],R[1][1]-R[0][1]),O=Z.__zoom,X=typeof $=="function"?$.apply(Z,z):$,fe=l(O.invert(P).concat(le/O.k),X.invert(P).concat(le/X.k));return function(ge){if(ge===1)ge=X;else{var me=fe(ge),pe=le/me[2];ge=new fn(pe,P[0]-me[0]*pe,P[1]-me[1]*pe)}U.zoom(null,ge)}})}function D(p,$,W){return!W&&p.__zooming||new E(p,$)}function E(p,$){this.that=p,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(p,$),this.taps=0}E.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,$){return this.mouse&&p!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var $=At(this.that).datum();u.call(p,this.that,new Fb(p,{sourceEvent:this.sourceEvent,target:d,transform:this.that.__zoom,dispatch:u}),$)}};function A(p,...$){if(!e.apply(this,arguments))return;var W=D(this,$).event(p),G=this.__zoom,Z=Math.max(i[0],Math.min(i[1],G.k*Math.pow(2,r.apply(this,arguments)))),z=Wt(p);if(W.wheel)(W.mouse[0][0]!==z[0]||W.mouse[0][1]!==z[1])&&(W.mouse[1]=G.invert(W.mouse[0]=z)),clearTimeout(W.wheel);else{if(G.k===Z)return;W.mouse=[z,G.invert(z)],po(this),W.start()}bs(p),W.wheel=setTimeout(U,v),W.zoom("mouse",n(b(m(G,Z),W.mouse[0],W.mouse[1]),W.extent,o));function U(){W.wheel=null,W.end()}}function T(p,...$){if(y||!e.apply(this,arguments))return;var W=p.currentTarget,G=D(this,$,!0).event(p),Z=At(p.view).on("mousemove.zoom",P,!0).on("mouseup.zoom",le,!0),z=Wt(p,W),U=p.clientX,R=p.clientY;A0(p.view),rl(p),G.mouse=[z,this.__zoom.invert(z)],po(this),G.start();function P(O){if(bs(O),!G.moved){var X=O.clientX-U,fe=O.clientY-R;G.moved=X*X+fe*fe>x}G.event(O).zoom("mouse",n(b(G.that.__zoom,G.mouse[0]=Wt(O,W),G.mouse[1]),G.extent,o))}function le(O){Z.on("mousemove.zoom mouseup.zoom",null),M0(O.view,G.moved),bs(O),G.event(O).end()}}function H(p,...$){if(e.apply(this,arguments)){var W=this.__zoom,G=Wt(p.changedTouches?p.changedTouches[0]:p,this),Z=W.invert(G),z=W.k*(p.shiftKey?.5:2),U=n(b(m(W,z),G,Z),t.apply(this,$),o);bs(p),a>0?At(this).transition().duration(a).call(S,U,G,p):At(this).call(d.transform,U,G,p)}}function q(p,...$){if(e.apply(this,arguments)){var W=p.touches,G=W.length,Z=D(this,$,p.changedTouches.length===G).event(p),z,U,R,P;for(rl(p),U=0;U<G;++U)R=W[U],P=Wt(R,this),P=[P,this.__zoom.invert(P),R.identifier],Z.touch0?!Z.touch1&&Z.touch0[2]!==P[2]&&(Z.touch1=P,Z.taps=0):(Z.touch0=P,z=!0,Z.taps=1+!!f);f&&(f=clearTimeout(f)),z&&(Z.taps<2&&(g=P[0],f=setTimeout(function(){f=null},h)),po(this),Z.start())}}function C(p,...$){if(this.__zooming){var W=D(this,$).event(p),G=p.changedTouches,Z=G.length,z,U,R,P;for(bs(p),z=0;z<Z;++z)U=G[z],R=Wt(U,this),W.touch0&&W.touch0[2]===U.identifier?W.touch0[0]=R:W.touch1&&W.touch1[2]===U.identifier&&(W.touch1[0]=R);if(U=W.that.__zoom,W.touch1){var le=W.touch0[0],O=W.touch0[1],X=W.touch1[0],fe=W.touch1[1],ge=(ge=X[0]-le[0])*ge+(ge=X[1]-le[1])*ge,me=(me=fe[0]-O[0])*me+(me=fe[1]-O[1])*me;U=m(U,Math.sqrt(ge/me)),R=[(le[0]+X[0])/2,(le[1]+X[1])/2],P=[(O[0]+fe[0])/2,(O[1]+fe[1])/2]}else if(W.touch0)R=W.touch0[0],P=W.touch0[1];else return;W.zoom("touch",n(b(U,R,P),W.extent,o))}}function F(p,...$){if(this.__zooming){var W=D(this,$).event(p),G=p.changedTouches,Z=G.length,z,U;for(rl(p),y&&clearTimeout(y),y=setTimeout(function(){y=null},h),z=0;z<Z;++z)U=G[z],W.touch0&&W.touch0[2]===U.identifier?delete W.touch0:W.touch1&&W.touch1[2]===U.identifier&&delete W.touch1;if(W.touch1&&!W.touch0&&(W.touch0=W.touch1,delete W.touch1),W.touch0)W.touch0[1]=this.__zoom.invert(W.touch0[0]);else if(W.end(),W.taps===2&&(U=Wt(U,this),Math.hypot(g[0]-U[0],g[1]-U[1])<w)){var R=At(this).on("dblclick.zoom");R&&R.apply(this,arguments)}}}return d.wheelDelta=function(p){return arguments.length?(r=typeof p=="function"?p:Gi(+p),d):r},d.filter=function(p){return arguments.length?(e=typeof p=="function"?p:Gi(!!p),d):e},d.touchable=function(p){return arguments.length?(s=typeof p=="function"?p:Gi(!!p),d):s},d.extent=function(p){return arguments.length?(t=typeof p=="function"?p:Gi([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),d):t},d.scaleExtent=function(p){return arguments.length?(i[0]=+p[0],i[1]=+p[1],d):[i[0],i[1]]},d.translateExtent=function(p){return arguments.length?(o[0][0]=+p[0][0],o[1][0]=+p[1][0],o[0][1]=+p[0][1],o[1][1]=+p[1][1],d):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},d.constrain=function(p){return arguments.length?(n=p,d):n},d.duration=function(p){return arguments.length?(a=+p,d):a},d.interpolate=function(p){return arguments.length?(l=p,d):l},d.on=function(){var p=u.on.apply(u,arguments);return p===u?d:p},d.clickDistance=function(p){return arguments.length?(x=(p=+p)*p,d):Math.sqrt(x)},d.tapDistance=function(p){return arguments.length?(w=+p,d):w},d}const wa=M.createContext(null),Zb=wa.Provider,kn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Y0=kn.error001();function Re(e,t){const n=M.useContext(wa);if(n===null)throw new Error(Y0);return w0(n,e,t)}const Qe=()=>{const e=M.useContext(wa);if(e===null)throw new Error(Y0);return M.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Gb=e=>e.userSelectionActive?"none":"all";function ju({position:e,children:t,className:n,style:r,...s}){const i=Re(Gb),o=`${e}`.split("-");return ie.createElement("div",{className:ot(["react-flow__panel",n,...o]),style:{...r,pointerEvents:i},...s},t)}function Kb({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:ie.createElement(ju,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ie.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Yb=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...f})=>{const g=M.useRef(null),[y,h]=M.useState({x:0,y:0,width:0,height:0}),v=ot(["react-flow__edge-textwrapper",u]);return M.useEffect(()=>{if(g.current){const x=g.current.getBBox();h({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:ie.createElement("g",{transform:`translate(${e-y.width/2} ${t-y.height/2})`,className:v,visibility:y.width?"visible":"hidden",...f},s&&ie.createElement("rect",{width:y.width+2*o[0],x:-o[0],y:-o[1],height:y.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),ie.createElement("text",{className:"react-flow__edge-text",y:y.height/2,dy:"0.3em",ref:g,style:r},n),l)};var Xb=M.memo(Yb);const Du=e=>({width:e.offsetWidth,height:e.offsetHeight}),as=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Tu=(e={x:0,y:0},t)=>({x:as(e.x,t[0][0],t[1][0]),y:as(e.y,t[0][1],t[1][1])}),_f=(e,t,n)=>e<t?as(Math.abs(e-t),1,50)/50:e>n?-as(Math.abs(e-n),1,50)/50:0,X0=(e,t)=>{const n=_f(e.x,35,t.width-35)*20,r=_f(e.y,35,t.height-35)*20;return[n,r]},q0=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Q0=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),di=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),J0=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Sf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),qb=(e,t)=>J0(Q0(di(e),di(t))),mc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Qb=e=>Rt(e.width)&&Rt(e.height)&&Rt(e.x)&&Rt(e.y),Rt=e=>!isNaN(e)&&isFinite(e),Ve=Symbol.for("internals"),em=["Enter"," ","Escape"],Jb=(e,t)=>{},ek=e=>"nativeEvent"in e;function gc(e){var s,i;const t=ek(e)?e.nativeEvent:e,n=((i=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const tm=e=>"clientX"in e,Un=(e,t)=>{var i,o;const n=tm(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},Go=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},_i=({id:e,path:t,labelX:n,labelY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:g,markerStart:y,interactionWidth:h=20})=>ie.createElement(ie.Fragment,null,ie.createElement("path",{id:e,style:f,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:g,markerStart:y}),h&&ie.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),s&&Rt(n)&&Rt(r)?ie.createElement(Xb,{x:n,y:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);_i.displayName="BaseEdge";function ks(e,t,n){return n===void 0?n:r=>{const s=t().edges.find(i=>i.id===e);s&&n(r,{...s})}}function nm({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[i,a,s,o]}function rm({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:a}){const l=e*.125+s*.375+o*.375+n*.125,u=t*.125+i*.375+a*.375+r*.125,f=Math.abs(l-e),g=Math.abs(u-t);return[l,u,f,g]}var Gn;(function(e){e.Strict="strict",e.Loose="loose"})(Gn||(Gn={}));var ar;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ar||(ar={}));var fi;(function(e){e.Partial="partial",e.Full="full"})(fi||(fi={}));var In;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(In||(In={}));var hi;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(hi||(hi={}));var ke;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ke||(ke={}));function Nf({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===ke.Left||e===ke.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function sm({sourceX:e,sourceY:t,sourcePosition:n=ke.Bottom,targetX:r,targetY:s,targetPosition:i=ke.Top}){const[o,a]=Nf({pos:n,x1:e,y1:t,x2:r,y2:s}),[l,u]=Nf({pos:i,x1:r,y1:s,x2:e,y2:t}),[f,g,y,h]=rm({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${o},${a} ${l},${u} ${r},${s}`,f,g,y,h]}const Iu=M.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=ke.Bottom,targetPosition:i=ke.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:g,style:y,markerEnd:h,markerStart:v,interactionWidth:x})=>{const[w,d,m]=sm({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i});return ie.createElement(_i,{path:w,labelX:d,labelY:m,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:g,style:y,markerEnd:h,markerStart:v,interactionWidth:x})});Iu.displayName="SimpleBezierEdge";const zf={[ke.Left]:{x:-1,y:0},[ke.Right]:{x:1,y:0},[ke.Top]:{x:0,y:-1},[ke.Bottom]:{x:0,y:1}},tk=({source:e,sourcePosition:t=ke.Bottom,target:n})=>t===ke.Left||t===ke.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Ef=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function nk({source:e,sourcePosition:t=ke.Bottom,target:n,targetPosition:r=ke.Top,center:s,offset:i}){const o=zf[t],a=zf[r],l={x:e.x+o.x*i,y:e.y+o.y*i},u={x:n.x+a.x*i,y:n.y+a.y*i},f=tk({source:l,sourcePosition:t,target:u}),g=f.x!==0?"x":"y",y=f[g];let h=[],v,x;const w={x:0,y:0},d={x:0,y:0},[m,b,_,S]=nm({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[g]*a[g]===-1){v=s.x??m,x=s.y??b;const E=[{x:v,y:l.y},{x:v,y:u.y}],A=[{x:l.x,y:x},{x:u.x,y:x}];o[g]===y?h=g==="x"?E:A:h=g==="x"?A:E}else{const E=[{x:l.x,y:u.y}],A=[{x:u.x,y:l.y}];if(g==="x"?h=o.x===y?A:E:h=o.y===y?E:A,t===r){const F=Math.abs(e[g]-n[g]);if(F<=i){const p=Math.min(i-1,i-F);o[g]===y?w[g]=(l[g]>e[g]?-1:1)*p:d[g]=(u[g]>n[g]?-1:1)*p}}if(t!==r){const F=g==="x"?"y":"x",p=o[g]===a[F],$=l[F]>u[F],W=l[F]<u[F];(o[g]===1&&(!p&&$||p&&W)||o[g]!==1&&(!p&&W||p&&$))&&(h=g==="x"?E:A)}const T={x:l.x+w.x,y:l.y+w.y},H={x:u.x+d.x,y:u.y+d.y},q=Math.max(Math.abs(T.x-h[0].x),Math.abs(H.x-h[0].x)),C=Math.max(Math.abs(T.y-h[0].y),Math.abs(H.y-h[0].y));q>=C?(v=(T.x+H.x)/2,x=h[0].y):(v=h[0].x,x=(T.y+H.y)/2)}return[[e,{x:l.x+w.x,y:l.y+w.y},...h,{x:u.x+d.x,y:u.y+d.y},n],v,x,_,S]}function rk(e,t,n,r){const s=Math.min(Ef(e,t)/2,Ef(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${i+s*u},${o}Q ${i},${o} ${i},${o+s*f}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${o+s*l}Q ${i},${o} ${i+s*a},${o}`}function xc({sourceX:e,sourceY:t,sourcePosition:n=ke.Bottom,targetX:r,targetY:s,targetPosition:i=ke.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20}){const[f,g,y,h,v]=nk({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:a,y:l},offset:u});return[f.reduce((w,d,m)=>{let b="";return m>0&&m<f.length-1?b=rk(f[m-1],d,f[m+1],o):b=`${m===0?"M":"L"}${d.x} ${d.y}`,w+=b,w},""),g,y,h,v]}const ba=M.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:f,sourcePosition:g=ke.Bottom,targetPosition:y=ke.Top,markerEnd:h,markerStart:v,pathOptions:x,interactionWidth:w})=>{const[d,m,b]=xc({sourceX:e,sourceY:t,sourcePosition:g,targetX:n,targetY:r,targetPosition:y,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return ie.createElement(_i,{path:d,labelX:m,labelY:b,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:h,markerStart:v,interactionWidth:w})});ba.displayName="SmoothStepEdge";const Au=M.memo(e=>{var t;return ie.createElement(ba,{...e,pathOptions:M.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Au.displayName="StepEdge";function sk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,o,a]=nm({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,o,a]}const Mu=M.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:g,markerStart:y,interactionWidth:h})=>{const[v,x,w]=sk({sourceX:e,sourceY:t,targetX:n,targetY:r});return ie.createElement(_i,{path:v,labelX:x,labelY:w,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:g,markerStart:y,interactionWidth:h})});Mu.displayName="StraightEdge";function Ki(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Cf({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case ke.Left:return[t-Ki(t-r,i),n];case ke.Right:return[t+Ki(r-t,i),n];case ke.Top:return[t,n-Ki(n-s,i)];case ke.Bottom:return[t,n+Ki(s-n,i)]}}function im({sourceX:e,sourceY:t,sourcePosition:n=ke.Bottom,targetX:r,targetY:s,targetPosition:i=ke.Top,curvature:o=.25}){const[a,l]=Cf({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[u,f]=Cf({pos:i,x1:r,y1:s,x2:e,y2:t,c:o}),[g,y,h,v]=rm({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:f});return[`M${e},${t} C${a},${l} ${u},${f} ${r},${s}`,g,y,h,v]}const Ko=M.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=ke.Bottom,targetPosition:i=ke.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:g,style:y,markerEnd:h,markerStart:v,pathOptions:x,interactionWidth:w})=>{const[d,m,b]=im({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i,curvature:x==null?void 0:x.curvature});return ie.createElement(_i,{path:d,labelX:m,labelY:b,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:g,style:y,markerEnd:h,markerStart:v,interactionWidth:w})});Ko.displayName="BezierEdge";const Ru=M.createContext(null),ik=Ru.Provider;Ru.Consumer;const ok=()=>M.useContext(Ru),ak=e=>"id"in e&&"source"in e&&"target"in e,lk=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,yc=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,ck=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),om=(e,t)=>{if(!e.source||!e.target)return t;let n;return ak(e)?n={...e}:n={...e,id:lk(e)},ck(n,t)?t:t.concat(n)},vc=({x:e,y:t},[n,r,s],i,[o,a])=>{const l={x:(e-n)/s,y:(t-r)/s};return i?{x:o*Math.round(l.x/o),y:a*Math.round(l.y/a)}:l},am=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r}),dr=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],s={x:e.position.x-n,y:e.position.y-r};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:s}},ka=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const{x:i,y:o}=dr(s,t).positionAbsolute;return Q0(r,di({x:i,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return J0(n)},lm=(e,t,[n,r,s]=[0,0,1],i=!1,o=!1,a=[0,0])=>{const l={x:(t.x-n)/s,y:(t.y-r)/s,width:t.width/s,height:t.height/s},u=[];return e.forEach(f=>{const{width:g,height:y,selectable:h=!0,hidden:v=!1}=f;if(o&&!h||v)return!1;const{positionAbsolute:x}=dr(f,a),w={x:x.x,y:x.y,width:g||0,height:y||0},d=mc(l,w),m=typeof g>"u"||typeof y>"u"||g===null||y===null,b=i&&d>0,_=(g||0)*(y||0);(m||b||d>=_||f.dragging)&&u.push(f)}),u},cm=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},um=(e,t,n,r,s,i=.1)=>{const o=t/(e.width*(1+i)),a=n/(e.height*(1+i)),l=Math.min(o,a),u=as(l,r,s),f=e.x+e.width/2,g=e.y+e.height/2,y=t/2-f*u,h=n/2-g*u;return{x:y,y:h,zoom:u}},er=(e,t=0)=>e.transition().duration(t);function jf(e,t,n,r){return(t[n]||[]).reduce((s,i)=>{var o,a;return`${e.id}-${i.id}-${n}`!==r&&s.push({id:i.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+i.y+i.height/2}),s},[])}function uk(e,t,n,r,s,i){const{x:o,y:a}=Un(e),u=t.elementsFromPoint(o,a).find(v=>v.classList.contains("react-flow__handle"));if(u){const v=u.getAttribute("data-nodeid");if(v){const x=Pu(void 0,u),w=u.getAttribute("data-handleid"),d=i({nodeId:v,id:w,type:x});if(d){const m=s.find(b=>b.nodeId===v&&b.type===x&&b.id===w);return{handle:{id:w,type:x,nodeId:v,x:(m==null?void 0:m.x)||n.x,y:(m==null?void 0:m.y)||n.y},validHandleResult:d}}}}let f=[],g=1/0;if(s.forEach(v=>{const x=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(x<=r){const w=i(v);x<=g&&(x<g?f=[{handle:v,validHandleResult:w}]:x===g&&f.push({handle:v,validHandleResult:w}),g=x)}}),!f.length)return{handle:null,validHandleResult:dm()};if(f.length===1)return f[0];const y=f.some(({validHandleResult:v})=>v.isValid),h=f.some(({handle:v})=>v.type==="target");return f.find(({handle:v,validHandleResult:x})=>h?v.type==="target":y?x.isValid:!0)||f[0]}const dk={source:null,target:null,sourceHandle:null,targetHandle:null},dm=()=>({handleDomNode:null,isValid:!1,connection:dk,endHandle:null});function fm(e,t,n,r,s,i,o){const a=s==="target",l=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...dm(),handleDomNode:l};if(l){const f=Pu(void 0,l),g=l.getAttribute("data-nodeid"),y=l.getAttribute("data-handleid"),h=l.classList.contains("connectable"),v=l.classList.contains("connectableend"),x={source:a?g:n,sourceHandle:a?y:r,target:a?n:g,targetHandle:a?r:y};u.connection=x,h&&v&&(t===Gn.Strict?a&&f==="source"||!a&&f==="target":g!==n||y!==r)&&(u.endHandle={nodeId:g,handleId:y,type:f},u.isValid=i(x))}return u}function fk({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((s,i)=>{if(i[Ve]){const{handleBounds:o}=i[Ve];let a=[],l=[];o&&(a=jf(i,o,"source",`${t}-${n}-${r}`),l=jf(i,o,"target",`${t}-${n}-${r}`)),s.push(...a,...l)}return s},[])}function Pu(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function sl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function hk(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function hm({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:s,getState:i,setState:o,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const f=q0(e.target),{connectionMode:g,domNode:y,autoPanOnConnect:h,connectionRadius:v,onConnectStart:x,panBy:w,getNodes:d,cancelConnection:m}=i();let b=0,_;const{x:S,y:D}=Un(e),E=f==null?void 0:f.elementFromPoint(S,D),A=Pu(l,E),T=y==null?void 0:y.getBoundingClientRect();if(!T||!A)return;let H,q=Un(e,T),C=!1,F=null,p=!1,$=null;const W=fk({nodes:d(),nodeId:n,handleId:t,handleType:A}),G=()=>{if(!h)return;const[U,R]=X0(q,T);w({x:U,y:R}),b=requestAnimationFrame(G)};o({connectionPosition:q,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:A,connectionStartHandle:{nodeId:n,handleId:t,type:A},connectionEndHandle:null}),x==null||x(e,{nodeId:n,handleId:t,handleType:A});function Z(U){const{transform:R}=i();q=Un(U,T);const{handle:P,validHandleResult:le}=uk(U,f,vc(q,R,!1,[1,1]),v,W,O=>fm(O,g,n,t,s?"target":"source",a,f));if(_=P,C||(G(),C=!0),$=le.handleDomNode,F=le.connection,p=le.isValid,o({connectionPosition:_&&p?am({x:_.x,y:_.y},R):q,connectionStatus:hk(!!_,p),connectionEndHandle:le.endHandle}),!_&&!p&&!$)return sl(H);F.source!==F.target&&$&&(sl(H),H=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",p),$.classList.toggle("react-flow__handle-valid",p))}function z(U){var R,P;(_||$)&&F&&p&&(r==null||r(F)),(P=(R=i()).onConnectEnd)==null||P.call(R,U),l&&(u==null||u(U)),sl(H),m(),cancelAnimationFrame(b),C=!1,p=!1,F=null,$=null,f.removeEventListener("mousemove",Z),f.removeEventListener("mouseup",z),f.removeEventListener("touchmove",Z),f.removeEventListener("touchend",z)}f.addEventListener("mousemove",Z),f.addEventListener("mouseup",z),f.addEventListener("touchmove",Z),f.addEventListener("touchend",z)}const Df=()=>!0,pk=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),mk=(e,t,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:o}=r;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},pm=M.forwardRef(({type:e="source",position:t=ke.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:a,children:l,className:u,onMouseDown:f,onTouchStart:g,...y},h)=>{var T,H;const v=o||null,x=e==="target",w=Qe(),d=ok(),{connectOnClick:m,noPanClassName:b}=Re(pk,nt),{connecting:_,clickConnecting:S}=Re(mk(d,v,e),nt);d||(H=(T=w.getState()).onError)==null||H.call(T,"010",kn.error010());const D=q=>{const{defaultEdgeOptions:C,onConnect:F,hasDefaultEdges:p}=w.getState(),$={...C,...q};if(p){const{edges:W,setEdges:G}=w.getState();G(om($,W))}F==null||F($),a==null||a($)},E=q=>{if(!d)return;const C=tm(q);s&&(C&&q.button===0||!C)&&hm({event:q,handleId:v,nodeId:d,onConnect:D,isTarget:x,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||Df}),C?f==null||f(q):g==null||g(q)},A=q=>{const{onClickConnectStart:C,onClickConnectEnd:F,connectionClickStartHandle:p,connectionMode:$,isValidConnection:W}=w.getState();if(!d||!p&&!s)return;if(!p){C==null||C(q,{nodeId:d,handleId:v,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:d,type:e,handleId:v}});return}const G=q0(q.target),Z=n||W||Df,{connection:z,isValid:U}=fm({nodeId:d,id:v,type:e},$,p.nodeId,p.handleId||null,p.type,Z,G);U&&D(z),F==null||F(q),w.setState({connectionClickStartHandle:null})};return ie.createElement("div",{"data-handleid":v,"data-nodeid":d,"data-handlepos":t,"data-id":`${d}-${v}-${e}`,className:ot(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",b,u,{source:!x,target:x,connectable:r,connectablestart:s,connectableend:i,connecting:S,connectionindicator:r&&(s&&!_||i&&_)}]),onMouseDown:E,onTouchStart:E,onClick:m?A:void 0,ref:h,...y},l)});pm.displayName="Handle";var Ae=M.memo(pm);const mm=({data:e,isConnectable:t,targetPosition:n=ke.Top,sourcePosition:r=ke.Bottom})=>ie.createElement(ie.Fragment,null,ie.createElement(Ae,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,ie.createElement(Ae,{type:"source",position:r,isConnectable:t}));mm.displayName="DefaultNode";var wc=M.memo(mm);const gm=({data:e,isConnectable:t,sourcePosition:n=ke.Bottom})=>ie.createElement(ie.Fragment,null,e==null?void 0:e.label,ie.createElement(Ae,{type:"source",position:n,isConnectable:t}));gm.displayName="InputNode";var xm=M.memo(gm);const ym=({data:e,isConnectable:t,targetPosition:n=ke.Top})=>ie.createElement(ie.Fragment,null,ie.createElement(Ae,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);ym.displayName="OutputNode";var vm=M.memo(ym);const Lu=()=>null;Lu.displayName="GroupNode";const gk=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Yi=e=>e.id;function xk(e,t){return nt(e.selectedNodes.map(Yi),t.selectedNodes.map(Yi))&&nt(e.selectedEdges.map(Yi),t.selectedEdges.map(Yi))}const wm=M.memo(({onSelectionChange:e})=>{const t=Qe(),{selectedNodes:n,selectedEdges:r}=Re(gk,xk);return M.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChange.forEach(i=>i(s))},[n,r,e]),null});wm.displayName="SelectionListener";const yk=e=>!!e.onSelectionChange;function vk({onSelectionChange:e}){const t=Re(yk);return e||t?ie.createElement(wm,{onSelectionChange:e}):null}const wk=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function _r(e,t){M.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Ce(e,t,n){M.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const bk=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:i,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:f,nodesFocusable:g,edgesFocusable:y,edgesUpdatable:h,elevateNodesOnSelect:v,minZoom:x,maxZoom:w,nodeExtent:d,onNodesChange:m,onEdgesChange:b,elementsSelectable:_,connectionMode:S,snapGrid:D,snapToGrid:E,translateExtent:A,connectOnClick:T,defaultEdgeOptions:H,fitView:q,fitViewOptions:C,onNodesDelete:F,onEdgesDelete:p,onNodeDrag:$,onNodeDragStart:W,onNodeDragStop:G,onSelectionDrag:Z,onSelectionDragStart:z,onSelectionDragStop:U,noPanClassName:R,nodeOrigin:P,rfId:le,autoPanOnConnect:O,autoPanOnNodeDrag:X,onError:fe,connectionRadius:ge,isValidConnection:me,nodeDragThreshold:pe})=>{const{setNodes:re,setEdges:Y,setDefaultNodesAndEdges:de,setMinZoom:he,setMaxZoom:k,setTranslateExtent:se,setNodeExtent:ne,reset:j}=Re(wk,nt),N=Qe();return M.useEffect(()=>{const K=r==null?void 0:r.map(ue=>({...ue,...H}));return de(n,K),()=>{j()}},[]),Ce("defaultEdgeOptions",H,N.setState),Ce("connectionMode",S,N.setState),Ce("onConnect",s,N.setState),Ce("onConnectStart",i,N.setState),Ce("onConnectEnd",o,N.setState),Ce("onClickConnectStart",a,N.setState),Ce("onClickConnectEnd",l,N.setState),Ce("nodesDraggable",u,N.setState),Ce("nodesConnectable",f,N.setState),Ce("nodesFocusable",g,N.setState),Ce("edgesFocusable",y,N.setState),Ce("edgesUpdatable",h,N.setState),Ce("elementsSelectable",_,N.setState),Ce("elevateNodesOnSelect",v,N.setState),Ce("snapToGrid",E,N.setState),Ce("snapGrid",D,N.setState),Ce("onNodesChange",m,N.setState),Ce("onEdgesChange",b,N.setState),Ce("connectOnClick",T,N.setState),Ce("fitViewOnInit",q,N.setState),Ce("fitViewOnInitOptions",C,N.setState),Ce("onNodesDelete",F,N.setState),Ce("onEdgesDelete",p,N.setState),Ce("onNodeDrag",$,N.setState),Ce("onNodeDragStart",W,N.setState),Ce("onNodeDragStop",G,N.setState),Ce("onSelectionDrag",Z,N.setState),Ce("onSelectionDragStart",z,N.setState),Ce("onSelectionDragStop",U,N.setState),Ce("noPanClassName",R,N.setState),Ce("nodeOrigin",P,N.setState),Ce("rfId",le,N.setState),Ce("autoPanOnConnect",O,N.setState),Ce("autoPanOnNodeDrag",X,N.setState),Ce("onError",fe,N.setState),Ce("connectionRadius",ge,N.setState),Ce("isValidConnection",me,N.setState),Ce("nodeDragThreshold",pe,N.setState),_r(e,re),_r(t,Y),_r(x,he),_r(w,k),_r(A,se),_r(d,ne),null},Tf={display:"none"},kk={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},bm="react-flow__node-desc",km="react-flow__edge-desc",_k="react-flow__aria-live",Sk=e=>e.ariaLiveMessage;function Nk({rfId:e}){const t=Re(Sk);return ie.createElement("div",{id:`${_k}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:kk},t)}function zk({rfId:e,disableKeyboardA11y:t}){return ie.createElement(ie.Fragment,null,ie.createElement("div",{id:`${bm}-${e}`,style:Tf},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ie.createElement("div",{id:`${km}-${e}`,style:Tf},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&ie.createElement(Nk,{rfId:e}))}var pi=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=M.useState(!1),s=M.useRef(!1),i=M.useRef(new Set([])),[o,a]=M.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(g=>typeof g=="string").map(g=>g.split("+")),f=u.reduce((g,y)=>g.concat(...y),[]);return[u,f]}return[[],[]]},[e]);return M.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const f=h=>{if(s.current=h.ctrlKey||h.metaKey||h.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&gc(h))return!1;const x=Af(h.code,a);i.current.add(h[x]),If(o,i.current,!1)&&(h.preventDefault(),r(!0))},g=h=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&gc(h))return!1;const x=Af(h.code,a);If(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(h[x]),h.key==="Meta"&&i.current.clear(),s.current=!1},y=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",f),u==null||u.addEventListener("keyup",g),window.addEventListener("blur",y),()=>{u==null||u.removeEventListener("keydown",f),u==null||u.removeEventListener("keyup",g),window.removeEventListener("blur",y)}}},[e,r]),n};function If(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function Af(e,t){return t.includes(e)?"code":"key"}function _m(e,t,n,r){var a,l;const s=e.parentNode||e.parentId;if(!s)return n;const i=t.get(s),o=dr(i,r);return _m(i,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=i[Ve])==null?void 0:a.z)??0)>(n.z??0)?((l=i[Ve])==null?void 0:l.z)??0:n.z??0},r)}function Sm(e,t,n){e.forEach(r=>{var i;const s=r.parentNode||r.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:o,y:a,z:l}=_m(r,e,{...r.position,z:((i=r[Ve])==null?void 0:i.z)??0},t);r.positionAbsolute={x:o,y:a},r[Ve].z=l,n!=null&&n[r.id]&&(r[Ve].isParent=!0)}})}function il(e,t,n,r){const s=new Map,i={},o=r?1e3:0;return e.forEach(a=>{var h;const l=(Rt(a.zIndex)?a.zIndex:0)+(a.selected?o:0),u=t.get(a.id),f={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},g=a.parentNode||a.parentId;g&&(i[g]=!0);const y=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(f,Ve,{enumerable:!1,value:{handleBounds:y||(h=u==null?void 0:u[Ve])==null?void 0:h.handleBounds,z:l}}),s.set(a.id,f)}),Sm(s,n,i),s}function Nm(e,t={}){const{getNodes:n,width:r,height:s,minZoom:i,maxZoom:o,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:f,nodeOrigin:g}=e(),y=t.initial&&!u&&f;if(a&&l&&(y||!t.initial)){const v=n().filter(w=>{var m;const d=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return(m=t.nodes)!=null&&m.length?d&&t.nodes.some(b=>b.id===w.id):d}),x=v.every(w=>w.width&&w.height);if(v.length>0&&x){const w=ka(v,g),{x:d,y:m,zoom:b}=um(w,r,s,t.minZoom??i,t.maxZoom??o,t.padding??.1),_=mn.translate(d,m).scale(b);return typeof t.duration=="number"&&t.duration>0?a.transform(er(l,t.duration),_):a.transform(l,_),!0}}return!1}function Ek(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Ve]:r[Ve],selected:n.selected})}),new Map(t)}function Ck(e,t){return t.map(n=>{const r=e.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Xi({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:s,edges:i,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:Ek(e,s)}),o==null||o(e)),t!=null&&t.length&&(u&&r({edges:Ck(t,i)}),a==null||a(t))}const Sr=()=>{},jk={zoomIn:Sr,zoomOut:Sr,zoomTo:Sr,getZoom:()=>1,setViewport:Sr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Sr,fitBounds:Sr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Dk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Tk=()=>{const e=Qe(),{d3Zoom:t,d3Selection:n}=Re(Dk,nt);return M.useMemo(()=>n&&t?{zoomIn:s=>t.scaleBy(er(n,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(er(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>t.scaleTo(er(n,i==null?void 0:i.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,i)=>{const[o,a,l]=e.getState().transform,u=mn.translate(s.x??o,s.y??a).scale(s.zoom??l);t.transform(er(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[s,i,o]=e.getState().transform;return{x:s,y:i,zoom:o}},fitView:s=>Nm(e.getState,s),setCenter:(s,i,o)=>{const{width:a,height:l,maxZoom:u}=e.getState(),f=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,g=a/2-s*f,y=l/2-i*f,h=mn.translate(g,y).scale(f);t.transform(er(n,o==null?void 0:o.duration),h)},fitBounds:(s,i)=>{const{width:o,height:a,minZoom:l,maxZoom:u}=e.getState(),{x:f,y:g,zoom:y}=um(s,o,a,l,u,(i==null?void 0:i.padding)??.1),h=mn.translate(f,g).scale(y);t.transform(er(n,i==null?void 0:i.duration),h)},project:s=>{const{transform:i,snapToGrid:o,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),vc(s,i,o,a)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:o,snapGrid:a,domNode:l}=e.getState();if(!l)return s;const{x:u,y:f}=l.getBoundingClientRect(),g={x:s.x-u,y:s.y-f};return vc(g,i,o,a)},flowToScreenPosition:s=>{const{transform:i,domNode:o}=e.getState();if(!o)return s;const{x:a,y:l}=o.getBoundingClientRect(),u=am(s,i);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:jk,[t,n])};function _a(){const e=Tk(),t=Qe(),n=M.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),r=M.useCallback(x=>t.getState().nodeInternals.get(x),[]),s=M.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(w=>({...w}))},[]),i=M.useCallback(x=>{const{edges:w=[]}=t.getState();return w.find(d=>d.id===x)},[]),o=M.useCallback(x=>{const{getNodes:w,setNodes:d,hasDefaultNodes:m,onNodesChange:b}=t.getState(),_=w(),S=typeof x=="function"?x(_):x;if(m)d(S);else if(b){const D=S.length===0?_.map(E=>({type:"remove",id:E.id})):S.map(E=>({item:E,type:"reset"}));b(D)}},[]),a=M.useCallback(x=>{const{edges:w=[],setEdges:d,hasDefaultEdges:m,onEdgesChange:b}=t.getState(),_=typeof x=="function"?x(w):x;if(m)d(_);else if(b){const S=_.length===0?w.map(D=>({type:"remove",id:D.id})):_.map(D=>({item:D,type:"reset"}));b(S)}},[]),l=M.useCallback(x=>{const w=Array.isArray(x)?x:[x],{getNodes:d,setNodes:m,hasDefaultNodes:b,onNodesChange:_}=t.getState();if(b){const D=[...d(),...w];m(D)}else if(_){const S=w.map(D=>({item:D,type:"add"}));_(S)}},[]),u=M.useCallback(x=>{const w=Array.isArray(x)?x:[x],{edges:d=[],setEdges:m,hasDefaultEdges:b,onEdgesChange:_}=t.getState();if(b)m([...d,...w]);else if(_){const S=w.map(D=>({item:D,type:"add"}));_(S)}},[]),f=M.useCallback(()=>{const{getNodes:x,edges:w=[],transform:d}=t.getState(),[m,b,_]=d;return{nodes:x().map(S=>({...S})),edges:w.map(S=>({...S})),viewport:{x:m,y:b,zoom:_}}},[]),g=M.useCallback(({nodes:x,edges:w})=>{const{nodeInternals:d,getNodes:m,edges:b,hasDefaultNodes:_,hasDefaultEdges:S,onNodesDelete:D,onEdgesDelete:E,onNodesChange:A,onEdgesChange:T}=t.getState(),H=(x||[]).map($=>$.id),q=(w||[]).map($=>$.id),C=m().reduce(($,W)=>{const G=W.parentNode||W.parentId,Z=!H.includes(W.id)&&G&&$.find(U=>U.id===G);return(typeof W.deletable=="boolean"?W.deletable:!0)&&(H.includes(W.id)||Z)&&$.push(W),$},[]),F=b.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),p=F.filter($=>q.includes($.id));if(C||p){const $=cm(C,F),W=[...p,...$],G=W.reduce((Z,z)=>(Z.includes(z.id)||Z.push(z.id),Z),[]);if((S||_)&&(S&&t.setState({edges:b.filter(Z=>!G.includes(Z.id))}),_&&(C.forEach(Z=>{d.delete(Z.id)}),t.setState({nodeInternals:new Map(d)}))),G.length>0&&(E==null||E(W),T&&T(G.map(Z=>({id:Z,type:"remove"})))),C.length>0&&(D==null||D(C),A)){const Z=C.map(z=>({id:z.id,type:"remove"}));A(Z)}}},[]),y=M.useCallback(x=>{const w=Qb(x),d=w?null:t.getState().nodeInternals.get(x.id);return!w&&!d?[null,null,w]:[w?x:Sf(d),d,w]},[]),h=M.useCallback((x,w=!0,d)=>{const[m,b,_]=y(x);return m?(d||t.getState().getNodes()).filter(S=>{if(!_&&(S.id===b.id||!S.positionAbsolute))return!1;const D=Sf(S),E=mc(D,m);return w&&E>0||E>=m.width*m.height}):[]},[]),v=M.useCallback((x,w,d=!0)=>{const[m]=y(x);if(!m)return!1;const b=mc(m,w);return d&&b>0||b>=m.width*m.height},[]);return M.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:s,getEdge:i,setNodes:o,setEdges:a,addNodes:l,addEdges:u,toObject:f,deleteElements:g,getIntersectingNodes:h,isNodeIntersecting:v}),[e,n,r,s,i,o,a,l,u,f,g,h,v])}const Ik={actInsideInputWithModifier:!1};var Ak=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Qe(),{deleteElements:r}=_a(),s=pi(e,Ik),i=pi(t);M.useEffect(()=>{if(s){const{edges:o,getNodes:a}=n.getState(),l=a().filter(f=>f.selected),u=o.filter(f=>f.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[s]),M.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function Mk(e){const t=Qe();M.useEffect(()=>{let n;const r=()=>{var i,o;if(!e.current)return;const s=Du(e.current);(s.height===0||s.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",kn.error004())),t.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Ou={position:"absolute",width:"100%",height:"100%",top:0,left:0},Rk=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,qi=e=>({x:e.x,y:e.y,zoom:e.k}),Nr=(e,t)=>e.target.closest(`.${t}`),Mf=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Rf=e=>{const t=e.ctrlKey&&Go()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},Pk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Lk=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=ar.Free,zoomOnDoubleClick:u=!0,elementsSelectable:f,panOnDrag:g=!0,defaultViewport:y,translateExtent:h,minZoom:v,maxZoom:x,zoomActivationKeyCode:w,preventScrolling:d=!0,children:m,noWheelClassName:b,noPanClassName:_})=>{const S=M.useRef(),D=Qe(),E=M.useRef(!1),A=M.useRef(!1),T=M.useRef(null),H=M.useRef({x:0,y:0,zoom:0}),{d3Zoom:q,d3Selection:C,d3ZoomHandler:F,userSelectionActive:p}=Re(Pk,nt),$=pi(w),W=M.useRef(0),G=M.useRef(!1),Z=M.useRef();return Mk(T),M.useEffect(()=>{if(T.current){const z=T.current.getBoundingClientRect(),U=K0().scaleExtent([v,x]).translateExtent(h),R=At(T.current).call(U),P=mn.translate(y.x,y.y).scale(as(y.zoom,v,x)),le=[[0,0],[z.width,z.height]],O=U.constrain()(P,le,h);U.transform(R,O),U.wheelDelta(Rf),D.setState({d3Zoom:U,d3Selection:R,d3ZoomHandler:R.on("wheel.zoom"),transform:[O.x,O.y,O.k],domNode:T.current.closest(".react-flow")})}},[]),M.useEffect(()=>{C&&q&&(o&&!$&&!p?C.on("wheel.zoom",z=>{if(Nr(z,b))return!1;z.preventDefault(),z.stopImmediatePropagation();const U=C.property("__zoom").k||1;if(z.ctrlKey&&i){const me=Wt(z),pe=Rf(z),re=U*Math.pow(2,pe);q.scaleTo(C,re,me,z);return}const R=z.deltaMode===1?20:1;let P=l===ar.Vertical?0:z.deltaX*R,le=l===ar.Horizontal?0:z.deltaY*R;!Go()&&z.shiftKey&&l!==ar.Vertical&&(P=z.deltaY*R,le=0),q.translateBy(C,-(P/U)*a,-(le/U)*a,{internal:!0});const O=qi(C.property("__zoom")),{onViewportChangeStart:X,onViewportChange:fe,onViewportChangeEnd:ge}=D.getState();clearTimeout(Z.current),G.current||(G.current=!0,t==null||t(z,O),X==null||X(O)),G.current&&(e==null||e(z,O),fe==null||fe(O),Z.current=setTimeout(()=>{n==null||n(z,O),ge==null||ge(O),G.current=!1},150))},{passive:!1}):typeof F<"u"&&C.on("wheel.zoom",function(z,U){if(!d&&z.type==="wheel"&&!z.ctrlKey||Nr(z,b))return null;z.preventDefault(),F.call(this,z,U)},{passive:!1}))},[p,o,l,C,q,F,$,i,d,b,t,e,n]),M.useEffect(()=>{q&&q.on("start",z=>{var P,le;if(!z.sourceEvent||z.sourceEvent.internal)return null;W.current=(P=z.sourceEvent)==null?void 0:P.button;const{onViewportChangeStart:U}=D.getState(),R=qi(z.transform);E.current=!0,H.current=R,((le=z.sourceEvent)==null?void 0:le.type)==="mousedown"&&D.setState({paneDragging:!0}),U==null||U(R),t==null||t(z.sourceEvent,R)})},[q,t]),M.useEffect(()=>{q&&(p&&!E.current?q.on("zoom",null):p||q.on("zoom",z=>{var R;const{onViewportChange:U}=D.getState();if(D.setState({transform:[z.transform.x,z.transform.y,z.transform.k]}),A.current=!!(r&&Mf(g,W.current??0)),(e||U)&&!((R=z.sourceEvent)!=null&&R.internal)){const P=qi(z.transform);U==null||U(P),e==null||e(z.sourceEvent,P)}}))},[p,q,e,g,r]),M.useEffect(()=>{q&&q.on("end",z=>{if(!z.sourceEvent||z.sourceEvent.internal)return null;const{onViewportChangeEnd:U}=D.getState();if(E.current=!1,D.setState({paneDragging:!1}),r&&Mf(g,W.current??0)&&!A.current&&r(z.sourceEvent),A.current=!1,(n||U)&&Rk(H.current,z.transform)){const R=qi(z.transform);H.current=R,clearTimeout(S.current),S.current=setTimeout(()=>{U==null||U(R),n==null||n(z.sourceEvent,R)},o?150:0)}})},[q,o,g,n,r]),M.useEffect(()=>{q&&q.filter(z=>{const U=$||s,R=i&&z.ctrlKey;if((g===!0||Array.isArray(g)&&g.includes(1))&&z.button===1&&z.type==="mousedown"&&(Nr(z,"react-flow__node")||Nr(z,"react-flow__edge")))return!0;if(!g&&!U&&!o&&!u&&!i||p||!u&&z.type==="dblclick"||Nr(z,b)&&z.type==="wheel"||Nr(z,_)&&(z.type!=="wheel"||o&&z.type==="wheel"&&!$)||!i&&z.ctrlKey&&z.type==="wheel"||!U&&!o&&!R&&z.type==="wheel"||!g&&(z.type==="mousedown"||z.type==="touchstart")||Array.isArray(g)&&!g.includes(z.button)&&z.type==="mousedown")return!1;const P=Array.isArray(g)&&g.includes(z.button)||!z.button||z.button<=1;return(!z.ctrlKey||z.type==="wheel")&&P})},[p,q,s,i,o,u,g,f,$]),ie.createElement("div",{className:"react-flow__renderer",ref:T,style:Ou},m)},Ok=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function $k(){const{userSelectionActive:e,userSelectionRect:t}=Re(Ok,nt);return e&&t?ie.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Pf(e,t){const n=t.parentNode||t.parentId,r=e.find(s=>s.id===n);if(r){const s=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(s>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),i>0&&(r.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function zm(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,s)=>{const i=e.filter(a=>a.id===s.id);if(i.length===0)return r.push(s),r;const o={...s};for(const a of i)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&Pf(r,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&Pf(r,o);break}case"remove":return r}return r.push(o),r},n)}function Em(e,t){return zm(e,t)}function Fk(e,t){return zm(e,t)}const jn=(e,t)=>({id:e,type:"select",selected:t});function Br(e,t){return e.reduce((n,r)=>{const s=t.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(jn(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(jn(r.id,!1))),n},[])}const ol=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Bk=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Cm=M.memo(({isSelecting:e,selectionMode:t=fi.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:f,children:g})=>{const y=M.useRef(null),h=Qe(),v=M.useRef(0),x=M.useRef(0),w=M.useRef(),{userSelectionActive:d,elementsSelectable:m,dragging:b}=Re(Bk,nt),_=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,x.current=0},S=F=>{i==null||i(F),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},D=F=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){F.preventDefault();return}o==null||o(F)},E=a?F=>a(F):void 0,A=F=>{const{resetSelectedElements:p,domNode:$}=h.getState();if(w.current=$==null?void 0:$.getBoundingClientRect(),!m||!e||F.button!==0||F.target!==y.current||!w.current)return;const{x:W,y:G}=Un(F,w.current);p(),h.setState({userSelectionRect:{width:0,height:0,startX:W,startY:G,x:W,y:G}}),r==null||r(F)},T=F=>{const{userSelectionRect:p,nodeInternals:$,edges:W,transform:G,onNodesChange:Z,onEdgesChange:z,nodeOrigin:U,getNodes:R}=h.getState();if(!e||!w.current||!p)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const P=Un(F,w.current),le=p.startX??0,O=p.startY??0,X={...p,x:P.x<le?P.x:le,y:P.y<O?P.y:O,width:Math.abs(P.x-le),height:Math.abs(P.y-O)},fe=R(),ge=lm($,X,G,t===fi.Partial,!0,U),me=cm(ge,W).map(re=>re.id),pe=ge.map(re=>re.id);if(v.current!==pe.length){v.current=pe.length;const re=Br(fe,pe);re.length&&(Z==null||Z(re))}if(x.current!==me.length){x.current=me.length;const re=Br(W,me);re.length&&(z==null||z(re))}h.setState({userSelectionRect:X})},H=F=>{if(F.button!==0)return;const{userSelectionRect:p}=h.getState();!d&&p&&F.target===y.current&&(S==null||S(F)),h.setState({nodesSelectionActive:v.current>0}),_(),s==null||s(F)},q=F=>{d&&(h.setState({nodesSelectionActive:v.current>0}),s==null||s(F)),_()},C=m&&(e||d);return ie.createElement("div",{className:ot(["react-flow__pane",{dragging:b,selection:e}]),onClick:C?void 0:ol(S,y),onContextMenu:ol(D,y),onWheel:ol(E,y),onMouseEnter:C?void 0:l,onMouseDown:C?A:void 0,onMouseMove:C?T:u,onMouseUp:C?H:void 0,onMouseLeave:C?q:f,ref:y,style:Ou},g,ie.createElement($k,null))});Cm.displayName="Pane";function jm(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:jm(r,t):!1}function Lf(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Hk(e,t,n,r){return Array.from(e.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!jm(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var i,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function Uk(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Dm(e,t,n,r,s=[0,0],i){const o=Uk(e,e.extent||r);let a=o;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const g=n.get(l),{x:y,y:h}=dr(g,s).positionAbsolute;a=g&&Rt(y)&&Rt(h)&&Rt(g.width)&&Rt(g.height)?[[y+e.width*s[0],h+e.height*s[1]],[y+g.width-e.width+e.width*s[0],h+g.height-e.height+e.height*s[1]]]:a}else i==null||i("005",kn.error005()),a=o;else if(e.extent&&l&&e.extent!=="parent"){const g=n.get(l),{x:y,y:h}=dr(g,s).positionAbsolute;a=[[e.extent[0][0]+y,e.extent[0][1]+h],[e.extent[1][0]+y,e.extent[1][1]+h]]}let u={x:0,y:0};if(l){const g=n.get(l);u=dr(g,s).positionAbsolute}const f=a&&a!=="parent"?Tu(t,a):t;return{position:{x:f.x-u.x,y:f.y-u.y},positionAbsolute:f}}function al({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?r.find(s=>s.id===e):r[0],r]}const Of=(e,t,n,r)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const i=Array.from(s),o=t.getBoundingClientRect(),a={x:o.width*r[0],y:o.height*r[1]};return i.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-o.left-a.x)/n,y:(u.top-o.top-a.y)/n,...Du(l)}})};function _s(e,t,n){return n===void 0?n:r=>{const s=t().nodeInternals.get(e);s&&n(r,{...s})}}function bc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",kn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):s([e])}function Vk(){const e=Qe();return M.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:i}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:i?s[0]*Math.round(l.x/s[0]):l.x,ySnapped:i?s[1]*Math.round(l.y/s[1]):l.y,...l}},[])}function ll(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Tm({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,selectNodesOnDrag:o}){const a=Qe(),[l,u]=M.useState(!1),f=M.useRef([]),g=M.useRef({x:null,y:null}),y=M.useRef(0),h=M.useRef(null),v=M.useRef({x:0,y:0}),x=M.useRef(null),w=M.useRef(!1),d=M.useRef(!1),m=M.useRef(!1),b=Vk();return M.useEffect(()=>{if(e!=null&&e.current){const _=At(e.current),S=({x:A,y:T})=>{const{nodeInternals:H,onNodeDrag:q,onSelectionDrag:C,updateNodePositions:F,nodeExtent:p,snapGrid:$,snapToGrid:W,nodeOrigin:G,onError:Z}=a.getState();g.current={x:A,y:T};let z=!1,U={x:0,y:0,x2:0,y2:0};if(f.current.length>1&&p){const P=ka(f.current,G);U=di(P)}if(f.current=f.current.map(P=>{const le={x:A-P.distance.x,y:T-P.distance.y};W&&(le.x=$[0]*Math.round(le.x/$[0]),le.y=$[1]*Math.round(le.y/$[1]));const O=[[p[0][0],p[0][1]],[p[1][0],p[1][1]]];f.current.length>1&&p&&!P.extent&&(O[0][0]=P.positionAbsolute.x-U.x+p[0][0],O[1][0]=P.positionAbsolute.x+(P.width??0)-U.x2+p[1][0],O[0][1]=P.positionAbsolute.y-U.y+p[0][1],O[1][1]=P.positionAbsolute.y+(P.height??0)-U.y2+p[1][1]);const X=Dm(P,le,H,O,G,Z);return z=z||P.position.x!==X.position.x||P.position.y!==X.position.y,P.position=X.position,P.positionAbsolute=X.positionAbsolute,P}),!z)return;F(f.current,!0,!0),u(!0);const R=s?q:ll(C);if(R&&x.current){const[P,le]=al({nodeId:s,dragItems:f.current,nodeInternals:H});R(x.current,P,le)}},D=()=>{if(!h.current)return;const[A,T]=X0(v.current,h.current);if(A!==0||T!==0){const{transform:H,panBy:q}=a.getState();g.current.x=(g.current.x??0)-A/H[2],g.current.y=(g.current.y??0)-T/H[2],q({x:A,y:T})&&S(g.current)}y.current=requestAnimationFrame(D)},E=A=>{var G;const{nodeInternals:T,multiSelectionActive:H,nodesDraggable:q,unselectNodesAndEdges:C,onNodeDragStart:F,onSelectionDragStart:p}=a.getState();d.current=!0;const $=s?F:ll(p);(!o||!i)&&!H&&s&&((G=T.get(s))!=null&&G.selected||C()),s&&i&&o&&bc({id:s,store:a,nodeRef:e});const W=b(A);if(g.current=W,f.current=Hk(T,q,W,s),$&&f.current){const[Z,z]=al({nodeId:s,dragItems:f.current,nodeInternals:T});$(A.sourceEvent,Z,z)}};if(t)_.on(".drag",null);else{const A=n2().on("start",T=>{const{domNode:H,nodeDragThreshold:q}=a.getState();q===0&&E(T),m.current=!1;const C=b(T);g.current=C,h.current=(H==null?void 0:H.getBoundingClientRect())||null,v.current=Un(T.sourceEvent,h.current)}).on("drag",T=>{var F,p;const H=b(T),{autoPanOnNodeDrag:q,nodeDragThreshold:C}=a.getState();if(T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1&&(m.current=!0),!m.current){if(!w.current&&d.current&&q&&(w.current=!0,D()),!d.current){const $=H.xSnapped-(((F=g==null?void 0:g.current)==null?void 0:F.x)??0),W=H.ySnapped-(((p=g==null?void 0:g.current)==null?void 0:p.y)??0);Math.sqrt($*$+W*W)>C&&E(T)}(g.current.x!==H.xSnapped||g.current.y!==H.ySnapped)&&f.current&&d.current&&(x.current=T.sourceEvent,v.current=Un(T.sourceEvent,h.current),S(H))}}).on("end",T=>{if(!(!d.current||m.current)&&(u(!1),w.current=!1,d.current=!1,cancelAnimationFrame(y.current),f.current)){const{updateNodePositions:H,nodeInternals:q,onNodeDragStop:C,onSelectionDragStop:F}=a.getState(),p=s?C:ll(F);if(H(f.current,!1,!1),p){const[$,W]=al({nodeId:s,dragItems:f.current,nodeInternals:q});p(T.sourceEvent,$,W)}}}).filter(T=>{const H=T.target;return!T.button&&(!n||!Lf(H,`.${n}`,e))&&(!r||Lf(H,r,e))});return _.call(A),()=>{_.on(".drag",null)}}}},[e,t,n,r,i,a,s,o,b]),l}function Im(){const e=Qe();return M.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:i,getNodes:o,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:f}=e.getState(),g=o().filter(m=>m.selected&&(m.draggable||f&&typeof m.draggable>"u")),y=a?l[0]:5,h=a?l[1]:5,v=n.isShiftPressed?4:1,x=n.x*y*v,w=n.y*h*v,d=g.map(m=>{if(m.positionAbsolute){const b={x:m.positionAbsolute.x+x,y:m.positionAbsolute.y+w};a&&(b.x=l[0]*Math.round(b.x/l[0]),b.y=l[1]*Math.round(b.y/l[1]));const{positionAbsolute:_,position:S}=Dm(m,b,r,s,void 0,u);m.position=S,m.positionAbsolute=_}return m});i(d,!0,!1)},[])}const Xr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Ss=e=>{const t=({id:n,type:r,data:s,xPos:i,yPos:o,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:f,onMouseEnter:g,onMouseMove:y,onMouseLeave:h,onContextMenu:v,onDoubleClick:x,style:w,className:d,isDraggable:m,isSelectable:b,isConnectable:_,isFocusable:S,selectNodesOnDrag:D,sourcePosition:E,targetPosition:A,hidden:T,resizeObserver:H,dragHandle:q,zIndex:C,isParent:F,noDragClassName:p,noPanClassName:$,initialized:W,disableKeyboardA11y:G,ariaLabel:Z,rfId:z,hasHandleBounds:U})=>{const R=Qe(),P=M.useRef(null),le=M.useRef(null),O=M.useRef(E),X=M.useRef(A),fe=M.useRef(r),ge=b||m||f||g||y||h,me=Im(),pe=_s(n,R.getState,g),re=_s(n,R.getState,y),Y=_s(n,R.getState,h),de=_s(n,R.getState,v),he=_s(n,R.getState,x),k=j=>{const{nodeDragThreshold:N}=R.getState();if(b&&(!D||!m||N>0)&&bc({id:n,store:R,nodeRef:P}),f){const K=R.getState().nodeInternals.get(n);K&&f(j,{...K})}},se=j=>{if(!gc(j)&&!G)if(em.includes(j.key)&&b){const N=j.key==="Escape";bc({id:n,store:R,unselect:N,nodeRef:P})}else m&&u&&Object.prototype.hasOwnProperty.call(Xr,j.key)&&(R.setState({ariaLiveMessage:`Moved selected node ${j.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),me({x:Xr[j.key].x,y:Xr[j.key].y,isShiftPressed:j.shiftKey}))};M.useEffect(()=>()=>{le.current&&(H==null||H.unobserve(le.current),le.current=null)},[]),M.useEffect(()=>{if(P.current&&!T){const j=P.current;(!W||!U||le.current!==j)&&(le.current&&(H==null||H.unobserve(le.current)),H==null||H.observe(j),le.current=j)}},[T,W,U]),M.useEffect(()=>{const j=fe.current!==r,N=O.current!==E,K=X.current!==A;P.current&&(j||N||K)&&(j&&(fe.current=r),N&&(O.current=E),K&&(X.current=A),R.getState().updateNodeDimensions([{id:n,nodeElement:P.current,forceUpdate:!0}]))},[n,r,E,A]);const ne=Tm({nodeRef:P,disabled:T||!m,noDragClassName:p,handleSelector:q,nodeId:n,isSelectable:b,selectNodesOnDrag:D});return T?null:ie.createElement("div",{className:ot(["react-flow__node",`react-flow__node-${r}`,{[$]:m},d,{selected:u,selectable:b,parent:F,dragging:ne}]),ref:P,style:{zIndex:C,transform:`translate(${a}px,${l}px)`,pointerEvents:ge?"all":"none",visibility:W?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:pe,onMouseMove:re,onMouseLeave:Y,onContextMenu:de,onClick:k,onDoubleClick:he,onKeyDown:S?se:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":G?void 0:`${bm}-${z}`,"aria-label":Z},ie.createElement(ik,{value:n},ie.createElement(e,{id:n,data:s,type:r,xPos:i,yPos:o,selected:u,isConnectable:_,sourcePosition:E,targetPosition:A,dragging:ne,dragHandle:q,zIndex:C})))};return t.displayName="NodeWrapper",M.memo(t)};const Wk=e=>{const t=e.getNodes().filter(n=>n.selected);return{...ka(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function Zk({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Qe(),{width:s,height:i,x:o,y:a,transformString:l,userSelectionActive:u}=Re(Wk,nt),f=Im(),g=M.useRef(null);if(M.useEffect(()=>{var v;n||(v=g.current)==null||v.focus({preventScroll:!0})},[n]),Tm({nodeRef:g}),u||!s||!i)return null;const y=e?v=>{const x=r.getState().getNodes().filter(w=>w.selected);e(v,x)}:void 0,h=v=>{Object.prototype.hasOwnProperty.call(Xr,v.key)&&f({x:Xr[v.key].x,y:Xr[v.key].y,isShiftPressed:v.shiftKey})};return ie.createElement("div",{className:ot(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},ie.createElement("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:y,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:s,height:i,top:a,left:o}}))}var Gk=M.memo(Zk);const Kk=e=>e.nodesSelectionActive,Am=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:f,selectionKeyCode:g,selectionOnDrag:y,selectionMode:h,onSelectionStart:v,onSelectionEnd:x,multiSelectionKeyCode:w,panActivationKeyCode:d,zoomActivationKeyCode:m,elementsSelectable:b,zoomOnScroll:_,zoomOnPinch:S,panOnScroll:D,panOnScrollSpeed:E,panOnScrollMode:A,zoomOnDoubleClick:T,panOnDrag:H,defaultViewport:q,translateExtent:C,minZoom:F,maxZoom:p,preventScrolling:$,onSelectionContextMenu:W,noWheelClassName:G,noPanClassName:Z,disableKeyboardA11y:z})=>{const U=Re(Kk),R=pi(g),P=pi(d),le=P||H,O=P||D,X=R||y&&le!==!0;return Ak({deleteKeyCode:a,multiSelectionKeyCode:w}),ie.createElement(Lk,{onMove:l,onMoveStart:u,onMoveEnd:f,onPaneContextMenu:i,elementsSelectable:b,zoomOnScroll:_,zoomOnPinch:S,panOnScroll:O,panOnScrollSpeed:E,panOnScrollMode:A,zoomOnDoubleClick:T,panOnDrag:!R&&le,defaultViewport:q,translateExtent:C,minZoom:F,maxZoom:p,zoomActivationKeyCode:m,preventScrolling:$,noWheelClassName:G,noPanClassName:Z},ie.createElement(Cm,{onSelectionStart:v,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:le,isSelecting:!!X,selectionMode:h},e,U&&ie.createElement(Gk,{onSelectionContextMenu:W,noPanClassName:Z,disableKeyboardA11y:z})))};Am.displayName="FlowRenderer";var Yk=M.memo(Am);function Xk(e){return Re(M.useCallback(n=>e?lm(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function qk(e){const t={input:Ss(e.input||xm),default:Ss(e.default||wc),output:Ss(e.output||vm),group:Ss(e.group||Lu)},n={},r=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=Ss(e[i]||wc),s),n);return{...t,...r}}const Qk=({x:e,y:t,width:n,height:r,origin:s})=>!n||!r?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-n*s[0],y:t-r*s[1]},Jk=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Mm=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:i,onError:o}=Re(Jk,nt),a=Xk(e.onlyRenderVisibleElements),l=M.useRef(),u=M.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const f=new ResizeObserver(g=>{const y=g.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));i(y)});return l.current=f,f},[]);return M.useEffect(()=>()=>{var f;(f=l==null?void 0:l.current)==null||f.disconnect()},[]),ie.createElement("div",{className:"react-flow__nodes",style:Ou},a.map(f=>{var S,D,E;let g=f.type||"default";e.nodeTypes[g]||(o==null||o("003",kn.error003(g)),g="default");const y=e.nodeTypes[g]||e.nodeTypes.default,h=!!(f.draggable||t&&typeof f.draggable>"u"),v=!!(f.selectable||s&&typeof f.selectable>"u"),x=!!(f.connectable||n&&typeof f.connectable>"u"),w=!!(f.focusable||r&&typeof f.focusable>"u"),d=e.nodeExtent?Tu(f.positionAbsolute,e.nodeExtent):f.positionAbsolute,m=(d==null?void 0:d.x)??0,b=(d==null?void 0:d.y)??0,_=Qk({x:m,y:b,width:f.width??0,height:f.height??0,origin:e.nodeOrigin});return ie.createElement(y,{key:f.id,id:f.id,className:f.className,style:f.style,type:g,data:f.data,sourcePosition:f.sourcePosition||ke.Bottom,targetPosition:f.targetPosition||ke.Top,hidden:f.hidden,xPos:m,yPos:b,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!f.selected,isDraggable:h,isSelectable:v,isConnectable:x,isFocusable:w,resizeObserver:u,dragHandle:f.dragHandle,zIndex:((S=f[Ve])==null?void 0:S.z)??0,isParent:!!((D=f[Ve])!=null&&D.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!f.width&&!!f.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:f.ariaLabel,hasHandleBounds:!!((E=f[Ve])!=null&&E.handleBounds)})}))};Mm.displayName="NodeRenderer";var e_=M.memo(Mm);const t_=(e,t,n)=>n===ke.Left?e-t:n===ke.Right?e+t:e,n_=(e,t,n)=>n===ke.Top?e-t:n===ke.Bottom?e+t:e,$f="react-flow__edgeupdater",Ff=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:a})=>ie.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:ot([$f,`${$f}-${a}`]),cx:t_(t,r,e),cy:n_(n,r,e),r,stroke:"transparent",fill:"transparent"}),r_=()=>!0;var zr=e=>{const t=({id:n,className:r,type:s,data:i,onClick:o,onEdgeDoubleClick:a,selected:l,animated:u,label:f,labelStyle:g,labelShowBg:y,labelBgStyle:h,labelBgPadding:v,labelBgBorderRadius:x,style:w,source:d,target:m,sourceX:b,sourceY:_,targetX:S,targetY:D,sourcePosition:E,targetPosition:A,elementsSelectable:T,hidden:H,sourceHandleId:q,targetHandleId:C,onContextMenu:F,onMouseEnter:p,onMouseMove:$,onMouseLeave:W,reconnectRadius:G,onReconnect:Z,onReconnectStart:z,onReconnectEnd:U,markerEnd:R,markerStart:P,rfId:le,ariaLabel:O,isFocusable:X,isReconnectable:fe,pathOptions:ge,interactionWidth:me,disableKeyboardA11y:pe})=>{const re=M.useRef(null),[Y,de]=M.useState(!1),[he,k]=M.useState(!1),se=Qe(),ne=M.useMemo(()=>`url('#${yc(P,le)}')`,[P,le]),j=M.useMemo(()=>`url('#${yc(R,le)}')`,[R,le]);if(H)return null;const N=te=>{var we;const{edges:oe,addSelectedEdges:ce,unselectNodesAndEdges:V,multiSelectionActive:B}=se.getState(),ee=oe.find(Ne=>Ne.id===n);ee&&(T&&(se.setState({nodesSelectionActive:!1}),ee.selected&&B?(V({nodes:[],edges:[ee]}),(we=re.current)==null||we.blur()):ce([n])),o&&o(te,ee))},K=ks(n,se.getState,a),ue=ks(n,se.getState,F),I=ks(n,se.getState,p),L=ks(n,se.getState,$),Q=ks(n,se.getState,W),J=(te,oe)=>{if(te.button!==0)return;const{edges:ce,isValidConnection:V}=se.getState(),B=oe?m:d,ee=(oe?C:q)||null,we=oe?"target":"source",Ne=V||r_,Ee=oe,Ie=ce.find(Ze=>Ze.id===n);k(!0),z==null||z(te,Ie,we);const dt=Ze=>{k(!1),U==null||U(Ze,Ie,we)};hm({event:te,handleId:ee,nodeId:B,onConnect:Ze=>Z==null?void 0:Z(Ie,Ze),isTarget:Ee,getState:se.getState,setState:se.setState,isValidConnection:Ne,edgeUpdaterType:we,onReconnectEnd:dt})},ae=te=>J(te,!0),ve=te=>J(te,!1),ze=()=>de(!0),xe=()=>de(!1),be=!T&&!o,Ye=te=>{var oe;if(!pe&&em.includes(te.key)&&T){const{unselectNodesAndEdges:ce,addSelectedEdges:V,edges:B}=se.getState();te.key==="Escape"?((oe=re.current)==null||oe.blur(),ce({edges:[B.find(we=>we.id===n)]})):V([n])}};return ie.createElement("g",{className:ot(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:l,animated:u,inactive:be,updating:Y}]),onClick:N,onDoubleClick:K,onContextMenu:ue,onMouseEnter:I,onMouseMove:L,onMouseLeave:Q,onKeyDown:X?Ye:void 0,tabIndex:X?0:void 0,role:X?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":O===null?void 0:O||`Edge from ${d} to ${m}`,"aria-describedby":X?`${km}-${le}`:void 0,ref:re},!he&&ie.createElement(e,{id:n,source:d,target:m,selected:l,animated:u,label:f,labelStyle:g,labelShowBg:y,labelBgStyle:h,labelBgPadding:v,labelBgBorderRadius:x,data:i,style:w,sourceX:b,sourceY:_,targetX:S,targetY:D,sourcePosition:E,targetPosition:A,sourceHandleId:q,targetHandleId:C,markerStart:ne,markerEnd:j,pathOptions:ge,interactionWidth:me}),fe&&ie.createElement(ie.Fragment,null,(fe==="source"||fe===!0)&&ie.createElement(Ff,{position:E,centerX:b,centerY:_,radius:G,onMouseDown:ae,onMouseEnter:ze,onMouseOut:xe,type:"source"}),(fe==="target"||fe===!0)&&ie.createElement(Ff,{position:A,centerX:S,centerY:D,radius:G,onMouseDown:ve,onMouseEnter:ze,onMouseOut:xe,type:"target"})))};return t.displayName="EdgeWrapper",M.memo(t)};function s_(e){const t={default:zr(e.default||Ko),straight:zr(e.bezier||Mu),step:zr(e.step||Au),smoothstep:zr(e.step||ba),simplebezier:zr(e.simplebezier||Iu)},n={},r=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=zr(e[i]||Ko),s),n);return{...t,...r}}function Bf(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,s=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case ke.Top:return{x:r+i/2,y:s};case ke.Right:return{x:r+i,y:s+o/2};case ke.Bottom:return{x:r+i/2,y:s+o};case ke.Left:return{x:r,y:s+o/2}}}function Hf(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const i_=(e,t,n,r,s,i)=>{const o=Bf(n,e,t),a=Bf(i,r,s);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function o_({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:i,width:o,height:a,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+r,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const f=di({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:a/l[2]}),g=Math.max(0,Math.min(f.x2,u.x2)-Math.max(f.x,u.x)),y=Math.max(0,Math.min(f.y2,u.y2)-Math.max(f.y,u.y));return Math.ceil(g*y)>0}function Uf(e){var r,s,i,o,a;const t=((r=e==null?void 0:e[Ve])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const a_=[{level:0,isMaxLevel:!0,edges:[]}];function l_(e,t,n=!1){let r=-1;const s=e.reduce((o,a)=>{var f,g;const l=Rt(a.zIndex);let u=l?a.zIndex:0;if(n){const y=t.get(a.target),h=t.get(a.source),v=a.selected||(y==null?void 0:y.selected)||(h==null?void 0:h.selected),x=Math.max(((f=h==null?void 0:h[Ve])==null?void 0:f.z)||0,((g=y==null?void 0:y[Ve])==null?void 0:g.z)||0,1e3);u=(l?a.zIndex:0)+(v?x:0)}return o[u]?o[u].push(a):o[u]=[a],r=u>r?u:r,o},{}),i=Object.entries(s).map(([o,a])=>{const l=+o;return{edges:a,level:l,isMaxLevel:l===r}});return i.length===0?a_:i}function c_(e,t,n){const r=Re(M.useCallback(s=>e?s.edges.filter(i=>{const o=t.get(i.source),a=t.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&o_({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return l_(r,t,n)}const u_=({color:e="none",strokeWidth:t=1})=>ie.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),d_=({color:e="none",strokeWidth:t=1})=>ie.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Vf={[hi.Arrow]:u_,[hi.ArrowClosed]:d_};function f_(e){const t=Qe();return M.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(Vf,e)?Vf[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",kn.error009(e)),null)},[e])}const h_=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=f_(t);return l?ie.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0"},ie.createElement(l,{color:n,strokeWidth:o})):null},p_=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=yc(o,t);r.includes(a)||(s.push({id:a,color:o.color||e,...o}),r.push(a))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},Rm=({defaultColor:e,rfId:t})=>{const n=Re(M.useCallback(p_({defaultColor:e,rfId:t}),[e,t]),(r,s)=>!(r.length!==s.length||r.some((i,o)=>i.id!==s[o].id)));return ie.createElement("defs",null,n.map(r=>ie.createElement(h_,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Rm.displayName="MarkerDefinitions";var m_=M.memo(Rm);const g_=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Pm=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:f,onEdgeDoubleClick:g,onReconnect:y,onReconnectStart:h,onReconnectEnd:v,reconnectRadius:x,children:w,disableKeyboardA11y:d})=>{const{edgesFocusable:m,edgesUpdatable:b,elementsSelectable:_,width:S,height:D,connectionMode:E,nodeInternals:A,onError:T}=Re(g_,nt),H=c_(t,A,n);return S?ie.createElement(ie.Fragment,null,H.map(({level:q,edges:C,isMaxLevel:F})=>ie.createElement("svg",{key:q,style:{zIndex:q},width:S,height:D,className:"react-flow__edges react-flow__container"},F&&ie.createElement(m_,{defaultColor:e,rfId:r}),ie.createElement("g",null,C.map(p=>{const[$,W,G]=Uf(A.get(p.source)),[Z,z,U]=Uf(A.get(p.target));if(!G||!U)return null;let R=p.type||"default";s[R]||(T==null||T("011",kn.error011(R)),R="default");const P=s[R]||s.default,le=E===Gn.Strict?z.target:(z.target??[]).concat(z.source??[]),O=Hf(W.source,p.sourceHandle),X=Hf(le,p.targetHandle),fe=(O==null?void 0:O.position)||ke.Bottom,ge=(X==null?void 0:X.position)||ke.Top,me=!!(p.focusable||m&&typeof p.focusable>"u"),pe=p.reconnectable||p.updatable,re=typeof y<"u"&&(pe||b&&typeof pe>"u");if(!O||!X)return T==null||T("008",kn.error008(O,p)),null;const{sourceX:Y,sourceY:de,targetX:he,targetY:k}=i_($,O,fe,Z,X,ge);return ie.createElement(P,{key:p.id,id:p.id,className:ot([p.className,i]),type:R,data:p.data,selected:!!p.selected,animated:!!p.animated,hidden:!!p.hidden,label:p.label,labelStyle:p.labelStyle,labelShowBg:p.labelShowBg,labelBgStyle:p.labelBgStyle,labelBgPadding:p.labelBgPadding,labelBgBorderRadius:p.labelBgBorderRadius,style:p.style,source:p.source,target:p.target,sourceHandleId:p.sourceHandle,targetHandleId:p.targetHandle,markerEnd:p.markerEnd,markerStart:p.markerStart,sourceX:Y,sourceY:de,targetX:he,targetY:k,sourcePosition:fe,targetPosition:ge,elementsSelectable:_,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:f,onEdgeDoubleClick:g,onReconnect:y,onReconnectStart:h,onReconnectEnd:v,reconnectRadius:x,rfId:r,ariaLabel:p.ariaLabel,isFocusable:me,isReconnectable:re,pathOptions:"pathOptions"in p?p.pathOptions:void 0,interactionWidth:p.interactionWidth,disableKeyboardA11y:d})})))),w):null};Pm.displayName="EdgeRenderer";var x_=M.memo(Pm);const y_=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function v_({children:e}){const t=Re(y_);return ie.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function w_(e){const t=_a(),n=M.useRef(!1);M.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const b_={[ke.Left]:ke.Right,[ke.Right]:ke.Left,[ke.Top]:ke.Bottom,[ke.Bottom]:ke.Top},Lm=({nodeId:e,handleType:t,style:n,type:r=In.Bezier,CustomComponent:s,connectionStatus:i})=>{var D,E,A;const{fromNode:o,handleId:a,toX:l,toY:u,connectionMode:f}=Re(M.useCallback(T=>({fromNode:T.nodeInternals.get(e),handleId:T.connectionHandleId,toX:(T.connectionPosition.x-T.transform[0])/T.transform[2],toY:(T.connectionPosition.y-T.transform[1])/T.transform[2],connectionMode:T.connectionMode}),[e]),nt),g=(D=o==null?void 0:o[Ve])==null?void 0:D.handleBounds;let y=g==null?void 0:g[t];if(f===Gn.Loose&&(y=y||(g==null?void 0:g[t==="source"?"target":"source"])),!o||!y)return null;const h=a?y.find(T=>T.id===a):y[0],v=h?h.x+h.width/2:(o.width??0)/2,x=h?h.y+h.height/2:o.height??0,w=(((E=o.positionAbsolute)==null?void 0:E.x)??0)+v,d=(((A=o.positionAbsolute)==null?void 0:A.y)??0)+x,m=h==null?void 0:h.position,b=m?b_[m]:null;if(!m||!b)return null;if(s)return ie.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:h,fromX:w,fromY:d,toX:l,toY:u,fromPosition:m,toPosition:b,connectionStatus:i});let _="";const S={sourceX:w,sourceY:d,sourcePosition:m,targetX:l,targetY:u,targetPosition:b};return r===In.Bezier?[_]=im(S):r===In.Step?[_]=xc({...S,borderRadius:0}):r===In.SmoothStep?[_]=xc(S):r===In.SimpleBezier?[_]=sm(S):_=`M${w},${d} ${l},${u}`,ie.createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:n})};Lm.displayName="ConnectionLine";const k_=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function __({containerStyle:e,style:t,type:n,component:r}){const{nodeId:s,handleType:i,nodesConnectable:o,width:a,height:l,connectionStatus:u}=Re(k_,nt);return!(s&&i&&a&&o)?null:ie.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},ie.createElement("g",{className:ot(["react-flow__connection",u])},ie.createElement(Lm,{nodeId:s,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Wf(e,t){return M.useRef(null),Qe(),M.useMemo(()=>t(e),[e])}const Om=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:i,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:g,onNodeMouseLeave:y,onNodeContextMenu:h,onSelectionContextMenu:v,onSelectionStart:x,onSelectionEnd:w,connectionLineType:d,connectionLineStyle:m,connectionLineComponent:b,connectionLineContainerStyle:_,selectionKeyCode:S,selectionOnDrag:D,selectionMode:E,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:H,deleteKeyCode:q,onlyRenderVisibleElements:C,elementsSelectable:F,selectNodesOnDrag:p,defaultViewport:$,translateExtent:W,minZoom:G,maxZoom:Z,preventScrolling:z,defaultMarkerColor:U,zoomOnScroll:R,zoomOnPinch:P,panOnScroll:le,panOnScrollSpeed:O,panOnScrollMode:X,zoomOnDoubleClick:fe,panOnDrag:ge,onPaneClick:me,onPaneMouseEnter:pe,onPaneMouseMove:re,onPaneMouseLeave:Y,onPaneScroll:de,onPaneContextMenu:he,onEdgeContextMenu:k,onEdgeMouseEnter:se,onEdgeMouseMove:ne,onEdgeMouseLeave:j,onReconnect:N,onReconnectStart:K,onReconnectEnd:ue,reconnectRadius:I,noDragClassName:L,noWheelClassName:Q,noPanClassName:J,elevateEdgesOnSelect:ae,disableKeyboardA11y:ve,nodeOrigin:ze,nodeExtent:xe,rfId:be})=>{const Ye=Wf(e,qk),te=Wf(t,s_);return w_(i),ie.createElement(Yk,{onPaneClick:me,onPaneMouseEnter:pe,onPaneMouseMove:re,onPaneMouseLeave:Y,onPaneContextMenu:he,onPaneScroll:de,deleteKeyCode:q,selectionKeyCode:S,selectionOnDrag:D,selectionMode:E,onSelectionStart:x,onSelectionEnd:w,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:H,elementsSelectable:F,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:R,zoomOnPinch:P,zoomOnDoubleClick:fe,panOnScroll:le,panOnScrollSpeed:O,panOnScrollMode:X,panOnDrag:ge,defaultViewport:$,translateExtent:W,minZoom:G,maxZoom:Z,onSelectionContextMenu:v,preventScrolling:z,noDragClassName:L,noWheelClassName:Q,noPanClassName:J,disableKeyboardA11y:ve},ie.createElement(v_,null,ie.createElement(x_,{edgeTypes:te,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:C,onEdgeContextMenu:k,onEdgeMouseEnter:se,onEdgeMouseMove:ne,onEdgeMouseLeave:j,onReconnect:N,onReconnectStart:K,onReconnectEnd:ue,reconnectRadius:I,defaultMarkerColor:U,noPanClassName:J,elevateEdgesOnSelect:!!ae,disableKeyboardA11y:ve,rfId:be},ie.createElement(__,{style:m,type:d,component:b,containerStyle:_})),ie.createElement("div",{className:"react-flow__edgelabel-renderer"}),ie.createElement(e_,{nodeTypes:Ye,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:f,onNodeMouseMove:g,onNodeMouseLeave:y,onNodeContextMenu:h,selectNodesOnDrag:p,onlyRenderVisibleElements:C,noPanClassName:J,noDragClassName:L,disableKeyboardA11y:ve,nodeOrigin:ze,nodeExtent:xe,rfId:be})))};Om.displayName="GraphView";var S_=M.memo(Om);const kc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Nn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:kc,nodeExtent:kc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Gn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Jb,isValidConnection:void 0},N_=()=>pv((e,t)=>({...Nn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:i}=t();e({nodeInternals:il(n,r,s,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",i=typeof r<"u",o=s?il(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:i?r:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=t(),f=l==null?void 0:l.querySelector(".react-flow__viewport");if(!f)return;const g=window.getComputedStyle(f),{m22:y}=new window.DOMMatrixReadOnly(g.transform),h=n.reduce((x,w)=>{const d=s.get(w.id);if(d!=null&&d.hidden)s.set(d.id,{...d,[Ve]:{...d[Ve],handleBounds:void 0}});else if(d){const m=Du(w.nodeElement);!!(m.width&&m.height&&(d.width!==m.width||d.height!==m.height||w.forceUpdate))&&(s.set(d.id,{...d,[Ve]:{...d[Ve],handleBounds:{source:Of(".source",w.nodeElement,y,u),target:Of(".target",w.nodeElement,y,u)}},...m}),x.push({id:d.id,type:"dimensions",dimensions:m}))}return x},[]);Sm(s,u);const v=o||i&&!o&&Nm(t,{initial:!0,...a});e({nodeInternals:new Map(s),fitViewOnInitDone:v}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:i}=t(),o=n.map(a=>{const l={id:a.id,type:"position",dragging:s};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});i(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(i){const u=Em(n,a()),f=il(u,s,o,l);e({nodeInternals:f})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,a=null;r?o=n.map(l=>jn(l,!0)):(o=Br(i(),n),a=Br(s,[])),Xi({changedNodes:o,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,a=null;r?o=n.map(l=>jn(l,!0)):(o=Br(s,n),a=Br(i(),[])),Xi({changedNodes:a,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:i}=t(),o=n||i(),a=r||s,l=o.map(f=>(f.selected=!1,jn(f.id,!1))),u=a.map(f=>jn(f.id,!1));Xi({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=t();r==null||r.scaleExtent([n,s]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=t();r==null||r.scaleExtent([s,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(a=>a.selected).map(a=>jn(a.id,!1)),o=n.filter(a=>a.selected).map(a=>jn(a.id,!1));Xi({changedNodes:i,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(s=>{s.positionAbsolute=Tu(s.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:i,d3Zoom:o,d3Selection:a,translateExtent:l}=t();if(!o||!a||!n.x&&!n.y)return!1;const u=mn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),f=[[0,0],[s,i]],g=o==null?void 0:o.constrain()(u,f,l);return o.transform(a,g),r[0]!==g.x||r[1]!==g.y||r[2]!==g.k},cancelConnection:()=>e({connectionNodeId:Nn.connectionNodeId,connectionHandleId:Nn.connectionHandleId,connectionHandleType:Nn.connectionHandleType,connectionStatus:Nn.connectionStatus,connectionStartHandle:Nn.connectionStartHandle,connectionEndHandle:Nn.connectionEndHandle}),reset:()=>e({...Nn})}),Object.is),$u=({children:e})=>{const t=M.useRef(null);return t.current||(t.current=N_()),ie.createElement(Zb,{value:t.current},e)};$u.displayName="ReactFlowProvider";const $m=({children:e})=>M.useContext(wa)?ie.createElement(ie.Fragment,null,e):ie.createElement($u,null,e);$m.displayName="ReactFlowWrapper";const z_={input:xm,default:wc,output:vm,group:Lu},E_={default:Ko,straight:Mu,step:Au,smoothstep:ba,simplebezier:Iu},C_=[0,0],j_=[15,15],D_={x:0,y:0,zoom:1},T_={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Fm=M.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i=z_,edgeTypes:o=E_,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:f,onMoveStart:g,onMoveEnd:y,onConnect:h,onConnectStart:v,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:d,onNodeMouseEnter:m,onNodeMouseMove:b,onNodeMouseLeave:_,onNodeContextMenu:S,onNodeDoubleClick:D,onNodeDragStart:E,onNodeDrag:A,onNodeDragStop:T,onNodesDelete:H,onEdgesDelete:q,onSelectionChange:C,onSelectionDragStart:F,onSelectionDrag:p,onSelectionDragStop:$,onSelectionContextMenu:W,onSelectionStart:G,onSelectionEnd:Z,connectionMode:z=Gn.Strict,connectionLineType:U=In.Bezier,connectionLineStyle:R,connectionLineComponent:P,connectionLineContainerStyle:le,deleteKeyCode:O="Backspace",selectionKeyCode:X="Shift",selectionOnDrag:fe=!1,selectionMode:ge=fi.Full,panActivationKeyCode:me="Space",multiSelectionKeyCode:pe=Go()?"Meta":"Control",zoomActivationKeyCode:re=Go()?"Meta":"Control",snapToGrid:Y=!1,snapGrid:de=j_,onlyRenderVisibleElements:he=!1,selectNodesOnDrag:k=!0,nodesDraggable:se,nodesConnectable:ne,nodesFocusable:j,nodeOrigin:N=C_,edgesFocusable:K,edgesUpdatable:ue,elementsSelectable:I,defaultViewport:L=D_,minZoom:Q=.5,maxZoom:J=2,translateExtent:ae=kc,preventScrolling:ve=!0,nodeExtent:ze,defaultMarkerColor:xe="#b1b1b7",zoomOnScroll:be=!0,zoomOnPinch:Ye=!0,panOnScroll:te=!1,panOnScrollSpeed:oe=.5,panOnScrollMode:ce=ar.Free,zoomOnDoubleClick:V=!0,panOnDrag:B=!0,onPaneClick:ee,onPaneMouseEnter:we,onPaneMouseMove:Ne,onPaneMouseLeave:Ee,onPaneScroll:Ie,onPaneContextMenu:dt,children:Je,onEdgeContextMenu:Ze,onEdgeDoubleClick:Oe,onEdgeMouseEnter:Bt,onEdgeMouseMove:Sa,onEdgeMouseLeave:Km,onEdgeUpdate:Ym,onEdgeUpdateStart:Xm,onEdgeUpdateEnd:qm,onReconnect:Qm,onReconnectStart:Jm,onReconnectEnd:eg,reconnectRadius:tg=10,edgeUpdaterRadius:ng=10,onNodesChange:rg,onEdgesChange:sg,noDragClassName:ig="nodrag",noWheelClassName:og="nowheel",noPanClassName:Fu="nopan",fitView:ag=!1,fitViewOptions:lg,connectOnClick:cg=!0,attributionPosition:ug,proOptions:dg,defaultEdgeOptions:fg,elevateNodesOnSelect:hg=!0,elevateEdgesOnSelect:pg=!1,disableKeyboardA11y:Bu=!1,autoPanOnConnect:mg=!0,autoPanOnNodeDrag:gg=!0,connectionRadius:xg=20,isValidConnection:yg,onError:vg,style:wg,id:Hu,nodeDragThreshold:bg,...kg},_g)=>{const Na=Hu||"1";return ie.createElement("div",{...kg,style:{...wg,...T_},ref:_g,className:ot(["react-flow",s]),"data-testid":"rf__wrapper",id:Hu},ie.createElement($m,null,ie.createElement(S_,{onInit:u,onMove:f,onMoveStart:g,onMoveEnd:y,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:m,onNodeMouseMove:b,onNodeMouseLeave:_,onNodeContextMenu:S,onNodeDoubleClick:D,nodeTypes:i,edgeTypes:o,connectionLineType:U,connectionLineStyle:R,connectionLineComponent:P,connectionLineContainerStyle:le,selectionKeyCode:X,selectionOnDrag:fe,selectionMode:ge,deleteKeyCode:O,multiSelectionKeyCode:pe,panActivationKeyCode:me,zoomActivationKeyCode:re,onlyRenderVisibleElements:he,selectNodesOnDrag:k,defaultViewport:L,translateExtent:ae,minZoom:Q,maxZoom:J,preventScrolling:ve,zoomOnScroll:be,zoomOnPinch:Ye,zoomOnDoubleClick:V,panOnScroll:te,panOnScrollSpeed:oe,panOnScrollMode:ce,panOnDrag:B,onPaneClick:ee,onPaneMouseEnter:we,onPaneMouseMove:Ne,onPaneMouseLeave:Ee,onPaneScroll:Ie,onPaneContextMenu:dt,onSelectionContextMenu:W,onSelectionStart:G,onSelectionEnd:Z,onEdgeContextMenu:Ze,onEdgeDoubleClick:Oe,onEdgeMouseEnter:Bt,onEdgeMouseMove:Sa,onEdgeMouseLeave:Km,onReconnect:Qm??Ym,onReconnectStart:Jm??Xm,onReconnectEnd:eg??qm,reconnectRadius:tg??ng,defaultMarkerColor:xe,noDragClassName:ig,noWheelClassName:og,noPanClassName:Fu,elevateEdgesOnSelect:pg,rfId:Na,disableKeyboardA11y:Bu,nodeOrigin:N,nodeExtent:ze}),ie.createElement(bk,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:v,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:d,nodesDraggable:se,nodesConnectable:ne,nodesFocusable:j,edgesFocusable:K,edgesUpdatable:ue,elementsSelectable:I,elevateNodesOnSelect:hg,minZoom:Q,maxZoom:J,nodeExtent:ze,onNodesChange:rg,onEdgesChange:sg,snapToGrid:Y,snapGrid:de,connectionMode:z,translateExtent:ae,connectOnClick:cg,defaultEdgeOptions:fg,fitView:ag,fitViewOptions:lg,onNodesDelete:H,onEdgesDelete:q,onNodeDragStart:E,onNodeDrag:A,onNodeDragStop:T,onSelectionDrag:p,onSelectionDragStart:F,onSelectionDragStop:$,noPanClassName:Fu,nodeOrigin:N,rfId:Na,autoPanOnConnect:mg,autoPanOnNodeDrag:gg,onError:vg,connectionRadius:xg,isValidConnection:yg,nodeDragThreshold:bg}),ie.createElement(vk,{onSelectionChange:C}),Je,ie.createElement(Kb,{proOptions:dg,position:ug}),ie.createElement(zk,{rfId:Na,disableKeyboardA11y:Bu})))});Fm.displayName="ReactFlow";function Bm(e){return t=>{const[n,r]=M.useState(t),s=M.useCallback(i=>r(o=>e(i,o)),[]);return[n,r,s]}}const I_=Bm(Em),A_=Bm(Fk),Hm=({id:e,x:t,y:n,width:r,height:s,style:i,color:o,strokeColor:a,strokeWidth:l,className:u,borderRadius:f,shapeRendering:g,onClick:y,selected:h})=>{const{background:v,backgroundColor:x}=i||{},w=o||v||x;return ie.createElement("rect",{className:ot(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:f,ry:f,width:r,height:s,fill:w,stroke:a,strokeWidth:l,shapeRendering:g,onClick:y?d=>y(d,e):void 0})};Hm.displayName="MiniMapNode";var M_=M.memo(Hm);const R_=e=>e.nodeOrigin,P_=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),cl=e=>e instanceof Function?e:()=>e;function L_({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:i=M_,onClick:o}){const a=Re(P_,nt),l=Re(R_),u=cl(t),f=cl(e),g=cl(n),y=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return ie.createElement(ie.Fragment,null,a.map(h=>{const{x:v,y:x}=dr(h,l).positionAbsolute;return ie.createElement(i,{key:h.id,x:v,y:x,width:h.width,height:h.height,style:h.style,selected:h.selected,className:g(h),color:u(h),borderRadius:r,strokeColor:f(h),strokeWidth:s,shapeRendering:y,onClick:o,id:h.id})}))}var O_=M.memo(L_);const $_=200,F_=150,B_=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?qb(ka(t,e.nodeOrigin),n):n,rfId:e.rfId}},H_="react-flow__minimap-desc";function Um({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:f=1,position:g="bottom-right",onClick:y,onNodeClick:h,pannable:v=!1,zoomable:x=!1,ariaLabel:w="React Flow mini map",inversePan:d=!1,zoomStep:m=10,offsetScale:b=5}){const _=Qe(),S=M.useRef(null),{boundingRect:D,viewBB:E,rfId:A}=Re(B_,nt),T=(e==null?void 0:e.width)??$_,H=(e==null?void 0:e.height)??F_,q=D.width/T,C=D.height/H,F=Math.max(q,C),p=F*T,$=F*H,W=b*F,G=D.x-(p-D.width)/2-W,Z=D.y-($-D.height)/2-W,z=p+W*2,U=$+W*2,R=`${H_}-${A}`,P=M.useRef(0);P.current=F,M.useEffect(()=>{if(S.current){const X=At(S.current),fe=pe=>{const{transform:re,d3Selection:Y,d3Zoom:de}=_.getState();if(pe.sourceEvent.type!=="wheel"||!Y||!de)return;const he=-pe.sourceEvent.deltaY*(pe.sourceEvent.deltaMode===1?.05:pe.sourceEvent.deltaMode?1:.002)*m,k=re[2]*Math.pow(2,he);de.scaleTo(Y,k)},ge=pe=>{const{transform:re,d3Selection:Y,d3Zoom:de,translateExtent:he,width:k,height:se}=_.getState();if(pe.sourceEvent.type!=="mousemove"||!Y||!de)return;const ne=P.current*Math.max(1,re[2])*(d?-1:1),j={x:re[0]-pe.sourceEvent.movementX*ne,y:re[1]-pe.sourceEvent.movementY*ne},N=[[0,0],[k,se]],K=mn.translate(j.x,j.y).scale(re[2]),ue=de.constrain()(K,N,he);de.transform(Y,ue)},me=K0().on("zoom",v?ge:null).on("zoom.wheel",x?fe:null);return X.call(me),()=>{X.on("zoom",null)}}},[v,x,d,m]);const le=y?X=>{const fe=Wt(X);y(X,{x:fe[0],y:fe[1]})}:void 0,O=h?(X,fe)=>{const ge=_.getState().nodeInternals.get(fe);h(X,ge)}:void 0;return ie.createElement(ju,{position:g,style:e,className:ot(["react-flow__minimap",t]),"data-testid":"rf__minimap"},ie.createElement("svg",{width:T,height:H,viewBox:`${G} ${Z} ${z} ${U}`,role:"img","aria-labelledby":R,ref:S,onClick:le},w&&ie.createElement("title",{id:R},w),ie.createElement(O_,{onClick:O,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:a}),ie.createElement("path",{className:"react-flow__minimap-mask",d:`M${G-W},${Z-W}h${z+W*2}v${U+W*2}h${-z-W*2}z
        M${E.x},${E.y}h${E.width}v${E.height}h${-E.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:f,pointerEvents:"none"})))}Um.displayName="MiniMap";var U_=M.memo(Um);function V_(){return ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ie.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function W_(){return ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ie.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Z_(){return ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ie.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function G_(){return ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ie.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function K_(){return ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ie.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Ts=({children:e,className:t,...n})=>ie.createElement("button",{type:"button",className:ot(["react-flow__controls-button",t]),...n},e);Ts.displayName="ControlButton";const Y_=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Vm=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:u,children:f,position:g="bottom-left"})=>{const y=Qe(),[h,v]=M.useState(!1),{isInteractive:x,minZoomReached:w,maxZoomReached:d}=Re(Y_,nt),{zoomIn:m,zoomOut:b,fitView:_}=_a();if(M.useEffect(()=>{v(!0)},[]),!h)return null;const S=()=>{m(),i==null||i()},D=()=>{b(),o==null||o()},E=()=>{_(s),a==null||a()},A=()=>{y.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),l==null||l(!x)};return ie.createElement(ju,{className:ot(["react-flow__controls",u]),position:g,style:e,"data-testid":"rf__controls"},t&&ie.createElement(ie.Fragment,null,ie.createElement(Ts,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:d},ie.createElement(V_,null)),ie.createElement(Ts,{onClick:D,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},ie.createElement(W_,null))),n&&ie.createElement(Ts,{className:"react-flow__controls-fitview",onClick:E,title:"fit view","aria-label":"fit view"},ie.createElement(Z_,null)),r&&ie.createElement(Ts,{className:"react-flow__controls-interactive",onClick:A,title:"toggle interactivity","aria-label":"toggle interactivity"},x?ie.createElement(K_,null):ie.createElement(G_,null)),f)};Vm.displayName="Controls";var X_=M.memo(Vm),Lt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Lt||(Lt={}));function q_({color:e,dimensions:t,lineWidth:n}){return ie.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function Q_({color:e,radius:t}){return ie.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const J_={[Lt.Dots]:"#91919a",[Lt.Lines]:"#eee",[Lt.Cross]:"#e2e2e2"},eS={[Lt.Dots]:1,[Lt.Lines]:1,[Lt.Cross]:6},tS=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Wm({id:e,variant:t=Lt.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=2,color:o,style:a,className:l}){const u=M.useRef(null),{transform:f,patternId:g}=Re(tS,nt),y=o||J_[t],h=r||eS[t],v=t===Lt.Dots,x=t===Lt.Cross,w=Array.isArray(n)?n:[n,n],d=[w[0]*f[2]||1,w[1]*f[2]||1],m=h*f[2],b=x?[m,m]:d,_=v?[m/i,m/i]:[b[0]/i,b[1]/i];return ie.createElement("svg",{className:ot(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},ie.createElement("pattern",{id:g+e,x:f[0]%d[0],y:f[1]%d[1],width:d[0],height:d[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`},v?ie.createElement(Q_,{color:y,radius:m/i}):ie.createElement(q_,{dimensions:b,color:y,lineWidth:s})),ie.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${g+e})`}))}Wm.displayName="Background";var nS=M.memo(Wm);const We="w-3 h-3 !bg-zinc-400 border border-zinc-900 z-50 transition-colors hover:!bg-blue-400",rS=({data:e,selected:t})=>c.jsxs("div",{className:`px-6 py-3 rounded-full flex items-center justify-center min-w-[120px] bg-zinc-900 border-2 shadow-sm transition-all ${t?"border-emerald-500 shadow-emerald-500/20":"border-emerald-500/50"}`,children:[c.jsx("div",{className:"text-center text-xs text-white font-semibold",children:e.label}),c.jsx(Ae,{type:"target",position:ke.Top,id:"top",className:`${We} -mt-[2px]`}),c.jsx(Ae,{type:"source",position:ke.Bottom,id:"bottom",className:`${We} -mb-[2px]`}),c.jsx(Ae,{type:"source",position:ke.Right,id:"right",className:`${We} -mr-[2px]`}),c.jsx(Ae,{type:"target",position:ke.Left,id:"left",className:`${We} -ml-[2px]`})]}),sS=({data:e,selected:t})=>c.jsxs("div",{className:`px-4 py-4 rounded-lg flex items-center justify-center min-w-[140px] bg-zinc-900 border-2 shadow-sm transition-all ${t?"border-blue-500 shadow-blue-500/20":"border-zinc-600"}`,children:[c.jsx("div",{className:"text-center text-xs text-white font-medium",children:e.label}),c.jsx(Ae,{type:"target",position:ke.Top,id:"top",className:`${We} -mt-[2px]`}),c.jsx(Ae,{type:"source",position:ke.Bottom,id:"bottom",className:`${We} -mb-[2px]`}),c.jsx(Ae,{type:"source",position:ke.Right,id:"right",className:`${We} -mr-[2px]`}),c.jsx(Ae,{type:"target",position:ke.Left,id:"left",className:`${We} -ml-[2px]`})]}),iS=({data:e,selected:t})=>c.jsxs("div",{className:"w-28 h-28 relative flex items-center justify-center",children:[c.jsx("div",{className:`absolute inset-0 transform rotate-45 bg-zinc-900 border-2 transition-all shadow-sm ${t?"border-purple-500 shadow-purple-500/20":"border-purple-500/60"}`}),c.jsx("div",{className:"relative z-10 p-2 text-[10px] text-white font-bold text-center leading-tight max-w-[70%]",children:e.label}),c.jsx(Ae,{type:"target",position:ke.Top,id:"top",className:`${We} -mt-1`}),c.jsx(Ae,{type:"source",position:ke.Bottom,id:"bottom",className:`${We} -mb-1`}),c.jsx(Ae,{type:"source",position:ke.Right,id:"right",className:`${We} -mr-1`}),c.jsx(Ae,{type:"source",position:ke.Left,id:"left",className:`${We} -ml-1`})]}),oS=({data:e,selected:t})=>c.jsxs("div",{className:"relative p-1",children:[c.jsx("div",{className:`px-6 py-3 min-w-[140px] transform -skew-x-12 bg-zinc-900 border-2 transition-all shadow-sm flex items-center justify-center ${t?"border-orange-500 shadow-orange-500/20":"border-orange-500/60"}`,children:c.jsx("div",{className:"transform skew-x-12 text-center text-xs text-white font-medium",children:e.label})}),c.jsx(Ae,{type:"target",position:ke.Top,id:"top",className:`${We} top-0`}),c.jsx(Ae,{type:"source",position:ke.Bottom,id:"bottom",className:`${We} bottom-0`}),c.jsx(Ae,{type:"source",position:ke.Right,id:"right",className:`${We} right-1`}),c.jsx(Ae,{type:"target",position:ke.Left,id:"left",className:`${We} left-1`})]}),aS=({data:e,selected:t})=>c.jsxs("div",{className:`w-24 h-24 relative flex flex-col items-center justify-center bg-zinc-900 border-x-2 border-zinc-500 ${t?"ring-2 ring-blue-500 border-blue-500":""}`,children:[c.jsx("div",{className:"absolute top-0 w-full h-6 bg-zinc-800 border-2 border-zinc-500 rounded-[50%] -mt-3 z-10"}),c.jsx("div",{className:"text-[10px] text-zinc-300 text-center px-1 z-0 mt-2 font-mono",children:e.label}),c.jsx("div",{className:"absolute bottom-0 w-full h-6 bg-zinc-900 border-b-2 border-x-2 border-zinc-500 rounded-[50%] -mb-3 z-0"}),c.jsx(Ae,{type:"target",position:ke.Top,id:"top",className:`${We} -mt-3`}),c.jsx(Ae,{type:"source",position:ke.Bottom,id:"bottom",className:`${We} -mb-3`}),c.jsx(Ae,{type:"source",position:ke.Right,id:"right",className:`${We} -mr-[2px]`}),c.jsx(Ae,{type:"target",position:ke.Left,id:"left",className:`${We} -ml-[2px]`})]}),lS=({data:e,selected:t})=>c.jsxs("div",{className:"w-32 h-16 relative flex items-center justify-center",children:[c.jsx("div",{className:`absolute inset-0 bg-zinc-900 border-2 transition-all ${t?"border-yellow-500 bg-yellow-500/10":"border-yellow-500/60"}`,style:{clipPath:"polygon(15% 0%, 85% 0%, 100% 50%, 85% 100%, 15% 100%, 0% 50%)"}}),c.jsx("div",{className:"relative z-10 text-[10px] uppercase tracking-wider font-bold text-yellow-500 text-center px-6",children:e.label}),c.jsx(Ae,{type:"target",position:ke.Top,id:"top",className:`${We} -mt-[2px]`}),c.jsx(Ae,{type:"source",position:ke.Bottom,id:"bottom",className:`${We} -mb-[2px]`})]}),cS=({data:e,selected:t})=>c.jsxs("div",{className:`w-40 min-h-[80px] bg-yellow-100/10 border-l-4 border-yellow-400 rounded p-2 flex flex-col relative ${t?"ring-1 ring-yellow-400":""}`,children:[c.jsx("div",{className:"text-[9px] text-yellow-500/80 font-bold uppercase mb-1",children:"Note"}),c.jsx("div",{className:"text-xs text-zinc-300 italic text-left whitespace-pre-wrap",children:e.label}),c.jsx(Ae,{type:"target",position:ke.Left,id:"left",className:"w-2 h-2 !bg-yellow-400/50 opacity-0 hover:opacity-100"})]}),uS=({initialContent:e,onSave:t,fileName:n})=>{const r=(e==null?void 0:e.nodes)||[],s=(e==null?void 0:e.edges)||[],[i,o,a]=I_(r),[l,u,f]=A_(s),{deleteElements:g}=_a(),[y,h]=M.useState("saved"),v=M.useRef(JSON.stringify({nodes:r,edges:s}));M.useEffect(()=>{if(JSON.stringify({nodes:i,edges:l})===v.current)return;h("unsaved");const A=setTimeout(()=>x(),2e3);return()=>clearTimeout(A)},[i,l]),M.useEffect(()=>{const E=A=>{(A.ctrlKey||A.metaKey)&&A.key==="s"&&(A.preventDefault(),x())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[i,l]);const x=()=>{h("saving"),t({nodes:i,edges:l}),v.current=JSON.stringify({nodes:i,edges:l}),setTimeout(()=>h("saved"),500)},w=M.useMemo(()=>({terminal:rS,process:sS,decision:iS,io:oS,database:aS,event:lS,note:cS}),[]);ie.useEffect(()=>{o(r),u(s),v.current=JSON.stringify({nodes:r,edges:s})},[r,s,o,u]);const d=M.useCallback(E=>u(A=>om({...E,animated:!1,type:"smoothstep",style:{stroke:"#a1a1aa",strokeWidth:2},markerEnd:{type:hi.ArrowClosed,color:"#a1a1aa",width:20,height:20}},A)),[u]),m=(E,A)=>{const T=crypto.randomUUID(),H={x:Math.random()*200+200,y:Math.random()*200+100},q={id:T,position:H,data:{label:A},type:E};o(C=>C.concat(q))},b=()=>{const E=i.filter(T=>T.selected),A=l.filter(T=>T.selected);g({nodes:E,edges:A})},_=(E,A)=>{const T=prompt("Enter text for this node:",A.data.label);T!==null&&o(H=>H.map(q=>q.id===A.id?{...q,data:{...q.data,label:T}}:q))},S=(E,A)=>{const T=prompt("Enter label for this connection (e.g., 'Yes', 'No', 'True'):",A.label||"");T!==null&&u(H=>H.map(q=>q.id===A.id?{...q,label:T,labelStyle:{fill:"#ffffff",fontWeight:700,fontSize:12},labelBgStyle:{fill:"#18181b",fillOpacity:.8},labelBgPadding:[4,4],labelBgBorderRadius:4}:q))},D=({onClick:E,icon:A,label:T,colorClass:H})=>c.jsxs("button",{onClick:E,className:"flex flex-col items-center justify-center p-2 rounded-lg hover:bg-zinc-800 transition-colors gap-1 group w-16 h-16 border border-transparent hover:border-zinc-700",title:`Add ${T}`,children:[c.jsx(A,{className:`w-6 h-6 ${H} group-hover:scale-110 transition-transform`}),c.jsx("span",{className:"text-[9px] text-zinc-500 group-hover:text-zinc-300",children:T})]});return c.jsxs("div",{className:"h-full w-full flex flex-col bg-zinc-900",children:[c.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center px-4 justify-between bg-zinc-900/50 backdrop-blur-sm z-10 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h3",{className:"text-zinc-200 font-medium ml-2",children:n}),c.jsx("div",{className:"h-6 w-px bg-zinc-800"}),c.jsxs("button",{onClick:b,className:"p-2 hover:bg-red-500/10 rounded text-zinc-400 hover:text-red-400 transition-colors flex items-center gap-2",title:"Delete Selected (Backspace)",children:[c.jsx(Ft,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Delete Selected"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center mr-2",children:[y==="saving"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[c.jsx(wr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),y==="saved"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[c.jsx(wn,{className:"w-3 h-3"})," Saved"]}),y==="unsaved"&&c.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[c.jsx(pn,{className:"w-3 h-3"})," Unsaved"]})]}),c.jsxs("button",{onClick:x,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${y==="unsaved"?"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[c.jsx(br,{className:"w-4 h-4"}),"Save"]})]})]}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c.jsxs("div",{className:"w-20 bg-zinc-950 border-r border-zinc-800 flex flex-col items-center py-4 gap-2 overflow-y-auto custom-scrollbar z-10",children:[c.jsx("div",{className:"text-[10px] font-bold text-zinc-600 uppercase mb-2",children:"Flow"}),c.jsx(D,{onClick:()=>m("terminal","Start"),icon:C1,label:"Start",colorClass:"text-emerald-400"}),c.jsx(D,{onClick:()=>m("terminal","End"),icon:I1,label:"End",colorClass:"text-red-400"}),c.jsx(D,{onClick:()=>m("process","Action"),icon:oc,label:"Process",colorClass:"text-blue-400"}),c.jsx(D,{onClick:()=>m("decision","Condition?"),icon:o1,label:"Decision",colorClass:"text-purple-400"}),c.jsx("div",{className:"w-10 h-px bg-zinc-800 my-2"}),c.jsx("div",{className:"text-[10px] font-bold text-zinc-600 uppercase mb-2",children:"Data"}),c.jsx(D,{onClick:()=>m("io","Input/Output"),icon:Jy,label:"I/O",colorClass:"text-orange-400"}),c.jsx(D,{onClick:()=>m("database","Database"),icon:i1,label:"Data",colorClass:"text-zinc-300"}),c.jsx(D,{onClick:()=>m("event","On Trigger"),icon:g1,label:"Event",colorClass:"text-yellow-400"}),c.jsx("div",{className:"w-10 h-px bg-zinc-800 my-2"}),c.jsx(D,{onClick:()=>m("note","Add comment..."),icon:T1,label:"Note",colorClass:"text-yellow-200"})]}),c.jsx("div",{className:"flex-1 h-full w-full relative",children:c.jsxs(Fm,{nodes:i,edges:l,onNodesChange:a,onEdgesChange:f,onConnect:d,onNodeDoubleClick:_,onEdgeDoubleClick:S,nodeTypes:w,fitView:!0,className:"bg-zinc-900",deleteKeyCode:["Backspace","Delete"],connectionMode:Gn.Loose,children:[c.jsx(nS,{variant:Lt.Dots,gap:24,size:1,color:"#3f3f46"}),c.jsx(X_,{className:"bg-zinc-800 border-zinc-700 fill-zinc-200 text-zinc-200 [&>button]:border-zinc-700 [&>button:hover]:bg-zinc-700"}),c.jsx(U_,{nodeStrokeColor:"#52525b",nodeColor:"#18181b",maskColor:"rgba(9, 9, 11, 0.6)",className:"bg-zinc-950 border border-zinc-800 rounded-lg overflow-hidden"})]})})]})]})},dS=e=>c.jsx($u,{children:c.jsx(uS,{...e})}),fS="application/x-gdpm-file-id",hS=(e,t,n)=>{var a;const r=l=>{if(!l)return"";if(l.startsWith("asset://")){const u=l.replace("asset://","");return t[u]||l}return l},s=e.split(`
`);let i="",o=!1;for(let l=0;l<s.length;l++){let u=s[l];if(u.trim().startsWith("```")){o=!o,i+=o?'<div class="bg-zinc-950 p-4 rounded-lg my-4 border border-zinc-800 font-mono text-sm text-zinc-300 overflow-x-auto"><pre>':"</pre></div>";continue}if(o){const g=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");i+=`${g}
`;continue}if(u.startsWith("# ")){i+=`<h1 class="text-3xl font-bold text-zinc-100 mb-4 pb-2 border-b border-zinc-800 mt-6">${qn(u.slice(2),t,n)}</h1>`;continue}if(u.startsWith("## ")){i+=`<h2 class="text-2xl font-semibold text-zinc-100 mb-3 mt-8">${qn(u.slice(3),t,n)}</h2>`;continue}if(u.startsWith("### ")){i+=`<h3 class="text-xl font-medium text-zinc-200 mb-2 mt-6">${qn(u.slice(4),t,n)}</h3>`;continue}if(u.startsWith("> ")){i+=`<blockquote class="border-l-4 border-blue-500 pl-4 py-2 my-4 text-zinc-400 italic bg-zinc-800/30 rounded-r">${qn(u.slice(2),t,n)}</blockquote>`;continue}if(u.match(/^\s*-\s/)){i+=`<div class="flex gap-2 ml-4 mb-1 text-zinc-300"><span class="text-zinc-500"></span><span>${qn(u.replace(/^\s*-\s/,""),t,n)}</span></div>`;continue}if(u.match(/^\s*\d+\.\s/)){const g=((a=u.match(/^\s*(\d+)\./))==null?void 0:a[1])||"1";i+=`<div class="flex gap-2 ml-4 mb-1 text-zinc-300"><span class="text-zinc-500 font-mono">${g}.</span><span>${qn(u.replace(/^\s*\d+\.\s/,""),t,n)}</span></div>`;continue}const f=u.match(/^!\[(.*?)\]\((.*?)\)$/);if(f){const[g,y,h]=f,v=r(h),x=v.startsWith("data:video")||h.match(/\.(mp4|webm|mov)$/i),w=v.startsWith("data:audio")||h.match(/\.(mp3|wav|ogg)$/i);x?i+=`<div class="my-6"><video controls src="${v}" class="max-w-full rounded-lg shadow-lg border border-zinc-800 bg-black max-h-[500px]"></video><div class="text-xs text-zinc-500 mt-2 text-center italic">${y}</div></div>`:w?i+=`<div class="my-4 p-4 bg-zinc-800/50 rounded-lg border border-zinc-800 flex flex-col gap-2"><div class="text-xs text-zinc-400 flex items-center gap-2 font-mono uppercase"><span class="w-2 h-2 rounded-full bg-purple-500"></span> ${y||"Audio Track"}</div><audio controls src="${v}" class="w-full h-8"></audio></div>`:i+=`<div class="my-6"><img src="${v}" alt="${y}" class="max-w-full rounded-lg shadow-lg border border-zinc-800" /><div class="text-xs text-zinc-500 mt-2 text-center italic">${y}</div></div>`;continue}if(u.trim()==="---"||u.trim()==="***"){i+='<hr class="border-zinc-800 my-8" />';continue}if(u.trim()===""){i+='<div class="h-4"></div>';continue}i+=`<p class="mb-2 leading-relaxed text-zinc-300">${qn(u,t,n)}</p>`}return i},qn=(e,t,n)=>{let r=e;return r=r.replace(/\*\*(.*?)\*\*/g,'<strong class="text-zinc-100 font-bold">$1</strong>'),r=r.replace(/\*(.*?)\*/g,'<em class="text-zinc-200 italic">$1</em>'),r=r.replace(/~~(.*?)~~/g,'<s class="opacity-60 text-zinc-500 decoration-zinc-500">$1</s>'),r=r.replace(/<u>(.*?)<\/u>/g,'<u class="decoration-blue-500 decoration-2 underline-offset-4">$1</u>'),r=r.replace(/<span style="color: (.*?)">(.*?)<\/span>/g,'<span style="color: $1">$2</span>'),r=r.replace(/`([^`]+)`/g,'<code class="bg-zinc-800 text-red-400 px-1.5 py-0.5 rounded text-sm font-mono border border-zinc-700/50">$1</code>'),r=r.replace(/\[(.*?)\]\((.*?)\)/g,(s,i,o)=>{if(o.startsWith("file://")){const a=o.replace("file://",""),l=n.get(a);return`<a href="${o}" data-file-id="${a}" class="${l?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"} hover:underline cursor-pointer transition-colors">${i||l||"Open file"}</a>`}return`<a href="${o}" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-300 hover:underline cursor-pointer transition-colors">${i}</a>`}),r},pS=({initialContent:e,onSave:t,fileName:n,assets:r={},onAddAsset:s,projectFiles:i=[],activeFileId:o,onOpenFile:a})=>{const[l,u]=M.useState(e),[f,g]=M.useState("edit"),[y,h]=M.useState(!1),[v,x]=M.useState(""),[w,d]=M.useState(!1),[m,b]=M.useState("#ef4444"),[_,S]=M.useState(""),[D,E]=M.useState(""),[A,T]=M.useState(""),[H,q]=M.useState("saved"),C=M.useRef(e),F=M.useRef(null),p=M.useRef(null),$=M.useRef(null),W=M.useRef(null),G=ie.useMemo(()=>new Map(i.map(Y=>[Y.id,Y.name])),[i]),Z=ie.useMemo(()=>i.filter(Y=>Y.id!==o).sort((Y,de)=>Y.name.localeCompare(de.name,void 0,{sensitivity:"base"})),[i,o]);M.useEffect(()=>{e!==l&&e!==C.current&&(u(e),C.current=e)},[e]),M.useEffect(()=>{if(f==="edit")return;const Y=setTimeout(()=>{x(hS(l,r,G))},500);return()=>clearTimeout(Y)},[l,r,G,f]),M.useEffect(()=>{if(Z.length===0){S("");return}Z.some(Y=>Y.id===_)||S(Z[0].id)},[Z,_]),M.useEffect(()=>{if(l===C.current)return;q("unsaved");const Y=setTimeout(z,1500);return()=>clearTimeout(Y)},[l]),M.useEffect(()=>{const Y=de=>{$.current&&!$.current.contains(de.target)&&d(!1)};return w&&document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[w]),M.useEffect(()=>{const Y=de=>{(de.ctrlKey||de.metaKey)&&de.key==="s"&&(de.preventDefault(),z())};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[l]);const z=()=>{q("saving"),t(l),C.current=l,setTimeout(()=>q("saved"),500)},U=()=>{confirm("Are you sure you want to clear the entire document?")&&u("")},R=(Y,de="")=>{const he=F.current;if(!he)return;const k=he.selectionStart,se=he.selectionEnd,ne=he.value.substring(k,se),j=he.value.substring(0,k)+Y+ne+de+he.value.substring(se);u(j),setTimeout(()=>{he.focus(),he.setSelectionRange(k+Y.length,se+Y.length)},0)},P=async Y=>{var he;const de=(he=Y.target.files)==null?void 0:he[0];if(!(!de||!s)){h(!0);try{const k=await s(de),se=de.name.replace(/[\[\]\(\)]/g,"");R(`
![${se}](${k})
`)}catch(k){console.error("Upload failed",k),alert("Failed to add media.")}finally{h(!1),p.current&&(p.current.value="")}}},le=Y=>{R(`<span style="color: ${Y}">`,"</span>"),d(!1)},O=()=>{const Y=D.trim()||_;if(!Y){alert("No other files available to link.");return}const de=i.find(k=>k.id===Y),he=A.trim()||(de==null?void 0:de.name)||"Linked File";R(`[${he}](file://${Y})`)},X=Y=>{var j;const de=Y.dataTransfer.getData(fS);if(de)try{const N=JSON.parse(de);if(N!=null&&N.id)return{id:N.id,name:N.name||((j=i.find(K=>K.id===N.id))==null?void 0:j.name)||"Linked File"}}catch{const N=i.find(K=>K.id===de);if(N)return{id:N.id,name:N.name}}const he=Y.dataTransfer.getData("text/uri-list");if(he!=null&&he.startsWith("file://")){const N=he.replace("file://","").trim(),K=i.find(ue=>ue.id===N);if(K)return{id:K.id,name:K.name}}const k=Y.dataTransfer.getData("text/plain"),se=k.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(se){const N=se[2],K=i.find(ue=>ue.id===N);if(K)return{id:K.id,name:K.name}}const ne=i.find(N=>N.id===k.trim());return ne?{id:ne.id,name:ne.name}:null},fe=Y=>{X(Y)&&(Y.preventDefault(),Y.dataTransfer.dropEffect="copy")},ge=Y=>{const de=X(Y);de&&(Y.preventDefault(),R(`[${de.name}](file://${de.id})`))},me=Y=>{const he=Y.target.closest("a[data-file-id]");if(!he)return;Y.preventDefault();const k=he.dataset.fileId;!k||!a||a(k)},pe=({icon:Y,onClick:de,title:he,active:k=!1,disabled:se=!1,color:ne})=>c.jsx("button",{onClick:de,disabled:se,className:`p-1.5 rounded-md transition-all flex items-center justify-center shrink-0 ${k?"bg-blue-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800"} ${se?"opacity-50 cursor-not-allowed":""}`,title:he,children:c.jsx(Y,{className:`w-4 h-4 ${ne}`})}),re=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#a855f7","#ec4899","#71717a","#ffffff"];return c.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[c.jsxs("div",{className:"min-h-[3.5rem] border-b border-zinc-800 flex flex-wrap items-center justify-between px-4 py-2 bg-zinc-950/90 backdrop-blur-sm sticky top-0 z-30 shrink-0 gap-y-2",children:[c.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[c.jsx("h3",{className:"text-zinc-200 font-medium mr-2 truncate shrink-0 max-w-[150px]",children:n}),c.jsx("div",{className:"h-6 w-px bg-zinc-800 hidden sm:block shrink-0"}),c.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[c.jsx(pe,{icon:e1,onClick:()=>R("**","**"),title:"Bold"}),c.jsx(pe,{icon:v1,onClick:()=>R("*","*"),title:"Italic"}),c.jsx(pe,{icon:P1,onClick:()=>R("<u>","</u>"),title:"Underline"}),c.jsx(pe,{icon:A1,onClick:()=>R("~~","~~"),title:"Strikethrough"}),c.jsxs("div",{className:"relative",children:[c.jsx(pe,{icon:N1,onClick:()=>d(!w),title:"Text Color",color:"text-pink-400",active:w}),w&&c.jsxs("div",{ref:$,className:"absolute top-full left-0 mt-2 bg-zinc-900 border border-zinc-700 rounded-xl shadow-xl p-3 z-50 w-48 flex flex-col gap-3 animate-in fade-in slide-in-from-top-2 duration-200",children:[c.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:re.map(Y=>c.jsx("button",{onClick:()=>le(Y),className:"w-6 h-6 rounded-full border border-zinc-700 hover:scale-110 transition-transform shadow-sm",style:{backgroundColor:Y},title:Y},Y))}),c.jsx("div",{className:"h-px bg-zinc-800 w-full"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"color",value:m,onChange:Y=>b(Y.target.value),className:"w-8 h-8 rounded cursor-pointer border-0 p-0 bg-transparent"}),c.jsx("button",{onClick:()=>le(m),className:"flex-1 bg-zinc-800 hover:bg-zinc-700 text-xs text-white py-1.5 rounded transition-colors",children:"Apply"})]})]})]}),c.jsx("div",{className:"w-px h-4 bg-zinc-800 mx-1"}),c.jsx(pe,{icon:p1,onClick:()=>R("# "),title:"Heading 1"}),c.jsx(pe,{icon:m1,onClick:()=>R("## "),title:"Heading 2"}),c.jsx(pe,{icon:b1,onClick:()=>R("- "),title:"Bullet List"}),c.jsx(pe,{icon:j1,onClick:()=>R("> "),title:"Quote"}),c.jsx(pe,{icon:d0,onClick:()=>R("```\n","\n```"),title:"Code Block"}),c.jsx(pe,{icon:fa,onClick:O,title:"Insert File Link",color:"text-cyan-400"}),c.jsx("select",{value:_,onChange:Y=>S(Y.target.value),className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-[11px] text-zinc-300 max-w-[160px]",title:"Select file to link",disabled:Z.length===0,children:Z.length===0?c.jsx("option",{value:"",children:"No link targets"}):Z.map(Y=>c.jsx("option",{value:Y.id,children:Y.name},Y.id))}),c.jsx("input",{type:"text",value:D,onChange:Y=>E(Y.target.value),placeholder:"Paste File ID",className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-[11px] text-zinc-300 w-32",title:"Paste file ID"}),c.jsx("input",{type:"text",value:A,onChange:Y=>T(Y.target.value),placeholder:"Link Label",className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-[11px] text-zinc-300 w-28",title:"Optional link label"}),c.jsx("div",{className:"w-px h-4 bg-zinc-800 mx-1"}),c.jsx("input",{type:"file",ref:p,className:"hidden",accept:"image/*,video/*,audio/*",onChange:P}),c.jsx(pe,{icon:ds,onClick:()=>{var Y;return(Y=p.current)==null?void 0:Y.click()},title:"Insert Image",color:"text-emerald-400"}),c.jsx(pe,{icon:$1,onClick:()=>{var Y;return(Y=p.current)==null?void 0:Y.click()},title:"Insert Video",color:"text-blue-400"}),c.jsx(pe,{icon:S1,onClick:()=>{var Y;return(Y=p.current)==null?void 0:Y.click()},title:"Insert Audio",color:"text-purple-400"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 shrink-0 ml-auto",children:[c.jsxs("div",{className:"flex items-center mr-2 hidden sm:flex",children:[H==="saving"&&c.jsx("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:c.jsx(wr,{className:"w-3 h-3 animate-spin"})}),H==="saved"&&c.jsx("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:c.jsx(wn,{className:"w-3 h-3"})}),H==="unsaved"&&c.jsx("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:c.jsx(pn,{className:"w-3 h-3"})})]}),c.jsxs("div",{className:"flex bg-zinc-800 p-1 rounded-lg border border-zinc-700 hidden sm:flex",children:[c.jsx("button",{onClick:()=>g("edit"),className:`p-1.5 rounded transition-all ${f==="edit"?"bg-zinc-600 text-white":"text-zinc-400"}`,title:"Edit Only",children:c.jsx(ha,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>g("split"),className:`p-1.5 rounded transition-all ${f==="split"?"bg-zinc-600 text-white":"text-zinc-400"}`,title:"Split View",children:c.jsx(f0,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>g("preview"),className:`p-1.5 rounded transition-all ${f==="preview"?"bg-zinc-600 text-white":"text-zinc-400"}`,title:"Preview Only",children:c.jsx(l1,{className:"w-4 h-4"})})]}),c.jsx("button",{onClick:U,className:"p-2 hover:bg-red-500/10 rounded text-zinc-500 hover:text-red-400 transition-colors",title:"Clear Document",children:c.jsx(Ft,{className:"w-4 h-4"})}),c.jsx("button",{onClick:z,className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors shadow-lg ${H==="unsaved"?"bg-blue-600 text-white":"bg-zinc-700 text-zinc-200"}`,children:c.jsx(br,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[(f==="edit"||f==="split")&&c.jsx("div",{className:`h-full flex flex-col ${f==="split"?"w-1/2 border-r border-zinc-800":"w-full"}`,children:c.jsx("textarea",{ref:F,className:"w-full h-full bg-zinc-950 p-6 text-zinc-300 font-mono text-sm resize-none focus:outline-none leading-relaxed custom-scrollbar selection:bg-blue-500/30",value:l,onChange:Y=>u(Y.target.value),onDragOver:fe,onDrop:ge,placeholder:"# Start writing...",spellCheck:!1})}),(f==="preview"||f==="split")&&c.jsx("div",{className:`h-full overflow-auto custom-scrollbar bg-zinc-900 ${f==="split"?"w-1/2":"w-full"}`,children:c.jsx("div",{ref:W,onClick:me,className:"max-w-3xl mx-auto p-8 prose prose-invert prose-headings:border-b-0",dangerouslySetInnerHTML:{__html:v}})})]})]})},mS="application/x-gdpm-file-id",gS=({initialContent:e,onSave:t,fileName:n,projectFiles:r=[],onOpenFile:s,activeFileId:i})=>{const[o,a]=M.useState(()=>((e==null?void 0:e.items)||[]).map(L=>({...L,status:L.status||(L.completed?"Done":"To Do")}))),[l,u]=M.useState("saved"),f=M.useRef(JSON.stringify(o)),[g,y]=M.useState(null),[h,v]=M.useState(null),[x,w]=M.useState(""),[d,m]=M.useState("Medium"),[b,_]=M.useState(""),[S,D]=M.useState(""),[E,A]=M.useState("All"),[T,H]=M.useState(null),[q,C]=M.useState(""),[F,p]=M.useState(""),[$,W]=M.useState(""),[G,Z]=M.useState(""),z=ie.useMemo(()=>new Map(r.map(I=>[I.id,I.name])),[r]),U=ie.useMemo(()=>r.filter(I=>I.id!==i).sort((I,L)=>I.name.localeCompare(L.name,void 0,{sensitivity:"base"})),[r,i]),R=["To Do","In Progress","Done"];M.useEffect(()=>{const L=((e==null?void 0:e.items)||[]).map(Q=>({...Q,status:Q.status||(Q.completed?"Done":"To Do")}));a(L),f.current=JSON.stringify(L)},[e]),M.useEffect(()=>{if(U.length===0){p("");return}U.some(I=>I.id===F)||p(U[0].id)},[U,F]),M.useEffect(()=>{if(JSON.stringify(o)===f.current)return;u("unsaved");const L=setTimeout(()=>P(),2e3);return()=>clearTimeout(L)},[o]),M.useEffect(()=>{const I=L=>{(L.ctrlKey||L.metaKey)&&L.key==="s"&&(L.preventDefault(),P())};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[o]);const P=()=>{u("saving"),t({items:o}),f.current=JSON.stringify(o),setTimeout(()=>u("saved"),500)},le=I=>{if(I&&I.preventDefault(),!x.trim())return;const L={id:crypto.randomUUID(),text:x.trim(),completed:!1,status:"To Do",priority:d,dueDate:b||void 0,description:"",subTasks:[]};a([L,...o]),w(""),m("Medium"),_("")},O=(I,L)=>{I.stopPropagation(),confirm("Delete this task?")&&a(o.filter(Q=>Q.id!==L))},X=(I,L)=>{a(o.map(Q=>Q.id===I?{...Q,status:L,completed:L==="Done"}:Q))},fe=(I,L)=>{a(o.map(Q=>Q.id===I?{...Q,description:L}:Q))},ge=I=>{const L=$.trim()||F;if(!L){alert("Provide a file ID or choose a file.");return}const Q=r.find(ve=>ve.id===L),ae=`[${G.trim()||(Q==null?void 0:Q.name)||"Linked File"}](file://${L})`;a(o.map(ve=>ve.id===I?{...ve,description:`${ve.description||""}${ve.description?`
`:""}${ae}`}:ve))},me=I=>{var ze;const L=I.dataTransfer.getData(mS);if(L)try{const xe=JSON.parse(L);if(xe!=null&&xe.id)return{id:xe.id,name:xe.name||((ze=r.find(be=>be.id===xe.id))==null?void 0:ze.name)||"Linked File"}}catch{const xe=r.find(be=>be.id===L);if(xe)return{id:xe.id,name:xe.name}}const Q=I.dataTransfer.getData("text/uri-list");if(Q!=null&&Q.startsWith("file://")){const xe=Q.replace("file://","").trim(),be=r.find(Ye=>Ye.id===xe);if(be)return{id:be.id,name:be.name}}const J=I.dataTransfer.getData("text/plain"),ae=J.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(ae!=null&&ae[2]){const xe=r.find(be=>be.id===ae[2]);if(xe)return{id:xe.id,name:xe.name}}const ve=r.find(xe=>xe.id===J.trim());return ve?{id:ve.id,name:ve.name}:null},pe=I=>{me(I)&&(I.preventDefault(),I.dataTransfer.dropEffect="copy")},re=(I,L)=>{const Q=me(I);if(!Q)return;I.preventDefault();const J=`[${Q.name}](file://${Q.id})`;a(o.map(ae=>ae.id===L?{...ae,description:`${ae.description||""}${ae.description?`
`:""}${J}`}:ae))},Y=I=>{const L=[],Q=/\[([^\]]+)\]\(file:\/\/([^)]+)\)/g;let J=0,ae=null;for(;(ae=Q.exec(I))!==null;){ae.index>J&&L.push(c.jsx("span",{children:I.slice(J,ae.index)},`txt-${J}`));const ve=ae[2],ze=z.has(ve);L.push(c.jsx("button",{onClick:xe=>{xe.stopPropagation(),s==null||s(ve)},className:`underline underline-offset-2 ${ze?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"}`,title:ze?`Open ${z.get(ve)}`:"Linked file not found",children:ae[1]},`lnk-${ve}-${ae.index}`)),J=Q.lastIndex}return J<I.length&&L.push(c.jsx("span",{children:I.slice(J)},`txt-end-${J}`)),L.length?L:I},de=I=>{if(!q.trim())return;const L={id:crypto.randomUUID(),text:q.trim(),completed:!1};a(o.map(Q=>Q.id===I?{...Q,subTasks:[...Q.subTasks||[],L]}:Q)),C("")},he=(I,L)=>{a(o.map(Q=>Q.id===I&&Q.subTasks?{...Q,subTasks:Q.subTasks.map(J=>J.id===L?{...J,completed:!J.completed}:J)}:Q))},k=(I,L)=>{a(o.map(Q=>Q.id===I&&Q.subTasks?{...Q,subTasks:Q.subTasks.filter(J=>J.id!==L)}:Q))},se=(I,L)=>{y(L),I.dataTransfer.effectAllowed="move",I.dataTransfer.setData("text/plain",L)},ne=(I,L)=>{I.preventDefault(),h!==L&&v(L)},j=(I,L)=>{I.preventDefault(),v(null);const Q=I.dataTransfer.getData("text/plain");Q&&Q===g&&X(Q,L),y(null)},N=I=>{switch(I){case"High":return"text-red-400 bg-red-400/10 border-red-400/20";case"Medium":return"text-yellow-400 bg-yellow-400/10 border-yellow-400/20";case"Low":return"text-blue-400 bg-blue-400/10 border-blue-400/20"}},K=I=>{switch(I){case"To Do":return"border-t-zinc-600";case"In Progress":return"border-t-blue-500";case"Done":return"border-t-emerald-500"}},ue=o.filter(I=>!(S&&!I.text.toLowerCase().includes(S.toLowerCase())||E!=="All"&&I.priority!==E));return c.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[c.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-10 shrink-0",children:[c.jsx("h3",{className:"text-zinc-200 font-medium",children:n}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center mr-2",children:[l==="saving"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[c.jsx(wr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),l==="saved"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[c.jsx(wn,{className:"w-3 h-3"})," Saved"]}),l==="unsaved"&&c.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[c.jsx(pn,{className:"w-3 h-3"})," Unsaved"]})]}),c.jsxs("button",{onClick:P,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${l==="unsaved"?"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[c.jsx(br,{className:"w-4 h-4"})," Save"]})]})]}),c.jsxs("div",{className:"px-6 py-4 border-b border-zinc-800 bg-zinc-900 shrink-0 flex flex-col xl:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 bg-zinc-950 border border-zinc-800 rounded-lg p-1.5 flex gap-2 items-center shadow-sm",children:[c.jsx("input",{type:"text",value:x,onChange:I=>w(I.target.value),onKeyDown:I=>{I.key==="Enter"&&le()},placeholder:"Add a new task...",className:"flex-1 bg-transparent px-3 text-sm text-white focus:outline-none placeholder:text-zinc-600"}),c.jsx("div",{className:"h-4 w-px bg-zinc-800"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:d,onChange:I=>m(I.target.value),className:"bg-transparent text-xs text-zinc-400 focus:outline-none cursor-pointer hover:text-white",children:[c.jsx("option",{value:"Low",className:"bg-zinc-900",children:"Low"}),c.jsx("option",{value:"Medium",className:"bg-zinc-900",children:"Medium"}),c.jsx("option",{value:"High",className:"bg-zinc-900",children:"High"})]}),c.jsx("input",{type:"date",value:b,onChange:I=>_(I.target.value),className:"bg-transparent text-xs text-zinc-400 focus:outline-none [color-scheme:dark] cursor-pointer"})]}),c.jsx("button",{onClick:le,disabled:!x.trim(),className:"bg-zinc-800 hover:bg-zinc-700 text-white p-2 rounded-md disabled:opacity-50 transition-colors",children:c.jsx(Zn,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex gap-3 items-center",children:[c.jsxs("div",{className:"relative",children:[c.jsx(pa,{className:"w-4 h-4 text-zinc-500 absolute left-3 top-1/2 -translate-y-1/2"}),c.jsx("input",{type:"text",value:S,onChange:I=>D(I.target.value),placeholder:"Search...",className:"bg-zinc-950 border border-zinc-800 rounded-md py-2 pl-9 pr-3 text-sm text-zinc-200 focus:outline-none focus:border-zinc-700 w-48"})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-md px-3 py-2",children:[c.jsx(h0,{className:"w-3.5 h-3.5 text-zinc-500"}),c.jsxs("select",{value:E,onChange:I=>A(I.target.value),className:"bg-transparent text-xs text-zinc-300 focus:outline-none cursor-pointer",children:[c.jsx("option",{value:"All",children:"All Priorities"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"Low",children:"Low"})]})]})]})]}),c.jsx("div",{className:"flex-1 overflow-x-auto p-6 bg-zinc-900",children:c.jsx("div",{className:"flex gap-6 h-full min-w-[900px]",children:R.map(I=>{const L=ue.filter(J=>J.status===I),Q=h===I;return c.jsxs("div",{onDragOver:J=>ne(J,I),onDrop:J=>j(J,I),className:`flex-1 flex flex-col min-w-[280px] bg-zinc-950/50 rounded-xl border transition-colors ${Q?"border-blue-500/50 bg-zinc-900":"border-zinc-800"}`,children:[c.jsxs("div",{className:`p-4 border-b border-zinc-800 flex justify-between items-center rounded-t-xl border-t-4 ${K(I)} bg-zinc-900`,children:[c.jsx("h4",{className:"font-semibold text-zinc-300 text-sm tracking-wide",children:I}),c.jsx("span",{className:"bg-zinc-800 text-zinc-500 text-xs px-2 py-0.5 rounded-full font-medium",children:L.length})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 custom-scrollbar",children:[L.map(J=>{const ae=J.subTasks||[],ve=ae.filter(be=>be.completed).length,ze=ae.length>0?ve/ae.length*100:0,xe=T===J.id;return c.jsxs("div",{draggable:!0,onDragStart:be=>se(be,J.id),className:`group bg-zinc-900 border border-zinc-800 rounded-lg p-3 shadow-sm hover:border-zinc-700 hover:shadow-md transition-all cursor-grab active:cursor-grabbing ${g===J.id?"opacity-50 grayscale":"opacity-100"}`,children:[c.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[c.jsx("button",{onClick:()=>X(J.id,J.status==="Done"?"To Do":"Done"),className:`mt-0.5 shrink-0 transition-colors ${J.status==="Done"?"text-emerald-500":"text-zinc-600 hover:text-emerald-500"}`,children:J.status==="Done"?c.jsx(si,{className:"w-5 h-5"}):c.jsx(oc,{className:"w-5 h-5"})}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("p",{className:`text-sm font-medium leading-snug break-words ${J.status==="Done"?"text-zinc-500 line-through":"text-zinc-200"}`,children:J.text})}),c.jsx("button",{onClick:()=>H(xe?null:J.id),className:"text-zinc-600 hover:text-white transition-colors",children:xe?c.jsx(r1,{className:"w-4 h-4"}):c.jsx(_1,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[c.jsx("span",{className:`text-[10px] uppercase font-bold px-1.5 py-0.5 rounded border ${N(J.priority)}`,children:J.priority}),J.dueDate&&c.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-zinc-500 bg-zinc-950 border border-zinc-800 px-1.5 py-0.5 rounded",children:[c.jsx(c0,{className:"w-3 h-3"})," ",new Date(J.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]}),ae.length>0&&c.jsxs("div",{className:"flex items-center gap-1.5 ml-auto",children:[c.jsx(w1,{className:"w-3 h-3 text-zinc-500"}),c.jsxs("span",{className:"text-[10px] text-zinc-500 font-medium",children:[ve,"/",ae.length]}),c.jsx("div",{className:"w-8 h-1 bg-zinc-800 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500/80",style:{width:`${ze}%`}})})]})]}),xe&&c.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-800/50 space-y-3 animate-in fade-in slide-in-from-top-1 duration-200",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-wide text-zinc-500",children:"Notes"}),c.jsxs("button",{onClick:()=>ge(J.id),className:"text-[10px] text-cyan-400 hover:text-cyan-300 flex items-center gap-1",title:"Insert File Link",children:[c.jsx(fa,{className:"w-3 h-3"})," Link File"]}),c.jsx("select",{value:F,onChange:be=>p(be.target.value),className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-[10px] text-zinc-300 max-w-[150px]",disabled:U.length===0,children:U.length===0?c.jsx("option",{value:"",children:"No link targets"}):U.map(be=>c.jsx("option",{value:be.id,children:be.name},be.id))}),c.jsx("input",{type:"text",value:$,onChange:be=>W(be.target.value),placeholder:"File ID",className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-[10px] text-zinc-300 w-24"}),c.jsx("input",{type:"text",value:G,onChange:be=>Z(be.target.value),placeholder:"Label",className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-[10px] text-zinc-300 w-20"})]}),c.jsx("textarea",{value:J.description||"",onChange:be=>fe(J.id,be.target.value),onDragOver:pe,onDrop:be=>re(be,J.id),placeholder:"Add notes...",className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-xs text-zinc-300 focus:outline-none focus:border-zinc-700 min-h-[60px] resize-y"}),J.description&&J.description.includes("file://")&&c.jsx("div",{className:"text-xs text-zinc-400 bg-zinc-950 border border-zinc-800 rounded p-2 break-words",children:Y(J.description)})]}),c.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:[c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:q,onChange:be=>C(be.target.value),onKeyDown:be=>{be.key==="Enter"&&de(J.id)},placeholder:"Sub-task...",className:"flex-1 bg-transparent text-xs text-white focus:outline-none"}),c.jsx("button",{onClick:()=>de(J.id),disabled:!q.trim(),className:"text-zinc-400 hover:text-white disabled:opacity-30",children:c.jsx(Zn,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1",children:ae.map(be=>c.jsxs("div",{className:"flex items-center gap-2 group/sub",children:[c.jsx("button",{onClick:()=>he(J.id,be.id),className:`text-zinc-600 hover:text-blue-500 ${be.completed?"text-blue-500":""}`,children:be.completed?c.jsx(si,{className:"w-3 h-3"}):c.jsx(oc,{className:"w-3 h-3"})}),c.jsx("span",{className:`text-xs flex-1 truncate ${be.completed?"line-through text-zinc-600":"text-zinc-400"}`,children:be.text}),c.jsx("button",{onClick:()=>k(J.id,be.id),className:"text-zinc-700 hover:text-red-400 opacity-0 group-hover/sub:opacity-100 transition-opacity",children:c.jsx(Ft,{className:"w-3 h-3"})})]},be.id))})]}),c.jsx("div",{className:"flex justify-end pt-2",children:c.jsxs("button",{onClick:be=>O(be,J.id),className:"flex items-center gap-1 text-xs text-red-400 hover:text-red-300 px-2 py-1 rounded hover:bg-red-900/20 transition-colors",children:[c.jsx(Ft,{className:"w-3 h-3"})," Delete Task"]})})]})]},J.id)}),L.length===0&&c.jsx("div",{className:"text-center py-10 opacity-30 text-zinc-500 select-none",children:c.jsx("p",{className:"text-xs italic",children:"No tasks here"})})]})]},I)})})})]})},xS="application/x-gdpm-file-id",yS=({initialContent:e,onSave:t,fileName:n,projectFiles:r=[],onOpenFile:s,activeFileId:i})=>{const[o,a]=M.useState((e==null?void 0:e.tasks)||[]),[l,u]=M.useState("saved"),f=M.useRef(JSON.stringify((e==null?void 0:e.tasks)||[])),[g,y]=M.useState(!1),[h,v]=M.useState(null),[x,w]=M.useState(""),[d,m]=M.useState("All"),[b,_]=M.useState(""),[S,D]=M.useState("Medium"),[E,A]=M.useState(""),[T,H]=M.useState(""),[q,C]=M.useState(""),[F,p]=M.useState(""),[$,W]=M.useState(null),[G,Z]=M.useState(null),z=ie.useMemo(()=>new Map(r.map(I=>[I.id,I.name])),[r]),U=ie.useMemo(()=>r.filter(I=>I.id!==i).sort((I,L)=>I.name.localeCompare(L.name,void 0,{sensitivity:"base"})),[r,i]);M.useEffect(()=>{a((e==null?void 0:e.tasks)||[]),f.current=JSON.stringify((e==null?void 0:e.tasks)||[])},[e]),M.useEffect(()=>{if(U.length===0){H("");return}U.some(I=>I.id===T)||H(U[0].id)},[U,T]),M.useEffect(()=>{if(JSON.stringify(o)===f.current)return;u("unsaved");const L=setTimeout(()=>{R()},2e3);return()=>clearTimeout(L)},[o]),M.useEffect(()=>{const I=L=>{(L.ctrlKey||L.metaKey)&&L.key==="s"&&(L.preventDefault(),R())};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[o]);const R=()=>{u("saving"),t({tasks:o}),f.current=JSON.stringify(o),setTimeout(()=>u("saved"),500)},P=["Open","In Progress","Resolved","Closed"],le=()=>{_(""),A(""),D("Medium"),v(null),y(!1)},O=()=>{v(null),_(""),A(""),D("Medium"),y(!0)},X=(I,L)=>{I.stopPropagation(),I.preventDefault(),v(L),_(L.title),A(L.description),D(L.severity),y(!0)},fe=I=>{if(I.preventDefault(),!!b.trim()){if(h)a(L=>L.map(Q=>Q.id===h.id?{...Q,title:b,description:E,severity:S}:Q));else{const L={id:crypto.randomUUID(),title:b,description:E,severity:S,status:"Open",createdAt:Date.now()};a([...o,L])}le()}},ge=(I,L)=>{a(Q=>Q.map(J=>J.id===I?{...J,status:L}:J))},me=I=>{confirm("Delete this bug ticket?")&&a(L=>L.filter(Q=>Q.id!==I))},pe=(I,L)=>{W(L),I.dataTransfer.effectAllowed="move",I.dataTransfer.setData("text/plain",L)},re=(I,L)=>{I.preventDefault(),I.dataTransfer.dropEffect="move",G!==L&&Z(L)},Y=(I,L)=>{I.preventDefault(),Z(null);const Q=I.dataTransfer.getData("text/plain");Q&&Q===$&&ge(Q,L),W(null)},de=()=>{W(null),Z(null)},he=I=>{switch(I){case"Critical":return"bg-red-500 text-white border-red-600";case"High":return"bg-orange-500 text-white border-orange-600";case"Medium":return"bg-yellow-500/20 text-yellow-500 border-yellow-500/40";case"Low":return"bg-blue-500/20 text-blue-500 border-blue-500/40"}},k=I=>I==="Critical"?c.jsx(pn,{className:"w-3 h-3 fill-white text-red-600"}):c.jsx(pn,{className:"w-3 h-3"}),se=()=>{const I=q.trim()||T;if(!I){alert("Provide a file ID or choose a file.");return}const L=r.find(J=>J.id===I),Q=F.trim()||(L==null?void 0:L.name)||"Linked File";A(J=>`${J}${J?`
`:""}[${Q}](file://${I})`)},ne=I=>{var ze;const L=I.dataTransfer.getData(xS);if(L)try{const xe=JSON.parse(L);if(xe!=null&&xe.id)return{id:xe.id,name:xe.name||((ze=r.find(be=>be.id===xe.id))==null?void 0:ze.name)||"Linked File"}}catch{const xe=r.find(be=>be.id===L);if(xe)return{id:xe.id,name:xe.name}}const Q=I.dataTransfer.getData("text/uri-list");if(Q!=null&&Q.startsWith("file://")){const xe=Q.replace("file://","").trim(),be=r.find(Ye=>Ye.id===xe);if(be)return{id:be.id,name:be.name}}const J=I.dataTransfer.getData("text/plain"),ae=J.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(ae!=null&&ae[2]){const xe=r.find(be=>be.id===ae[2]);if(xe)return{id:xe.id,name:xe.name}}const ve=r.find(xe=>xe.id===J.trim());return ve?{id:ve.id,name:ve.name}:null},j=I=>{ne(I)&&(I.preventDefault(),I.dataTransfer.dropEffect="copy")},N=I=>{const L=ne(I);L&&(I.preventDefault(),A(Q=>`${Q}${Q?`
`:""}[${L.name}](file://${L.id})`))},K=I=>{const L=[],Q=/\[([^\]]+)\]\(file:\/\/([^)]+)\)/g;let J=0,ae=null;for(;(ae=Q.exec(I))!==null;){ae.index>J&&L.push(c.jsx("span",{children:I.slice(J,ae.index)},`txt-${J}`));const ve=ae[1],ze=ae[2],xe=z.get(ze);L.push(c.jsx("button",{onClick:be=>{be.stopPropagation(),s==null||s(ze)},className:`underline underline-offset-2 ${xe?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"}`,title:xe?`Open ${xe}`:"Linked file not found",children:ve},`lnk-${ze}-${ae.index}`)),J=Q.lastIndex}return J<I.length&&L.push(c.jsx("span",{children:I.slice(J)},`txt-end-${J}`)),L.length>0?L:I},ue=o.filter(I=>{if(d!=="All"&&I.severity!==d)return!1;if(x){const L=x.toLowerCase();return I.title.toLowerCase().includes(L)||I.description.toLowerCase().includes(L)}return!0});return c.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[c.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-10 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg",children:c.jsx(da,{className:"w-5 h-5 text-red-500"})}),c.jsx("h3",{className:"text-zinc-200 font-medium",children:n})]}),c.jsx("div",{className:"flex gap-3",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center mr-2",children:[l==="saving"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[c.jsx(wr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),l==="saved"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[c.jsx(wn,{className:"w-3 h-3"})," Saved"]}),l==="unsaved"&&c.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[c.jsx(pn,{className:"w-3 h-3"})," Unsaved"]})]}),c.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 text-zinc-200 px-4 py-2 rounded-md text-sm font-medium transition-colors border border-zinc-700",children:[c.jsx(Zn,{className:"w-4 h-4"}),"Report Bug"]}),c.jsxs("button",{onClick:R,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${l==="unsaved"?"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[c.jsx(br,{className:"w-4 h-4"}),"Save Board"]})]})})]}),c.jsxs("div",{className:"px-6 py-4 border-b border-zinc-800 flex flex-wrap gap-4 items-center bg-zinc-900",children:[c.jsxs("div",{className:"relative w-64",children:[c.jsx(pa,{className:"w-4 h-4 text-zinc-500 absolute left-3 top-1/2 -translate-y-1/2"}),c.jsx("input",{type:"text",value:x,onChange:I=>w(I.target.value),placeholder:"Search bugs...",className:"w-full bg-zinc-950 border border-zinc-800 rounded-md py-1.5 pl-9 pr-3 text-sm text-zinc-200 focus:outline-none focus:border-zinc-600"})]}),c.jsx("div",{className:"h-6 w-px bg-zinc-800 hidden sm:block"}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[c.jsx(h0,{className:"w-4 h-4"}),c.jsx("span",{children:"Severity:"}),c.jsx("div",{className:"flex gap-1 bg-zinc-950 p-1 rounded-lg border border-zinc-800",children:["All","Low","Medium","High","Critical"].map(I=>c.jsx("button",{onClick:()=>m(I),className:`px-2 py-0.5 rounded text-xs font-medium transition-all ${d===I?"bg-zinc-800 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:I},I))})]}),c.jsxs("div",{className:"ml-auto text-xs text-zinc-500",children:["Showing ",ue.length," of ",o.length," bugs"]})]}),c.jsx("div",{className:"flex-1 overflow-x-auto p-6",children:c.jsx("div",{className:"flex gap-6 h-full min-w-[1000px]",children:P.map(I=>{const L=ue.filter(J=>J.status===I),Q=G===I;return c.jsxs("div",{onDragOver:J=>re(J,I),onDrop:J=>Y(J,I),className:`
                    flex-1 flex flex-col min-w-[300px] h-full rounded-xl overflow-hidden transition-all duration-200
                    ${Q?"bg-zinc-900 border-2 border-blue-500/50 shadow-[0_0_30px_-5px_rgba(59,130,246,0.2)]":"bg-zinc-950/50 border border-zinc-800"}
                  `,children:[c.jsxs("div",{className:"p-4 border-b flex justify-between items-center sticky top-0 bg-zinc-900 border-zinc-800",children:[c.jsx("h4",{className:`font-semibold transition-colors ${Q?"text-blue-400":"text-zinc-300"}`,children:I}),c.jsx("span",{className:"text-xs bg-zinc-800 text-zinc-400 px-2 py-1 rounded-full",children:L.length})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 custom-scrollbar",children:[L.map(J=>c.jsxs("div",{draggable:!0,onDragStart:ae=>pe(ae,J.id),onDragEnd:de,className:`bg-zinc-900 border border-zinc-800 p-4 rounded-lg shadow-sm hover:border-zinc-700 transition-colors group cursor-grab active:cursor-grabbing ${$===J.id?"opacity-40 grayscale border-dashed border-zinc-600":"opacity-100"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2 relative",children:[c.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border flex items-center gap-1 pointer-events-none ${he(J.severity)}`,children:[k(J.severity),J.severity]}),c.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity relative z-20",children:[c.jsx("button",{onClick:ae=>X(ae,J),className:"p-1 text-zinc-500 hover:text-blue-400 hover:bg-zinc-800 rounded cursor-pointer",title:"Edit Bug",children:c.jsx(E1,{className:"w-4 h-4"})}),c.jsx("button",{onClick:ae=>{ae.preventDefault(),ae.stopPropagation(),me(J.id)},className:"p-1 text-zinc-500 hover:text-red-400 hover:bg-zinc-800 rounded cursor-pointer",title:"Delete Bug",children:c.jsx(Ft,{className:"w-4 h-4"})})]})]}),c.jsx("h5",{className:"text-sm font-medium text-zinc-200 mb-1 pointer-events-none",children:J.title}),c.jsx("p",{className:"text-xs text-zinc-500 line-clamp-2 mb-3 break-words",children:J.description?K(J.description):"No description provided."}),c.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-zinc-800 pointer-events-auto relative z-10",children:[I!=="Open"?c.jsxs("button",{onClick:()=>ge(J.id,P[P.indexOf(I)-1]),className:"text-xs text-zinc-500 hover:text-zinc-300 flex items-center gap-1 hover:bg-zinc-800 px-2 py-1 rounded transition-colors",children:[c.jsx(n1,{className:"w-3 h-3"})," Prev"]}):c.jsx("div",{}),I!=="Closed"?c.jsxs("button",{onClick:()=>ge(J.id,P[P.indexOf(I)+1]),className:"text-xs text-zinc-500 hover:text-zinc-300 flex items-center gap-1 hover:bg-zinc-800 px-2 py-1 rounded transition-colors",children:["Next ",c.jsx(yu,{className:"w-3 h-3"})]}):c.jsx("div",{})]})]},J.id)),L.length===0&&c.jsx("div",{className:`text-center py-8 pointer-events-none transition-opacity ${Q?"opacity-50 text-blue-400":"opacity-30 text-zinc-500"}`,children:c.jsx("div",{className:"text-sm italic",children:Q?"Drop to move here":"Drop items here"})})]})]},I)})})}),g&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-lg p-6 shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:h?"Edit Bug Report":"Report Bug"}),c.jsx("button",{onClick:le,className:"text-zinc-500 hover:text-white",children:c.jsx(ii,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Title"}),c.jsx("input",{autoFocus:!0,type:"text",required:!0,value:b,onChange:I=>_(I.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all",placeholder:"e.g., Crash on startup"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Severity"}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:["Low","Medium","High","Critical"].map(I=>c.jsx("button",{type:"button",onClick:()=>D(I),className:`py-2 px-1 rounded-lg text-xs font-medium border transition-all ${S===I?"bg-zinc-800 border-zinc-600 text-white ring-1 ring-zinc-500":"bg-zinc-950 border-zinc-800 text-zinc-400 hover:bg-zinc-800"}`,children:I},I))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"Description"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("select",{value:T,onChange:I=>H(I.target.value),className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs text-zinc-300 max-w-[170px]",disabled:U.length===0,children:U.length===0?c.jsx("option",{value:"",children:"No link targets"}):U.map(I=>c.jsx("option",{value:I.id,children:I.name},I.id))}),c.jsx("input",{type:"text",value:q,onChange:I=>C(I.target.value),placeholder:"Paste File ID",className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs text-zinc-300 w-32"}),c.jsx("input",{type:"text",value:F,onChange:I=>p(I.target.value),placeholder:"Link Label",className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs text-zinc-300 w-28"}),c.jsxs("button",{type:"button",onClick:se,className:"text-xs text-cyan-400 hover:text-cyan-300 flex items-center gap-1",title:"Insert File Link",children:[c.jsx(fa,{className:"w-3 h-3"})," Link File"]})]})]}),c.jsx("textarea",{value:E,onChange:I=>A(I.target.value),onDragOver:j,onDrop:N,className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:ring-2 focus:ring-red-600 focus:border-transparent outline-none transition-all min-h-[100px]",placeholder:"Steps to reproduce..."})]}),c.jsx("div",{className:"pt-4 border-t border-zinc-800",children:c.jsx("button",{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2.5 rounded-lg text-sm font-medium transition-colors",children:h?"Save Changes":"Create Ticket"})})]})]})})]})},vS="application/x-gdpm-file-id",wS=({initialContent:e,onSave:t,fileName:n,projectFiles:r=[],onOpenFile:s,activeFileId:i})=>{const[o,a]=M.useState((e==null?void 0:e.items)||[]),[l,u]=M.useState("saved"),f=M.useRef(JSON.stringify((e==null?void 0:e.items)||[])),[g,y]=M.useState(null),[h,v]=M.useState(!1),[x,w]=M.useState({title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+864e5*7).toISOString().split("T")[0],type:"phase",status:"planned",progress:0,description:""}),[d,m]=M.useState(""),[b,_]=M.useState(""),[S,D]=M.useState(""),E=M.useMemo(()=>new Map(r.map(O=>[O.id,O.name])),[r]),A=M.useMemo(()=>r.filter(O=>O.id!==i).sort((O,X)=>O.name.localeCompare(X.name,void 0,{sensitivity:"base"})),[r,i]);M.useEffect(()=>{a((e==null?void 0:e.items)||[]),f.current=JSON.stringify((e==null?void 0:e.items)||[])},[e]),M.useEffect(()=>{if(A.length===0){m("");return}A.some(O=>O.id===d)||m(A[0].id)},[A,d]),M.useEffect(()=>{if(JSON.stringify(o)===f.current)return;u("unsaved");const X=setTimeout(()=>T(),2e3);return()=>clearTimeout(X)},[o]),M.useEffect(()=>{const O=X=>{(X.ctrlKey||X.metaKey)&&X.key==="s"&&(X.preventDefault(),T())};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[o]);const T=()=>{u("saving"),t({items:o}),f.current=JSON.stringify(o),setTimeout(()=>u("saved"),500)},H=()=>{y(null),w({title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+864e5*14).toISOString().split("T")[0],type:"phase",status:"planned",progress:0,description:""}),v(!0)},q=O=>{y(O.id),w({...O}),v(!0)},C=O=>{confirm("Delete this roadmap item?")&&(a(o.filter(X=>X.id!==O)),g===O&&v(!1))},F=()=>{const O=b.trim()||d;if(!O){alert("Provide a file ID or choose a file.");return}const X=r.find(ge=>ge.id===O),fe=S.trim()||(X==null?void 0:X.name)||"Linked File";w(ge=>({...ge,description:`${ge.description||""}${ge.description?`
`:""}[${fe}](file://${O})`}))},p=O=>{var re;const X=O.dataTransfer.getData(vS);if(X)try{const Y=JSON.parse(X);if(Y!=null&&Y.id)return{id:Y.id,name:Y.name||((re=r.find(de=>de.id===Y.id))==null?void 0:re.name)||"Linked File"}}catch{const Y=r.find(de=>de.id===X);if(Y)return{id:Y.id,name:Y.name}}const fe=O.dataTransfer.getData("text/uri-list");if(fe!=null&&fe.startsWith("file://")){const Y=fe.replace("file://","").trim(),de=r.find(he=>he.id===Y);if(de)return{id:de.id,name:de.name}}const ge=O.dataTransfer.getData("text/plain"),me=ge.match(/\[([^\]]+)\]\(file:\/\/([^)]+)\)/);if(me!=null&&me[2]){const Y=r.find(de=>de.id===me[2]);if(Y)return{id:Y.id,name:Y.name}}const pe=r.find(Y=>Y.id===ge.trim());return pe?{id:pe.id,name:pe.name}:null},$=O=>{p(O)&&(O.preventDefault(),O.dataTransfer.dropEffect="copy")},W=O=>{const X=p(O);X&&(O.preventDefault(),w(fe=>({...fe,description:`${fe.description||""}${fe.description?`
`:""}[${X.name}](file://${X.id})`})))},G=O=>{const X=[],fe=/\[([^\]]+)\]\(file:\/\/([^)]+)\)/g;let ge=0,me=null;for(;(me=fe.exec(O))!==null;){me.index>ge&&X.push(c.jsx("span",{children:O.slice(ge,me.index)},`txt-${ge}`));const pe=me[1],re=me[2],Y=E.has(re);X.push(c.jsx("button",{onClick:de=>{de.stopPropagation(),s==null||s(re)},className:`underline underline-offset-2 ${Y?"text-cyan-400 hover:text-cyan-300":"text-zinc-500 line-through"}`,title:Y?`Open ${E.get(re)}`:"Linked file not found",children:pe},`lnk-${re}-${me.index}`)),ge=fe.lastIndex}return ge<O.length&&X.push(c.jsx("span",{children:O.slice(ge)},`txt-end-${ge}`)),X.length?X:O},Z=O=>{if(O.preventDefault(),!x.title)return;const X={id:g||crypto.randomUUID(),title:x.title,startDate:x.startDate,endDate:x.type==="milestone"?x.startDate:x.endDate,type:x.type,status:x.status,progress:Number(x.progress)||0,description:x.description||""};a(g?o.map(fe=>fe.id===g?X:fe):[...o,X]),v(!1)},z=M.useMemo(()=>{if(o.length===0)return{months:[],totalDays:0,startTs:0};const O=o.flatMap(Y=>[new Date(Y.startDate).getTime(),new Date(Y.endDate).getTime()]);let X=Math.min(...O),fe=Math.max(...O);X-=26298e5,fe+=26298e5;const ge=new Date(X),me=(fe-X)/(1e3*60*60*24),pe=[];let re=new Date(ge.getFullYear(),ge.getMonth(),1);for(;re.getTime()<fe;){const Y=(re.getTime()-X)/(fe-X)*100;pe.push({label:re.toLocaleDateString(void 0,{month:"short",year:"2-digit"}),offset:Y}),re.setMonth(re.getMonth()+1)}return{months:pe,totalDays:me,startTs:X,endTs:fe}},[o]),U=(O,X)=>{if(!z.totalDays)return{left:"0%",width:"0%"};const fe=new Date(O).getTime(),ge=new Date(X).getTime(),me=z.endTs-z.startTs,pe=(fe-z.startTs)/me*100,re=Math.max((ge-fe)/me*100,.5);return{left:`${pe}%`,width:`${re}%`}},R=O=>{switch(O){case"completed":return"bg-emerald-500";case"in-progress":return"bg-blue-500";case"delayed":return"bg-red-500";case"dropped":return"bg-zinc-600";default:return"bg-zinc-500"}},P=O=>{switch(O){case"completed":return c.jsx("span",{className:"text-emerald-400 bg-emerald-400/10 px-2 py-0.5 rounded text-[10px] uppercase font-bold border border-emerald-400/20",children:"Done"});case"in-progress":return c.jsx("span",{className:"text-blue-400 bg-blue-400/10 px-2 py-0.5 rounded text-[10px] uppercase font-bold border border-blue-400/20",children:"Active"});case"delayed":return c.jsx("span",{className:"text-red-400 bg-red-400/10 px-2 py-0.5 rounded text-[10px] uppercase font-bold border border-red-400/20",children:"Delayed"});default:return c.jsx("span",{className:"text-zinc-400 bg-zinc-800 px-2 py-0.5 rounded text-[10px] uppercase font-bold border border-zinc-700",children:"Planned"})}},le=[...o].sort((O,X)=>new Date(O.startDate).getTime()-new Date(X.startDate).getTime());return c.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[c.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-20",children:[c.jsx("div",{className:"flex items-center gap-3",children:c.jsx("h3",{className:"text-zinc-200 font-medium",children:n})}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center mr-2",children:[l==="saving"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[c.jsx(wr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),l==="saved"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[c.jsx(wn,{className:"w-3 h-3"})," Saved"]}),l==="unsaved"&&c.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[c.jsx(pn,{className:"w-3 h-3"})," Unsaved"]})]}),c.jsxs("button",{onClick:H,className:"flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 text-zinc-200 px-4 py-2 rounded-md text-sm font-medium transition-colors border border-zinc-700",children:[c.jsx(Zn,{className:"w-4 h-4"})," Add Item"]}),c.jsxs("button",{onClick:T,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${l==="unsaved"?"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[c.jsx(br,{className:"w-4 h-4"})," Save"]})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[c.jsxs("div",{className:"w-full lg:w-1/3 border-r border-zinc-800 flex flex-col bg-zinc-950/50",children:[c.jsx("div",{className:"p-4 border-b border-zinc-800 bg-zinc-950 font-semibold text-sm text-zinc-400 uppercase tracking-wider",children:"Items List"}),c.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:le.length===0?c.jsx("div",{className:"text-center py-10 text-zinc-600 text-sm",children:"No roadmap items yet."}):le.map(O=>c.jsxs("div",{onClick:()=>q(O),className:`p-3 rounded-lg border cursor-pointer hover:border-zinc-600 transition-all ${g===O.id?"bg-zinc-900 border-blue-500/50 shadow-md":"bg-zinc-900/50 border-zinc-800"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[O.type==="milestone"?c.jsx(u1,{className:"w-4 h-4 text-amber-500"}):c.jsx(c0,{className:"w-4 h-4 text-blue-500"}),c.jsx("span",{className:"font-medium text-zinc-200 text-sm",children:O.title})]}),P(O.status)]}),c.jsxs("div",{className:"flex justify-between items-center text-xs text-zinc-500",children:[c.jsxs("span",{children:[new Date(O.startDate).toLocaleDateString()," ",O.type==="phase"&&` - ${new Date(O.endDate).toLocaleDateString()}`]}),O.type==="phase"&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(M1,{className:"w-3 h-3"})," ",O.progress,"%"]})]}),O.type==="phase"&&c.jsx("div",{className:"w-full h-1 bg-zinc-800 rounded-full mt-2 overflow-hidden",children:c.jsx("div",{className:`h-full ${R(O.status)}`,style:{width:`${O.progress}%`,opacity:.7}})})]},O.id))})]}),c.jsxs("div",{className:"flex-1 flex flex-col bg-zinc-900 overflow-hidden relative",children:[c.jsx("div",{className:"h-10 bg-zinc-950 border-b border-zinc-800 relative overflow-hidden shrink-0 select-none",children:z.months.map((O,X)=>c.jsx("div",{className:"absolute top-0 bottom-0 border-l border-zinc-800 text-[10px] text-zinc-500 pl-1 pt-2 truncate",style:{left:`${O.offset}%`},children:O.label},X))}),c.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar relative p-4 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMSIgY3k9IjEiIHI9IjEiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4wNSkiLz48L3N2Zz4=')]",children:[c.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0",children:[z.months.map((O,X)=>c.jsx("div",{className:"absolute top-0 bottom-0 border-l border-zinc-800/30",style:{left:`${O.offset}%`}},X)),c.jsx("div",{className:"absolute top-0 bottom-0 border-l border-red-500/50 z-0",style:{left:`${(Date.now()-z.startTs)/(z.endTs-z.startTs)*100}%`},children:c.jsx("div",{className:"text-[9px] text-red-500 bg-red-500/10 px-1 ml-1 mt-1 rounded",children:"Today"})})]}),c.jsx("div",{className:"relative z-10 space-y-6 mt-2",children:le.map(O=>{const X=U(O.startDate,O.endDate);return O.type==="milestone"?c.jsx("div",{className:"relative h-6 group",children:c.jsxs("div",{className:"absolute transform -translate-x-1/2 flex flex-col items-center cursor-pointer",style:{left:X.left},onClick:()=>q(O),children:[c.jsx("div",{className:`w-3 h-3 rotate-45 border border-zinc-900 ${R(O.status)} shadow-lg shadow-black/50 hover:scale-125 transition-transform`}),c.jsx("div",{className:"w-0.5 h-full bg-zinc-700/50 absolute top-3"}),c.jsx("span",{className:"text-xs text-zinc-300 mt-1 whitespace-nowrap bg-zinc-950/80 px-1.5 rounded border border-zinc-800",children:O.title}),c.jsx("span",{className:"text-[10px] text-zinc-500 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:new Date(O.startDate).toLocaleDateString()})]})},O.id):c.jsxs("div",{className:"relative h-8 group cursor-pointer",style:{marginLeft:X.left,width:X.width},onClick:()=>q(O),children:[c.jsxs("div",{className:"h-full rounded-md border border-white/5 overflow-hidden relative shadow-sm hover:shadow-lg transition-shadow bg-zinc-800",children:[c.jsx("div",{className:`absolute top-0 left-0 bottom-0 ${R(O.status)} opacity-20`,style:{width:"100%"}}),c.jsx("div",{className:`absolute top-0 left-0 bottom-0 ${R(O.status)}`,style:{width:`${O.progress}%`}}),c.jsx("div",{className:"absolute inset-0 flex items-center px-2",children:c.jsx("span",{className:"text-xs font-medium text-white drop-shadow-md truncate sticky left-0",children:O.title})})]}),c.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-black text-white text-[10px] px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-zinc-800",children:[new Date(O.startDate).toLocaleDateString()," - ",new Date(O.endDate).toLocaleDateString()," (",O.progress,"%)"]})]},O.id)})})]})]})]}),h&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-md p-6 shadow-2xl",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:g?"Edit Item":"Add Roadmap Item"}),c.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Title"}),c.jsx("input",{type:"text",required:!0,value:x.title,onChange:O=>w({...x,title:O.target.value}),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Type"}),c.jsxs("select",{value:x.type,onChange:O=>w({...x,type:O.target.value}),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none",children:[c.jsx("option",{value:"phase",children:"Phase"}),c.jsx("option",{value:"milestone",children:"Milestone"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Status"}),c.jsxs("select",{value:x.status,onChange:O=>w({...x,status:O.target.value}),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none",children:[c.jsx("option",{value:"planned",children:"Planned"}),c.jsx("option",{value:"in-progress",children:"In Progress"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"delayed",children:"Delayed"}),c.jsx("option",{value:"dropped",children:"Dropped"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:x.type==="milestone"?"Date":"Start Date"}),c.jsx("input",{type:"date",required:!0,value:x.startDate,onChange:O=>w({...x,startDate:O.target.value}),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none [color-scheme:dark]"})]}),x.type==="phase"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"End Date"}),c.jsx("input",{type:"date",required:!0,value:x.endDate,onChange:O=>w({...x,endDate:O.target.value}),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none [color-scheme:dark]"})]})]}),x.type==="phase"&&c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm text-zinc-400 mb-1",children:["Progress (",x.progress,"%)"]}),c.jsx("input",{type:"range",min:"0",max:"100",value:x.progress,onChange:O=>w({...x,progress:parseInt(O.target.value)}),className:"w-full accent-blue-500"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("label",{className:"block text-sm text-zinc-400",children:"Description"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("select",{value:d,onChange:O=>m(O.target.value),className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs text-zinc-300 max-w-[170px]",disabled:A.length===0,children:A.length===0?c.jsx("option",{value:"",children:"No link targets"}):A.map(O=>c.jsx("option",{value:O.id,children:O.name},O.id))}),c.jsx("input",{type:"text",value:b,onChange:O=>_(O.target.value),placeholder:"File ID",className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs text-zinc-300 w-28"}),c.jsx("input",{type:"text",value:S,onChange:O=>D(O.target.value),placeholder:"Label",className:"bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs text-zinc-300 w-24"}),c.jsxs("button",{type:"button",onClick:F,className:"text-xs text-cyan-400 hover:text-cyan-300 flex items-center gap-1",title:"Insert File Link",children:[c.jsx(fa,{className:"w-3 h-3"})," Link File"]})]})]}),c.jsx("textarea",{value:x.description,onChange:O=>w({...x,description:O.target.value}),onDragOver:$,onDrop:W,className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:border-blue-500 outline-none min-h-[80px]"}),x.description&&x.description.includes("file://")&&c.jsx("div",{className:"mt-2 text-xs text-zinc-400 bg-zinc-950 border border-zinc-800 rounded p-2 break-words",children:G(x.description)})]}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t border-zinc-800 mt-4",children:[g&&c.jsx("button",{type:"button",onClick:()=>C(g),className:"px-4 py-2 bg-red-500/10 text-red-500 hover:bg-red-500/20 rounded font-medium text-sm border border-red-500/20",children:"Delete"}),c.jsx("div",{className:"flex-1"}),c.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-zinc-400 hover:text-white font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded font-medium text-sm",children:g?"Save Changes":"Create Item"})]})]})]})})]})},bS=({initialContent:e,onSave:t,fileName:n})=>{const[r,s]=M.useState((e==null?void 0:e.columns)||[{id:"col_1",name:"ID",type:"text"},{id:"col_2",name:"Name",type:"text"},{id:"col_3",name:"Value",type:"number"}]),[i,o]=M.useState((e==null?void 0:e.rows)||[]),[a,l]=M.useState("saved"),u=M.useRef(JSON.stringify({columns:e==null?void 0:e.columns,rows:e==null?void 0:e.rows}));M.useEffect(()=>{if(JSON.stringify({columns:r,rows:i})===u.current)return;l("unsaved");const m=setTimeout(()=>f(),2e3);return()=>clearTimeout(m)},[r,i]);const f=()=>{l("saving"),t({columns:r,rows:i}),u.current=JSON.stringify({columns:r,rows:i}),setTimeout(()=>l("saved"),500)},g=()=>{const d=prompt("Column Name:");if(!d)return;const m={id:crypto.randomUUID(),name:d,type:"text"};s([...r,m])},y=()=>{const d={id:crypto.randomUUID()};r.forEach(m=>d[m.id]=m.type==="number"?0:""),o([...i,d])},h=(d,m,b)=>{o(i.map(_=>_.id===d?{..._,[m]:b}:_))},v=d=>{o(i.filter(m=>m.id!==d))},x=d=>{confirm("Delete column? Data will be lost.")&&s(r.filter(m=>m.id!==d))},w=()=>{const d=r.map(D=>D.name).join(","),m=i.map(D=>r.map(E=>D[E.id]).join(",")),b="data:text/csv;charset=utf-8,"+[d,...m].join(`
`),_=encodeURI(b),S=document.createElement("a");S.setAttribute("href",_),S.setAttribute("download",`${n}.csv`),document.body.appendChild(S),S.click(),document.body.removeChild(S)};return c.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[c.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-20",children:[c.jsxs("h3",{className:"text-zinc-200 font-medium flex items-center gap-2",children:[c.jsx(f0,{className:"w-4 h-4 text-emerald-500"})," ",n]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center mr-2",children:[a==="saving"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[c.jsx(wr,{className:"w-3 h-3 animate-spin"})," Saving..."]}),a==="saved"&&c.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1 opacity-50",children:[c.jsx(wn,{className:"w-3 h-3"})," Saved"]}),a==="unsaved"&&c.jsxs("span",{className:"text-xs text-orange-400 flex items-center gap-1",children:[c.jsx(pn,{className:"w-3 h-3"})," Unsaved"]})]}),c.jsx("button",{onClick:w,className:"text-zinc-400 hover:text-white p-2",title:"Export CSV",children:c.jsx(vu,{className:"w-4 h-4"})}),c.jsxs("button",{onClick:f,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg ${a==="unsaved"?"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-900/20":"bg-zinc-700 hover:bg-zinc-600 text-zinc-200"}`,children:[c.jsx(br,{className:"w-4 h-4"})," Save"]})]})]}),c.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-6",children:c.jsxs("div",{className:"inline-block min-w-full align-middle",children:[c.jsx("div",{className:"border border-zinc-700 rounded-lg overflow-hidden",children:c.jsxs("table",{className:"min-w-full divide-y divide-zinc-700",children:[c.jsx("thead",{className:"bg-zinc-800",children:c.jsxs("tr",{children:[c.jsx("th",{className:"w-10 px-3 py-3 text-left text-xs font-medium text-zinc-400 uppercase tracking-wider",children:"#"}),r.map(d=>c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider group relative min-w-[150px]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("input",{value:d.name,onChange:m=>s(r.map(b=>b.id===d.id?{...b,name:m.target.value}:b)),className:"bg-transparent border-none focus:ring-0 text-zinc-300 font-bold w-full"}),c.jsx("button",{onClick:()=>x(d.id),className:"opacity-0 group-hover:opacity-100 text-zinc-500 hover:text-red-400",children:c.jsx(Ft,{className:"w-3 h-3"})})]})},d.id)),c.jsx("th",{className:"w-10 px-3 py-3",children:c.jsx("button",{onClick:g,className:"text-blue-400 hover:text-blue-300",children:c.jsx(Zn,{className:"w-4 h-4"})})})]})}),c.jsx("tbody",{className:"bg-zinc-900 divide-y divide-zinc-800",children:i.map((d,m)=>c.jsxs("tr",{className:"hover:bg-zinc-800/50 transition-colors",children:[c.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-zinc-500",children:m+1}),r.map(b=>c.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:c.jsx("input",{type:b.type==="number"?"number":"text",value:d[b.id]||"",onChange:_=>h(d.id,b.id,_.target.value),className:"w-full bg-transparent border-none focus:ring-1 focus:ring-blue-500 rounded px-1 py-0.5 text-sm text-zinc-200 placeholder-zinc-700"})},b.id)),c.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>v(d.id),className:"text-zinc-600 hover:text-red-400",children:c.jsx(Ft,{className:"w-4 h-4"})})})]},d.id))})]})}),c.jsxs("button",{onClick:y,className:"mt-4 flex items-center gap-2 text-zinc-400 hover:text-white text-sm font-medium px-4 py-2 border border-zinc-700 rounded-lg border-dashed hover:border-zinc-500 transition-colors w-full justify-center",children:[c.jsx(Zn,{className:"w-4 h-4"})," Add Row"]})]})})]})},Zf=80,Er=2e3,ul=.2,Gf=e=>e.map(t=>({...t,points:t.points.map(n=>({...n}))})),kS=e=>Array.isArray(e)?e.map(t=>{const n=Array.isArray(t==null?void 0:t.points)?t.points.filter(o=>Number.isFinite(o==null?void 0:o.x)&&Number.isFinite(o==null?void 0:o.y)).map(o=>({x:Number(o.x),y:Number(o.y)})):[];if(n.length===0)return null;const r=typeof(t==null?void 0:t.color)=="string"?t.color:"#facc15",s=Number.isFinite(t==null?void 0:t.width)?Math.max(1,Number(t.width)):18,i=Number.isFinite(t==null?void 0:t.opacity)?Math.min(1,Math.max(.05,Number(t.opacity))):1;return{id:typeof(t==null?void 0:t.id)=="string"?t.id:crypto.randomUUID(),color:r,width:s,opacity:i,points:n}}).filter(t=>t!==null):[],_S=({initialContent:e,onSave:t,fileName:n,assets:r={}})=>{const s=M.useRef(null),i=M.useRef(null),o=M.useRef(null),a=M.useRef(null),[l,u]=M.useState("pen"),[f,g]=M.useState({pen:{color:"#ffffff",width:2},highlighter:{color:"#facc15",width:18},eraser:{color:"#09090b",width:20},text:{color:"#ffffff",width:28}}),[y,h]=M.useState(ul),[v,x]=M.useState(!1),[w,d]=M.useState(!1),[m,b]=M.useState(null),[_,S]=M.useState("saved"),D=M.useRef(""),E=M.useRef([]),A=M.useRef(-1),[T,H]=M.useState({index:-1,length:0}),q=M.useRef([]),C=M.useRef(null),[F,p]=M.useState(null),[$,W]=M.useState(!1),[G,Z]=M.useState(!1),z=M.useRef({x:0,y:0}),U=()=>{const V=s.current,B=i.current;if(!V||!B)return null;const ee=V.getContext("2d",{willReadFrequently:!0}),we=B.getContext("2d",{willReadFrequently:!0});return!ee||!we?null:{baseCanvas:V,highlighterCanvas:B,baseCtx:ee,highlighterCtx:we}},R=(V,B)=>{V.globalCompositeOperation="source-over",V.globalAlpha=1,V.fillStyle="#09090b",V.fillRect(0,0,B.width,B.height)},P=()=>{const V=U();if(!V)return;const{highlighterCtx:B,highlighterCanvas:ee}=V;B.globalAlpha=1,B.globalCompositeOperation="source-over",B.clearRect(0,0,ee.width,ee.height)},le=(V,B)=>{if(B.points.length!==0){if(V.globalCompositeOperation="source-over",V.globalAlpha=1,V.strokeStyle=B.color,V.lineWidth=B.width,V.lineCap="round",V.lineJoin="round",B.points.length===1){const ee=B.points[0];V.beginPath(),V.fillStyle=B.color,V.arc(ee.x,ee.y,B.width/2,0,Math.PI*2),V.fill();return}V.beginPath(),V.moveTo(B.points[0].x,B.points[0].y);for(let ee=1;ee<B.points.length;ee++)V.lineTo(B.points[ee].x,B.points[ee].y);V.stroke()}},O=(V=q.current)=>{const B=U();if(!B)return;const{highlighterCtx:ee,highlighterCanvas:we}=B;ee.globalAlpha=1,ee.globalCompositeOperation="source-over",ee.clearRect(0,0,we.width,we.height),V.forEach(Ne=>le(ee,Ne)),ee.globalAlpha=1,ee.globalCompositeOperation="source-over"},X=async V=>{const B=U();if(!B)return;const{baseCanvas:ee,baseCtx:we}=B;R(we,ee),V&&await new Promise(Ne=>{const Ee=new Image;Ee.src=V,Ee.onload=()=>{we.drawImage(Ee,0,0),Ne()},Ee.onerror=()=>Ne()})},fe=()=>{const V=U();if(!V)return"";const{baseCanvas:B,highlighterCanvas:ee}=V,we=document.createElement("canvas");we.width=B.width,we.height=B.height;const Ne=we.getContext("2d");return Ne?(Ne.drawImage(B,0,0),Ne.globalAlpha=y,Ne.drawImage(ee,0,0),Ne.globalAlpha=1,we.toDataURL("image/png")):""},ge=()=>{const V=U();if(!V)return null;const B=V.baseCanvas.toDataURL("image/png"),ee=fe();return!B||!ee?null:{baseData:B,highlighterStrokes:Gf(q.current),highlighterOpacity:y,compositeData:ee}},me=()=>{H({index:A.current,length:E.current.length})},pe=V=>{var ee;const B=E.current.slice(0,A.current+1);return((ee=B[B.length-1])==null?void 0:ee.compositeData)===V.compositeData?!1:(B.push(V),B.length>Zf&&B.splice(0,B.length-Zf),E.current=B,A.current=B.length-1,me(),!0)},re=(V=!0)=>{const B=ge();if(!B)return;pe(B)&&(S("unsaved"),V&&setTimeout(()=>be(),250))},Y=async V=>{const B=E.current[V];B&&(await X(B.baseData),q.current=Gf(B.highlighterStrokes),C.current=null,h(typeof B.highlighterOpacity=="number"?B.highlighterOpacity:ul),O(),A.current=V,me(),S("unsaved"),setTimeout(()=>be(),150))},de=async()=>{A.current<=0||(b(null),await Y(A.current-1))},he=async()=>{A.current>=E.current.length-1||(b(null),await Y(A.current+1))};M.useEffect(()=>{(async()=>{let B=null,ee=[],we=ul;if(typeof e=="string")B=e;else if(e&&typeof e=="object"){typeof e.baseData=="string"?B=e.baseData:typeof e.imageData=="string"?B=e.imageData:typeof e.dataUrl=="string"&&(B=e.dataUrl),ee=kS(e.highlighterStrokes);const Ee=e.highlighterOpacity;Number.isFinite(Ee)&&(we=Math.min(1,Math.max(.05,Number(Ee))))}await X(B),h(we),q.current=ee,O();const Ne=ge();E.current=Ne?[Ne]:[],A.current=E.current.length-1,me(),Ne&&(D.current=Ne.compositeData)})()},[]),M.useEffect(()=>{if(!m)return;const V=setTimeout(()=>{var B;return(B=a.current)==null?void 0:B.focus()},0);return()=>clearTimeout(V)},[m]);const k=V=>{const B=i.current||s.current;if(!B)return{x:0,y:0};const ee=B.getBoundingClientRect();return{x:(V.clientX-ee.left)*(B.width/ee.width),y:(V.clientY-ee.top)*(B.height/ee.height)}},se=()=>{if(!m)return!1;const V=m.text.trim();if(b(null),!V)return!1;const B=U();if(!B)return!1;B.baseCtx.globalAlpha=1,B.baseCtx.globalCompositeOperation="source-over",B.baseCtx.fillStyle=m.color,B.baseCtx.textBaseline="top",B.baseCtx.font=`${Math.max(8,Math.round(m.fontSize))}px sans-serif`;const ee=m.text.split(/\r?\n/),we=Math.max(10,Math.round(m.fontSize*1.3));return ee.forEach((Ne,Ee)=>{B.baseCtx.fillText(Ne,m.x,m.y+Ee*we)}),re(!0),!0},ne=()=>{b(null)},j=()=>{const V=U();!V||q.current.length===0||(V.baseCtx.globalCompositeOperation="source-over",V.baseCtx.globalAlpha=y,V.baseCtx.drawImage(V.highlighterCanvas,0,0),V.baseCtx.globalAlpha=1,q.current=[],C.current=null,P())},N=V=>{if(F||w){d(!1);return}const B=U();if(!B)return;const{x:ee,y:we}=k(V),Ne=f[l];if(l==="text"){m&&se(),b({x:ee,y:we,text:"",color:f.text.color,fontSize:f.text.width}),S("unsaved");return}if(m&&se(),l==="eraser"&&j(),l==="highlighter"){const Ee={id:crypto.randomUUID(),color:Ne.color,width:Ne.width,opacity:1,points:[{x:ee,y:we}]};C.current=Ee,B.highlighterCtx.globalCompositeOperation="source-over",B.highlighterCtx.globalAlpha=1,B.highlighterCtx.strokeStyle=Ee.color,B.highlighterCtx.lineWidth=Ee.width,B.highlighterCtx.lineCap="round",B.highlighterCtx.lineJoin="round",B.highlighterCtx.beginPath(),B.highlighterCtx.moveTo(ee,we)}else B.baseCtx.globalCompositeOperation="source-over",B.baseCtx.globalAlpha=1,B.baseCtx.strokeStyle=Ne.color,l==="eraser"&&(B.baseCtx.globalCompositeOperation="destination-out",B.baseCtx.strokeStyle="rgba(0,0,0,1)"),B.baseCtx.lineWidth=Ne.width,B.baseCtx.lineCap="round",B.baseCtx.lineJoin="round",B.baseCtx.beginPath(),B.baseCtx.moveTo(ee,we);x(!0),S("unsaved")},K=V=>{if(!v)return;const B=U();if(!B)return;const{x:ee,y:we}=k(V);if(l==="highlighter"){const Ne=C.current;if(!Ne)return;Ne.points.push({x:ee,y:we}),B.highlighterCtx.lineTo(ee,we),B.highlighterCtx.stroke(),B.highlighterCtx.beginPath(),B.highlighterCtx.moveTo(ee,we);return}B.baseCtx.lineTo(ee,we),B.baseCtx.stroke(),B.baseCtx.beginPath(),B.baseCtx.moveTo(ee,we)},ue=()=>{if(!v)return;x(!1);const V=U();if(V){if(l==="highlighter"){V.highlighterCtx.closePath(),V.highlighterCtx.globalAlpha=1,V.highlighterCtx.globalCompositeOperation="source-over";const B=C.current;B&&(B.points.length===1&&B.points.push({...B.points[0]}),q.current=[...q.current,{...B,points:B.points.map(ee=>({...ee}))}],C.current=null,O())}else V.baseCtx.closePath(),V.baseCtx.globalAlpha=1,V.baseCtx.globalCompositeOperation="source-over";re(!0)}},I=V=>{const B=o.current;if(!B)return;const ee=new Image;ee.src=V,ee.onload=()=>{const we=B.getBoundingClientRect(),Ne=B.scrollLeft,Ee=B.scrollTop,Ie=400,dt=ee.width>Ie?Ie/ee.width:1,Je=ee.width*dt,Ze=ee.height*dt;p({src:V,x:Ne+we.width/2-Je/2,y:Ee+we.height/2-Ze/2,width:Je,height:Ze,originalAspect:ee.width/ee.height}),d(!1)}},L=()=>{if(!F)return;const V=U();if(!V)return;const B=new Image;B.src=F.src,B.onload=()=>{V.baseCtx.globalAlpha=1,V.baseCtx.globalCompositeOperation="source-over",V.baseCtx.drawImage(B,F.x,F.y,F.width,F.height),p(null),re(!0)}},Q=()=>{p(null)},J=V=>{V.stopPropagation(),F&&(W(!0),z.current={x:V.clientX-F.x,y:V.clientY-F.y})},ae=V=>{V.stopPropagation(),Z(!0),z.current={x:V.clientX,y:V.clientY}},ve=V=>{if($&&F)p({...F,x:V.clientX-z.current.x,y:V.clientY-z.current.y});else if(G&&F){const B=V.clientX-z.current.x,ee=Math.max(50,F.width+B),we=ee/F.originalAspect;p({...F,width:ee,height:we}),z.current={x:V.clientX,y:V.clientY}}},ze=()=>{W(!1),Z(!1)},xe=(V,B)=>{g(ee=>({...ee,[l]:{...ee[l],[V]:B}}))},be=()=>{try{const V=fe();if(!V)return;V!==D.current&&(S("saving"),t(V),D.current=V,setTimeout(()=>S("saved"),500))}catch(V){console.error("Canvas save blocked",V),S("unsaved")}};M.useEffect(()=>{const V=B=>{if((B.ctrlKey||B.metaKey)&&B.key.toLowerCase()==="s"){B.preventDefault(),be();return}if((B.ctrlKey||B.metaKey)&&B.key.toLowerCase()==="z"&&!B.shiftKey){B.preventDefault(),de();return}((B.ctrlKey||B.metaKey)&&B.key.toLowerCase()==="y"||(B.ctrlKey||B.metaKey)&&B.shiftKey&&B.key.toLowerCase()==="z")&&(B.preventDefault(),he())};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[]);const Ye=()=>{if(!confirm("Clear whiteboard? This cannot be undone."))return;const V=U();V&&(R(V.baseCtx,V.baseCanvas),b(null),q.current=[],C.current=null,P(),re(!0))},te=Object.entries(r),oe=T.index>0,ce=T.index>=0&&T.index<T.length-1;return c.jsxs("div",{className:"h-full flex flex-col bg-zinc-900 relative",onMouseMove:ve,onMouseUp:ze,onMouseLeave:ze,children:[c.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-4 sm:px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-20 shrink-0 select-none",children:[c.jsx("h3",{className:"text-zinc-200 font-medium truncate max-w-[100px] sm:max-w-none",children:n}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex bg-zinc-800 p-1 rounded-lg border border-zinc-700",children:[c.jsx("button",{onClick:()=>u("pen"),className:`p-2 rounded transition-all ${l==="pen"?"bg-blue-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Pen",children:c.jsx(z1,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>u("highlighter"),className:`p-2 rounded transition-all ${l==="highlighter"?"bg-yellow-500 text-black shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Highlighter",children:c.jsx(x1,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>u("eraser"),className:`p-2 rounded transition-all ${l==="eraser"?"bg-zinc-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Eraser",children:c.jsx(a1,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>u("text"),className:`p-2 rounded transition-all ${l==="text"?"bg-indigo-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,title:"Text",children:c.jsx(R1,{className:"w-4 h-4"})}),c.jsx("div",{className:"w-px h-full bg-zinc-700 mx-1"}),c.jsx("button",{onClick:()=>d(!w),className:`p-2 rounded transition-all ${w?"bg-purple-600 text-white":"text-zinc-400 hover:text-zinc-200"}`,title:"Import Image",children:c.jsx(ds,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex items-center gap-3 bg-zinc-800/50 px-3 py-1.5 rounded-lg border border-zinc-800 hidden md:flex",children:[(l==="pen"||l==="highlighter"||l==="text")&&c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("input",{type:"color",value:f[l].color,onChange:V=>xe("color",V.target.value),className:"w-8 h-8 rounded cursor-pointer bg-transparent border-none",title:l==="highlighter"?"Highlighter Color":l==="text"?"Text Color":"Pen Color"})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${l==="eraser"?"bg-zinc-500":"bg-current"}`,style:{color:f[l].color}}),c.jsx("input",{type:"range",min:l==="text"?"8":"1",max:l==="eraser"?"100":l==="highlighter"?"80":l==="text"?"96":"50",value:f[l].width,onChange:V=>xe("width",parseInt(V.target.value,10)),className:"w-24 h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),l==="highlighter"&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-[11px] uppercase tracking-wide text-zinc-500",children:"Opacity"}),c.jsx("input",{type:"range",min:"0.05",max:"1",step:"0.05",value:y,onChange:V=>{h(parseFloat(V.target.value)),S("unsaved")},className:"w-24 h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-yellow-400"}),c.jsx("span",{className:"text-[11px] text-zinc-400 w-8 text-right",children:Math.round(y*100)})]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:de,disabled:!oe,className:"text-zinc-500 hover:text-zinc-200 p-2 disabled:opacity-40 disabled:cursor-not-allowed",title:"Undo (Ctrl/Cmd+Z)",children:c.jsx(L1,{className:"w-4 h-4"})}),c.jsx("button",{onClick:he,disabled:!ce,className:"text-zinc-500 hover:text-zinc-200 p-2 disabled:opacity-40 disabled:cursor-not-allowed",title:"Redo (Ctrl/Cmd+Y)",children:c.jsx(D1,{className:"w-4 h-4"})}),c.jsxs("div",{className:"flex items-center mr-2 hidden sm:flex",children:[_==="saving"&&c.jsx("span",{className:"text-xs text-zinc-500",children:c.jsx(wr,{className:"w-3 h-3 animate-spin"})}),_==="saved"&&c.jsx("span",{className:"text-xs text-zinc-500 opacity-50",children:c.jsx(wn,{className:"w-3 h-3"})}),_==="unsaved"&&c.jsx("span",{className:"text-xs text-orange-400",children:c.jsx(pn,{className:"w-3 h-3"})})]}),c.jsx("button",{onClick:Ye,className:"text-zinc-500 hover:text-red-400 p-2",children:c.jsx(Ft,{className:"w-4 h-4"})}),c.jsxs("button",{onClick:be,className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors shadow-lg ${_==="unsaved"?"bg-blue-600 text-white":"bg-zinc-700 text-zinc-200"}`,children:[c.jsx(br,{className:"w-4 h-4"})," Save"]})]})]}),w&&c.jsxs("div",{className:"absolute top-16 left-1/2 -translate-x-1/2 z-30 bg-zinc-900 border border-zinc-700 rounded-xl shadow-2xl p-4 w-80 max-h-[400px] flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("h4",{className:"text-sm font-semibold text-zinc-200",children:"Select Asset"}),c.jsx("button",{onClick:()=>d(!1),className:"text-zinc-500 hover:text-white",children:c.jsx(ii,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"grid grid-cols-3 gap-2 overflow-y-auto custom-scrollbar flex-1",children:te.length>0?te.map(([V,B])=>c.jsx("button",{onClick:()=>I(B),className:"aspect-square bg-zinc-950 border border-zinc-800 rounded-md overflow-hidden hover:border-purple-500 transition-colors relative",children:c.jsx("img",{src:B,alt:"asset",className:"w-full h-full object-contain pointer-events-none"})},V)):c.jsx("div",{className:"col-span-3 text-center py-4 text-xs text-zinc-500",children:"No assets found."})})]}),c.jsx("div",{className:`flex-1 overflow-auto bg-[#09090b] relative custom-scrollbar touch-none ${l==="text"?"cursor-text":"cursor-crosshair"}`,ref:o,children:c.jsx("div",{className:"min-w-full min-h-full inline-block relative",children:c.jsxs("div",{className:"relative",style:{width:Er,height:Er},children:[c.jsx("canvas",{ref:s,width:Er,height:Er,className:"absolute inset-0 block"}),c.jsx("canvas",{ref:i,width:Er,height:Er,onMouseDown:N,onMouseMove:K,onMouseUp:ue,onMouseLeave:ue,className:"absolute inset-0 block",style:{opacity:y}}),m&&c.jsxs("div",{className:"absolute z-20 min-w-[260px] max-w-[420px] bg-zinc-900/95 border border-zinc-700 rounded-lg p-2 shadow-2xl",style:{left:m.x,top:m.y},onMouseDown:V=>V.stopPropagation(),children:[c.jsx("textarea",{ref:a,value:m.text,onChange:V=>b(B=>B&&{...B,text:V.target.value}),onKeyDown:V=>{(V.ctrlKey||V.metaKey)&&V.key==="Enter"&&(V.preventDefault(),se()),V.key==="Escape"&&(V.preventDefault(),ne())},placeholder:"Type text...",rows:3,className:"w-full min-h-[92px] bg-zinc-950 border border-zinc-800 rounded-md p-2 text-sm text-zinc-100 focus:outline-none focus:border-zinc-600 resize-y",style:{color:m.color,fontSize:`${m.fontSize}px`,lineHeight:`${Math.max(10,Math.round(m.fontSize*1.3))}px`}}),c.jsxs("div",{className:"mt-2 flex items-center justify-end gap-2",children:[c.jsx("button",{onClick:ne,className:"px-2 py-1 text-xs rounded bg-zinc-800 hover:bg-zinc-700 text-zinc-200",children:"Cancel"}),c.jsx("button",{onClick:se,className:"px-2 py-1 text-xs rounded bg-blue-600 hover:bg-blue-700 text-white",children:"Add Text"})]})]}),F&&c.jsxs("div",{className:"absolute border-2 border-blue-500 shadow-xl group cursor-move",style:{left:F.x,top:F.y,width:F.width,height:F.height,zIndex:10},onMouseDown:J,onDoubleClick:L,children:[c.jsx("img",{src:F.src,className:"w-full h-full object-fill pointer-events-none",alt:"floating"}),c.jsxs("div",{className:"absolute -top-10 left-0 right-0 h-8 flex items-center justify-center gap-2 bg-zinc-900/80 backdrop-blur rounded-lg border border-zinc-700 px-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:L,className:"p-1 hover:bg-emerald-500/20 text-emerald-400 rounded",title:"Stamp (Double Click)",children:c.jsx(wn,{className:"w-4 h-4"})}),c.jsx("div",{className:"w-px h-4 bg-zinc-700"}),c.jsx("button",{onClick:Q,className:"p-1 hover:bg-red-500/20 text-red-400 rounded",title:"Discard",children:c.jsx(ii,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"absolute -bottom-2 -right-2 w-6 h-6 bg-blue-500 rounded-full cursor-nwse-resize flex items-center justify-center border-2 border-white shadow-sm z-20",onMouseDown:ae,children:c.jsx(k1,{className:"w-3 h-3 text-white"})})]})]})})})]})},Kf=(e,t)=>{const n=Array.isArray(e==null?void 0:e.folders)?e.folders.filter(a=>typeof(a==null?void 0:a.id)=="string"&&typeof(a==null?void 0:a.name)=="string").map(a=>({id:a.id,name:a.name,parentId:typeof a.parentId=="string"?a.parentId:null})):[],r=new Set(n.map(a=>a.id)),s=n.map(a=>({...a,parentId:a.parentId&&r.has(a.parentId)?a.parentId:null})),i=e!=null&&e.assetFolderMap&&typeof e.assetFolderMap=="object"?e.assetFolderMap:{},o={};return Object.keys(t).forEach(a=>{const l=i[a];o[a]=typeof l=="string"&&r.has(l)?l:null}),{folders:s,assetFolderMap:o}},SS=({initialContent:e,assets:t={},onAddAsset:n,onDeleteAsset:r,onSave:s,fileName:i})=>{const[o,a]=M.useState(""),[l,u]=M.useState(null),[f,g]=M.useState(!1),[y,h]=M.useState(""),[v,x]=M.useState(()=>Kf(e,t)),[w,d]=M.useState(null),[m,b]=M.useState(new Set),[_,S]=M.useState(null),[D,E]=M.useState(null);M.useEffect(()=>{const re=Kf(e,t);x(re),d(Y=>Y&&re.folders.some(de=>de.id===Y)?Y:null)},[e,t]);const A=re=>{x(Y=>{const de=re(Y);return s(de),de})},T=M.useMemo(()=>Object.entries(t).map(([re,Y])=>({id:re,data:Y})),[t]),H=M.useMemo(()=>T.filter(re=>re.id.toLowerCase().includes(o.toLowerCase())).filter(re=>(v.assetFolderMap[re.id]??null)===w).sort((re,Y)=>re.id.localeCompare(Y.id)),[T,o,v.assetFolderMap,w]),q=M.useMemo(()=>v.folders.filter(re=>re.parentId===null).sort((re,Y)=>re.name.localeCompare(Y.name,void 0,{sensitivity:"base"})),[v.folders]),C=re=>v.folders.filter(Y=>Y.parentId===re).sort((Y,de)=>Y.name.localeCompare(de.name,void 0,{sensitivity:"base"})),F=re=>{const Y=prompt("Folder name:"),de=Y==null?void 0:Y.trim();if(!de)return;const he=crypto.randomUUID();A(k=>({...k,folders:[...k.folders,{id:he,name:de,parentId:re}]})),b(k=>new Set(k).add(he).add(re||"")),d(he)},p=(re,Y)=>{A(de=>({...de,assetFolderMap:{...de.assetFolderMap,[re]:Y}}))},$=(re,Y)=>{S(Y),re.dataTransfer.effectAllowed="move",re.dataTransfer.setData("text/plain",Y)},W=()=>{S(null),E(null)},G=(re,Y)=>{re.preventDefault(),re.stopPropagation(),re.dataTransfer.dropEffect="move",D!==Y&&E(Y)},Z=(re,Y)=>{re.preventDefault(),re.stopPropagation();const de=re.dataTransfer.getData("text/plain")||_;E(null),S(null),de&&(p(de,Y),b(he=>new Set(he).add(Y)))},z=re=>{re.preventDefault(),re.dataTransfer.dropEffect="move",D!=="root"&&E("root")},U=re=>{re.preventDefault();const Y=re.dataTransfer.getData("text/plain")||_;E(null),S(null),Y&&p(Y,null)},R=(re,Y=0)=>{const de=C(re.id),he=de.length>0,k=m.has(re.id),se=w===re.id,ne=D===re.id;return c.jsxs("div",{children:[c.jsxs("div",{style:{marginLeft:Y*10},className:`group flex items-center justify-between rounded-md px-1 py-1 mb-0.5 transition-colors ${ne?"bg-blue-500/10 ring-1 ring-blue-500/40":"hover:bg-zinc-900"}`,onDragOver:j=>G(j,re.id),onDrop:j=>Z(j,re.id),children:[c.jsxs("button",{onClick:()=>{he&&b(j=>{const N=new Set(j);return N.has(re.id)?N.delete(re.id):N.add(re.id),N}),d(re.id)},className:`flex-1 flex items-center gap-2 px-1.5 py-1 text-sm text-left rounded ${se?"text-white bg-zinc-800":"text-zinc-300"}`,children:[he?k?c.jsx(u0,{className:"w-3.5 h-3.5 text-zinc-500"}):c.jsx(yu,{className:"w-3.5 h-3.5 text-zinc-500"}):c.jsx("span",{className:"w-3.5 h-3.5"}),c.jsx(ic,{className:"w-4 h-4 text-blue-400/90"}),c.jsx("span",{className:"truncate",children:re.name})]}),c.jsx("button",{onClick:()=>F(re.id),className:"p-1 text-zinc-500 hover:text-white hover:bg-zinc-800 rounded opacity-0 group-hover:opacity-100",title:"New Subfolder",children:c.jsx(Fo,{className:"w-3.5 h-3.5"})})]}),k&&de.map(j=>R(j,Y+1))]},re.id)},P=re=>re.type.startsWith("image/")?!0:/\.(png|jpe?g|gif|webp|bmp|svg|avif|ico)$/i.test(re.name),le=async(re,Y)=>{var he;if(!re||!n)return;const de=Array.from(re).filter(P);if(de.length===0){alert(`No image files found in selected ${Y}.`);return}g(!0);try{const k=[],se=[];for(let j=0;j<de.length;j++){h(`Uploading ${j+1}/${de.length}...`);try{const N=await n(de[j]),K=typeof N=="string"&&N.startsWith("asset://")?N.slice(8):"";K?k.push(K):se.push(de[j].name||`file-${j+1}`)}catch(N){console.error("Asset upload failed for file",(he=de[j])==null?void 0:he.name,N),se.push(de[j].name||`file-${j+1}`)}}k.length>0&&A(j=>{const N={...j.assetFolderMap};return k.forEach(K=>{N[K]=w}),{...j,assetFolderMap:N}});const ne=k.length;ne===de.length?h(`Uploaded ${ne} image${ne===1?"":"s"}.`):h(ne===0?`Upload failed for ${se.length} file${se.length===1?"":"s"}.`:`Uploaded ${ne}/${de.length}. Failed ${se.length}.`),setTimeout(()=>h(""),3500)}finally{g(!1)}},O=re=>{const Y=document.createElement("input");if(Y.type="file",Y.multiple=!0,Y.accept="image/*",re==="folder"){const de=Y;de.webkitdirectory=!0,de.directory=!0}Y.style.position="fixed",Y.style.left="-9999px",document.body.appendChild(Y),Y.onchange=async de=>{try{await le(de.target.files,re)}finally{Y.remove()}},Y.oncancel=()=>{Y.remove()},Y.click()},X=()=>{O("files")},fe=()=>{O("folder")},ge=re=>{navigator.clipboard.writeText(`asset://${re}`),u(re),setTimeout(()=>u(null),2e3)},me=re=>{if(!r){alert("Delete functionality not available.");return}confirm("Delete this asset permanently? It will disappear from all documents/whiteboards using it.")&&(r(re),A(Y=>{const de={...Y.assetFolderMap};return delete de[re],{...Y,assetFolderMap:de}}))},pe=(re,Y)=>{const de=document.createElement("a");de.href=re,de.download=`asset-${Y.substring(0,8)}.png`,de.click()};return c.jsxs("div",{className:"h-full flex flex-col bg-zinc-900",children:[c.jsxs("div",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50 backdrop-blur-sm sticky top-0 z-20",children:[c.jsxs("h3",{className:"text-zinc-200 font-medium flex items-center gap-2",children:[c.jsx(ds,{className:"w-4 h-4 text-purple-500"})," ",i]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx(pa,{className:"w-4 h-4 text-zinc-500 absolute left-3 top-1/2 -translate-y-1/2"}),c.jsx("input",{type:"text",placeholder:"Search ID...",value:o,onChange:re=>a(re.target.value),className:"bg-zinc-950 border border-zinc-800 rounded-full py-1.5 pl-9 pr-4 text-sm text-zinc-300 focus:outline-none focus:border-zinc-700 w-48"})]}),c.jsxs("button",{onClick:X,disabled:f,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-60 disabled:cursor-not-allowed text-white px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-lg shadow-purple-900/20",children:[c.jsx(O1,{className:"w-4 h-4"})," Upload Files"]}),c.jsxs("button",{onClick:fe,disabled:f,className:"flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 disabled:opacity-60 disabled:cursor-not-allowed text-zinc-200 px-4 py-2 rounded-md text-sm font-medium transition-colors border border-zinc-700",children:[c.jsx(Jd,{className:"w-4 h-4"})," Upload Folder"]})]})]}),y&&c.jsx("div",{className:"px-6 py-2 text-xs text-zinc-400 border-b border-zinc-800 bg-zinc-900/70",children:y}),c.jsxs("div",{className:"flex-1 min-h-0 flex",children:[c.jsxs("aside",{className:"w-64 border-r border-zinc-800 p-3 overflow-y-auto custom-scrollbar",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-[11px] uppercase tracking-wide text-zinc-500",children:"Folders"}),c.jsx("button",{onClick:()=>F(w),className:"p-1.5 text-zinc-400 hover:text-white hover:bg-zinc-800 rounded",title:w?"New Subfolder":"New Folder",children:c.jsx(Fo,{className:"w-4 h-4"})})]}),c.jsxs("button",{onClick:()=>d(null),onDragOver:z,onDrop:U,className:`w-full mb-2 flex items-center gap-2 px-2 py-2 rounded-md text-sm transition-colors ${w===null?"bg-zinc-800 text-white":"text-zinc-300 hover:bg-zinc-900"} ${D==="root"?"ring-1 ring-blue-500/40 bg-blue-500/10":""}`,title:"Drop here to move asset to root",children:[c.jsx(Jd,{className:"w-4 h-4 text-zinc-500"}),c.jsx("span",{children:"Root (No Folder)"})]}),c.jsxs("div",{children:[q.map(re=>R(re)),q.length===0&&c.jsx("div",{className:"text-xs text-zinc-600 px-2 py-3",children:"No folders yet."})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:T.length===0?c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-500 opacity-50",children:[c.jsx(ef,{className:"w-16 h-16 mb-4"}),c.jsx("p",{children:"No assets in this project yet."}),c.jsx("p",{className:"text-sm mt-2",children:"Upload images or paste them into Documents."})]}):H.length===0?c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-500 opacity-60",children:[c.jsx(ef,{className:"w-12 h-12 mb-3"}),c.jsx("p",{children:"No assets in this folder."}),c.jsx("p",{className:"text-xs mt-2",children:"Drag assets onto folders to reorganize."})]}):c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:H.map(({id:re,data:Y})=>c.jsxs("div",{draggable:!0,onDragStart:de=>$(de,re),onDragEnd:W,className:`group bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden hover:border-zinc-600 transition-all shadow-sm hover:shadow-xl cursor-grab active:cursor-grabbing ${_===re?"opacity-45 grayscale":""}`,children:[c.jsxs("div",{className:"aspect-square bg-[#101012] relative flex items-center justify-center overflow-hidden bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTAgMGgyMHYyMEgwem0xMCAxMGgxMHYxMEgxMHoiIGZpbGw9IiMxODE4MWIiIGZpbGwtb3BhY2l0eT0iMC40Ii8+PC9zdmc+')]",children:[c.jsx("img",{src:Y,alt:re,className:"max-w-full max-h-full object-contain"}),c.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 backdrop-blur-sm",children:[c.jsx("button",{onClick:()=>ge(re),className:"p-2 bg-white text-black rounded-full hover:scale-110 transition-transform",title:"Copy ID",children:l===re?c.jsx(wn,{className:"w-4 h-4"}):c.jsx(sc,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>pe(Y,re),className:"p-2 bg-zinc-800 text-white rounded-full hover:scale-110 transition-transform",title:"Download",children:c.jsx(vu,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>me(re),className:"p-2 bg-red-600 text-white rounded-full hover:scale-110 transition-transform",title:"Delete Asset",children:c.jsx(Ft,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"p-3 border-t border-zinc-800 bg-zinc-900/50",children:[c.jsx("div",{className:"text-[10px] font-mono text-zinc-500 truncate",title:re,children:re}),c.jsxs("div",{className:"text-[10px] text-zinc-600 mt-1",children:[(Y.length/1024).toFixed(1)," KB  ",Y.split(";")[0].split(":")[1]]})]})]},re))})})]})]})},NS=({isOpen:e,onClose:t,projects:n,activeProject:r,onSelectFile:s,onSelectProject:i,onCreateFile:o})=>{const[a,l]=M.useState(""),[u,f]=M.useState(0),g=M.useRef(null);if(M.useEffect(()=>{e&&(l(""),f(0),setTimeout(()=>{var w;return(w=g.current)==null?void 0:w.focus()},50))},[e]),!e)return null;const y=w=>{switch(w){case"doc":return c.jsx($o,{className:"w-4 h-4"});case"flowchart":return c.jsx(bu,{className:"w-4 h-4"});case"todo":return c.jsx(si,{className:"w-4 h-4"});case"kanban":return c.jsx(da,{className:"w-4 h-4"});case"roadmap":return c.jsx(wu,{className:"w-4 h-4"});case"grid":return c.jsx(ku,{className:"w-4 h-4"});case"whiteboard":return c.jsx(ha,{className:"w-4 h-4"});case"asset-gallery":return c.jsx(ds,{className:"w-4 h-4"});case"project":return c.jsx(p0,{className:"w-4 h-4"});case"create":return c.jsx(Zn,{className:"w-4 h-4"});default:return c.jsx($o,{className:"w-4 h-4"})}};let h=[];if(r){const w=d=>r.files.some(m=>m.type===d);r.files.forEach(d=>{h.push({id:d.id,type:d.type,label:d.name,subLabel:"Go to file",action:()=>{s(d.id),t()}})}),h.push({id:"new-doc",type:"create",label:"Create Document",action:()=>{o("doc"),t()}}),h.push({id:"new-flow",type:"create",label:"Create Flowchart",action:()=>{o("flowchart"),t()}}),w("todo")||h.push({id:"new-todo",type:"create",label:"Create Task List",action:()=>{o("todo"),t()}}),w("kanban")||h.push({id:"new-kanban",type:"create",label:"Create Bug Tracker",action:()=>{o("kanban"),t()}}),w("roadmap")||h.push({id:"new-roadmap",type:"create",label:"Create Roadmap",action:()=>{o("roadmap"),t()}}),h.push({id:"new-grid",type:"create",label:"Create Data Grid",action:()=>{o("grid"),t()}}),h.push({id:"new-wb",type:"create",label:"Create Whiteboard",action:()=>{o("whiteboard"),t()}})}n.forEach(w=>{w.id!==(r==null?void 0:r.id)&&h.push({id:w.id,type:"project",label:w.name,subLabel:w.isLocal?"Switch to Local Repo":"Switch Project",action:()=>{i(w.id),t()}})});const v=h.filter(w=>w.label.toLowerCase().includes(a.toLowerCase())||w.type.toLowerCase().includes(a.toLowerCase()));u>=v.length&&v.length>0&&f(v.length-1);const x=w=>{w.key==="ArrowDown"?(w.preventDefault(),f(d=>(d+1)%v.length)):w.key==="ArrowUp"?(w.preventDefault(),f(d=>(d-1+v.length)%v.length)):w.key==="Enter"?(w.preventDefault(),v[u]&&v[u].action()):w.key==="Escape"&&t()};return c.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-[20vh] bg-black/50 backdrop-blur-sm p-4",onClick:t,children:c.jsxs("div",{className:"w-full max-w-2xl bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl overflow-hidden flex flex-col",onClick:w=>w.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center px-4 py-3 border-b border-zinc-800",children:[c.jsx(pa,{className:"w-5 h-5 text-zinc-500 mr-3"}),c.jsx("input",{ref:g,type:"text",className:"flex-1 bg-transparent text-lg text-white placeholder-zinc-600 focus:outline-none",placeholder:r?`Search files in ${r.name}...`:"Search projects...",value:a,onChange:w=>{l(w.target.value),f(0)},onKeyDown:x}),c.jsx("div",{className:"text-xs text-zinc-600 border border-zinc-800 rounded px-2 py-1",children:"ESC"})]}),c.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar p-2",children:v.length===0?c.jsx("div",{className:"p-4 text-center text-zinc-500",children:"No results found."}):v.map((w,d)=>c.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg cursor-pointer transition-colors ${d===u?"bg-blue-600 text-white":"text-zinc-300 hover:bg-zinc-800"}`,onClick:()=>w.action(),onMouseEnter:()=>f(d),children:[c.jsx("div",{className:`p-2 rounded-md ${d===u?"bg-white/20":"bg-zinc-800"}`,children:y(w.type)}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-sm",children:w.label}),w.subLabel&&c.jsx("div",{className:`text-xs ${d===u?"text-blue-200":"text-zinc-500"}`,children:w.subLabel})]}),d===u&&c.jsx("div",{className:"text-xs opacity-70",children:"Enter"})]},`${w.type}-${w.id}`))}),c.jsxs("div",{className:"px-4 py-2 bg-zinc-950 border-t border-zinc-800 text-[10px] text-zinc-500 flex justify-between",children:[c.jsx("span",{children:"Navigate with "}),c.jsx("span",{children:'Use keywords like "create", "todo", "doc"'})]})]})})},zS=({isOpen:e,onClose:t})=>{if(!e)return null;const n=[{icon:$o,color:"text-blue-400",title:"Documents",desc:"Markdown-based text editor. Use this for Game Design Documents (GDD), technical specifications, story drafts, and general notes. Supports inserting images from the Asset Library."},{icon:bu,color:"text-purple-400",title:"Flowcharts",desc:"Node-based diagram editor. Perfect for visualizing game loops, dialogue trees, quest branching, or finite state machines (FSM) for AI behavior."},{icon:si,color:"text-emerald-400",title:"Task Lists",desc:"Simple, prioritized checklist for daily tasks. Supports sub-tasks and drag-and-drop reordering to keep track of immediate to-dos."},{icon:da,color:"text-red-400",title:"Bug Tracker",desc:"A Kanban board (To Do, In Progress, Done) designed for tracking bugs, glitches, and feature requests. Allows assigning severity levels to issues."},{icon:wu,color:"text-amber-400",title:"Roadmap",desc:"Timeline view for long-term project planning. Create phases and milestones to visualize your development schedule over weeks or months."},{icon:ku,color:"text-cyan-400",title:"Data Grid",desc:"Spreadsheet-like database editor. Essential for balancing game stats (e.g., weapon damage, enemy HP), managing item lists, or localized strings."},{icon:ha,color:"text-pink-400",title:"Whiteboard",desc:"Infinite canvas for freehand drawing and brainstorming. Great for quick level layout sketches, UI mockups, or scribbling ideas during meetings."},{icon:ds,color:"text-indigo-400",title:"Asset Library",desc:"Central repository for project images. Upload reference art or screenshots here to use them inside Documents and Whiteboards."}];return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-800 bg-zinc-950/50 rounded-t-2xl",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:c.jsx(t1,{className:"w-6 h-6 text-blue-500"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"DevArchitect Guide"}),c.jsx("p",{className:"text-sm text-zinc-400",children:"Project management suite for game developers"})]})]}),c.jsx("button",{onClick:t,className:"p-2 text-zinc-500 hover:text-white hover:bg-zinc-800 rounded-full transition-colors",children:c.jsx(ii,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar bg-zinc-900/50",children:[c.jsxs("div",{className:"mb-10 bg-zinc-800/30 border border-zinc-700/50 rounded-xl p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-zinc-100 mb-2",children:"What is this tool?"}),c.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"DevArchitect is an offline-capable workspace designed to centralize the messy process of game development planning. Instead of scattering your GDDs in Word, tasks in Trello, and stats in Excel, this tool keeps everything in one project file that can be saved locally to your disk or version control system."})]}),c.jsx("h3",{className:"text-sm font-bold text-zinc-500 uppercase tracking-wider mb-4 px-2",children:"Available Tools"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(r=>c.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border border-zinc-800 bg-zinc-950 hover:border-zinc-700 transition-colors",children:[c.jsx("div",{className:`shrink-0 p-3 rounded-lg bg-zinc-900 h-fit ${r.color}`,children:c.jsx(r.icon,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-zinc-200 mb-1",children:r.title}),c.jsx("p",{className:"text-sm text-zinc-500 leading-snug",children:r.desc})]})]},r.title))}),c.jsx("div",{className:"mt-10 p-4 border-t border-zinc-800 text-center text-xs text-zinc-600",children:c.jsxs("p",{children:["Use ",c.jsx("span",{className:"font-mono bg-zinc-800 px-1 rounded text-zinc-400",children:"Ctrl + K"})," to open the Command Palette anywhere."]})})]})]})})};var tr=(e=>(e.DASHBOARD="DASHBOARD",e.PROJECT="PROJECT",e))(tr||{});const ES=e=>{try{const t=e.split(","),n=t[0].match(/:(.*?);/),r=n?n[1]:"application/octet-stream",s=atob(t[1]);let i=s.length;const o=new Uint8Array(i);for(;i--;)o[i]=s.charCodeAt(i);return new Blob([o],{type:r})}catch(t){return console.error("Failed to convert base64 to blob",t),new Blob([])}},an={DB_NAME:"devarchitect_db",STORE_PROJECTS:"projects",STORE_HANDLES:"handles",init:function(){return new Promise((e,t)=>{const n=indexedDB.open(this.DB_NAME,2);n.onerror=()=>t(n.error),n.onupgradeneeded=r=>{const s=r.target.result;s.objectStoreNames.contains(this.STORE_PROJECTS)||s.createObjectStore(this.STORE_PROJECTS,{keyPath:"id"}),s.objectStoreNames.contains(this.STORE_HANDLES)||s.createObjectStore(this.STORE_HANDLES)},n.onsuccess=()=>e()})},saveProject:function(e){return new Promise((t,n)=>{const r=indexedDB.open(this.DB_NAME,2);r.onsuccess=s=>{const i=s.target.result.transaction([this.STORE_PROJECTS],"readwrite");i.objectStore(this.STORE_PROJECTS).put(e),i.oncomplete=()=>t(),i.onerror=()=>n(i.error)}})},saveHandle:function(e,t){return new Promise((n,r)=>{const s=indexedDB.open(this.DB_NAME,2);s.onsuccess=i=>{const o=i.target.result.transaction([this.STORE_HANDLES],"readwrite");o.objectStore(this.STORE_HANDLES).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>r(o.error)}})},loadAllProjects:function(){return new Promise((e,t)=>{const n=indexedDB.open(this.DB_NAME,2);n.onsuccess=r=>{const i=r.target.result.transaction([this.STORE_PROJECTS],"readonly").objectStore(this.STORE_PROJECTS).getAll();i.onsuccess=()=>e(i.result),i.onerror=()=>t(i.error)},n.onerror=()=>e([])})},loadHandle:function(e){return new Promise((t,n)=>{const r=indexedDB.open(this.DB_NAME,2);r.onsuccess=s=>{const o=s.target.result.transaction([this.STORE_HANDLES],"readonly").objectStore(this.STORE_HANDLES).get(e);o.onsuccess=()=>t(o.result),o.onerror=()=>t(null)},r.onerror=()=>t(null)})},delete:function(e){return new Promise((t,n)=>{const r=indexedDB.open(this.DB_NAME,2);r.onsuccess=s=>{const i=s.target.result.transaction([this.STORE_PROJECTS,this.STORE_HANDLES],"readwrite");i.objectStore(this.STORE_PROJECTS).delete(e),i.objectStore(this.STORE_HANDLES).delete(e),i.oncomplete=()=>t()}})}},Dt=[{type:"doc",label:"Document",pluralLabel:"Documents",icon:$o,component:pS,createDefaultContent:e=>`# ${e}

Created on ${new Date().toLocaleDateString()}`},{type:"flowchart",label:"Flowchart",pluralLabel:"Flowcharts",icon:bu,component:dS,createDefaultContent:()=>({nodes:[],edges:[]})},{type:"todo",label:"Task List",pluralLabel:"Task Lists",icon:si,component:gS,createDefaultContent:()=>({items:[]})},{type:"kanban",label:"Bug Tracker",pluralLabel:"Bug Trackers",icon:da,component:yS,createDefaultContent:()=>({tasks:[]})},{type:"roadmap",label:"Roadmap",pluralLabel:"Roadmaps",icon:wu,component:wS,createDefaultContent:()=>({items:[]})},{type:"grid",label:"Data Grid",pluralLabel:"Data Grids",icon:ku,component:bS,createDefaultContent:()=>({columns:[],rows:[]})},{type:"whiteboard",label:"Whiteboard",pluralLabel:"Whiteboards",icon:ha,component:_S,createDefaultContent:()=>""},{type:"asset-gallery",label:"Asset Library",pluralLabel:"Asset Libraries",icon:ds,component:SS,createDefaultContent:()=>({})}],gt="asset-gallery",mi="Asset Library",Yf="application/x-gdpm-file-id",nr=new Set([gt,"todo","kanban","roadmap"]),Zm=[{type:gt,name:mi},{type:"todo",name:"Task List"},{type:"kanban",name:"Bug Tracker"},{type:"roadmap",name:"Roadmap"}],CS=()=>({id:crypto.randomUUID(),name:mi,type:gt,content:{},folderId:null}),jS=(e,t)=>{const n=Dt.find(r=>r.type===e);return{id:crypto.randomUUID(),name:t,type:e,content:n?n.createDefaultContent(t):"",folderId:null}},Cr=e=>{const t=e.files||[],n=t.filter(o=>o.type===gt),r=new Map,s=[];for(const o of t.filter(a=>a.type!==gt)){if(nr.has(o.type)){r.has(o.type)||r.set(o.type,{...o,folderId:null});continue}s.push(o)}let i=n[0]||CS();(i.name!==mi||i.folderId!==null)&&(i={...i,name:mi,folderId:null});for(const o of Zm){if(o.type===gt)continue;const a=r.get(o.type);a?s.push({...a,name:o.name,folderId:null}):s.push(jS(o.type,o.name))}return{...e,folders:e.folders||[],assets:e.assets||{},files:[...s,i]}},Xf=[{id:"1",name:"Cosmic Invaders",type:"Game",description:"A retro-style space shooter.",lastModified:Date.now(),files:[{id:"f1",name:"Game Design Document",type:"doc",content:"# Cosmic Invaders",folderId:null},{id:"f-asset-lib",name:mi,type:gt,content:{},folderId:null}],folders:[],assets:{}}],DS=()=>{const[e,t]=M.useState([]),[n,r]=M.useState(!1),[s,i]=M.useState(tr.DASHBOARD),[o,a]=M.useState(null),[l,u]=M.useState(null),[f,g]=M.useState(!1),[y,h]=M.useState(!1),[v,x]=M.useState(new Set),[w,d]=M.useState({open:!1,folderId:null}),[m,b]=M.useState(""),[_,S]=M.useState("doc"),[D,E]=M.useState(null),[A,T]=M.useState(null),H=ie.useRef(!1),q=ie.useRef(null),C=ie.useRef(new Map),F=ie.useRef([]);F.current=e,M.useEffect(()=>{F.current=e},[e]),M.useEffect(()=>{(async()=>{try{await an.init();const oe=await an.loadAllProjects();for(const V of oe)if(V.isLocal){const B=await an.loadHandle(V.id);B&&C.current.set(V.id,B)}const ce=oe.map(Cr);t(ce.length>0?ce:Xf.map(Cr))}catch(oe){console.error("Init error",oe),t(Xf.map(Cr))}finally{r(!0)}})()},[]),M.useEffect(()=>{n&&e.length>0&&e.forEach(te=>an.saveProject(te))},[e,n]),M.useEffect(()=>{const te=oe=>{(oe.ctrlKey||oe.metaKey)&&oe.key==="k"&&(oe.preventDefault(),g(ce=>!ce))};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[]);const p=async te=>{const oe=C.current.get(te.id);if(oe)try{const ce={...te,assets:{}},B=await(await oe.getFileHandle("project.json",{create:!0})).createWritable();if(await B.write(JSON.stringify(ce,null,2)),await B.close(),te.assets&&Object.keys(te.assets).length>0){const ee=await oe.getDirectoryHandle("assets",{create:!0});for(const[we,Ne]of Object.entries(te.assets)){const Ee=Ne.startsWith("data:image/png")?"png":"jpg",Ie=`${we}.${Ee}`,Je=await(await ee.getFileHandle(Ie,{create:!0})).createWritable();await Je.write(ES(Ne)),await Je.close()}}}catch(ce){console.error("Failed to save to disk:",ce)}},$=async()=>{if(H.current||!q.current)return;const te=q.current;q.current=null,H.current=!0;try{await p(te)}catch(oe){console.error("Save queue error:",oe)}finally{H.current=!1,q.current&&$()}},W=async te=>{try{const V=await(await(await te.getFileHandle("project.json")).getFile()).text(),B=JSON.parse(V);B.folders||(B.folders=[]),B.files&&(B.files=B.files.map(we=>({...we,folderId:we.folderId||null})));const ee={};try{const we=await te.getDirectoryHandle("assets");for await(const Ne of we.values())if(Ne.kind==="file"){const Ee=await Ne.getFile(),Ie=new FileReader,dt=await new Promise(Ze=>{Ie.onload=Oe=>{var Bt;return Ze((Bt=Oe.target)==null?void 0:Bt.result)},Ie.readAsDataURL(Ee)}),Je=Ne.name.split(".")[0];ee[Je]=dt}}catch{}return B.assets=ee,B.isLocal=!0,Cr(B)}catch{return null}},G=async()=>{if(typeof window.showDirectoryPicker!="function"){alert("Browser not supported. Please use Chrome, Edge, or Opera on desktop.");return}try{const te=await window.showDirectoryPicker({id:"devarchitect_open",mode:"readwrite"});let oe=await W(te);const ce=[];if(oe&&(ce.push(oe),await an.saveHandle(oe.id,te),C.current.set(oe.id,te)),ce.length>0){const V=new Set(ce.map(B=>B.id));t(B=>[...ce,...B.filter(ee=>!V.has(ee.id))]),ce.forEach(B=>an.saveProject(B))}else alert("No 'project.json' found in selected folder.")}catch(te){if(te.name==="AbortError")return;console.error("Error opening folder:",te)}},Z=async te=>{const oe=e.find(V=>V.id===te);if(!oe)return;const ce=oe.files.find(V=>V.type!==gt)||oe.files.find(V=>V.type===gt);a(te),u((ce==null?void 0:ce.id)||null),i(tr.PROJECT)},z=async(te,oe)=>{const ce=Dt.find(B=>B.type==="doc"),V=Cr({id:crypto.randomUUID(),name:te,type:oe,description:"",lastModified:Date.now(),files:[{id:crypto.randomUUID(),name:"Readme",type:"doc",content:ce?ce.createDefaultContent(te):"",folderId:null}],folders:[],assets:{}});t(B=>[V,...B]),an.saveProject(V)},U=async te=>{e.find(ce=>ce.id===te)&&confirm("Delete project?")&&(await an.delete(te),C.current.delete(te),t(ce=>ce.filter(V=>V.id!==te)),o===te&&(a(null),i(tr.DASHBOARD)))},R=async te=>{const oe=new B1,ce={...te,assets:{}};oe.file("project.json",JSON.stringify(ce,null,2));const V=oe.folder("assets");te.assets&&V&&Object.entries(te.assets).forEach(([Ne,Ee])=>{const Ie=Ee.split(",")[1],dt=Ee.substring(Ee.indexOf("/")+1,Ee.indexOf(";"));V.file(`${Ne}.${dt}`,Ie,{base64:!0})});const B=await oe.generateAsync({type:"blob"}),ee=window.URL.createObjectURL(B),we=document.createElement("a");we.href=ee,we.download=`${te.name.replace(/\s+/g,"_")}.zip`,we.click(),window.URL.revokeObjectURL(ee)},P=te=>{const oe=Cr(te);t(ce=>{const V=ce.map(B=>B.id===oe.id?oe:B);return F.current=V,V}),oe.isLocal&&(q.current=oe,$()),an.saveProject(oe)},le=te=>{if(!o)return;const oe=prompt("Folder Name:");if(!oe)return;const ce=e.find(V=>V.id===o);if(ce){const V={id:crypto.randomUUID(),name:oe,parentId:te};P({...ce,folders:[...ce.folders,V]}),x(B=>new Set(B).add(V.id).add(te||""))}},O=te=>{if(!o)return;const oe=e.find(ce=>ce.id===o);if(oe){const ce=new Set([te]);let V=!0;for(;V;){V=!1;for(const Oe of oe.folders)Oe.parentId&&ce.has(Oe.parentId)&&!ce.has(Oe.id)&&(ce.add(Oe.id),V=!0)}const B=oe.files.filter(Oe=>Oe.folderId&&ce.has(Oe.folderId)),ee=new Set(B.map(Oe=>Oe.id)),we=ce.size,Ne=B.length;if(!confirm(`Delete this folder and all of its contents?

This will permanently delete ${we} ${we===1?"folder":"folders"} and ${Ne} ${Ne===1?"file":"files"}.`))return;const Je=oe.folders.filter(Oe=>!ce.has(Oe.id)),Ze=oe.files.filter(Oe=>!Oe.folderId||!ce.has(Oe.folderId));if(P({...oe,lastModified:Date.now(),files:Ze,folders:Je}),l&&ee.has(l)){const Oe=Ze.find(Bt=>Bt.type!==gt)||Ze.find(Bt=>Bt.type===gt);u((Oe==null?void 0:Oe.id)||null)}x(Oe=>{const Bt=new Set(Oe);for(const Sa of ce)Bt.delete(Sa);return Bt})}},X=(te,oe)=>te===gt?!1:!oe||!nr.has(te)?!0:!oe.files.some(ce=>ce.type===te),fe=(te,oe)=>{var we;const ce=e.find(Ne=>Ne.id===o),B=((we=Dt.filter(Ne=>X(Ne.type,ce))[0])==null?void 0:we.type)||"doc",ee=oe&&X(oe,ce)?oe:B;if(oe&&!X(oe,ce)){const Ne=Dt.find(Ee=>Ee.type===oe);alert(`Only one ${(Ne==null?void 0:Ne.label)||oe} is allowed per project.`)}d({open:!0,folderId:te}),b(""),S(ee)},ge=te=>{if(te.preventDefault(),!o||!m)return;const oe=e.find(B=>B.id===o);if(!oe)return;if(!X(_,oe)){const B=Dt.find(ee=>ee.type===_);alert(`Only one ${(B==null?void 0:B.label)||_} is allowed per project.`);return}const ce=Dt.find(B=>B.type===_);if(!ce)return;const V={id:crypto.randomUUID(),name:m,type:_,content:ce.createDefaultContent(m),folderId:w.folderId};P({...oe,lastModified:Date.now(),files:[...oe.files,V]}),u(V.id),w.folderId&&x(B=>new Set(B).add(w.folderId)),d({open:!1,folderId:null})},me=(te,oe)=>{if(te.stopPropagation(),!o)return;const ce=e.find(B=>B.id===o);if(!ce)return;const V=ce.files.find(B=>B.id===oe);if(V){if(nr.has(V.type)&&ce.files.filter(ee=>ee.type===V.type).length<=1){const ee=Dt.find(we=>we.type===V.type);alert(`${(ee==null?void 0:ee.label)||V.type} is required in every project and cannot be deleted.`);return}if(confirm("Delete file?")){const B=ce.files.filter(ee=>ee.id!==oe);if(P({...ce,files:B}),l===oe){const ee=B.find(we=>we.type!==gt)||B.find(we=>we.type===gt);u((ee==null?void 0:ee.id)||null)}}}},pe=te=>new Promise((oe,ce)=>{const V=new FileReader;V.onload=B=>{var we;const ee=(we=B.target)==null?void 0:we.result;if(typeof ee=="string"){oe(ee);return}ce(new Error("Failed to read image data."))},V.onerror=()=>ce(V.error||new Error("Failed to read image file.")),V.onabort=()=>ce(new Error("Image read was aborted.")),V.readAsDataURL(te)}),re=async te=>{if(!o)throw new Error("No active project");const oe=await pe(te),ce=crypto.randomUUID(),V=F.current.find(ee=>ee.id===o);if(!V)throw new Error("Active project not found");const B={...V,lastModified:Date.now(),assets:{...V.assets||{},[ce]:oe}};return F.current=F.current.map(ee=>ee.id===B.id?B:ee),P(B),`asset://${ce}`},Y=async te=>{if(!o)return;const oe=F.current.find(ce=>ce.id===o);if(oe){const ce={...oe.assets};delete ce[te];const V={...oe,lastModified:Date.now(),assets:ce};F.current=F.current.map(B=>B.id===V.id?V:B),P(V)}},de=te=>{if(!o||!l)return;const oe=F.current.find(ce=>ce.id===o);if(oe){const ce={...oe,lastModified:Date.now(),files:oe.files.map(V=>V.id===l?{...V,content:te}:V)};F.current=F.current.map(V=>V.id===ce.id?ce:V),P(ce)}},he=e.find(te=>te.id===o),k=he==null?void 0:he.files.find(te=>te.id===l),se=new Map(Zm.map((te,oe)=>[te.type,oe])),ne=he?he.files.filter(te=>nr.has(te.type)).sort((te,oe)=>(se.get(te.type)??Number.MAX_SAFE_INTEGER)-(se.get(oe.type)??Number.MAX_SAFE_INTEGER)):[],j=he?he.files.filter(te=>!nr.has(te.type)).length:0,N=te=>{if(he){if(!he.files.some(oe=>oe.id===te)){alert("Linked file was not found in this project.");return}u(te)}},K=te=>{const oe=te.dataTransfer.getData(Yf);if(oe)try{const ee=JSON.parse(oe);if(ee!=null&&ee.id)return ee.id}catch{if(he!=null&&he.files.some(ee=>ee.id===oe))return oe}const ce=te.dataTransfer.getData("text/uri-list");if(ce!=null&&ce.startsWith("file://")){const ee=ce.replace("file://","").trim();if(he!=null&&he.files.some(we=>we.id===ee))return ee}const V=te.dataTransfer.getData("text/plain"),B=V.match(/\(file:\/\/([^)]+)\)/);return B!=null&&B[1]&&(he!=null&&he.files.some(ee=>ee.id===B[1]))?B[1]:V&&(he!=null&&he.files.some(ee=>ee.id===V.trim()))?V.trim():D},ue=async te=>{try{await navigator.clipboard.writeText(te)}catch{alert("Failed to copy file ID.")}},I=te=>{const oe=new Set(v);oe.has(te)?oe.delete(te):oe.add(te),x(oe)},L=(te,oe)=>{if(!he)return;const ce=he.files.find(V=>V.id===te);!ce||nr.has(ce.type)||(ce.folderId||null)===oe||P({...he,lastModified:Date.now(),files:he.files.map(V=>V.id===te?{...V,folderId:oe}:V)})},Q=(te,oe,ce)=>{E(oe),te.dataTransfer.effectAllowed="move",te.dataTransfer.setData(Yf,JSON.stringify({id:oe,name:ce})),te.dataTransfer.setData("application/x-gdpm-file-name",ce),te.dataTransfer.setData("text/uri-list",`file://${oe}`),te.dataTransfer.setData("text/plain",`[${ce}](file://${oe})`)},J=()=>{E(null),T(null)},ae=(te,oe)=>{te.preventDefault(),te.stopPropagation(),te.dataTransfer.dropEffect="move",A!==oe&&T(oe)},ve=(te,oe)=>{te.preventDefault(),te.stopPropagation();const ce=K(te);T(null),E(null),ce&&(L(ce,oe),x(V=>new Set(V).add(oe)))},ze=te=>{te.preventDefault(),te.dataTransfer.dropEffect="move",A!=="root"&&T("root")},xe=te=>{te.preventDefault();const oe=K(te);T(null),E(null),oe&&L(oe,null)},be=(te,oe=0)=>{if(!he)return null;const ce=he.folders.filter(ee=>ee.parentId===te),V=new Map(Dt.map((ee,we)=>[ee.type,we])),B=he.files.filter(ee=>!nr.has(ee.type)&&(ee.folderId||null)===te).sort((ee,we)=>{const Ne=V.get(ee.type)??Number.MAX_SAFE_INTEGER,Ee=V.get(we.type)??Number.MAX_SAFE_INTEGER;return Ne!==Ee?Ne-Ee:ee.name.localeCompare(we.name,void 0,{sensitivity:"base"})});return c.jsxs("div",{children:[ce.map(ee=>{const we=v.has(ee.id),Ne=A===ee.id;return c.jsxs("div",{children:[c.jsxs("div",{style:{marginLeft:oe*12},onDragOver:Ee=>ae(Ee,ee.id),onDrop:Ee=>ve(Ee,ee.id),className:`group flex items-center justify-between rounded-lg pr-1 py-1 mb-0.5 transition-colors ${Ne?"bg-blue-500/10 ring-1 ring-blue-500/40":"hover:bg-zinc-900"}`,children:[c.jsxs("button",{onClick:()=>I(ee.id),className:"flex-1 flex items-center gap-2 px-2 text-sm text-zinc-400 hover:text-zinc-200 truncate",children:[we?c.jsx(u0,{className:"w-4 h-4"}):c.jsx(yu,{className:"w-4 h-4"}),c.jsx(ic,{className:"w-4 h-4 text-blue-500/80"}),c.jsx("span",{className:"truncate",children:ee.name})]}),c.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex items-center gap-1",children:[c.jsx("button",{onClick:()=>fe(ee.id),className:"p-1 hover:bg-zinc-800 text-zinc-500 hover:text-white rounded",title:"New File",children:c.jsx(Qd,{className:"w-3.5 h-3.5"})}),c.jsx("button",{onClick:()=>le(ee.id),className:"p-1 hover:bg-zinc-800 text-zinc-500 hover:text-white rounded",title:"New Subfolder",children:c.jsx(Fo,{className:"w-3.5 h-3.5"})}),c.jsx("button",{onClick:()=>O(ee.id),className:"p-1 hover:bg-zinc-800 text-zinc-500 hover:text-red-400 rounded",title:"Delete Folder",children:c.jsx(Ft,{className:"w-3.5 h-3.5"})})]})]}),we&&be(ee.id,oe+1)]},ee.id)}),B.map(ee=>{const we=Dt.find(Ie=>Ie.type===ee.type),Ne=(we==null?void 0:we.icon)||Qa,Ee=D===ee.id;return c.jsxs("div",{style:{marginLeft:oe*12},draggable:!0,onDragStart:Ie=>Q(Ie,ee.id,ee.name),onDragEnd:J,className:`group flex items-center gap-1 rounded-lg pr-1 mb-0.5 transition-colors cursor-grab active:cursor-grabbing ${Ee?"opacity-45 grayscale":"opacity-100 hover:bg-zinc-900"}`,children:[c.jsxs("button",{onClick:()=>u(ee.id),draggable:!0,onDragStart:Ie=>Q(Ie,ee.id,ee.name),onDragEnd:J,className:`flex-1 flex items-center gap-2 pl-1.5 pr-2 py-1.5 text-sm text-left truncate ${l===ee.id?"bg-zinc-800 text-white":"text-zinc-400 hover:text-zinc-200"}`,children:[c.jsx(Ne,{className:`w-4 h-4 shrink-0 ${l===ee.id?"text-blue-400":"text-zinc-500"}`}),c.jsx("span",{className:"truncate",children:ee.name})]}),c.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),ue(ee.id)},className:"p-1.5 text-zinc-600 hover:text-cyan-300 hover:bg-zinc-800 rounded opacity-0 group-hover:opacity-100",title:"Copy File ID",children:c.jsx(sc,{className:"w-3.5 h-3.5"})}),c.jsx("button",{onClick:Ie=>me(Ie,ee.id),className:"p-1.5 text-zinc-600 hover:text-red-400 hover:bg-zinc-800 rounded opacity-0 group-hover:opacity-100",children:c.jsx(Ft,{className:"w-3.5 h-3.5"})})]},ee.id)})]})},Ye=()=>s===tr.DASHBOARD||!he?c.jsxs("aside",{className:"w-16 md:w-20 bg-zinc-950 border-r border-zinc-800 flex flex-col items-center py-6 gap-6 z-20",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-900/20 mb-4",children:c.jsx(ic,{className:"w-6 h-6 text-white"})}),c.jsx("button",{className:"p-3 rounded-xl bg-zinc-800 text-white shadow-md",title:"Dashboard",children:c.jsx(p0,{className:"w-5 h-5"})}),c.jsx("div",{className:"mt-auto",children:c.jsx("button",{onClick:()=>h(!0),className:"p-3 rounded-xl text-zinc-500 hover:bg-zinc-800 hover:text-white transition-colors",title:"Help",children:c.jsx(tf,{className:"w-5 h-5"})})})]}):c.jsxs("aside",{className:"w-64 bg-zinc-950 border-r border-zinc-800 flex flex-col z-20",children:[c.jsxs("div",{className:"h-16 flex items-center px-4 border-b border-zinc-800 shrink-0 gap-2",children:[c.jsx("button",{onClick:()=>{a(null),i(tr.DASHBOARD)},className:"p-2 hover:bg-zinc-900 rounded-lg text-zinc-400 hover:text-white",children:c.jsx(Qy,{className:"w-4 h-4"})}),c.jsx("span",{className:"font-semibold text-zinc-200 truncate flex-1",children:he.name})]}),c.jsxs("div",{className:"px-3 py-3 border-b border-zinc-900 flex gap-2",children:[c.jsxs("button",{onClick:()=>fe(null),className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white py-1.5 rounded-md text-xs font-medium transition-colors",children:[c.jsx(Qd,{className:"w-3.5 h-3.5"})," New File"]}),c.jsx("button",{onClick:()=>le(null),className:"px-3 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 py-1.5 rounded-md text-xs font-medium transition-colors",title:"New Folder",children:c.jsx(Fo,{className:"w-3.5 h-3.5"})})]}),ne.length>0&&c.jsxs("div",{className:"px-3 pt-3",children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-wide text-zinc-500",children:"Project Systems"}),c.jsx("div",{className:"space-y-1",children:ne.map(te=>{const oe=Dt.find(V=>V.type===te.type),ce=(oe==null?void 0:oe.icon)||Qa;return c.jsxs("button",{onClick:()=>u(te.id),draggable:!0,onDragStart:V=>Q(V,te.id,te.name),onDragEnd:J,className:`w-full flex items-center gap-2 px-2 py-2 rounded-lg text-sm transition-colors border cursor-grab active:cursor-grabbing group ${l===te.id?"bg-zinc-800 text-white border-blue-500/40":"text-zinc-300 hover:text-white hover:bg-zinc-900 border-zinc-800"}`,title:`Drag to create link to ${te.name}`,children:[c.jsx(ce,{className:`w-4 h-4 ${l===te.id?"text-blue-400":"text-zinc-500"}`}),c.jsx("span",{className:"truncate flex-1",children:te.name}),c.jsx("span",{onClick:V=>{V.stopPropagation(),ue(te.id)},className:"p-1 text-zinc-500 hover:text-cyan-300 hover:bg-zinc-800 rounded opacity-0 group-hover:opacity-100",title:"Copy File ID",children:c.jsx(sc,{className:"w-3.5 h-3.5"})})]},te.id)})}),c.jsx("div",{className:"my-3 border-t border-zinc-800"}),c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-wide text-zinc-600",children:"Project Files"})]}),c.jsxs("div",{className:`p-3 flex-1 overflow-y-auto custom-scrollbar transition-colors ${A==="root"?"bg-blue-500/5 ring-1 ring-inset ring-blue-500/30 rounded-lg":""}`,onDragOver:ze,onDrop:xe,children:[be(null),j===0&&he.folders.length===0&&c.jsx("div",{className:"text-center py-8 text-zinc-600 text-xs italic",children:"Project is empty. Create a file or folder to get started."})]}),c.jsx("div",{className:"p-4 border-t border-zinc-800",children:c.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-3 px-3 py-2 text-zinc-500 hover:text-white hover:bg-zinc-900 rounded-lg w-full transition-colors",children:[c.jsx(tf,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Guide & Help"})]})})]});return c.jsxs("div",{className:"flex h-screen bg-black text-zinc-100 font-sans overflow-hidden",children:[Ye(),c.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-zinc-950",children:[c.jsx("div",{className:"flex-1 overflow-hidden relative",children:s===tr.DASHBOARD?c.jsx(H1,{projects:e,onSelectProject:Z,onCreateProject:z,onExportProject:R,onDeleteProject:U,onImportFolder:G}):he&&k?ie.createElement(Dt.find(te=>te.type===k.type).component,{key:k.id,fileName:k.name,initialContent:k.content,onSave:de,assets:he.assets||{},onAddAsset:re,onDeleteAsset:Y,projectFiles:he.files,activeFileId:l,onOpenFile:N}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-500",children:[c.jsx(Qa,{className:"w-16 h-16 mb-4 opacity-20"}),c.jsx("p",{children:"Select a file to edit"})]})}),c.jsx(NS,{isOpen:f,onClose:()=>g(!1),projects:e,activeProject:he,onSelectFile:te=>{u(te)},onSelectProject:Z,onCreateFile:te=>fe(null,te)}),c.jsx(zS,{isOpen:y,onClose:()=>h(!1)}),w.open&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-sm p-6 shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-white",children:"Create New File"}),c.jsx("button",{onClick:()=>d({open:!1,folderId:null}),children:c.jsx(ii,{className:"w-5 h-5 text-zinc-500"})})]}),c.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Name"}),c.jsx("input",{autoFocus:!0,type:"text",required:!0,value:m,onChange:te=>b(te.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:ring-2 focus:ring-blue-600 outline-none",placeholder:"e.g. Character Specs"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Type"}),c.jsx("select",{value:_,onChange:te=>S(te.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white focus:ring-2 focus:ring-blue-600 outline-none",children:Dt.filter(te=>X(te.type,he)).map(te=>c.jsx("option",{value:te.type,children:te.label},te.type))})]}),c.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Create File"})]})]})})]})]})},Gm=document.getElementById("root");if(!Gm)throw new Error("Could not find root element to mount to");const TS=dl.createRoot(Gm);TS.render(c.jsx(ie.StrictMode,{children:c.jsx(DS,{})}));
